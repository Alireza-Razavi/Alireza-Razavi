# Report

Audit report for **2023-12-ethereumcreditguild** generated by *ubl4nk_bot*.

## Medium Issues


*Total <b>64</b> instances over <b>5</b> issues:*

|ID|Issue|Instances|
|-|:-|:-:|
| [M-1](#M-1) | Return values of `approve()` not checked | 1 |
| [M-2](#M-2) | Unchecked return value of low-level `call()`/`delegatecall()` | 1 |
| [M-3](#M-3) | Return values of `transfer()`/`transferFrom()` not checked | 15 |
| [M-4](#M-4) | Centralization Risk for trusted owners | 45 |
| [M-5](#M-5) | `transfer`/`transferFrom` may never return `true` for some tokens | 2 |

## Low Issues


*Total <b>1840</b> instances over <b>27</b> issues:*

|ID|Issue|Instances|
|-|:-|:-:|
| [L-1](#L-1) | Missing zero address check in functions with address parameters | 75 |
| [L-2](#L-2) | Use `increaseAllowance()`/`decreaseAllowance()` instead of `approve()`/`safeApprove()` | 1 |
| [L-3](#L-3) | Array is `push()`ed but not `pop()`ed | 1 |
| [L-4](#L-4) | `assert()` should be replaced with `require()` or `revert()` | 4 |
| [L-5](#L-5) | Division by zero not prevented | 6 |
| [L-6](#L-6) | Consider implementing two-step procedure for updating protocol addresses | 1 |
| [L-7](#L-7) | Constructor / initialization function lacks parameter validation | 11 |
| [L-8](#L-8) | Code does not follow the best practice of check-effects-interaction | 1 |
| [L-9](#L-9) | External call recipient can consume all remaining gas | 2 |
| [L-10](#L-10) | Governance functions should be controlled by time locks | 1 |
| [L-11](#L-11) | Large approvals may not work with some `ERC20` tokens | 1 |
| [L-12](#L-12) | Loss of precision in divisions | 8 |
| [L-13](#L-13) | Missing checks for state variable assignments | 44 |
| [L-14](#L-14) | Missing contract existence checks before low-level calls | 2 |
| [L-15](#L-15) | Missing limits when setting min/max amounts | 12 |
| [L-16](#L-16) | Missing zero address check in constructor | 6 |
| [L-17](#L-17) | Consider some checks for `address(0)` when setting address state variables | 16 |
| [L-18](#L-18) | The remaining ETH may be locked in the contract after call | 1 |
| [L-19](#L-19) | Some tokens may revert when large transfers are made | 802 |
| [L-20](#L-20) | Some tokens may revert when zero value transfers are made | 802 |
| [L-21](#L-21) | Tokens may be minted to `address(0)` | 6 |
| [L-22](#L-22) | Unsafe downcast | 14 |
| [L-23](#L-23) | Unsafe solidity low-level call can cause gas grief attack | 2 |
| [L-24](#L-24) | Using zero as a parameter | 18 |
| [L-25](#L-25) | Missing zero address check in initializer | 1 |
| [L-26](#L-26) | `decimals()` is not a part of the ERC-20 standard | 1 |
| [L-27](#L-27) | Initializers could be front-run | 1 |

## Non Critical Issues


*Total <b>2126</b> instances over <b>89</b> issues:*

|ID|Issue|Instances|
|-|:-|:-:|
| [NC-1](#NC-1) | `abi.encodePacked()` should be replaced with `bytes.concat()` | 2 |
| [NC-2](#NC-2) | Avoid the use of sensitive terms | 1 |
| [NC-3](#NC-3) | Multiple `address`/ID mappings can be combined into a single `mapping` of an `address`/ID to a `struct`, for readability | 7 |
| [NC-4](#NC-4) | Complex casting | 1 |
| [NC-5](#NC-5) | Consider adding a block/deny-list | 19 |
| [NC-6](#NC-6) | Consider adding emergency-stop functionality | 14 |
| [NC-7](#NC-7) | Consider adding formal verification proofs | 1 |
| [NC-8](#NC-8) | Consider bounding input array length | 2 |
| [NC-9](#NC-9) | Consider using descriptive `constant`s when passing zero as a function argument | 16 |
| [NC-10](#NC-10) | Constant redefined elsewhere | 1 |
| [NC-11](#NC-11) | Constants should be put on the left side of comparisons | 103 |
| [NC-12](#NC-12) | Contract does not follow the Solidity Style Guide's suggested layout ordering | 88 |
| [NC-13](#NC-13) | Contract should expose an `interface` | 160 |
| [NC-14](#NC-14) | Contract uses both `require()`/`revert()` as well as custom errors | 1 |
| [NC-15](#NC-15) | Contracts should each be defined in separate files | 2 |
| [NC-16](#NC-16) | Contracts should have full test coverage | 1 |
| [NC-17](#NC-17) | Events that mark critical parameter changes should contain both the old and the new value | 61 |
| [NC-18](#NC-18) | Custom errors should be used rather than `revert()`/`require()` | 55 |
| [NC-19](#NC-19) | Polymorphic functions make security audits more time-consuming and error-prone | 2 |
| [NC-20](#NC-20) | Duplicated `require()`/`revert()` checks should be refactored | 9 |
| [NC-21](#NC-21) | `else` block not required | 4 |
| [NC-22](#NC-22) | Empty bytes check is missing | 1 |
| [NC-23](#NC-23) | Enable IR-based code generation | 1 |
| [NC-24](#NC-24) | Enum values should be used instead of constant array indexes | 8 |
| [NC-25](#NC-25) | Events are emitted without the sender information | 58 |
| [NC-26](#NC-26) | Events may be emitted out of order due to reentrancy | 5 |
| [NC-27](#NC-27) | Execution at deadlines should be allowed | 7 |
| [NC-28](#NC-28) |  Function ordering does not follow the Solidity Style Guide | 103 |
| [NC-29](#NC-29) | Functions and modifiers should be named in mixedCase style | 1 |
| [NC-30](#NC-30) | Functions with array parameters should have length checks in place | 4 |
| [NC-31](#NC-31) | High cyclomatic complexity | 2 |
| [NC-32](#NC-32) | Variable names for `immutable`s should use CONSTANT_CASE | 20 |
| [NC-33](#NC-33) | Inconsistent spacing in comments | 23 |
| [NC-34](#NC-34) | Invalid NatSpec comment style | 1 |
| [NC-35](#NC-35) | Large or complicated code bases should implement invariant tests | 1 |
| [NC-36](#NC-36) | Large numeric literals should use underscores for readability | 5 |
| [NC-37](#NC-37) | Long functions should be refactored into multiple, smaller, functions | 14 |
| [NC-38](#NC-38) | Magic numbers should be replaced with constants | 54 |
| [NC-39](#NC-39) | Consider moving `msg.sender` checks to `modifier`s | 3 |
| [NC-40](#NC-40) | Named mappings are recommended | 32 |
| [NC-41](#NC-41) | Missing NatSpec from contract declarations | 1 |
| [NC-42](#NC-42) | Missing NatSpec `@author` from contract declaration | 10 |
| [NC-43](#NC-43) | Missing NatSpec `@dev` from contract declaration | 16 |
| [NC-44](#NC-44) | Missing NatSpec `@dev` from event declaration | 47 |
| [NC-45](#NC-45) | Missing NatSpec `@dev` from function declaration | 203 |
| [NC-46](#NC-46) | Missing NatSpec `@dev` from modifier declaration | 1 |
| [NC-47](#NC-47) | Event declarations should have NatSpec descriptions | 1 |
| [NC-48](#NC-48) | NatSpec documentation for function is missing | 57 |
| [NC-49](#NC-49) | Public variable declarations should have NatSpec descriptions | 1 |
| [NC-50](#NC-50) | Missing NatSpec `@notice` from contract declaration | 5 |
| [NC-51](#NC-51) | Missing NatSpec `@notice` from event declaration | 5 |
| [NC-52](#NC-52) | Missing NatSpec `@notice` from function declaration | 83 |
| [NC-53](#NC-53) | Missing NatSpec `@param` from event declaration | 53 |
| [NC-54](#NC-54) | Missing NatSpec `@param` from function declaration | 170 |
| [NC-55](#NC-55) | Missing NatSpec `@param` from modifier declaration | 1 |
| [NC-56](#NC-56) | Missing NatSpec `@return` from function declaration | 98 |
| [NC-57](#NC-57) | Missing NatSpec `@title` from contract declaration | 8 |
| [NC-58](#NC-58) | There is no need to initialize variables with 0 | 9 |
| [NC-59](#NC-59) | Put all system-wide constants in one file | 25 |
| [NC-60](#NC-60) | Redundant `return` statement in a function with named return variables | 7 |
| [NC-61](#NC-61) | Setters should prevent re-setting the same value | 15 |
| [NC-62](#NC-62) | State variables should include comments | 17 |
| [NC-63](#NC-63) | The first argument should not be attached to the opening parenthesis | 1 |
| [NC-64](#NC-64) | Timestamp may be manipulation | 107 |
| [NC-65](#NC-65) | Lines are too long | 3 |
| [NC-66](#NC-66) | Typos | 3 |
| [NC-67](#NC-67) | Unnecessary cast | 30 |
| [NC-68](#NC-68) | Unsafe conversion from unsigned to signed values | 16 |
| [NC-69](#NC-69) | Unused arguments should be removed or implemented | 4 |
| [NC-70](#NC-70) | Unused import | 12 |
| [NC-71](#NC-71) | Unused named return | 5 |
| [NC-72](#NC-72) | Use `abi.encodeCall()` instead of `abi.encodeWithSignature()`/`abi.encodeWithSelector()` | 5 |
| [NC-73](#NC-73) | Consider using `delete` rather than assigning zero/false to clear values | 3 |
| [NC-74](#NC-74) | Expressions for constant values should use `immutable` rather than `constant` | 25 |
| [NC-75](#NC-75) | Use `@inheritdoc` for overridden functions | 10 |
| [NC-76](#NC-76) | Upgrade `openzeppelin` to the latest version (`5.0.1`) | 1 |
| [NC-77](#NC-77) | Use the latest solidity version for deployment (`0.8.23`) | 20 |
| [NC-78](#NC-78) | Use of `override` is unnecessary | 32 |
| [NC-79](#NC-79) | Returning a struct instead of a bunch of variables is better | 3 |
| [NC-80](#NC-80) | Whitespace in Expressions | 1 |
| [NC-81](#NC-81) | Common functions should be refactored to a common base contract | 12 |
| [NC-82](#NC-82) | Empty body - Consider commenting why | 5 |
| [NC-83](#NC-83) | Names of `private`/`internal` functions should be prefixed with an underscore | 6 |
| [NC-84](#NC-84) | Names of `private`/`internal` state variables should be prefixed with an underscore | 25 |
| [NC-85](#NC-85) |  `require()` / `revert()` statements should have descriptive reason strings | 4 |
| [NC-86](#NC-86) | Variables should be named in mixedCase style | 1 |
| [NC-87](#NC-87) | Event is missing `indexed` fields | 36 |
| [NC-88](#NC-88) | Functions not used internally could be marked `external` | 29 |
| [NC-89](#NC-89) | `whenNotPaused` is not used anywhere | 1 |

## Gas Optimizations


*Total <b>988</b> instances over <b>56</b> issues:*

|ID|Issue|Instances|Gas|
|-|:-|:-:|:-:|
| [GAS-1](#GAS-1) | Assigning to structs can be more efficient | 22 | 132 |
| [GAS-2](#GAS-2) | Assigning state variables directly with named struct constructors wastes gas | 17 | 476 |
| [GAS-3](#GAS-3) | Optimize gas by using do-while loops | 9 | 2295 |
| [GAS-4](#GAS-4) | Multiple `address`/ID mappings can be combined into a single `mapping` of an `address`/ID to a `struct`, where appropriate | 7 | - |
| [GAS-5](#GAS-5) | Consider activating via-ir for deploying | 1 | - |
| [GAS-6](#GAS-6) | Divisions can be `unchecked` to save gas | 49 | 980 |
| [GAS-7](#GAS-7) | Don't transfer with zero amount to save gas | 9 | - |
| [GAS-8](#GAS-8) | Operator `+=` costs more gas than `<x> = <x> + <y>` for state variables | 14 | 1582 |
| [GAS-9](#GAS-9) | Duplicated `require()`/`revert()` checks should be refactored to a modifier or function to save gas | 9 | - |
| [GAS-10](#GAS-10) | Events should be emitted outside of loops | 1 | 375 |
| [GAS-11](#GAS-11) | Increments can be `unchecked` to save gas | 2 | 120 |
| [GAS-12](#GAS-12) | Initializers can be marked as payable to save deployment gas | 1 | 21 |
| [GAS-13](#GAS-13) | `internal` functions only called once can be inlined to save gas | 14 | 420 |
| [GAS-14](#GAS-14) | `keccak256()` hash of literals should only be computed once | 18 | 756 |
| [GAS-15](#GAS-15) | Low level `call` can be optimized with assembly | 2 | 496 |
| [GAS-16](#GAS-16) | Multiple accesses of the same mapping/array key/index should be cached | 55 | 2310 |
| [GAS-17](#GAS-17) | Newer versions of solidity are more gas efficient | 20 | - |
| [GAS-18](#GAS-18) | Operator `>=`/`<=` costs less gas than operator `>`/`<` | 48 | 144 |
| [GAS-19](#GAS-19) | Optimize names to save gas | 14 | 308 |
| [GAS-20](#GAS-20) | Reduce gas usage by moving to Solidity 0.8.19 or later | 20 | 20000 |
| [GAS-21](#GAS-21) | Redundant state variable getters | 7 | - |
| [GAS-22](#GAS-22) | `require()`/`revert()` strings longer than 32 bytes cost extra gas | 48 | 144 |
| [GAS-23](#GAS-23) | The result of a function call should be cached rather than re-calling the function | 4 | 400 |
| [GAS-24](#GAS-24) | State variables access within a loop | 3 | 795 |
| [GAS-25](#GAS-25) | State variables can be packed into fewer storage slots | 2 | 40000 |
| [GAS-26](#GAS-26) | Unlimited gas consumption risk due to external call recipients | 2 | - |
| [GAS-27](#GAS-27) | Unnecessary event parameters should be removed | 29 | 10382 |
| [GAS-28](#GAS-28) | Unused named return variables without optimizer waste gas | 5 | 45 |
| [GAS-29](#GAS-29) | Optimize external calls with assembly for memory efficiency | 6 | 1320 |
| [GAS-30](#GAS-30) | Use assembly to compute hashes to save gas | 22 | 1760 |
| [GAS-31](#GAS-31) | Use assembly to emit events | 77 | 2926 |
| [GAS-32](#GAS-32) | Use assembly to validate `msg.sender` | 2 | - |
| [GAS-33](#GAS-33) | Use assembly to write address/contract type storage values | 23 | 1150 |
| [GAS-34](#GAS-34) | Using a double `if` statement instead of a logical AND (`&&`) | 19 | 570 |
| [GAS-35](#GAS-35) | Use local variables for emitting | 6 | 582 |
| [GAS-36](#GAS-36) | Use a more recent version of solidity | 20 | - |
| [GAS-37](#GAS-37) | Use `require` instead of `assert` | 4 | - |
| [GAS-38](#GAS-38) | Use `storage` instead of `memory` for structs/arrays | 8 | 33600 |
| [GAS-39](#GAS-39) | Use `uint256(1)`/`uint256(2)` instead of `true`/`false` to save gas for changes | 7 | 59850 |
| [GAS-40](#GAS-40) | Use `unchecked` block for safe subtractions | 13 | 1105 |
| [GAS-41](#GAS-41) | Using bitmap to store bool states can save gas | 5 | - |
| [GAS-42](#GAS-42) | Using `constant`s directly, rather than caching the value, saves gas | 1 | - |
| [GAS-43](#GAS-43) | `abi.encodePacked` is more gas efficient than `abi.encode` | 2 | - |
| [GAS-44](#GAS-44) | Using bools for storage incurs overhead | 7 | 700 |
| [GAS-45](#GAS-45) | Cache array length outside of loop | 5 | - |
| [GAS-46](#GAS-46) | State variables should be cached in stack variables rather than re-reading them from storage | 51 | 4947 |
| [GAS-47](#GAS-47) | Use `calldata` instead of `memory` for function arguments that do not get mutated | 15 | - |
| [GAS-48](#GAS-48) | Use Custom Errors | 55 | 2750 |
| [GAS-49](#GAS-49) | Don't initialize variables with default value | 9 | - |
| [GAS-50](#GAS-50) | Usage of `int`s/`uint`s smaller than 32 bytes incurs overhead | 41 | 2255 |
| [GAS-51](#GAS-51) | Constructors can be marked as `payable` to save deployment gas | 4 | 84 |
| [GAS-52](#GAS-52) | Functions guaranteed to revert when called by normal users can be marked `payable` | 6 | 126 |
| [GAS-53](#GAS-53) | `++i` costs less gas than `i++`, especially when it's used in `for`-loops (`--i`/`i--` too) | 2 | 10 |
| [GAS-54](#GAS-54) | Using `private` rather than `public` for constants, saves gas | 7 | - |
| [GAS-55](#GAS-55) | Using assembly to check for zero can save gas | 131 | 786 |
| [GAS-56](#GAS-56) | `internal` functions not called by the contract should be removed | 8 | - |

## Medium Issues

<a name="M-1"></a> 
### [M-1] Return values of `approve()` not checked
Not all IERC20 implementations `revert()` when there's a failure in `approve()`. The function signature has a boolean return value and they indicate errors that way instead. By not checking the return value, operations that should have marked as failed, may potentially go through without actually approving anything

*There is one instance of this issue:*
```solidity
File: src/loan/SurplusGuildMinter.sol

129:         CreditToken(credit).approve(address(profitManager), amount);

```
*Github:* [[129](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L129)]



<a name="M-2"></a> 
### [M-2] Unchecked return value of low-level `call()`/`delegatecall()`
The function being called may revert, which will be indicated by the return value to `call()`/`delegatecall()`. If the return value is not checked, the code will continue on as if there was no error, rather than reverting with the error encountered.

*There is one instance of this issue:*
```solidity
File: src/governance/LendingTermOnboarding.sol

/// @audit `success` is not checked
114:         (bool success, bytes memory returned) = params.collateralToken.call(

```
*Github:* [[114](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L114)]



<a name="M-3"></a> 
### [M-3] Return values of `transfer()`/`transferFrom()` not checked
Not all ERC20 implementations `revert()` when there's a failure in `transfer()` or `transferFrom()`. The function signature has a boolean return value and they indicate errors that way instead. By not checking the return value, operations that should have marked as failed, may potentially go through without actually transfer anything.

<details>
<summary>
There are <b>15</b> instances (click to show):
</summary>

```solidity
File: src/governance/ProfitManager.sol

252:         CreditToken(credit).transferFrom(msg.sender, address(this), amount);

260:         CreditToken(credit).transferFrom(msg.sender, address(this), amount);

273:         CreditToken(credit).transfer(to, amount);

285:         CreditToken(credit).transfer(to, amount);

434:             CreditToken(credit).transfer(user, creditEarned);

```
*Github:* [[252](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L252), [260](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L260), [273](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L273), [285](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L285), [434](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L434)]


```solidity
File: src/loan/SurplusGuildMinter.sol

128:         CreditToken(credit).transferFrom(msg.sender, address(this), amount);

263:                 CreditToken(credit).transfer(user, creditReward);

```
*Github:* [[128](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L128), [263](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L263)]


```solidity
File: src/tokens/CreditToken.sol

122:         return ERC20RebaseDistributor.transfer(to, amount);

135:         return ERC20RebaseDistributor.transferFrom(from, to, amount);

```
*Github:* [[122](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L122), [135](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L135)]


```solidity
File: src/tokens/ERC20Gauges.sol

486:         return super.transfer(to, amount);

495:         return super.transferFrom(from, to, amount);

```
*Github:* [[486](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L486), [495](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L495)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

413:         return super.transfer(to, amount);

422:         return super.transferFrom(from, to, amount);

```
*Github:* [[413](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L413), [422](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L422)]


```solidity
File: src/tokens/GuildToken.sol

299:         return ERC20.transfer(to, amount);

314:         return ERC20.transferFrom(from, to, amount);

```
*Github:* [[299](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L299), [314](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L314)]


</details>


<a name="M-4"></a> 
### [M-4] Centralization Risk for trusted owners
Contracts have owners with privileged rights to perform admin tasks and need to be trusted to not perform malicious updates or drain funds.

<details>
<summary>
There are <b>45</b> instances (click to show):
</summary>

```solidity
File: src/core/Core.sol

50:     function createRole(
            bytes32 role,
            bytes32 adminRole
        ) external onlyRole(CoreRoles.GOVERNOR) {

```
*Github:* [[50](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/Core.sol#L50)]


```solidity
File: src/core/CoreRef.sol

39:     function setCore(
            address newCore
        ) external onlyCoreRole(CoreRoles.GOVERNOR) {

57:     function pause() public onlyCoreRole(CoreRoles.GUARDIAN) {

62:     function unpause() public onlyCoreRole(CoreRoles.GUARDIAN) {

87:     function emergencyAction(
            Call[] calldata calls
        )
            external
            payable
            onlyCoreRole(CoreRoles.GOVERNOR)

```
*Github:* [[39](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L39), [57](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L57), [62](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L62), [87](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L87)]


```solidity
File: src/governance/GuildGovernor.sol

78:     function setVotingDelay(
            uint256 newVotingDelay
        ) public override onlyCoreRole(CoreRoles.GOVERNOR) {

85:     function setVotingPeriod(
            uint256 newVotingPeriod
        ) public override onlyCoreRole(CoreRoles.GOVERNOR) {

92:     function setProposalThreshold(
            uint256 newProposalThreshold
        ) public override onlyCoreRole(CoreRoles.GOVERNOR) {

99:     function setQuorum(
            uint256 newQuorum
        ) public onlyCoreRole(CoreRoles.GOVERNOR) {

110:     function guardianCancel(
             address[] memory targets,
             uint256[] memory values,
             bytes[] memory calldatas,
             bytes32 descriptionHash
         ) public onlyCoreRole(CoreRoles.GUARDIAN) returns (uint256) {

```
*Github:* [[78](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L78), [85](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L85), [92](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L92), [99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L99), [110](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L110)]


```solidity
File: src/governance/GuildVetoGovernor.sol

60:     function setQuorum(
            uint256 newQuorum
        ) public onlyCoreRole(CoreRoles.GOVERNOR) {

93:     function updateTimelock(
            address newTimelock
        ) external onlyCoreRole(CoreRoles.GOVERNOR) {

```
*Github:* [[60](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L60), [93](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L93)]


```solidity
File: src/governance/LendingTermOffboarding.sol

78:     function setQuorum(
            uint256 _quorum
        ) external onlyCoreRole(CoreRoles.GOVERNOR) {

```
*Github:* [[78](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L78)]


```solidity
File: src/governance/LendingTermOnboarding.sol

92:     function allowImplementation(
            address implementation,
            bool allowed
        ) external onlyCoreRole(CoreRoles.GOVERNOR) {

```
*Github:* [[92](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L92)]


```solidity
File: src/governance/ProfitManager.sol

156:     function initializeReferences(
             address _credit,
             address _guild,
             address _psm
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

179:     function setMinBorrow(
             uint256 newValue
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

187:     function setGaugeWeightTolerance(
             uint256 newValue
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

195:     function setProfitSharingConfig(
             uint256 surplusBufferSplit,
             uint256 creditSplit,
             uint256 guildSplit,
             uint256 otherSplit,
             address otherRecipient
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

267:     function withdrawFromSurplusBuffer(
             address to,
             uint256 amount
         ) external onlyCoreRole(CoreRoles.GUILD_SURPLUS_BUFFER_WITHDRAW) {

278:     function withdrawFromTermSurplusBuffer(
             address term,
             address to,
             uint256 amount
         ) external onlyCoreRole(CoreRoles.GUILD_SURPLUS_BUFFER_WITHDRAW) {

292:     function notifyPnL(
             address gauge,
             int256 amount
         ) external onlyCoreRole(CoreRoles.GAUGE_PNL_NOTIFIER) {

```
*Github:* [[156](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L156), [179](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L179), [187](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L187), [195](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L195), [267](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L267), [278](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L278), [292](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L292)]


```solidity
File: src/loan/LendingTerm.sol

695:     function forgive(bytes32 loanId) external onlyCoreRole(CoreRoles.GOVERNOR) {

829:     function setAuctionHouse(
             address _newValue
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

846:     function setHardCap(
             uint256 _newValue
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

```
*Github:* [[695](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L695), [829](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L829), [846](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L846)]


```solidity
File: src/loan/SimplePSM.sol

149:     function setRedemptionsPaused(
             bool paused
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

```
*Github:* [[149](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L149)]


```solidity
File: src/loan/SurplusGuildMinter.sol

319:     function setMintRatio(
             uint256 _mintRatio
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

328:     function setRewardRatio(
             uint256 _rewardRatio
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

```
*Github:* [[319](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L319), [328](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L328)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

49:     function mint(
            address to,
            uint256 amount
        ) external onlyCoreRole(role) whenNotPaused {

60:     function replenishBuffer(uint256 amount) external onlyCoreRole(role) {

```
*Github:* [[49](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L49), [60](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L60)]


```solidity
File: src/tokens/CreditToken.sol

35:     function mint(
            address to,
            uint256 amount
        ) external onlyCoreRole(CoreRoles.CREDIT_MINTER) {

43:     function setMaxDelegates(
            uint256 newMax
        ) external onlyCoreRole(CoreRoles.CREDIT_GOVERNANCE_PARAMETERS) {

50:     function setContractExceedMaxDelegates(
            address account,
            bool canExceedMax
        ) external onlyCoreRole(CoreRoles.CREDIT_GOVERNANCE_PARAMETERS) {

58:     function forceEnterRebase(
            address account
        ) external onlyCoreRole(CoreRoles.CREDIT_REBASE_PARAMETERS) {

69:     function forceExitRebase(
            address account
        ) external onlyCoreRole(CoreRoles.CREDIT_REBASE_PARAMETERS) {

```
*Github:* [[35](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L35), [43](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L43), [50](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L50), [58](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L58), [69](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L69)]


```solidity
File: src/tokens/GuildToken.sol

59:     function setMaxDelegates(
            uint256 newMax
        ) external onlyCoreRole(CoreRoles.GUILD_GOVERNANCE_PARAMETERS) {

66:     function setContractExceedMaxDelegates(
            address account,
            bool canExceedMax
        ) external onlyCoreRole(CoreRoles.GUILD_GOVERNANCE_PARAMETERS) {

76:     function addGauge(
            uint256 _type,
            address gauge
        ) external onlyCoreRole(CoreRoles.GAUGE_ADD) returns (uint256) {

83:     function removeGauge(
            address gauge
        ) external onlyCoreRole(CoreRoles.GAUGE_REMOVE) {

89:     function setMaxGauges(
            uint256 max
        ) external onlyCoreRole(CoreRoles.GAUGE_PARAMETERS) {

95:     function setCanExceedMaxGauges(
            address who,
            bool can
        ) external onlyCoreRole(CoreRoles.GAUGE_PARAMETERS) {

175:     function enableTransfer() external onlyCoreRole(CoreRoles.GOVERNOR) {

197:     function setProfitManager(address _newProfitManager) external onlyCoreRole(CoreRoles.GOVERNOR) {

268:     function mint(
             address to,
             uint256 amount
         ) external onlyCoreRole(CoreRoles.GUILD_MINTER) {

```
*Github:* [[59](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L59), [66](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L66), [76](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L76), [83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L83), [89](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L89), [95](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L95), [175](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L175), [197](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L197), [268](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L268)]


```solidity
File: src/utils/RateLimitedV2.sol

61:     function setRateLimitPerSecond(
            uint128 newRateLimitPerSecond
        ) external virtual onlyCoreRole(CoreRoles.GOVERNOR) {

75:     function setBufferCap(
            uint128 newBufferCap
        ) external virtual onlyCoreRole(CoreRoles.GOVERNOR) {

```
*Github:* [[61](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L61), [75](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L75)]


</details>


<a name="M-5"></a> 
### [M-5] `transfer`/`transferFrom` may never return `true` for some tokens
Some tokens do not return a bool (e.g. USDT, OMG) on transfer. As there are some conditions that rely on this `bool` value, these tokens may cause issues, as the return value of the following conditions will always be `false`.

*There are <b>2</b> instances of this issue:*
```solidity
File: src/tokens/ERC20RebaseDistributor.sol

584:         bool success = ERC20.transfer(to, amount);

678:         bool success = ERC20.transferFrom(from, to, amount);

```
*Github:* [[584](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L584), [678](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L678)]




## Low Issues

<a name="L-1"></a> 
### [L-1] Missing zero address check in functions with address parameters
Adding a zero address check for each address type parameter can prevent errors.

<details>
<summary>
There are <b>75</b> instances (click to show):
</summary>

```solidity
File: src/governance/GuildTimelockController.sol

/// @audit missing zero check for `account`
30:     function hasRole(
            bytes32 role,
            address account
        ) public view virtual override returns (bool) {

/// @audit missing zero check for `account`
41:     function _grantRole(bytes32 role, address account) internal override {}

/// @audit missing zero check for `account`
44:     function _revokeRole(bytes32 role, address account) internal override {}

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L30), [41](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L41), [44](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L44)]


```solidity
File: src/governance/GuildVetoGovernor.sol

/// @audit missing zero check for `newTimelock`
99:     function _updateTimelock(address newTimelock) private {

/// @audit missing zero check for `account`
143:     function hasVoted(
             uint256 proposalId,
             address account
         ) public view virtual override returns (bool) {

/// @audit missing zero check for `account`
195:     function _countVote(
             uint256 proposalId,
             address account,
             uint8 support,
             uint256 weight,
             bytes memory // params
         ) internal virtual override {

```
*Github:* [[99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L99), [143](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L143), [195](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L195)]


```solidity
File: src/governance/LendingTermOffboarding.sol

/// @audit missing zero check for `term`
116:     function supportOffboard(
             uint256 snapshotBlock,
             address term
         ) external whenNotPaused {

```
*Github:* [[116](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L116)]


```solidity
File: src/governance/LendingTermOnboarding.sol

/// @audit missing zero check for `implementation`
92:     function allowImplementation(
            address implementation,
            bool allowed
        ) external onlyCoreRole(CoreRoles.GOVERNOR) {

```
*Github:* [[92](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L92)]


```solidity
File: src/governance/ProfitManager.sol

/// @audit missing zero check for `_credit`
/// @audit missing zero check for `_guild`
/// @audit missing zero check for `_psm`
156:     function initializeReferences(
             address _credit,
             address _guild,
             address _psm
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit missing zero check for `term`
259:     function donateToTermSurplusBuffer(address term, uint256 amount) external {

/// @audit missing zero check for `to`
267:     function withdrawFromSurplusBuffer(
             address to,
             uint256 amount
         ) external onlyCoreRole(CoreRoles.GUILD_SURPLUS_BUFFER_WITHDRAW) {

/// @audit missing zero check for `term`
/// @audit missing zero check for `to`
278:     function withdrawFromTermSurplusBuffer(
             address term,
             address to,
             uint256 amount
         ) external onlyCoreRole(CoreRoles.GUILD_SURPLUS_BUFFER_WITHDRAW) {

/// @audit missing zero check for `user`
/// @audit missing zero check for `gauge`
409:     function claimGaugeRewards(
             address user,
             address gauge
         ) public returns (uint256 creditEarned) {

```
*Github:* [[156](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L156), [259](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L259), [267](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L267), [278](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L278), [409](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L409)]


```solidity
File: src/loan/LendingTerm.sol

/// @audit missing zero check for `borrower`
339:     function _borrow(
             address borrower,
             uint256 borrowAmount,
             uint256 collateralAmount
         ) internal returns (bytes32 loanId) {

/// @audit missing zero check for `borrower`
448:     function _addCollateral(
             address borrower,
             bytes32 loanId,
             uint256 collateralToAdd
         ) internal {

/// @audit missing zero check for `repayer`
490:     function _partialRepay(
             address repayer,
             bytes32 loanId,
             uint256 debtToRepay
         ) internal {

/// @audit missing zero check for `repayer`
567:     function _repay(address repayer, bytes32 loanId) internal {

/// @audit missing zero check for `caller`
634:     function _call(
             address caller,
             bytes32 loanId,
             address _auctionHouse
         ) internal {

/// @audit missing zero check for `bidder`
725:     function onBid(
             bytes32 loanId,
             address bidder,
             uint256 collateralToBorrower,
             uint256 collateralToBidder,
             uint256 creditFromBidder
         ) external {

/// @audit missing zero check for `_newValue`
829:     function setAuctionHouse(
             address _newValue
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

```
*Github:* [[339](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L339), [448](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L448), [490](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L490), [567](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L567), [634](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L634), [725](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L725), [829](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L829)]


```solidity
File: src/loan/SimplePSM.sol

/// @audit missing zero check for `to`
103:     function mint(
             address to,
             uint256 amountIn
         ) external whenNotPaused returns (uint256 amountOut) {

/// @audit missing zero check for `to`
134:     function redeem(
             address to,
             uint256 amountIn
         ) external returns (uint256 amountOut) {

```
*Github:* [[103](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L103), [134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L134)]


```solidity
File: src/loan/SurplusGuildMinter.sol

/// @audit missing zero check for `user`
/// @audit missing zero check for `term`
106:     function getUserStake(
             address user,
             address term
         ) external view returns (UserStake memory) {

/// @audit missing zero check for `term`
114:     function stake(address term, uint256 amount) external whenNotPaused {

/// @audit missing zero check for `term`
158:     function unstake(address term, uint256 amount) external {

/// @audit missing zero check for `user`
216:     function getRewards(
             address user,
             address term
         )
             public
             returns (
                 uint256 lastGaugeLoss, // GuildToken.lastGaugeLoss(term)
                 UserStake memory userStake, // stake state after execution of getRewards()
                 bool slashed // true if the user has been slashed
             )
         {

/// @audit missing zero check for `user`
/// @audit missing zero check for `term`
293:     function updateMintRatio(address user, address term) external {

```
*Github:* [[106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L106), [114](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L114), [158](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L158), [216](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L216), [293](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L293)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

/// @audit missing zero check for `to`
11:     function mint(address to, uint256 amount) external;

/// @audit missing zero check for `to`
49:     function mint(
            address to,
            uint256 amount
        ) external onlyCoreRole(role) whenNotPaused {

```
*Github:* [[11](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L11), [49](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L49)]


```solidity
File: src/tokens/CreditToken.sol

/// @audit missing zero check for `to`
35:     function mint(
            address to,
            uint256 amount
        ) external onlyCoreRole(CoreRoles.CREDIT_MINTER) {

/// @audit missing zero check for `account`
50:     function setContractExceedMaxDelegates(
            address account,
            bool canExceedMax
        ) external onlyCoreRole(CoreRoles.CREDIT_GOVERNANCE_PARAMETERS) {

/// @audit missing zero check for `account`
83:     function _mint(
            address account,
            uint256 amount
        ) internal override(ERC20, ERC20RebaseDistributor) {

/// @audit missing zero check for `account`
90:     function _burn(
            address account,
            uint256 amount
        ) internal override(ERC20, ERC20MultiVotes, ERC20RebaseDistributor) {

/// @audit missing zero check for `to`
113:     function transfer(
             address to,
             uint256 amount
         )
             public
             override(ERC20, ERC20MultiVotes, ERC20RebaseDistributor)
             returns (bool)
         {

/// @audit missing zero check for `from`
/// @audit missing zero check for `to`
125:     function transferFrom(
             address from,
             address to,
             uint256 amount
         )
             public
             override(ERC20, ERC20MultiVotes, ERC20RebaseDistributor)
             returns (bool)
         {

```
*Github:* [[35](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L35), [50](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L50), [83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L83), [90](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L90), [113](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L113), [125](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L125)]


```solidity
File: src/tokens/ERC20Gauges.sol

/// @audit missing zero check for `user`
154:     function userGauges(address user) external view returns (address[] memory) {

/// @audit missing zero check for `user`
159:     function isUserGauge(
             address user,
             address gauge
         ) external view returns (bool) {

/// @audit missing zero check for `user`
167:     function numUserGauges(address user) external view returns (uint256) {

/// @audit missing zero check for `user`
230:     function _incrementGaugeWeight(
             address user,
             address gauge,
             uint256 weight
         ) internal virtual {

/// @audit missing zero check for `user`
314:     function _decrementGaugeWeight(
             address user,
             address gauge,
             uint256 weight
         ) internal virtual {

/// @audit missing zero check for `account`
452:     function _setCanExceedMaxGauges(
             address account,
             bool canExceedMax
         ) internal {

/// @audit missing zero check for `from`
476:     function _burn(address from, uint256 amount) internal virtual override {

/// @audit missing zero check for `to`
481:     function transfer(
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

/// @audit missing zero check for `from`
/// @audit missing zero check for `to`
489:     function transferFrom(
             address from,
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

```
*Github:* [[154](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L154), [159](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L159), [167](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L167), [230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L230), [314](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L314), [452](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L452), [476](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L476), [481](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L481), [489](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L489)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

/// @audit missing zero check for `account`
52:     function checkpoints(
            address account,
            uint32 pos
        ) public view virtual returns (Checkpoint memory) {

/// @audit missing zero check for `account`
60:     function numCheckpoints(
            address account
        ) public view virtual returns (uint32) {

/// @audit missing zero check for `account`
80:     function getVotes(address account) public view virtual returns (uint256) {

/// @audit missing zero check for `account`
91:     function getPastVotes(
            address account,
            uint256 blockNumber
        ) public view virtual returns (uint256) {

/// @audit missing zero check for `account`
155:     function _setContractExceedMaxDelegates(
             address account,
             bool canExceedMax
         ) internal {

/// @audit missing zero check for `delegator`
/// @audit missing zero check for `delegatee`
218:     function delegatesVotesCount(
             address delegator,
             address delegatee
         ) public view virtual returns (uint256) {

/// @audit missing zero check for `delegator`
230:     function delegates(
             address delegator
         ) public view returns (address[] memory) {

/// @audit missing zero check for `delegator`
242:     function containsDelegate(
             address delegator,
             address delegatee
         ) public view returns (bool) {

/// @audit missing zero check for `delegator`
254:     function delegateCount(address delegator) public view returns (uint256) {

/// @audit missing zero check for `delegatee`
264:     function incrementDelegation(
             address delegatee,
             uint256 amount
         ) public virtual {

/// @audit missing zero check for `delegatee`
276:     function undelegate(address delegatee, uint256 amount) public virtual {

/// @audit missing zero check for `newDelegatee`
286:     function delegate(address newDelegatee) external virtual {

/// @audit missing zero check for `delegator`
344:     function _undelegate(
             address delegator,
             address delegatee,
             uint256 amount
         ) internal virtual {

/// @audit missing zero check for `delegatee`
363:     function _writeCheckpoint(
             address delegatee,
             function(uint256, uint256) view returns (uint256) op,
             uint256 delta
         ) private {

/// @audit missing zero check for `from`
403:     function _burn(address from, uint256 amount) internal virtual override {

/// @audit missing zero check for `to`
408:     function transfer(
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

/// @audit missing zero check for `from`
/// @audit missing zero check for `to`
416:     function transferFrom(
             address from,
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

/// @audit missing zero check for `delegatee`
471:     function delegateBySig(
             address delegatee,
             uint256 nonce,
             uint256 expiry,
             uint8 v,
             bytes32 r,
             bytes32 s
         ) public {

```
*Github:* [[52](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L52), [60](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L60), [80](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L80), [91](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L91), [155](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L155), [218](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L218), [230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L230), [242](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L242), [254](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L254), [264](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L264), [276](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L276), [286](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L286), [344](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L344), [363](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L363), [403](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L403), [408](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L408), [416](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L416), [471](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L471)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

/// @audit missing zero check for `account`
389:     function isRebasing(address account) public view returns (bool) {

```
*Github:* [[389](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L389)]


```solidity
File: src/tokens/GuildToken.sol

/// @audit missing zero check for `account`
66:     function setContractExceedMaxDelegates(
            address account,
            bool canExceedMax
        ) external onlyCoreRole(CoreRoles.GUILD_GOVERNANCE_PARAMETERS) {

/// @audit missing zero check for `gauge`
76:     function addGauge(
            uint256 _type,
            address gauge
        ) external onlyCoreRole(CoreRoles.GAUGE_ADD) returns (uint256) {

/// @audit missing zero check for `who`
95:     function setCanExceedMaxGauges(
            address who,
            bool can
        ) external onlyCoreRole(CoreRoles.GAUGE_PARAMETERS) {

/// @audit missing zero check for `gauge`
123:     function notifyGaugeLoss(address gauge) external {

/// @audit missing zero check for `who`
133:     function applyGaugeLoss(address gauge, address who) external {

/// @audit missing zero check for `_newProfitManager`
197:     function setProfitManager(address _newProfitManager) external onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit missing zero check for `user`
207:     function _decrementGaugeWeight(
             address user,
             address gauge,
             uint256 weight
         ) internal override {

/// @audit missing zero check for `user`
/// @audit missing zero check for `gauge`
242:     function _incrementGaugeWeight(
             address user,
             address gauge,
             uint256 weight
         ) internal override {

/// @audit missing zero check for `to`
268:     function mint(
             address to,
             uint256 amount
         ) external onlyCoreRole(CoreRoles.GUILD_MINTER) {

/// @audit missing zero check for `from`
279:     function _burn(
             address from,
             uint256 amount
         ) internal virtual override(ERC20, ERC20Gauges, ERC20MultiVotes) {

/// @audit missing zero check for `to`
288:     function transfer(
             address to,
             uint256 amount
         )
             public
             virtual
             override(ERC20, ERC20Gauges, ERC20MultiVotes)
             returns (bool)
         {

/// @audit missing zero check for `from`
/// @audit missing zero check for `to`
302:     function transferFrom(
             address from,
             address to,
             uint256 amount
         )
             public
             virtual
             override(ERC20, ERC20Gauges, ERC20MultiVotes)
             returns (bool)
         {

```
*Github:* [[66](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L66), [76](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L76), [95](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L95), [123](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L123), [133](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L133), [197](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L197), [207](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L207), [242](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L242), [268](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L268), [279](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L279), [288](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L288), [302](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L302)]


</details>


<a name="L-2"></a> 
### [L-2] Use `increaseAllowance()`/`decreaseAllowance()` instead of `approve()`/`safeApprove()`
Changing an allowance with approve() brings the risk that someone may use both the old and the new allowance by unfortunate transaction ordering. Refer to [ERC20 API: An Attack Vector on the Approve/TransferFrom Methods](https://docs.google.com/document/d/1YLPtQxZu1UAvO9cZ1O2RPXBbT0mooh4DYKjA_jp-RLM). It is recommended to use the `increaseAllowance()`/`decreaseAllowance()` to avoid ths problem.

*There is one instance of this issue:*
```solidity
File: src/loan/SurplusGuildMinter.sol

129:         CreditToken(credit).approve(address(profitManager), amount);

```
*Github:* [[129](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L129)]



<a name="L-3"></a> 
### [L-3] Array is `push()`ed but not `pop()`ed
There is no limit specified on the amount of gas used, so the recipient can use up all of the remaining gas (`gasleft()`), causing it to revert. Therefore, when calling an external contract, it is necessary to specify a limited amount of gas to forward.

*There is one instance of this issue:*
```solidity
File: src/tokens/ERC20MultiVotes.sol

377:             ckpts.push(

```
*Github:* [[377](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L377)]



<a name="L-4"></a> 
### [L-4] `assert()` should be replaced with `require()` or `revert()`
In versions of Solidity prior to 0.8.0, when encountering an assert all the remaining gas will be consumed. Even after solidity 0.8.0, the assert function is still not recommended, as described in the [documentation](https://docs.soliditylang.org/en/v0.8.20/control-structures.html#panic-via-assert-and-error-via-require):
> Assert should only be used to test for internal errors, and to check invariants. Properly functioning code should never create a Panic, not even on invalid external input. If this happens, then there is a bug in your contract which you should fix.

*There are <b>4</b> instances of this issue:*
```solidity
File: src/governance/GuildVetoGovernor.sol

255:         assert(queueid != bytes32(0));

```
*Github:* [[255](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L255)]


```solidity
File: src/loan/AuctionHouse.sol

131:         assert(block.timestamp >= _startTime);

```
*Github:* [[131](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L131)]


```solidity
File: src/loan/LendingTerm.sol

166:         assert(address(core()) == address(0));

167:         assert(_core != address(0));

```
*Github:* [[166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L166), [167](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L167)]



<a name="L-5"></a> 
### [L-5] Division by zero not prevented
The divisions below take an input parameter that has no zero-value checks, which can cause the functions reverting if zero is passed.

*There are <b>6</b> instances of this issue:*
```solidity
File: src/governance/ProfitManager.sol

/// @audit `creditMultiplier`
152:         return (_minBorrow * 1e18) / creditMultiplier;

```
*Github:* [[152](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L152)]


```solidity
File: src/loan/AuctionHouse.sol

/// @audit `midPoint`
141:             collateralReceived = (_collateralAmount * elapsed) / midPoint;

```
*Github:* [[141](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L141)]


```solidity
File: src/loan/LendingTerm.sol

/// @audit `YEAR`
218:         uint256 interest = (borrowAmount *

```
*Github:* [[218](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L218)]


```solidity
File: src/loan/SimplePSM.sol

/// @audit `decimalCorrection`
92:         return (amountIn * creditMultiplier) / 1e18 / decimalCorrection;

```
*Github:* [[92](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L92)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

/// @audit `sharePrice`
256:         return (balance * START_REBASING_SHARE_PRICE) / sharePrice;

/// @audit `START_REBASING_SHARE_PRICE`
266:         uint256 rebasedBalance = (shares * sharePrice) /

```
*Github:* [[256](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L256), [266](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L266)]



<a name="L-6"></a> 
### [L-6] Consider implementing two-step procedure for updating protocol addresses
A copy-paste error or a typo may end up bricking protocol functionality, or sending tokens to an address with no known private key. Consider implementing a two-step procedure for updating protocol addresses, where the recipient is set as pending, and must "accept" the assignment by making an affirmative call. A straight forward way of doing this would be to have the target contracts implement [EIP-165](https://eips.ethereum.org/EIPS/eip-165), and to have the "set" functions ensure that the recipient is of the right interface type.

*There is one instance of this issue:*
```solidity
File: src/tokens/GuildToken.sol

/// @audit `profitManager`
197:     function setProfitManager(address _newProfitManager) external onlyCoreRole(CoreRoles.GOVERNOR) {

```
*Github:* [[197](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L197)]



<a name="L-7"></a> 
### [L-7] Constructor / initialization function lacks parameter validation
Constructors and initialization functions play a critical role in contracts by setting important initial states when the contract is first deployed before the system starts. The parameters passed to the constructor and initialization functions directly affect the behavior of the contract / protocol. If incorrect parameters are provided, the system may fail to run, behave abnormally, be unstable, or lack security. Therefore, it's crucial to carefully check each parameter in the constructor and initialization functions. If an exception is found, the transaction should be rolled back.

<details>
<summary>
There are <b>11</b> instances (click to show):
</summary>

```solidity
File: src/governance/GuildGovernor.sol

/// @audit `initialVotingDelay` not validated
/// @audit `initialVotingPeriod` not validated
/// @audit `initialProposalThreshold` not validated
30:     constructor(

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L30)]


```solidity
File: src/governance/GuildTimelockController.sol

/// @audit `_minDelay` not validated
15:     constructor(

```
*Github:* [[15](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L15)]


```solidity
File: src/governance/LendingTermOffboarding.sol

/// @audit `_guildToken` not validated
/// @audit `_psm` not validated
/// @audit `_quorum` not validated
66:     constructor(

```
*Github:* [[66](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L66)]


```solidity
File: src/governance/LendingTermOnboarding.sol

/// @audit `_lendingTermReferences` not validated
/// @audit `_gaugeType` not validated
/// @audit `_core` not validated
/// @audit `_timelock` not validated
/// @audit `initialVotingDelay` not validated
/// @audit `initialVotingPeriod` not validated
/// @audit `initialProposalThreshold` not validated
/// @audit `initialQuorum` not validated
63:     constructor(

```
*Github:* [[63](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L63)]


```solidity
File: src/loan/AuctionHouse.sol

/// @audit `_midPoint` not validated
/// @audit `_auctionDuration` not validated
56:     constructor(

```
*Github:* [[56](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L56)]


```solidity
File: src/loan/LendingTerm.sol

/// @audit `_refs` not validated
/// @audit `_params` not validated
160:     function initialize(

```
*Github:* [[160](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L160)]


```solidity
File: src/loan/SimplePSM.sol

/// @audit `_profitManager` not validated
/// @audit `_credit` not validated
65:     constructor(

```
*Github:* [[65](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L65)]


```solidity
File: src/loan/SurplusGuildMinter.sol

/// @audit `_profitManager` not validated
/// @audit `_credit` not validated
/// @audit `_guild` not validated
/// @audit `_rlgm` not validated
/// @audit `_mintRatio` not validated
/// @audit `_rewardRatio` not validated
88:     constructor(

```
*Github:* [[88](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L88)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

/// @audit `_token` not validated
/// @audit `_role` not validated
/// @audit `_maxRateLimitPerSecond` not validated
/// @audit `_rateLimitPerSecond` not validated
/// @audit `_bufferCap` not validated
30:     constructor(

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L30)]


```solidity
File: src/tokens/CreditToken.sol

/// @audit `_symbol` not validated
24:     constructor(

```
*Github:* [[24](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L24)]


```solidity
File: src/tokens/GuildToken.sol

/// @audit `_profitManager` not validated
43:     constructor(

```
*Github:* [[43](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L43)]


</details>


<a name="L-8"></a> 
### [L-8] Code does not follow the best practice of check-effects-interaction
Code should follow the best-practice of [check-effects-interaction](https://blockchain-academy.hs-mittweida.de/courses/solidity-coding-beginners-to-intermediate/lessons/solidity-11-coding-patterns/topic/checks-effects-interactions/), where state variables are updated before any external calls are made. Doing so prevents a large class of reentrancy bugs.

*There is one instance of this issue:*
```solidity
File: src/governance/LendingTermOnboarding.sol

/// @audit `.call(...)` is called on line 114
165:         created[term] = block.timestamp;

```
*Github:* [[165](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L165)]



<a name="L-9"></a> 
### [L-9] External call recipient can consume all remaining gas
There is no limit specified on the amount of gas used, so the recipient can use up all of the remaining gas (`gasleft()`), causing it to revert. Therefore, when calling an external contract, it is necessary to specify a limited amount of gas to forward.

*There are <b>2</b> instances of this issue:*
```solidity
File: src/core/CoreRef.sol

101:             (bool success, bytes memory returned) = target.call{value: value}(

```
*Github:* [[101](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L101)]


```solidity
File: src/governance/LendingTermOnboarding.sol

114:         (bool success, bytes memory returned) = params.collateralToken.call(

```
*Github:* [[114](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L114)]



<a name="L-10"></a> 
### [L-10] Governance functions should be controlled by time locks
Governance functions (such as upgrading contracts, setting critical parameters) should be controlled using time locks to introduce a delay between a proposal and its execution. This gives users time to exit before a potentially dangerous or malicious operation is applied.

*There is one instance of this issue:*
```solidity
File: src/tokens/GuildToken.sol

197:     function setProfitManager(address _newProfitManager) external onlyCoreRole(CoreRoles.GOVERNOR) {

```
*Github:* [[197](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L197)]



<a name="L-11"></a> 
### [L-11] Large approvals may not work with some `ERC20` tokens
Not all `IERC20` implementations are totally compliant, and some (e.g `UNI`, `COMP`) may fail if the valued passed to `approve` is larger than `uint96`. If the approval amount is `type(uint256).max`, which may cause issues with systems that expect the value passed to approve to be reflected in the allowances mapping.

*There is one instance of this issue:*
```solidity
File: src/loan/SurplusGuildMinter.sol

129:         CreditToken(credit).approve(address(profitManager), amount);

```
*Github:* [[129](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L129)]



<a name="L-12"></a> 
### [L-12] Loss of precision in divisions
Division by large numbers may result in the result being zero, due to solidity not supporting fractions. Consider requiring a minimum amount for the numerator to ensure that it is always larger than the denominator.

*There are <b>8</b> instances of this issue:*
```solidity
File: src/governance/ProfitManager.sol

152:         return (_minBorrow * 1e18) / creditMultiplier;

333:                     (creditTotalSupply - loss)) / creditTotalSupply;

```
*Github:* [[152](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L152), [333](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L333)]


```solidity
File: src/loan/AuctionHouse.sol

141:             collateralReceived = (_collateralAmount * elapsed) / midPoint;

```
*Github:* [[141](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L141)]


```solidity
File: src/loan/LendingTerm.sol

230:         loanDebt = (loanDebt * loan.borrowCreditMultiplier) / creditMultiplier;

```
*Github:* [[230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L230)]


```solidity
File: src/loan/SimplePSM.sol

83:         return (amountIn * decimalCorrection * 1e18) / creditMultiplier;

```
*Github:* [[83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L83)]


```solidity
File: src/tokens/ERC20Gauges.sol

192:         return (quantity * weight) / total;

```
*Github:* [[192](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L192)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

31:         newSharePrice = oldSharePrice * (rebasingSupply + amount) / rebasingSupply

256:         return (balance * START_REBASING_SHARE_PRICE) / sharePrice;

```
*Github:* [[31](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L31), [256](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L256)]



<a name="L-13"></a> 
### [L-13] Missing checks for state variable assignments
There are some missing checks in these functions, and this could lead to unexpected scenarios. Consider always adding a sanity check for state variables.

<details>
<summary>
There are <b>44</b> instances (click to show):
</summary>

```solidity
File: src/governance/GuildGovernor.sol

/// @audit `newQuorum`
70:         _quorum = newQuorum;

```
*Github:* [[70](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L70)]


```solidity
File: src/governance/GuildVetoGovernor.sol

/// @audit `newQuorum`
73:         _quorum = newQuorum;

/// @audit `newTimelock`
101:         timelock = newTimelock;

/// @audit `timelockId`
340:         _timelockIds[proposalId] = timelockId;

```
*Github:* [[73](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L73), [101](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L101), [340](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L340)]


```solidity
File: src/governance/LendingTermOffboarding.sol

/// @audit `_guildToken`
72:         guildToken = _guildToken;

/// @audit `_psm`
73:         psm = _psm;

/// @audit `_quorum`
74:         quorum = _quorum;

/// @audit `_quorum`
82:         quorum = _quorum;

```
*Github:* [[72](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L72), [73](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L73), [74](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L74), [82](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L82)]


```solidity
File: src/governance/LendingTermOnboarding.sol

/// @audit `_gaugeType`
84:         gaugeType = _gaugeType;

/// @audit `allowed`
96:         implementations[implementation] = allowed;

```
*Github:* [[84](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L84), [96](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L96)]


```solidity
File: src/governance/ProfitManager.sol

/// @audit `_credit`
164:         credit = _credit;

/// @audit `_guild`
165:         guild = _guild;

/// @audit `_psm`
166:         psm = _psm;

/// @audit `newValue`
182:         _minBorrow = newValue;

/// @audit `newValue`
190:         gaugeWeightTolerance = newValue;

```
*Github:* [[164](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L164), [165](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L165), [166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L166), [182](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L182), [190](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L190)]


```solidity
File: src/loan/AuctionHouse.sol

/// @audit `_midPoint`
62:         midPoint = _midPoint;

/// @audit `_auctionDuration`
63:         auctionDuration = _auctionDuration;

```
*Github:* [[62](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L62), [63](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L63)]


```solidity
File: src/loan/LendingTerm.sol

/// @audit `_refs`
171:         refs = _refs;

/// @audit `_params`
172:         params = _params;

```
*Github:* [[171](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L171), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L172)]


```solidity
File: src/loan/SimplePSM.sol

/// @audit `_profitManager`
71:         profitManager = _profitManager;

/// @audit `_credit`
72:         credit = _credit;

/// @audit `_pegToken`
73:         pegToken = _pegToken;

/// @audit `paused`
152:         redemptionsPaused = paused;

```
*Github:* [[71](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L71), [72](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L72), [73](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L73), [152](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L152)]


```solidity
File: src/loan/SurplusGuildMinter.sol

/// @audit `_profitManager`
97:         profitManager = _profitManager;

/// @audit `_credit`
98:         credit = _credit;

/// @audit `_guild`
99:         guild = _guild;

/// @audit `_rlgm`
100:         rlgm = _rlgm;

/// @audit `_mintRatio`
101:         mintRatio = _mintRatio;

/// @audit `_rewardRatio`
102:         rewardRatio = _rewardRatio;

/// @audit `_mintRatio`
322:         mintRatio = _mintRatio;

/// @audit `_rewardRatio`
331:         rewardRatio = _rewardRatio;

```
*Github:* [[97](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L97), [98](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L98), [99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L99), [100](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L100), [101](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L101), [102](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L102), [322](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L322), [331](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L331)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

/// @audit `_token`
41:         token = _token;

/// @audit `_role`
42:         role = _role;

```
*Github:* [[41](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L41), [42](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L42)]


```solidity
File: src/tokens/ERC20Gauges.sol

/// @audit `_type`
409:             gaugeType[gauge] = _type;

/// @audit `newMax`
446:         maxGauges = newMax;

/// @audit `canExceedMax`
463:         canExceedMaxGauges[account] = canExceedMax;

```
*Github:* [[409](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L409), [446](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L446), [463](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L463)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

/// @audit `newMax`
149:         maxDelegates = newMax;

/// @audit `canExceedMax`
164:         canContractExceedMaxDelegates[account] = canExceedMax;

```
*Github:* [[149](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L149), [164](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L164)]


```solidity
File: src/tokens/GuildToken.sol

/// @audit `_profitManager`
51:         profitManager = _profitManager;

/// @audit `_newProfitManager`
198:         profitManager = _newProfitManager;

```
*Github:* [[51](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L51), [198](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L198)]


```solidity
File: src/utils/RateLimitedV2.sol

/// @audit `_bufferCap`
48:         bufferStored = _bufferCap;

/// @audit `_maxRateLimitPerSecond`
56:         MAX_RATE_LIMIT_PER_SECOND = _maxRateLimitPerSecond;

/// @audit `newRateLimitPerSecond`
140:         rateLimitPerSecond = newRateLimitPerSecond;

/// @audit `newBufferCap`
153:         bufferCap = newBufferCap;

```
*Github:* [[48](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L48), [56](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L56), [140](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L140), [153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L153)]


</details>


<a name="L-14"></a> 
### [L-14] Missing contract existence checks before low-level calls
Low-level calls return success if there is no code present at the specified address. In addition to the zero-address checks, add a check to verify that `<address>.code.length > 0`

*There are <b>2</b> instances of this issue:*
```solidity
File: src/core/CoreRef.sol

101:             (bool success, bytes memory returned) = target.call{value: value}(

```
*Github:* [[101](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L101)]


```solidity
File: src/governance/LendingTermOnboarding.sol

114:         (bool success, bytes memory returned) = params.collateralToken.call(

```
*Github:* [[114](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L114)]



<a name="L-15"></a> 
### [L-15] Missing limits when setting min/max amounts
There are some missing limits in these functions, and this could lead to unexpected scenarios. Consider adding a min/max limit for the following values, when appropriate.

<details>
<summary>
There are <b>12</b> instances (click to show):
</summary>

```solidity
File: src/governance/GuildGovernor.sol

/// @audit `newQuorum`
68:     function _setQuorum(uint256 newQuorum) internal {

```
*Github:* [[68](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L68)]


```solidity
File: src/governance/GuildVetoGovernor.sol

/// @audit `newQuorum`
71:     function _setQuorum(uint256 newQuorum) internal virtual {

```
*Github:* [[71](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L71)]


```solidity
File: src/governance/LendingTermOffboarding.sol

/// @audit `_quorum`
78:     function setQuorum(
            uint256 _quorum
        ) external onlyCoreRole(CoreRoles.GOVERNOR) {

```
*Github:* [[78](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L78)]


```solidity
File: src/governance/ProfitManager.sol

/// @audit `newValue`
179:     function setMinBorrow(
             uint256 newValue
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit `newValue`
187:     function setGaugeWeightTolerance(
             uint256 newValue
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

```
*Github:* [[179](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L179), [187](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L187)]


```solidity
File: src/loan/SurplusGuildMinter.sol

/// @audit `_mintRatio`
319:     function setMintRatio(
             uint256 _mintRatio
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit `_rewardRatio`
328:     function setRewardRatio(
             uint256 _rewardRatio
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

```
*Github:* [[319](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L319), [328](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L328)]


```solidity
File: src/tokens/ERC20Gauges.sol

/// @audit `_type`
395:     function _addGauge(
             uint256 _type,
             address gauge
         ) internal returns (uint256 weight) {

/// @audit `newMax`
444:     function _setMaxGauges(uint256 newMax) internal {

```
*Github:* [[395](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L395), [444](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L444)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

/// @audit `newMax`
147:     function _setMaxDelegates(uint256 newMax) internal {

```
*Github:* [[147](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L147)]


```solidity
File: src/utils/RateLimitedV2.sol

/// @audit `newRateLimitPerSecond`
138:     function _setRateLimitPerSecond(uint128 newRateLimitPerSecond) internal {

/// @audit `newBufferCap`
149:     function _setBufferCap(uint128 newBufferCap) internal {

```
*Github:* [[138](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L138), [149](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L149)]


</details>


<a name="L-16"></a> 
### [L-16] Missing zero address check in constructor
Constructors often take address parameters to initialize important components of a contract, such as owner or linked contracts. However, without a checking, there's a risk that an address parameter could be mistakenly set to the zero address (0x0). This could be due to an error or oversight during contract deployment. A zero address in a crucial role can cause serious issues, as it cannot perform actions like a normal address, and any funds sent to it will be irretrievable. It's therefore crucial to include a zero address check in constructors to prevent such potential problems. If a zero address is detected, the constructor should revert the transaction.

*There are <b>6</b> instances of this issue:*
```solidity
File: src/governance/LendingTermOffboarding.sol

/// @audit missing zero check for `_guildToken`
/// @audit missing zero check for `_psm`
66:     constructor(
            address _core,
            address _guildToken,
            address _psm,
            uint256 _quorum
        ) CoreRef(_core) {

```
*Github:* [[66](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L66)]


```solidity
File: src/governance/LendingTermOnboarding.sol

/// @audit missing zero check for `_core`
/// @audit missing zero check for `_timelock`
63:     constructor(
            LendingTerm.LendingTermReferences memory _lendingTermReferences,
            uint256 _gaugeType,
            address _core,
            address _timelock,
            uint256 initialVotingDelay,
            uint256 initialVotingPeriod,
            uint256 initialProposalThreshold,
            uint256 initialQuorum
        )
            GuildGovernor(
                _core,
                _timelock,
                _lendingTermReferences.guildToken,
                initialVotingDelay,
                initialVotingPeriod,
                initialProposalThreshold,
                initialQuorum
            )
        {

```
*Github:* [[63](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L63)]


```solidity
File: src/loan/SimplePSM.sol

/// @audit missing zero check for `_profitManager`
/// @audit missing zero check for `_credit`
65:     constructor(
            address _core,
            address _profitManager,
            address _credit,
            address _pegToken
        ) CoreRef(_core) {

```
*Github:* [[65](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L65)]


```solidity
File: src/loan/SurplusGuildMinter.sol

/// @audit missing zero check for `_profitManager`
/// @audit missing zero check for `_credit`
/// @audit missing zero check for `_guild`
/// @audit missing zero check for `_rlgm`
88:     constructor(
            address _core,
            address _profitManager,
            address _credit,
            address _guild,
            address _rlgm,
            uint256 _mintRatio,
            uint256 _rewardRatio
        ) CoreRef(_core) {

```
*Github:* [[88](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L88)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

/// @audit missing zero check for `_token`
30:     constructor(
            address _core,
            address _token,
            bytes32 _role,
            uint256 _maxRateLimitPerSecond,
            uint128 _rateLimitPerSecond,
            uint128 _bufferCap
        )
            CoreRef(_core)
            RateLimitedV2(_maxRateLimitPerSecond, _rateLimitPerSecond, _bufferCap)
        {

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L30)]


```solidity
File: src/tokens/GuildToken.sol

/// @audit missing zero check for `_profitManager`
43:     constructor(
            address _core,
            address _profitManager
        )
            CoreRef(_core)
            ERC20("Ethereum Credit Guild - GUILD", "GUILD")
            ERC20Permit("Ethereum Credit Guild - GUILD")
        {

```
*Github:* [[43](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L43)]



<a name="L-17"></a> 
### [L-17] Consider some checks for `address(0)` when setting address state variables
Check for zero-address to avoid the risk of setting `address(0)` for state variables after an update.

<details>
<summary>
There are <b>16</b> instances (click to show):
</summary>

```solidity
File: src/governance/GuildVetoGovernor.sol

/// @audit `newTimelock`
101:         timelock = newTimelock;

```
*Github:* [[101](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L101)]


```solidity
File: src/governance/LendingTermOffboarding.sol

/// @audit `_guildToken`
72:         guildToken = _guildToken;

/// @audit `_psm`
73:         psm = _psm;

```
*Github:* [[72](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L72), [73](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L73)]


```solidity
File: src/governance/ProfitManager.sol

/// @audit `_credit`
164:         credit = _credit;

/// @audit `_guild`
165:         guild = _guild;

/// @audit `_psm`
166:         psm = _psm;

```
*Github:* [[164](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L164), [165](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L165), [166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L166)]


```solidity
File: src/loan/SimplePSM.sol

/// @audit `_profitManager`
71:         profitManager = _profitManager;

/// @audit `_credit`
72:         credit = _credit;

/// @audit `_pegToken`
73:         pegToken = _pegToken;

```
*Github:* [[71](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L71), [72](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L72), [73](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L73)]


```solidity
File: src/loan/SurplusGuildMinter.sol

/// @audit `_profitManager`
97:         profitManager = _profitManager;

/// @audit `_credit`
98:         credit = _credit;

/// @audit `_guild`
99:         guild = _guild;

/// @audit `_rlgm`
100:         rlgm = _rlgm;

```
*Github:* [[97](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L97), [98](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L98), [99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L99), [100](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L100)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

/// @audit `_token`
41:         token = _token;

```
*Github:* [[41](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L41)]


```solidity
File: src/tokens/GuildToken.sol

/// @audit `_profitManager`
51:         profitManager = _profitManager;

/// @audit `_newProfitManager`
198:         profitManager = _newProfitManager;

```
*Github:* [[51](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L51), [198](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L198)]


</details>


<a name="L-18"></a> 
### [L-18] The remaining ETH may be locked in the contract after call
After calling an external contract and forwards some ETH value, the contract balance should be checked. If there is excess eth left over due to a failed call, or more eth being delivered than needed, or any other reason, this eth must be refunded to the user or handled appropriately, otherwise the eth may be frozen in the contract forever.

*There is one instance of this issue:*
```solidity
File: src/core/CoreRef.sol

101:             (bool success, bytes memory returned) = target.call{value: value}(

```
*Github:* [[101](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L101)]



<a name="L-19"></a> 
### [L-19] Some tokens may revert when large transfers are made
Tokens such as COMP or UNI will revert when an address' balance reaches `type(uint96).max`. Ensure that the calls below can be broken up into smaller batches if necessary.

<details>
<summary>
There are <b>802</b> instances (click to show):
</summary>

```solidity
File: src/governance/ProfitManager.sol

252:         CreditToken(credit).transferFrom(msg.sender, address(this), amount);

260:         CreditToken(credit).transferFrom(msg.sender, address(this), amount);

273:         CreditToken(credit).transfer(to, amount);

285:         CreditToken(credit).transfer(to, amount);

434:             CreditToken(credit).transfer(user, creditEarned);

```
*Github:* [[252](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L252), [260](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L260), [273](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L273), [285](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L285), [434](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L434)]


```solidity
File: src/loan/LendingTerm.sol

2: pragma solidity 0.8.13;

3: 

4: import {IERC20} from "@openzeppelin/contracts/token/ERC20/IERC20.sol";

5: import {SafeERC20} from "@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol";

6: import {IERC20Permit} from "@openzeppelin/contracts/token/ERC20/extensions/IERC20Permit.sol";

7: 

8: import {CoreRef} from "@src/core/CoreRef.sol";

9: import {CoreRoles} from "@src/core/CoreRoles.sol";

10: import {GuildToken} from "@src/tokens/GuildToken.sol";

11: import {CreditToken} from "@src/tokens/CreditToken.sol";

12: import {AuctionHouse} from "@src/loan/AuctionHouse.sol";

13: import {ProfitManager} from "@src/governance/ProfitManager.sol";

14: import {RateLimitedMinter} from "@src/rate-limits/RateLimitedMinter.sol";

15: 

20: contract LendingTerm is CoreRef {

21:     using SafeERC20 for IERC20;

22: 

25:     event LoanOpen(

26:         uint256 indexed when,

27:         bytes32 indexed loanId,

28:         address indexed borrower,

29:         uint256 collateralAmount,

30:         uint256 borrowAmount

31:     );

33:     event LoanCall(uint256 indexed when, bytes32 indexed loanId);

35:     enum LoanCloseType {

36:         Repay,

37:         Call,

38:         Forgive

39:     }

40:     event LoanClose(

41:         uint256 indexed when,

42:         bytes32 indexed loanId,

43:         LoanCloseType indexed closeType,

44:         uint256 debtRepaid

45:     );

47:     event LoanAddCollateral(

48:         uint256 indexed when,

49:         bytes32 indexed loanId,

50:         address indexed borrower,

51:         uint256 collateralAmount

52:     );

54:     event LoanPartialRepay(

55:         uint256 indexed when,

56:         bytes32 indexed loanId,

57:         address indexed repayer,

58:         uint256 repayAmount

59:     );

60: 

61:     struct Signature {

62:         uint8 v;

63:         bytes32 r;

64:         bytes32 s;

65:     }

66: 

68:     uint256 public constant YEAR = 31557600;

69: 

73:     mapping(bytes32 => uint256) public lastPartialRepay;

74: 

75:     struct Loan {

76:         address borrower; // address of a loan's borrower

77:         uint256 borrowTime; // the time the loan was initiated

78:         uint256 borrowAmount; // initial CREDIT debt of a loan

79:         uint256 borrowCreditMultiplier; // creditMultiplier when loan was opened

80:         uint256 collateralAmount; // balance of collateral token provided by the borrower

81:         address caller; // a caller of 0 indicates that the loan has not been called

82:         uint256 callTime; // a call time of 0 indicates that the loan has not been called

83:         uint256 callDebt; // the CREDIT debt when the loan was called

84:         uint256 closeTime; // the time the loan was closed (repaid or call+bid or forgive)

85:     }

86: 

89:     mapping(bytes32 => Loan) internal loans;

90: 

95:     uint256 public issuance;

96: 

97:     struct LendingTermReferences {

99:         address profitManager;

101:         address guildToken;

104:         address auctionHouse;

106:         address creditMinter;

108:         address creditToken;

109:     }

110: 

112:     LendingTermReferences internal refs;

113: 

114:     struct LendingTermParams {

116:         address collateralToken;

125:         uint256 maxDebtPerCollateralToken;

128:         uint256 interestRate;

133:         uint256 maxDelayBetweenPartialRepay;

137:         uint256 minPartialRepayPercent;

144:         uint256 openingFee;

147:         uint256 hardCap;

148:     }

149: 

151:     LendingTermParams internal params;

152: 

153:     constructor() CoreRef(address(1)) {

156:     }

157: 

160:     function initialize(

161:         address _core,

162:         LendingTermReferences calldata _refs,

163:         LendingTermParams calldata _params

164:     ) external {

166:         assert(address(core()) == address(0));

167:         assert(_core != address(0));

168: 

170:         _setCore(_core);

171:         refs = _refs;

172:         params = _params;

173:     }

174: 

176:     function getReferences()

177:         external

178:         view

179:         returns (LendingTermReferences memory)

180:     {

181:         return refs;

182:     }

183: 

185:     function getParameters() external view returns (LendingTermParams memory) {

186:         return params;

187:     }

188: 

190:     function collateralToken() external view returns (address) {

191:         return params.collateralToken;

192:     }

193: 

195:     function getLoan(bytes32 loanId) external view returns (Loan memory) {

196:         return loans[loanId];

197:     }

198: 

200:     function getLoanDebt(bytes32 loanId) public view returns (uint256) {

201:         Loan storage loan = loans[loanId];

202:         uint256 borrowTime = loan.borrowTime;

203: 

204:         if (borrowTime == 0) {

205:             return 0;

206:         }

207: 

208:         if (loan.closeTime != 0) {

209:             return 0;

210:         }

211: 

212:         if (loan.callTime != 0) {

213:             return loan.callDebt;

214:         }

215: 

217:         uint256 borrowAmount = loan.borrowAmount;

218:         uint256 interest = (borrowAmount *

219:             params.interestRate *

220:             (block.timestamp - borrowTime)) /

221:             YEAR /

222:             1e18;

223:         uint256 loanDebt = borrowAmount + interest;

224:         uint256 _openingFee = params.openingFee;

225:         if (_openingFee != 0) {

226:             loanDebt += (borrowAmount * _openingFee) / 1e18;

227:         }

228:         uint256 creditMultiplier = ProfitManager(refs.profitManager)

229:             .creditMultiplier();

230:         loanDebt = (loanDebt * loan.borrowCreditMultiplier) / creditMultiplier;

231: 

232:         return loanDebt;

233:     }

234: 

237:     function partialRepayDelayPassed(

238:         bytes32 loanId

239:     ) public view returns (bool) {

241:         if (params.maxDelayBetweenPartialRepay == 0) return false;

242: 

244:         if (loans[loanId].borrowTime == 0) return false;

245: 

247:         if (loans[loanId].closeTime != 0) return false;

248: 

250:         return

251:             lastPartialRepay[loanId] <

252:             block.timestamp - params.maxDelayBetweenPartialRepay;

253:     }

254: 

270:     function debtCeiling(

271:         int256 gaugeWeightDelta

272:     ) public view returns (uint256) {

273:         address _guildToken = refs.guildToken; // cached SLOAD

274:         uint256 gaugeWeight = GuildToken(_guildToken).getGaugeWeight(

275:             address(this)

276:         );

277:         gaugeWeight = uint256(int256(gaugeWeight) + gaugeWeightDelta);

278:         uint256 gaugeType = GuildToken(_guildToken).gaugeType(address(this));

279:         uint256 totalWeight = GuildToken(_guildToken).totalTypeWeight(

280:             gaugeType

281:         );

282:         uint256 creditMinterBuffer = RateLimitedMinter(refs.creditMinter)

283:             .buffer();

284:         uint256 _hardCap = params.hardCap; // cached SLOAD

285:         if (gaugeWeight == 0) {

286:             return 0; // no gauge vote, 0 debt ceiling

287:         } else if (gaugeWeight == totalWeight) {

290:             return

291:                 _hardCap < creditMinterBuffer ? _hardCap : creditMinterBuffer;

292:         }

293:         uint256 _issuance = issuance; // cached SLOAD

294:         uint256 totalBorrowedCredit = ProfitManager(refs.profitManager)

295:             .totalBorrowedCredit();

296:         uint256 gaugeWeightTolerance = ProfitManager(refs.profitManager)

297:             .gaugeWeightTolerance();

298:         if (totalBorrowedCredit == 0 && gaugeWeight != 0) {

302:             return

303:                 _hardCap < creditMinterBuffer ? _hardCap : creditMinterBuffer;

304:         }

305:         uint256 toleratedGaugeWeight = (gaugeWeight * gaugeWeightTolerance) /

306:             1e18;

307:         uint256 debtCeilingBefore = (totalBorrowedCredit *

308:             toleratedGaugeWeight) / totalWeight;

309:         if (_issuance >= debtCeilingBefore) {

310:             return debtCeilingBefore; // no more borrows allowed

311:         }

312:         uint256 remainingDebtCeiling = debtCeilingBefore - _issuance; // always >0

313:         if (toleratedGaugeWeight >= totalWeight) {

316:             return

317:                 _hardCap < creditMinterBuffer ? _hardCap : creditMinterBuffer;

318:         }

319:         uint256 otherGaugesWeight = totalWeight - toleratedGaugeWeight; // always >0

320:         uint256 maxBorrow = (remainingDebtCeiling * totalWeight) /

321:             otherGaugesWeight;

322:         uint256 _debtCeiling = _issuance + maxBorrow;

324:         if (creditMinterBuffer < _debtCeiling) {

325:             return creditMinterBuffer;

326:         }

327:         if (_hardCap < _debtCeiling) {

328:             return _hardCap;

329:         }

330:         return _debtCeiling;

331:     }

332: 

334:     function debtCeiling() external view returns (uint256) {

335:         return debtCeiling(0);

336:     }

337: 

339:     function _borrow(

340:         address borrower,

341:         uint256 borrowAmount,

342:         uint256 collateralAmount

343:     ) internal returns (bytes32 loanId) {

344:         require(borrowAmount != 0, "LendingTerm: cannot borrow 0");

345:         require(collateralAmount != 0, "LendingTerm: cannot stake 0");

346: 

347:         loanId = keccak256(

348:             abi.encode(borrower, address(this), block.timestamp)

349:         );

350: 

352:         require(loans[loanId].borrowTime == 0, "LendingTerm: loan exists");

353: 

355:         uint256 creditMultiplier = ProfitManager(refs.profitManager)

356:             .creditMultiplier();

357:         uint256 maxBorrow = (collateralAmount *

358:             params.maxDebtPerCollateralToken) / creditMultiplier;

359:         require(

360:             borrowAmount <= maxBorrow,

361:             "LendingTerm: not enough collateral"

362:         );

363: 

365:         require(

366:             borrowAmount >= ProfitManager(refs.profitManager).minBorrow(),

367:             "LendingTerm: borrow amount too low"

368:         );

369: 

371:         uint256 _issuance = issuance;

372:         uint256 _postBorrowIssuance = _issuance + borrowAmount;

373:         require(

374:             _postBorrowIssuance <= params.hardCap,

375:             "LendingTerm: hardcap reached"

376:         );

377: 

379:         uint256 totalBorrowedCredit = ProfitManager(refs.profitManager)

380:             .totalBorrowedCredit();

381:         uint256 gaugeWeightTolerance = ProfitManager(refs.profitManager)

382:             .gaugeWeightTolerance();

383:         uint256 _debtCeiling = (GuildToken(refs.guildToken)

384:             .calculateGaugeAllocation(

385:                 address(this),

386:                 totalBorrowedCredit + borrowAmount

387:             ) * gaugeWeightTolerance) / 1e18;

388:         if (totalBorrowedCredit == 0) {

392:             require(_debtCeiling != 0, "LendingTerm: debt ceiling reached");

393:         } else {

394:             require(

395:                 _postBorrowIssuance <= _debtCeiling,

396:                 "LendingTerm: debt ceiling reached"

397:             );

398:         }

399: 

401:         loans[loanId] = Loan({

402:             borrower: borrower,

403:             borrowTime: block.timestamp,

404:             borrowAmount: borrowAmount,

405:             borrowCreditMultiplier: creditMultiplier,

406:             collateralAmount: collateralAmount,

407:             caller: address(0),

408:             callTime: 0,

409:             callDebt: 0,

410:             closeTime: 0

411:         });

412:         issuance = _postBorrowIssuance;

413:         if (params.maxDelayBetweenPartialRepay != 0) {

414:             lastPartialRepay[loanId] = block.timestamp;

415:         }

416: 

418:         RateLimitedMinter(refs.creditMinter).mint(borrower, borrowAmount);

419: 

421:         IERC20(params.collateralToken).safeTransferFrom(

422:             borrower,

423:             address(this),

424:             collateralAmount

425:         );

426: 

428:         emit LoanOpen(

429:             block.timestamp,

430:             loanId,

431:             borrower,

432:             collateralAmount,

433:             borrowAmount

434:         );

435:     }

436: 

438:     function borrow(

439:         uint256 borrowAmount,

440:         uint256 collateralAmount

441:     ) external whenNotPaused returns (bytes32 loanId) {

442:         loanId = _borrow(msg.sender, borrowAmount, collateralAmount);

443:     }

444: 

448:     function _addCollateral(

449:         address borrower,

450:         bytes32 loanId,

451:         uint256 collateralToAdd

452:     ) internal {

453:         require(collateralToAdd != 0, "LendingTerm: cannot add 0");

454: 

455:         Loan storage loan = loans[loanId];

456: 

458:         require(loan.borrowTime != 0, "LendingTerm: loan not found");

459:         require(loan.closeTime == 0, "LendingTerm: loan closed");

460:         require(loan.callTime == 0, "LendingTerm: loan called");

461: 

463:         loans[loanId].collateralAmount += collateralToAdd;

464: 

466:         IERC20(params.collateralToken).safeTransferFrom(

467:             borrower,

468:             address(this),

469:             collateralToAdd

470:         );

471: 

473:         emit LoanAddCollateral(

474:             block.timestamp,

475:             loanId,

476:             borrower,

477:             collateralToAdd

478:         );

479:     }

480: 

482:     function addCollateral(bytes32 loanId, uint256 collateralToAdd) external {

483:         _addCollateral(msg.sender, loanId, collateralToAdd);

484:     }

485: 

490:     function _partialRepay(

491:         address repayer,

492:         bytes32 loanId,

493:         uint256 debtToRepay

494:     ) internal {

495:         Loan storage loan = loans[loanId];

496: 

498:         uint256 borrowTime = loan.borrowTime;

499:         require(borrowTime != 0, "LendingTerm: loan not found");

500:         require(

501:             borrowTime < block.timestamp,

502:             "LendingTerm: loan opened in same block"

503:         );

504:         require(loan.closeTime == 0, "LendingTerm: loan closed");

505:         require(loan.callTime == 0, "LendingTerm: loan called");

506: 

508:         uint256 loanDebt = getLoanDebt(loanId);

509:         require(debtToRepay < loanDebt, "LendingTerm: full repayment");

510:         uint256 percentRepaid = (debtToRepay * 1e18) / loanDebt; // [0, 1e18[

511:         uint256 borrowAmount = loan.borrowAmount;

512:         uint256 creditMultiplier = ProfitManager(refs.profitManager)

513:             .creditMultiplier();

514:         uint256 principal = (borrowAmount * loan.borrowCreditMultiplier) /

515:             creditMultiplier;

516:         uint256 principalRepaid = (principal * percentRepaid) / 1e18;

517:         uint256 interestRepaid = debtToRepay - principalRepaid;

518:         uint256 issuanceDecrease = (borrowAmount * percentRepaid) / 1e18;

519:         require(

520:             principalRepaid != 0 && interestRepaid != 0,

521:             "LendingTerm: repay too small"

522:         );

523:         require(

524:             debtToRepay >= (loanDebt * params.minPartialRepayPercent) / 1e18,

525:             "LendingTerm: repay below min"

526:         );

527:         require(

528:             borrowAmount - issuanceDecrease >

529:                 ProfitManager(refs.profitManager).minBorrow(),

530:             "LendingTerm: below min borrow"

531:         );

532: 

534:         loans[loanId].borrowAmount -= issuanceDecrease;

535:         lastPartialRepay[loanId] = block.timestamp;

536:         issuance -= issuanceDecrease;

537: 

539:         CreditToken(refs.creditToken).transferFrom(

540:             repayer,

541:             address(this),

542:             debtToRepay

543:         );

544: 

546:         CreditToken(refs.creditToken).transfer(

547:             refs.profitManager,

548:             interestRepaid

549:         );

550:         ProfitManager(refs.profitManager).notifyPnL(

551:             address(this),

552:             int256(interestRepaid)

553:         );

554:         CreditToken(refs.creditToken).burn(principalRepaid);

555:         RateLimitedMinter(refs.creditMinter).replenishBuffer(principalRepaid);

556: 

558:         emit LoanPartialRepay(block.timestamp, loanId, repayer, debtToRepay);

559:     }

560: 

562:     function partialRepay(bytes32 loanId, uint256 debtToRepay) external {

563:         _partialRepay(msg.sender, loanId, debtToRepay);

564:     }

565: 

567:     function _repay(address repayer, bytes32 loanId) internal {

568:         Loan storage loan = loans[loanId];

569: 

571:         uint256 borrowTime = loan.borrowTime;

572:         require(borrowTime != 0, "LendingTerm: loan not found");

573:         require(

574:             borrowTime < block.timestamp,

575:             "LendingTerm: loan opened in same block"

576:         );

577:         require(loan.closeTime == 0, "LendingTerm: loan closed");

578:         require(loan.callTime == 0, "LendingTerm: loan called");

579: 

581:         uint256 loanDebt = getLoanDebt(loanId);

582:         uint256 borrowAmount = loan.borrowAmount;

583:         uint256 creditMultiplier = ProfitManager(refs.profitManager)

584:             .creditMultiplier();

585:         uint256 principal = (borrowAmount * loan.borrowCreditMultiplier) /

586:             creditMultiplier;

587:         uint256 interest = loanDebt - principal;

588: 

590:         CreditToken(refs.creditToken).transferFrom(

591:             repayer,

592:             address(this),

593:             loanDebt

594:         );

595:         if (interest != 0) {

597:             CreditToken(refs.creditToken).transfer(

598:                 refs.profitManager,

599:                 interest

600:             );

601: 

603:             ProfitManager(refs.profitManager).notifyPnL(

604:                 address(this),

605:                 int256(interest)

606:             );

607:         }

608: 

610:         CreditToken(refs.creditToken).burn(principal);

611:         RateLimitedMinter(refs.creditMinter).replenishBuffer(principal);

612: 

614:         loan.closeTime = block.timestamp;

615:         issuance -= borrowAmount;

616: 

618:         IERC20(params.collateralToken).safeTransfer(

619:             loan.borrower,

620:             loan.collateralAmount

621:         );

622: 

624:         emit LoanClose(block.timestamp, loanId, LoanCloseType.Repay, loanDebt);

625:     }

626: 

628:     function repay(bytes32 loanId) external {

629:         _repay(msg.sender, loanId);

630:     }

631: 

634:     function _call(

635:         address caller,

636:         bytes32 loanId,

637:         address _auctionHouse

638:     ) internal {

639:         Loan storage loan = loans[loanId];

640: 

642:         uint256 borrowTime = loan.borrowTime;

643:         require(loan.borrowTime != 0, "LendingTerm: loan not found");

644: 

646:         require(loan.closeTime == 0, "LendingTerm: loan closed");

647: 

649:         require(loan.callTime == 0, "LendingTerm: loan called");

650: 

652:         require(

653:             GuildToken(refs.guildToken).isDeprecatedGauge(address(this)) ||

654:                 partialRepayDelayPassed(loanId),

655:             "LendingTerm: cannot call"

656:         );

657: 

659:         require(

660:             borrowTime < block.timestamp,

661:             "LendingTerm: loan opened in same block"

662:         );

663: 

665:         uint256 loanDebt = getLoanDebt(loanId);

666:         loans[loanId].callTime = block.timestamp;

667:         loans[loanId].callDebt = loanDebt;

668:         loans[loanId].caller = caller;

669: 

671:         AuctionHouse(_auctionHouse).startAuction(loanId, loanDebt);

672: 

674:         emit LoanCall(block.timestamp, loanId);

675:     }

676: 

678:     function call(bytes32 loanId) external {

679:         _call(msg.sender, loanId, refs.auctionHouse);

680:     }

681: 

683:     function callMany(bytes32[] memory loanIds) public {

684:         address _auctionHouse = refs.auctionHouse;

685:         for (uint256 i = 0; i < loanIds.length; i++) {

686:             _call(msg.sender, loanIds[i], _auctionHouse);

687:         }

688:     }

689: 

695:     function forgive(bytes32 loanId) external onlyCoreRole(CoreRoles.GOVERNOR) {

696:         Loan storage loan = loans[loanId];

697: 

699:         require(loan.borrowTime != 0, "LendingTerm: loan not found");

700: 

702:         require(loan.closeTime == 0, "LendingTerm: loan closed");

703: 

705:         loans[loanId].closeTime = block.timestamp;

706:         issuance -= loan.borrowAmount;

707: 

709:         uint256 creditMultiplier = ProfitManager(refs.profitManager)

710:             .creditMultiplier();

711:         uint256 borrowAmount = loans[loanId].borrowAmount;

712:         uint256 principal = (borrowAmount *

713:             loans[loanId].borrowCreditMultiplier) / creditMultiplier;

714:         int256 pnl = -int256(principal);

715:         ProfitManager(refs.profitManager).notifyPnL(address(this), pnl);

716: 

718:         params.hardCap = 0;

719: 

721:         emit LoanClose(block.timestamp, loanId, LoanCloseType.Forgive, 0);

722:     }

723: 

725:     function onBid(

726:         bytes32 loanId,

727:         address bidder,

728:         uint256 collateralToBorrower,

729:         uint256 collateralToBidder,

730:         uint256 creditFromBidder

731:     ) external {

733:         require(msg.sender == refs.auctionHouse, "LendingTerm: invalid caller");

734:         require(

735:             loans[loanId].callTime != 0 && loans[loanId].callDebt != 0,

736:             "LendingTerm: loan not called"

737:         );

738:         require(loans[loanId].closeTime == 0, "LendingTerm: loan closed");

739: 

743:         uint256 collateralOut = collateralToBorrower + collateralToBidder;

744:         require(

745:             collateralOut == loans[loanId].collateralAmount ||

746:                 collateralOut == 0,

747:             "LendingTerm: invalid collateral movements"

748:         );

749: 

751:         uint256 creditMultiplier = ProfitManager(refs.profitManager)

752:             .creditMultiplier();

753:         uint256 borrowAmount = loans[loanId].borrowAmount;

754:         uint256 principal = (borrowAmount *

755:             loans[loanId].borrowCreditMultiplier) / creditMultiplier;

756:         int256 pnl;

757:         uint256 interest;

758:         if (creditFromBidder >= principal) {

759:             interest = creditFromBidder - principal;

760:             pnl = int256(interest);

761:         } else {

762:             pnl = int256(creditFromBidder) - int256(principal);

763:             principal = creditFromBidder;

764:             require(

765:                 collateralToBorrower == 0,

766:                 "LendingTerm: invalid collateral movement"

767:             );

768:         }

769: 

771:         loans[loanId].closeTime = block.timestamp;

772: 

774:         if (creditFromBidder != 0) {

775:             CreditToken(refs.creditToken).transferFrom(

776:                 bidder,

777:                 address(this),

778:                 creditFromBidder

779:             );

780:         }

781: 

783:         if (principal != 0) {

784:             CreditToken(refs.creditToken).burn(principal);

785:             RateLimitedMinter(refs.creditMinter).replenishBuffer(principal);

786:         }

787: 

789:         if (pnl != 0) {

791:             if (interest != 0) {

792:                 CreditToken(refs.creditToken).transfer(

793:                     refs.profitManager,

794:                     interest

795:                 );

796:             }

797:             ProfitManager(refs.profitManager).notifyPnL(address(this), pnl);

798:         }

799: 

801:         issuance -= borrowAmount;

802: 

804:         if (collateralToBorrower != 0) {

805:             IERC20(params.collateralToken).safeTransfer(

806:                 loans[loanId].borrower,

807:                 collateralToBorrower

808:             );

809:         }

810: 

812:         if (collateralToBidder != 0) {

813:             IERC20(params.collateralToken).safeTransfer(

814:                 bidder,

815:                 collateralToBidder

816:             );

817:         }

818: 

819:         emit LoanClose(

820:             block.timestamp,

821:             loanId,

822:             LoanCloseType.Call,

823:             creditFromBidder

824:         );

825:     }

826: 

829:     function setAuctionHouse(

830:         address _newValue

831:     ) external onlyCoreRole(CoreRoles.GOVERNOR) {

836:         require(

837:             AuctionHouse(refs.auctionHouse).nAuctionsInProgress() == 0,

838:             "LendingTerm: auctions in progress"

839:         );

840: 

841:         refs.auctionHouse = _newValue;

842:     }

843: 

846:     function setHardCap(

847:         uint256 _newValue

848:     ) external onlyCoreRole(CoreRoles.GOVERNOR) {

849:         params.hardCap = _newValue;

850:     }

851: }

852: 

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L2), [3](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L3), [4](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L4), [5](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L5), [6](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L6), [7](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L7), [8](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L8), [9](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L9), [10](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L10), [11](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L11), [12](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L12), [13](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L13), [14](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L14), [15](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L15), [20](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L20), [21](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L21), [22](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L22), [25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L25), [26](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L26), [27](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L27), [28](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L28), [29](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L29), [30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L30), [31](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L31), [33](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L33), [35](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L35), [36](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L36), [37](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L37), [38](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L38), [39](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L39), [40](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L40), [41](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L41), [42](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L42), [43](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L43), [44](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L44), [45](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L45), [47](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L47), [48](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L48), [49](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L49), [50](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L50), [51](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L51), [52](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L52), [54](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L54), [55](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L55), [56](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L56), [57](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L57), [58](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L58), [59](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L59), [60](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L60), [61](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L61), [62](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L62), [63](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L63), [64](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L64), [65](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L65), [66](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L66), [68](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L68), [69](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L69), [73](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L73), [74](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L74), [75](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L75), [76](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L76), [77](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L77), [78](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L78), [79](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L79), [80](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L80), [81](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L81), [82](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L82), [83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L83), [84](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L84), [85](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L85), [86](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L86), [89](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L89), [90](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L90), [95](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L95), [96](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L96), [97](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L97), [99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L99), [101](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L101), [104](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L104), [106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L106), [108](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L108), [109](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L109), [110](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L110), [112](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L112), [113](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L113), [114](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L114), [116](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L116), [125](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L125), [128](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L128), [133](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L133), [137](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L137), [144](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L144), [147](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L147), [148](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L148), [149](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L149), [151](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L151), [152](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L152), [153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L153), [156](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L156), [157](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L157), [160](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L160), [161](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L161), [162](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L162), [163](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L163), [164](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L164), [166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L166), [167](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L167), [168](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L168), [170](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L170), [171](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L171), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L172), [173](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L173), [174](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L174), [176](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L176), [177](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L177), [178](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L178), [179](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L179), [180](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L180), [181](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L181), [182](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L182), [183](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L183), [185](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L185), [186](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L186), [187](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L187), [188](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L188), [190](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L190), [191](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L191), [192](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L192), [193](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L193), [195](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L195), [196](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L196), [197](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L197), [198](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L198), [200](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L200), [201](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L201), [202](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L202), [203](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L203), [204](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L204), [205](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L205), [206](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L206), [207](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L207), [208](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L208), [209](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L209), [210](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L210), [211](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L211), [212](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L212), [213](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L213), [214](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L214), [215](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L215), [217](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L217), [218](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L218), [219](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L219), [220](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L220), [221](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L221), [222](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L222), [223](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L223), [224](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L224), [225](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L225), [226](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L226), [227](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L227), [228](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L228), [229](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L229), [230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L230), [231](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L231), [232](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L232), [233](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L233), [234](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L234), [237](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L237), [238](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L238), [239](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L239), [241](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L241), [242](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L242), [244](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L244), [245](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L245), [247](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L247), [248](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L248), [250](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L250), [251](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L251), [252](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L252), [253](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L253), [254](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L254), [270](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L270), [271](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L271), [272](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L272), [273](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L273), [274](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L274), [275](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L275), [276](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L276), [277](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L277), [278](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L278), [279](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L279), [280](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L280), [281](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L281), [282](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L282), [283](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L283), [284](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L284), [285](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L285), [286](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L286), [287](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L287), [290](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L290), [291](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L291), [292](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L292), [293](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L293), [294](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L294), [295](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L295), [296](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L296), [297](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L297), [298](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L298), [302](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L302), [303](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L303), [304](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L304), [305](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L305), [306](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L306), [307](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L307), [308](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L308), [309](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L309), [310](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L310), [311](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L311), [312](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L312), [313](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L313), [316](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L316), [317](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L317), [318](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L318), [319](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L319), [320](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L320), [321](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L321), [322](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L322), [324](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L324), [325](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L325), [326](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L326), [327](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L327), [328](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L328), [329](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L329), [330](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L330), [331](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L331), [332](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L332), [334](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L334), [335](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L335), [336](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L336), [337](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L337), [339](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L339), [340](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L340), [341](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L341), [342](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L342), [343](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L343), [344](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L344), [345](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L345), [346](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L346), [347](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L347), [348](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L348), [349](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L349), [350](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L350), [352](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L352), [353](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L353), [355](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L355), [356](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L356), [357](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L357), [358](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L358), [359](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L359), [360](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L360), [361](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L361), [362](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L362), [363](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L363), [365](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L365), [366](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L366), [367](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L367), [368](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L368), [369](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L369), [371](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L371), [372](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L372), [373](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L373), [374](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L374), [375](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L375), [376](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L376), [377](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L377), [379](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L379), [380](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L380), [381](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L381), [382](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L382), [383](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L383), [384](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L384), [385](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L385), [386](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L386), [387](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L387), [388](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L388), [392](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L392), [393](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L393), [394](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L394), [395](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L395), [396](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L396), [397](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L397), [398](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L398), [399](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L399), [401](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L401), [402](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L402), [403](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L403), [404](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L404), [405](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L405), [406](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L406), [407](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L407), [408](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L408), [409](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L409), [410](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L410), [411](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L411), [412](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L412), [413](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L413), [414](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L414), [415](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L415), [416](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L416), [418](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L418), [419](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L419), [421](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L421), [422](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L422), [423](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L423), [424](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L424), [425](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L425), [426](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L426), [428](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L428), [429](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L429), [430](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L430), [431](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L431), [432](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L432), [433](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L433), [434](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L434), [435](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L435), [436](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L436), [438](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L438), [439](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L439), [440](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L440), [441](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L441), [442](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L442), [443](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L443), [444](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L444), [448](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L448), [449](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L449), [450](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L450), [451](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L451), [452](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L452), [453](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L453), [454](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L454), [455](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L455), [456](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L456), [458](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L458), [459](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L459), [460](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L460), [461](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L461), [463](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L463), [464](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L464), [466](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L466), [467](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L467), [468](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L468), [469](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L469), [470](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L470), [471](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L471), [473](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L473), [474](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L474), [475](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L475), [476](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L476), [477](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L477), [478](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L478), [479](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L479), [480](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L480), [482](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L482), [483](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L483), [484](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L484), [485](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L485), [490](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L490), [491](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L491), [492](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L492), [493](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L493), [494](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L494), [495](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L495), [496](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L496), [498](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L498), [499](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L499), [500](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L500), [501](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L501), [502](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L502), [503](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L503), [504](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L504), [505](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L505), [506](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L506), [508](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L508), [509](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L509), [510](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L510), [511](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L511), [512](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L512), [513](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L513), [514](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L514), [515](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L515), [516](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L516), [517](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L517), [518](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L518), [519](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L519), [520](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L520), [521](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L521), [522](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L522), [523](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L523), [524](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L524), [525](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L525), [526](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L526), [527](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L527), [528](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L528), [529](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L529), [530](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L530), [531](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L531), [532](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L532), [534](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L534), [535](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L535), [536](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L536), [537](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L537), [539](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L539), [540](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L540), [541](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L541), [542](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L542), [543](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L543), [544](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L544), [546](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L546), [547](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L547), [548](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L548), [549](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L549), [550](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L550), [551](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L551), [552](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L552), [553](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L553), [554](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L554), [555](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L555), [556](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L556), [558](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L558), [559](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L559), [560](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L560), [562](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L562), [563](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L563), [564](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L564), [565](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L565), [567](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L567), [568](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L568), [569](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L569), [571](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L571), [572](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L572), [573](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L573), [574](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L574), [575](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L575), [576](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L576), [577](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L577), [578](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L578), [579](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L579), [581](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L581), [582](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L582), [583](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L583), [584](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L584), [585](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L585), [586](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L586), [587](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L587), [588](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L588), [590](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L590), [591](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L591), [592](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L592), [593](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L593), [594](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L594), [595](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L595), [597](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L597), [598](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L598), [599](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L599), [600](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L600), [601](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L601), [603](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L603), [604](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L604), [605](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L605), [606](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L606), [607](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L607), [608](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L608), [610](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L610), [611](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L611), [612](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L612), [614](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L614), [615](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L615), [616](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L616), [618](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L618), [619](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L619), [620](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L620), [621](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L621), [622](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L622), [624](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L624), [625](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L625), [626](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L626), [628](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L628), [629](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L629), [630](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L630), [631](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L631), [634](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L634), [635](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L635), [636](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L636), [637](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L637), [638](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L638), [639](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L639), [640](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L640), [642](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L642), [643](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L643), [644](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L644), [646](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L646), [647](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L647), [649](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L649), [650](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L650), [652](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L652), [653](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L653), [654](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L654), [655](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L655), [656](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L656), [657](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L657), [659](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L659), [660](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L660), [661](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L661), [662](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L662), [663](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L663), [665](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L665), [666](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L666), [667](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L667), [668](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L668), [669](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L669), [671](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L671), [672](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L672), [674](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L674), [675](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L675), [676](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L676), [678](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L678), [679](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L679), [680](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L680), [681](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L681), [683](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L683), [684](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L684), [685](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L685), [686](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L686), [687](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L687), [688](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L688), [689](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L689), [695](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L695), [696](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L696), [697](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L697), [699](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L699), [700](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L700), [702](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L702), [703](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L703), [705](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L705), [706](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L706), [707](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L707), [709](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L709), [710](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L710), [711](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L711), [712](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L712), [713](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L713), [714](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L714), [715](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L715), [716](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L716), [718](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L718), [719](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L719), [721](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L721), [722](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L722), [723](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L723), [725](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L725), [726](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L726), [727](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L727), [728](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L728), [729](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L729), [730](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L730), [731](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L731), [733](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L733), [734](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L734), [735](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L735), [736](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L736), [737](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L737), [738](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L738), [739](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L739), [743](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L743), [744](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L744), [745](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L745), [746](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L746), [747](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L747), [748](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L748), [749](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L749), [751](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L751), [752](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L752), [753](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L753), [754](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L754), [755](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L755), [756](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L756), [757](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L757), [758](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L758), [759](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L759), [760](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L760), [761](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L761), [762](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L762), [763](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L763), [764](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L764), [765](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L765), [766](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L766), [767](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L767), [768](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L768), [769](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L769), [771](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L771), [772](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L772), [774](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L774), [775](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L775), [776](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L776), [777](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L777), [778](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L778), [779](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L779), [780](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L780), [781](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L781), [783](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L783), [784](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L784), [785](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L785), [786](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L786), [787](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L787), [789](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L789), [791](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L791), [792](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L792), [793](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L793), [794](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L794), [795](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L795), [796](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L796), [797](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L797), [798](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L798), [799](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L799), [801](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L801), [802](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L802), [804](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L804), [805](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L805), [806](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L806), [807](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L807), [808](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L808), [809](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L809), [810](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L810), [812](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L812), [813](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L813), [814](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L814), [815](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L815), [816](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L816), [817](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L817), [818](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L818), [819](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L819), [820](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L820), [821](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L821), [822](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L822), [823](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L823), [824](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L824), [825](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L825), [826](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L826), [829](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L829), [830](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L830), [831](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L831), [836](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L836), [837](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L837), [838](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L838), [839](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L839), [840](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L840), [841](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L841), [842](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L842), [843](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L843), [846](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L846), [847](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L847), [848](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L848), [849](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L849), [850](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L850), [851](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L851), [852](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L852)]


```solidity
File: src/loan/SimplePSM.sol

2: pragma solidity 0.8.13;

3: 

4: import {ERC20} from "@openzeppelin/contracts/token/ERC20/ERC20.sol";

5: import {SafeERC20} from "@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol";

6: 

7: import {CoreRef} from "@src/core/CoreRef.sol";

8: import {CoreRoles} from "@src/core/CoreRoles.sol";

9: import {LendingTerm} from "@src/loan/LendingTerm.sol";

10: import {CreditToken} from "@src/tokens/CreditToken.sol";

11: import {ProfitManager} from "@src/governance/ProfitManager.sol";

12: import {RateLimitedMinter} from "@src/rate-limits/RateLimitedMinter.sol";

13: 

25: contract SimplePSM is CoreRef {

26:     using SafeERC20 for ERC20;

27: 

29:     address public immutable profitManager;

30: 

32:     address public immutable credit;

33: 

35:     address public immutable pegToken;

36: 

39:     uint256 public pegTokenBalance;

40: 

43:     uint256 public immutable decimalCorrection;

44: 

46:     bool public redemptionsPaused;

47: 

49:     event Redeem(

50:         uint256 indexed when,

51:         address indexed to,

52:         uint256 amountIn,

53:         uint256 amountOut

54:     );

56:     event Mint(

57:         uint256 indexed when,

58:         address indexed to,

59:         uint256 amountIn,

60:         uint256 amountOut

61:     );

63:     event RedemptionsPaused(uint256 indexed when, bool status);

64: 

65:     constructor(

66:         address _core,

67:         address _profitManager,

68:         address _credit,

69:         address _pegToken

70:     ) CoreRef(_core) {

71:         profitManager = _profitManager;

72:         credit = _credit;

73:         pegToken = _pegToken;

74: 

75:         uint256 decimals = uint256(ERC20(_pegToken).decimals());

76:         decimalCorrection = 10 ** (18 - decimals);

77:     }

78: 

80:     function getMintAmountOut(uint256 amountIn) public view returns (uint256) {

81:         uint256 creditMultiplier = ProfitManager(profitManager)

82:             .creditMultiplier();

83:         return (amountIn * decimalCorrection * 1e18) / creditMultiplier;

84:     }

85: 

87:     function getRedeemAmountOut(

88:         uint256 amountIn

89:     ) public view returns (uint256) {

90:         uint256 creditMultiplier = ProfitManager(profitManager)

91:             .creditMultiplier();

92:         return (amountIn * creditMultiplier) / 1e18 / decimalCorrection;

93:     }

94: 

97:     function redeemableCredit() public view returns (uint256) {

98:         return getMintAmountOut(pegTokenBalance);

99:     }

100: 

103:     function mint(

104:         address to,

105:         uint256 amountIn

106:     ) external whenNotPaused returns (uint256 amountOut) {

107:         amountOut = getMintAmountOut(amountIn);

108:         pegTokenBalance += amountIn;

109:         ERC20(pegToken).safeTransferFrom(msg.sender, address(this), amountIn);

110:         CreditToken(credit).mint(to, amountOut);

111:         emit Mint(block.timestamp, to, amountIn, amountOut);

112:     }

113: 

117:     function mintAndEnterRebase(

118:         uint256 amountIn

119:     ) external whenNotPaused returns (uint256 amountOut) {

120:         require(

121:             !CreditToken(credit).isRebasing(msg.sender),

122:             "SimplePSM: already rebasing"

123:         );

124:         amountOut = getMintAmountOut(amountIn);

125:         pegTokenBalance += amountIn;

126:         ERC20(pegToken).safeTransferFrom(msg.sender, address(this), amountIn);

127:         CreditToken(credit).mint(msg.sender, amountOut);

128:         CreditToken(credit).forceEnterRebase(msg.sender);

129:         emit Mint(block.timestamp, msg.sender, amountIn, amountOut);

130:     }

131: 

134:     function redeem(

135:         address to,

136:         uint256 amountIn

137:     ) external returns (uint256 amountOut) {

138:         require(!redemptionsPaused, "SimplePSM: redemptions paused");

139:         amountOut = getRedeemAmountOut(amountIn);

140:         CreditToken(credit).burnFrom(msg.sender, amountIn);

141:         pegTokenBalance -= amountOut;

142:         ERC20(pegToken).safeTransfer(to, amountOut);

143:         emit Redeem(block.timestamp, to, amountIn, amountOut);

144:     }

145: 

149:     function setRedemptionsPaused(

150:         bool paused

151:     ) external onlyCoreRole(CoreRoles.GOVERNOR) {

152:         redemptionsPaused = paused;

153:         emit RedemptionsPaused(block.timestamp, paused);

154:     }

155: }

156: 

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L2), [3](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L3), [4](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L4), [5](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L5), [6](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L6), [7](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L7), [8](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L8), [9](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L9), [10](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L10), [11](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L11), [12](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L12), [13](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L13), [25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L25), [26](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L26), [27](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L27), [29](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L29), [30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L30), [32](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L32), [33](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L33), [35](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L35), [36](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L36), [39](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L39), [40](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L40), [43](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L43), [44](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L44), [46](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L46), [47](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L47), [49](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L49), [50](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L50), [51](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L51), [52](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L52), [53](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L53), [54](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L54), [56](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L56), [57](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L57), [58](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L58), [59](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L59), [60](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L60), [61](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L61), [63](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L63), [64](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L64), [65](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L65), [66](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L66), [67](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L67), [68](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L68), [69](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L69), [70](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L70), [71](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L71), [72](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L72), [73](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L73), [74](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L74), [75](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L75), [76](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L76), [77](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L77), [78](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L78), [80](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L80), [81](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L81), [82](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L82), [83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L83), [84](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L84), [85](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L85), [87](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L87), [88](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L88), [89](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L89), [90](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L90), [91](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L91), [92](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L92), [93](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L93), [94](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L94), [97](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L97), [98](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L98), [99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L99), [100](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L100), [103](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L103), [104](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L104), [105](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L105), [106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L106), [107](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L107), [108](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L108), [109](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L109), [110](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L110), [111](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L111), [112](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L112), [113](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L113), [117](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L117), [118](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L118), [119](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L119), [120](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L120), [121](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L121), [122](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L122), [123](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L123), [124](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L124), [125](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L125), [126](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L126), [127](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L127), [128](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L128), [129](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L129), [130](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L130), [131](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L131), [134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L134), [135](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L135), [136](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L136), [137](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L137), [138](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L138), [139](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L139), [140](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L140), [141](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L141), [142](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L142), [143](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L143), [144](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L144), [145](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L145), [149](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L149), [150](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L150), [151](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L151), [152](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L152), [153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L153), [154](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L154), [155](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L155), [156](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L156)]


```solidity
File: src/loan/SurplusGuildMinter.sol

128:         CreditToken(credit).transferFrom(msg.sender, address(this), amount);

263:                 CreditToken(credit).transfer(user, creditReward);

```
*Github:* [[128](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L128), [263](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L263)]


```solidity
File: src/tokens/CreditToken.sol

122:         return ERC20RebaseDistributor.transfer(to, amount);

135:         return ERC20RebaseDistributor.transferFrom(from, to, amount);

```
*Github:* [[122](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L122), [135](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L135)]


```solidity
File: src/tokens/ERC20Gauges.sol

486:         return super.transfer(to, amount);

495:         return super.transferFrom(from, to, amount);

```
*Github:* [[486](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L486), [495](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L495)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

413:         return super.transfer(to, amount);

422:         return super.transferFrom(from, to, amount);

```
*Github:* [[413](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L413), [422](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L422)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

584:         bool success = ERC20.transfer(to, amount);

678:         bool success = ERC20.transferFrom(from, to, amount);

```
*Github:* [[584](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L584), [678](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L678)]


```solidity
File: src/tokens/GuildToken.sol

299:         return ERC20.transfer(to, amount);

314:         return ERC20.transferFrom(from, to, amount);

```
*Github:* [[299](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L299), [314](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L314)]


</details>


<a name="L-20"></a> 
### [L-20] Some tokens may revert when zero value transfers are made
Despite the fact that [EIP-20 states](https://github.com/ethereum/EIPs/blob/7500ac4fc1bbdfaf684e7ef851f798f6b667b2fe/EIPS/eip-20.md?plain=1#L116) that zero-value transfers must be accepted, some tokens, such as LEND, will revert if this is attempted, which may cause transactions that involve other tokens (such as batch operations) to fully revert. Consider skipping the transfer if the amount is zero, which will also save gas.

<details>
<summary>
There are <b>802</b> instances (click to show):
</summary>

```solidity
File: src/governance/ProfitManager.sol

252:         CreditToken(credit).transferFrom(msg.sender, address(this), amount);

260:         CreditToken(credit).transferFrom(msg.sender, address(this), amount);

273:         CreditToken(credit).transfer(to, amount);

285:         CreditToken(credit).transfer(to, amount);

434:             CreditToken(credit).transfer(user, creditEarned);

```
*Github:* [[252](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L252), [260](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L260), [273](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L273), [285](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L285), [434](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L434)]


```solidity
File: src/loan/LendingTerm.sol

2: pragma solidity 0.8.13;

3: 

4: import {IERC20} from "@openzeppelin/contracts/token/ERC20/IERC20.sol";

5: import {SafeERC20} from "@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol";

6: import {IERC20Permit} from "@openzeppelin/contracts/token/ERC20/extensions/IERC20Permit.sol";

7: 

8: import {CoreRef} from "@src/core/CoreRef.sol";

9: import {CoreRoles} from "@src/core/CoreRoles.sol";

10: import {GuildToken} from "@src/tokens/GuildToken.sol";

11: import {CreditToken} from "@src/tokens/CreditToken.sol";

12: import {AuctionHouse} from "@src/loan/AuctionHouse.sol";

13: import {ProfitManager} from "@src/governance/ProfitManager.sol";

14: import {RateLimitedMinter} from "@src/rate-limits/RateLimitedMinter.sol";

15: 

20: contract LendingTerm is CoreRef {

21:     using SafeERC20 for IERC20;

22: 

25:     event LoanOpen(

26:         uint256 indexed when,

27:         bytes32 indexed loanId,

28:         address indexed borrower,

29:         uint256 collateralAmount,

30:         uint256 borrowAmount

31:     );

33:     event LoanCall(uint256 indexed when, bytes32 indexed loanId);

35:     enum LoanCloseType {

36:         Repay,

37:         Call,

38:         Forgive

39:     }

40:     event LoanClose(

41:         uint256 indexed when,

42:         bytes32 indexed loanId,

43:         LoanCloseType indexed closeType,

44:         uint256 debtRepaid

45:     );

47:     event LoanAddCollateral(

48:         uint256 indexed when,

49:         bytes32 indexed loanId,

50:         address indexed borrower,

51:         uint256 collateralAmount

52:     );

54:     event LoanPartialRepay(

55:         uint256 indexed when,

56:         bytes32 indexed loanId,

57:         address indexed repayer,

58:         uint256 repayAmount

59:     );

60: 

61:     struct Signature {

62:         uint8 v;

63:         bytes32 r;

64:         bytes32 s;

65:     }

66: 

68:     uint256 public constant YEAR = 31557600;

69: 

73:     mapping(bytes32 => uint256) public lastPartialRepay;

74: 

75:     struct Loan {

76:         address borrower; // address of a loan's borrower

77:         uint256 borrowTime; // the time the loan was initiated

78:         uint256 borrowAmount; // initial CREDIT debt of a loan

79:         uint256 borrowCreditMultiplier; // creditMultiplier when loan was opened

80:         uint256 collateralAmount; // balance of collateral token provided by the borrower

81:         address caller; // a caller of 0 indicates that the loan has not been called

82:         uint256 callTime; // a call time of 0 indicates that the loan has not been called

83:         uint256 callDebt; // the CREDIT debt when the loan was called

84:         uint256 closeTime; // the time the loan was closed (repaid or call+bid or forgive)

85:     }

86: 

89:     mapping(bytes32 => Loan) internal loans;

90: 

95:     uint256 public issuance;

96: 

97:     struct LendingTermReferences {

99:         address profitManager;

101:         address guildToken;

104:         address auctionHouse;

106:         address creditMinter;

108:         address creditToken;

109:     }

110: 

112:     LendingTermReferences internal refs;

113: 

114:     struct LendingTermParams {

116:         address collateralToken;

125:         uint256 maxDebtPerCollateralToken;

128:         uint256 interestRate;

133:         uint256 maxDelayBetweenPartialRepay;

137:         uint256 minPartialRepayPercent;

144:         uint256 openingFee;

147:         uint256 hardCap;

148:     }

149: 

151:     LendingTermParams internal params;

152: 

153:     constructor() CoreRef(address(1)) {

156:     }

157: 

160:     function initialize(

161:         address _core,

162:         LendingTermReferences calldata _refs,

163:         LendingTermParams calldata _params

164:     ) external {

166:         assert(address(core()) == address(0));

167:         assert(_core != address(0));

168: 

170:         _setCore(_core);

171:         refs = _refs;

172:         params = _params;

173:     }

174: 

176:     function getReferences()

177:         external

178:         view

179:         returns (LendingTermReferences memory)

180:     {

181:         return refs;

182:     }

183: 

185:     function getParameters() external view returns (LendingTermParams memory) {

186:         return params;

187:     }

188: 

190:     function collateralToken() external view returns (address) {

191:         return params.collateralToken;

192:     }

193: 

195:     function getLoan(bytes32 loanId) external view returns (Loan memory) {

196:         return loans[loanId];

197:     }

198: 

200:     function getLoanDebt(bytes32 loanId) public view returns (uint256) {

201:         Loan storage loan = loans[loanId];

202:         uint256 borrowTime = loan.borrowTime;

203: 

204:         if (borrowTime == 0) {

205:             return 0;

206:         }

207: 

208:         if (loan.closeTime != 0) {

209:             return 0;

210:         }

211: 

212:         if (loan.callTime != 0) {

213:             return loan.callDebt;

214:         }

215: 

217:         uint256 borrowAmount = loan.borrowAmount;

218:         uint256 interest = (borrowAmount *

219:             params.interestRate *

220:             (block.timestamp - borrowTime)) /

221:             YEAR /

222:             1e18;

223:         uint256 loanDebt = borrowAmount + interest;

224:         uint256 _openingFee = params.openingFee;

225:         if (_openingFee != 0) {

226:             loanDebt += (borrowAmount * _openingFee) / 1e18;

227:         }

228:         uint256 creditMultiplier = ProfitManager(refs.profitManager)

229:             .creditMultiplier();

230:         loanDebt = (loanDebt * loan.borrowCreditMultiplier) / creditMultiplier;

231: 

232:         return loanDebt;

233:     }

234: 

237:     function partialRepayDelayPassed(

238:         bytes32 loanId

239:     ) public view returns (bool) {

241:         if (params.maxDelayBetweenPartialRepay == 0) return false;

242: 

244:         if (loans[loanId].borrowTime == 0) return false;

245: 

247:         if (loans[loanId].closeTime != 0) return false;

248: 

250:         return

251:             lastPartialRepay[loanId] <

252:             block.timestamp - params.maxDelayBetweenPartialRepay;

253:     }

254: 

270:     function debtCeiling(

271:         int256 gaugeWeightDelta

272:     ) public view returns (uint256) {

273:         address _guildToken = refs.guildToken; // cached SLOAD

274:         uint256 gaugeWeight = GuildToken(_guildToken).getGaugeWeight(

275:             address(this)

276:         );

277:         gaugeWeight = uint256(int256(gaugeWeight) + gaugeWeightDelta);

278:         uint256 gaugeType = GuildToken(_guildToken).gaugeType(address(this));

279:         uint256 totalWeight = GuildToken(_guildToken).totalTypeWeight(

280:             gaugeType

281:         );

282:         uint256 creditMinterBuffer = RateLimitedMinter(refs.creditMinter)

283:             .buffer();

284:         uint256 _hardCap = params.hardCap; // cached SLOAD

285:         if (gaugeWeight == 0) {

286:             return 0; // no gauge vote, 0 debt ceiling

287:         } else if (gaugeWeight == totalWeight) {

290:             return

291:                 _hardCap < creditMinterBuffer ? _hardCap : creditMinterBuffer;

292:         }

293:         uint256 _issuance = issuance; // cached SLOAD

294:         uint256 totalBorrowedCredit = ProfitManager(refs.profitManager)

295:             .totalBorrowedCredit();

296:         uint256 gaugeWeightTolerance = ProfitManager(refs.profitManager)

297:             .gaugeWeightTolerance();

298:         if (totalBorrowedCredit == 0 && gaugeWeight != 0) {

302:             return

303:                 _hardCap < creditMinterBuffer ? _hardCap : creditMinterBuffer;

304:         }

305:         uint256 toleratedGaugeWeight = (gaugeWeight * gaugeWeightTolerance) /

306:             1e18;

307:         uint256 debtCeilingBefore = (totalBorrowedCredit *

308:             toleratedGaugeWeight) / totalWeight;

309:         if (_issuance >= debtCeilingBefore) {

310:             return debtCeilingBefore; // no more borrows allowed

311:         }

312:         uint256 remainingDebtCeiling = debtCeilingBefore - _issuance; // always >0

313:         if (toleratedGaugeWeight >= totalWeight) {

316:             return

317:                 _hardCap < creditMinterBuffer ? _hardCap : creditMinterBuffer;

318:         }

319:         uint256 otherGaugesWeight = totalWeight - toleratedGaugeWeight; // always >0

320:         uint256 maxBorrow = (remainingDebtCeiling * totalWeight) /

321:             otherGaugesWeight;

322:         uint256 _debtCeiling = _issuance + maxBorrow;

324:         if (creditMinterBuffer < _debtCeiling) {

325:             return creditMinterBuffer;

326:         }

327:         if (_hardCap < _debtCeiling) {

328:             return _hardCap;

329:         }

330:         return _debtCeiling;

331:     }

332: 

334:     function debtCeiling() external view returns (uint256) {

335:         return debtCeiling(0);

336:     }

337: 

339:     function _borrow(

340:         address borrower,

341:         uint256 borrowAmount,

342:         uint256 collateralAmount

343:     ) internal returns (bytes32 loanId) {

344:         require(borrowAmount != 0, "LendingTerm: cannot borrow 0");

345:         require(collateralAmount != 0, "LendingTerm: cannot stake 0");

346: 

347:         loanId = keccak256(

348:             abi.encode(borrower, address(this), block.timestamp)

349:         );

350: 

352:         require(loans[loanId].borrowTime == 0, "LendingTerm: loan exists");

353: 

355:         uint256 creditMultiplier = ProfitManager(refs.profitManager)

356:             .creditMultiplier();

357:         uint256 maxBorrow = (collateralAmount *

358:             params.maxDebtPerCollateralToken) / creditMultiplier;

359:         require(

360:             borrowAmount <= maxBorrow,

361:             "LendingTerm: not enough collateral"

362:         );

363: 

365:         require(

366:             borrowAmount >= ProfitManager(refs.profitManager).minBorrow(),

367:             "LendingTerm: borrow amount too low"

368:         );

369: 

371:         uint256 _issuance = issuance;

372:         uint256 _postBorrowIssuance = _issuance + borrowAmount;

373:         require(

374:             _postBorrowIssuance <= params.hardCap,

375:             "LendingTerm: hardcap reached"

376:         );

377: 

379:         uint256 totalBorrowedCredit = ProfitManager(refs.profitManager)

380:             .totalBorrowedCredit();

381:         uint256 gaugeWeightTolerance = ProfitManager(refs.profitManager)

382:             .gaugeWeightTolerance();

383:         uint256 _debtCeiling = (GuildToken(refs.guildToken)

384:             .calculateGaugeAllocation(

385:                 address(this),

386:                 totalBorrowedCredit + borrowAmount

387:             ) * gaugeWeightTolerance) / 1e18;

388:         if (totalBorrowedCredit == 0) {

392:             require(_debtCeiling != 0, "LendingTerm: debt ceiling reached");

393:         } else {

394:             require(

395:                 _postBorrowIssuance <= _debtCeiling,

396:                 "LendingTerm: debt ceiling reached"

397:             );

398:         }

399: 

401:         loans[loanId] = Loan({

402:             borrower: borrower,

403:             borrowTime: block.timestamp,

404:             borrowAmount: borrowAmount,

405:             borrowCreditMultiplier: creditMultiplier,

406:             collateralAmount: collateralAmount,

407:             caller: address(0),

408:             callTime: 0,

409:             callDebt: 0,

410:             closeTime: 0

411:         });

412:         issuance = _postBorrowIssuance;

413:         if (params.maxDelayBetweenPartialRepay != 0) {

414:             lastPartialRepay[loanId] = block.timestamp;

415:         }

416: 

418:         RateLimitedMinter(refs.creditMinter).mint(borrower, borrowAmount);

419: 

421:         IERC20(params.collateralToken).safeTransferFrom(

422:             borrower,

423:             address(this),

424:             collateralAmount

425:         );

426: 

428:         emit LoanOpen(

429:             block.timestamp,

430:             loanId,

431:             borrower,

432:             collateralAmount,

433:             borrowAmount

434:         );

435:     }

436: 

438:     function borrow(

439:         uint256 borrowAmount,

440:         uint256 collateralAmount

441:     ) external whenNotPaused returns (bytes32 loanId) {

442:         loanId = _borrow(msg.sender, borrowAmount, collateralAmount);

443:     }

444: 

448:     function _addCollateral(

449:         address borrower,

450:         bytes32 loanId,

451:         uint256 collateralToAdd

452:     ) internal {

453:         require(collateralToAdd != 0, "LendingTerm: cannot add 0");

454: 

455:         Loan storage loan = loans[loanId];

456: 

458:         require(loan.borrowTime != 0, "LendingTerm: loan not found");

459:         require(loan.closeTime == 0, "LendingTerm: loan closed");

460:         require(loan.callTime == 0, "LendingTerm: loan called");

461: 

463:         loans[loanId].collateralAmount += collateralToAdd;

464: 

466:         IERC20(params.collateralToken).safeTransferFrom(

467:             borrower,

468:             address(this),

469:             collateralToAdd

470:         );

471: 

473:         emit LoanAddCollateral(

474:             block.timestamp,

475:             loanId,

476:             borrower,

477:             collateralToAdd

478:         );

479:     }

480: 

482:     function addCollateral(bytes32 loanId, uint256 collateralToAdd) external {

483:         _addCollateral(msg.sender, loanId, collateralToAdd);

484:     }

485: 

490:     function _partialRepay(

491:         address repayer,

492:         bytes32 loanId,

493:         uint256 debtToRepay

494:     ) internal {

495:         Loan storage loan = loans[loanId];

496: 

498:         uint256 borrowTime = loan.borrowTime;

499:         require(borrowTime != 0, "LendingTerm: loan not found");

500:         require(

501:             borrowTime < block.timestamp,

502:             "LendingTerm: loan opened in same block"

503:         );

504:         require(loan.closeTime == 0, "LendingTerm: loan closed");

505:         require(loan.callTime == 0, "LendingTerm: loan called");

506: 

508:         uint256 loanDebt = getLoanDebt(loanId);

509:         require(debtToRepay < loanDebt, "LendingTerm: full repayment");

510:         uint256 percentRepaid = (debtToRepay * 1e18) / loanDebt; // [0, 1e18[

511:         uint256 borrowAmount = loan.borrowAmount;

512:         uint256 creditMultiplier = ProfitManager(refs.profitManager)

513:             .creditMultiplier();

514:         uint256 principal = (borrowAmount * loan.borrowCreditMultiplier) /

515:             creditMultiplier;

516:         uint256 principalRepaid = (principal * percentRepaid) / 1e18;

517:         uint256 interestRepaid = debtToRepay - principalRepaid;

518:         uint256 issuanceDecrease = (borrowAmount * percentRepaid) / 1e18;

519:         require(

520:             principalRepaid != 0 && interestRepaid != 0,

521:             "LendingTerm: repay too small"

522:         );

523:         require(

524:             debtToRepay >= (loanDebt * params.minPartialRepayPercent) / 1e18,

525:             "LendingTerm: repay below min"

526:         );

527:         require(

528:             borrowAmount - issuanceDecrease >

529:                 ProfitManager(refs.profitManager).minBorrow(),

530:             "LendingTerm: below min borrow"

531:         );

532: 

534:         loans[loanId].borrowAmount -= issuanceDecrease;

535:         lastPartialRepay[loanId] = block.timestamp;

536:         issuance -= issuanceDecrease;

537: 

539:         CreditToken(refs.creditToken).transferFrom(

540:             repayer,

541:             address(this),

542:             debtToRepay

543:         );

544: 

546:         CreditToken(refs.creditToken).transfer(

547:             refs.profitManager,

548:             interestRepaid

549:         );

550:         ProfitManager(refs.profitManager).notifyPnL(

551:             address(this),

552:             int256(interestRepaid)

553:         );

554:         CreditToken(refs.creditToken).burn(principalRepaid);

555:         RateLimitedMinter(refs.creditMinter).replenishBuffer(principalRepaid);

556: 

558:         emit LoanPartialRepay(block.timestamp, loanId, repayer, debtToRepay);

559:     }

560: 

562:     function partialRepay(bytes32 loanId, uint256 debtToRepay) external {

563:         _partialRepay(msg.sender, loanId, debtToRepay);

564:     }

565: 

567:     function _repay(address repayer, bytes32 loanId) internal {

568:         Loan storage loan = loans[loanId];

569: 

571:         uint256 borrowTime = loan.borrowTime;

572:         require(borrowTime != 0, "LendingTerm: loan not found");

573:         require(

574:             borrowTime < block.timestamp,

575:             "LendingTerm: loan opened in same block"

576:         );

577:         require(loan.closeTime == 0, "LendingTerm: loan closed");

578:         require(loan.callTime == 0, "LendingTerm: loan called");

579: 

581:         uint256 loanDebt = getLoanDebt(loanId);

582:         uint256 borrowAmount = loan.borrowAmount;

583:         uint256 creditMultiplier = ProfitManager(refs.profitManager)

584:             .creditMultiplier();

585:         uint256 principal = (borrowAmount * loan.borrowCreditMultiplier) /

586:             creditMultiplier;

587:         uint256 interest = loanDebt - principal;

588: 

590:         CreditToken(refs.creditToken).transferFrom(

591:             repayer,

592:             address(this),

593:             loanDebt

594:         );

595:         if (interest != 0) {

597:             CreditToken(refs.creditToken).transfer(

598:                 refs.profitManager,

599:                 interest

600:             );

601: 

603:             ProfitManager(refs.profitManager).notifyPnL(

604:                 address(this),

605:                 int256(interest)

606:             );

607:         }

608: 

610:         CreditToken(refs.creditToken).burn(principal);

611:         RateLimitedMinter(refs.creditMinter).replenishBuffer(principal);

612: 

614:         loan.closeTime = block.timestamp;

615:         issuance -= borrowAmount;

616: 

618:         IERC20(params.collateralToken).safeTransfer(

619:             loan.borrower,

620:             loan.collateralAmount

621:         );

622: 

624:         emit LoanClose(block.timestamp, loanId, LoanCloseType.Repay, loanDebt);

625:     }

626: 

628:     function repay(bytes32 loanId) external {

629:         _repay(msg.sender, loanId);

630:     }

631: 

634:     function _call(

635:         address caller,

636:         bytes32 loanId,

637:         address _auctionHouse

638:     ) internal {

639:         Loan storage loan = loans[loanId];

640: 

642:         uint256 borrowTime = loan.borrowTime;

643:         require(loan.borrowTime != 0, "LendingTerm: loan not found");

644: 

646:         require(loan.closeTime == 0, "LendingTerm: loan closed");

647: 

649:         require(loan.callTime == 0, "LendingTerm: loan called");

650: 

652:         require(

653:             GuildToken(refs.guildToken).isDeprecatedGauge(address(this)) ||

654:                 partialRepayDelayPassed(loanId),

655:             "LendingTerm: cannot call"

656:         );

657: 

659:         require(

660:             borrowTime < block.timestamp,

661:             "LendingTerm: loan opened in same block"

662:         );

663: 

665:         uint256 loanDebt = getLoanDebt(loanId);

666:         loans[loanId].callTime = block.timestamp;

667:         loans[loanId].callDebt = loanDebt;

668:         loans[loanId].caller = caller;

669: 

671:         AuctionHouse(_auctionHouse).startAuction(loanId, loanDebt);

672: 

674:         emit LoanCall(block.timestamp, loanId);

675:     }

676: 

678:     function call(bytes32 loanId) external {

679:         _call(msg.sender, loanId, refs.auctionHouse);

680:     }

681: 

683:     function callMany(bytes32[] memory loanIds) public {

684:         address _auctionHouse = refs.auctionHouse;

685:         for (uint256 i = 0; i < loanIds.length; i++) {

686:             _call(msg.sender, loanIds[i], _auctionHouse);

687:         }

688:     }

689: 

695:     function forgive(bytes32 loanId) external onlyCoreRole(CoreRoles.GOVERNOR) {

696:         Loan storage loan = loans[loanId];

697: 

699:         require(loan.borrowTime != 0, "LendingTerm: loan not found");

700: 

702:         require(loan.closeTime == 0, "LendingTerm: loan closed");

703: 

705:         loans[loanId].closeTime = block.timestamp;

706:         issuance -= loan.borrowAmount;

707: 

709:         uint256 creditMultiplier = ProfitManager(refs.profitManager)

710:             .creditMultiplier();

711:         uint256 borrowAmount = loans[loanId].borrowAmount;

712:         uint256 principal = (borrowAmount *

713:             loans[loanId].borrowCreditMultiplier) / creditMultiplier;

714:         int256 pnl = -int256(principal);

715:         ProfitManager(refs.profitManager).notifyPnL(address(this), pnl);

716: 

718:         params.hardCap = 0;

719: 

721:         emit LoanClose(block.timestamp, loanId, LoanCloseType.Forgive, 0);

722:     }

723: 

725:     function onBid(

726:         bytes32 loanId,

727:         address bidder,

728:         uint256 collateralToBorrower,

729:         uint256 collateralToBidder,

730:         uint256 creditFromBidder

731:     ) external {

733:         require(msg.sender == refs.auctionHouse, "LendingTerm: invalid caller");

734:         require(

735:             loans[loanId].callTime != 0 && loans[loanId].callDebt != 0,

736:             "LendingTerm: loan not called"

737:         );

738:         require(loans[loanId].closeTime == 0, "LendingTerm: loan closed");

739: 

743:         uint256 collateralOut = collateralToBorrower + collateralToBidder;

744:         require(

745:             collateralOut == loans[loanId].collateralAmount ||

746:                 collateralOut == 0,

747:             "LendingTerm: invalid collateral movements"

748:         );

749: 

751:         uint256 creditMultiplier = ProfitManager(refs.profitManager)

752:             .creditMultiplier();

753:         uint256 borrowAmount = loans[loanId].borrowAmount;

754:         uint256 principal = (borrowAmount *

755:             loans[loanId].borrowCreditMultiplier) / creditMultiplier;

756:         int256 pnl;

757:         uint256 interest;

758:         if (creditFromBidder >= principal) {

759:             interest = creditFromBidder - principal;

760:             pnl = int256(interest);

761:         } else {

762:             pnl = int256(creditFromBidder) - int256(principal);

763:             principal = creditFromBidder;

764:             require(

765:                 collateralToBorrower == 0,

766:                 "LendingTerm: invalid collateral movement"

767:             );

768:         }

769: 

771:         loans[loanId].closeTime = block.timestamp;

772: 

774:         if (creditFromBidder != 0) {

775:             CreditToken(refs.creditToken).transferFrom(

776:                 bidder,

777:                 address(this),

778:                 creditFromBidder

779:             );

780:         }

781: 

783:         if (principal != 0) {

784:             CreditToken(refs.creditToken).burn(principal);

785:             RateLimitedMinter(refs.creditMinter).replenishBuffer(principal);

786:         }

787: 

789:         if (pnl != 0) {

791:             if (interest != 0) {

792:                 CreditToken(refs.creditToken).transfer(

793:                     refs.profitManager,

794:                     interest

795:                 );

796:             }

797:             ProfitManager(refs.profitManager).notifyPnL(address(this), pnl);

798:         }

799: 

801:         issuance -= borrowAmount;

802: 

804:         if (collateralToBorrower != 0) {

805:             IERC20(params.collateralToken).safeTransfer(

806:                 loans[loanId].borrower,

807:                 collateralToBorrower

808:             );

809:         }

810: 

812:         if (collateralToBidder != 0) {

813:             IERC20(params.collateralToken).safeTransfer(

814:                 bidder,

815:                 collateralToBidder

816:             );

817:         }

818: 

819:         emit LoanClose(

820:             block.timestamp,

821:             loanId,

822:             LoanCloseType.Call,

823:             creditFromBidder

824:         );

825:     }

826: 

829:     function setAuctionHouse(

830:         address _newValue

831:     ) external onlyCoreRole(CoreRoles.GOVERNOR) {

836:         require(

837:             AuctionHouse(refs.auctionHouse).nAuctionsInProgress() == 0,

838:             "LendingTerm: auctions in progress"

839:         );

840: 

841:         refs.auctionHouse = _newValue;

842:     }

843: 

846:     function setHardCap(

847:         uint256 _newValue

848:     ) external onlyCoreRole(CoreRoles.GOVERNOR) {

849:         params.hardCap = _newValue;

850:     }

851: }

852: 

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L2), [3](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L3), [4](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L4), [5](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L5), [6](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L6), [7](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L7), [8](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L8), [9](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L9), [10](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L10), [11](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L11), [12](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L12), [13](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L13), [14](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L14), [15](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L15), [20](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L20), [21](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L21), [22](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L22), [25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L25), [26](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L26), [27](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L27), [28](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L28), [29](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L29), [30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L30), [31](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L31), [33](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L33), [35](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L35), [36](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L36), [37](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L37), [38](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L38), [39](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L39), [40](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L40), [41](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L41), [42](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L42), [43](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L43), [44](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L44), [45](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L45), [47](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L47), [48](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L48), [49](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L49), [50](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L50), [51](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L51), [52](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L52), [54](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L54), [55](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L55), [56](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L56), [57](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L57), [58](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L58), [59](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L59), [60](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L60), [61](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L61), [62](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L62), [63](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L63), [64](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L64), [65](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L65), [66](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L66), [68](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L68), [69](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L69), [73](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L73), [74](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L74), [75](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L75), [76](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L76), [77](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L77), [78](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L78), [79](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L79), [80](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L80), [81](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L81), [82](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L82), [83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L83), [84](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L84), [85](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L85), [86](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L86), [89](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L89), [90](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L90), [95](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L95), [96](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L96), [97](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L97), [99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L99), [101](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L101), [104](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L104), [106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L106), [108](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L108), [109](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L109), [110](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L110), [112](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L112), [113](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L113), [114](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L114), [116](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L116), [125](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L125), [128](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L128), [133](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L133), [137](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L137), [144](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L144), [147](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L147), [148](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L148), [149](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L149), [151](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L151), [152](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L152), [153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L153), [156](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L156), [157](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L157), [160](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L160), [161](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L161), [162](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L162), [163](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L163), [164](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L164), [166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L166), [167](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L167), [168](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L168), [170](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L170), [171](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L171), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L172), [173](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L173), [174](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L174), [176](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L176), [177](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L177), [178](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L178), [179](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L179), [180](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L180), [181](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L181), [182](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L182), [183](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L183), [185](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L185), [186](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L186), [187](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L187), [188](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L188), [190](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L190), [191](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L191), [192](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L192), [193](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L193), [195](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L195), [196](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L196), [197](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L197), [198](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L198), [200](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L200), [201](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L201), [202](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L202), [203](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L203), [204](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L204), [205](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L205), [206](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L206), [207](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L207), [208](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L208), [209](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L209), [210](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L210), [211](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L211), [212](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L212), [213](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L213), [214](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L214), [215](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L215), [217](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L217), [218](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L218), [219](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L219), [220](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L220), [221](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L221), [222](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L222), [223](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L223), [224](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L224), [225](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L225), [226](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L226), [227](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L227), [228](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L228), [229](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L229), [230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L230), [231](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L231), [232](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L232), [233](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L233), [234](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L234), [237](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L237), [238](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L238), [239](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L239), [241](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L241), [242](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L242), [244](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L244), [245](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L245), [247](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L247), [248](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L248), [250](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L250), [251](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L251), [252](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L252), [253](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L253), [254](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L254), [270](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L270), [271](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L271), [272](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L272), [273](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L273), [274](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L274), [275](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L275), [276](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L276), [277](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L277), [278](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L278), [279](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L279), [280](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L280), [281](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L281), [282](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L282), [283](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L283), [284](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L284), [285](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L285), [286](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L286), [287](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L287), [290](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L290), [291](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L291), [292](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L292), [293](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L293), [294](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L294), [295](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L295), [296](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L296), [297](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L297), [298](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L298), [302](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L302), [303](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L303), [304](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L304), [305](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L305), [306](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L306), [307](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L307), [308](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L308), [309](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L309), [310](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L310), [311](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L311), [312](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L312), [313](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L313), [316](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L316), [317](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L317), [318](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L318), [319](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L319), [320](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L320), [321](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L321), [322](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L322), [324](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L324), [325](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L325), [326](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L326), [327](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L327), [328](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L328), [329](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L329), [330](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L330), [331](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L331), [332](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L332), [334](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L334), [335](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L335), [336](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L336), [337](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L337), [339](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L339), [340](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L340), [341](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L341), [342](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L342), [343](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L343), [344](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L344), [345](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L345), [346](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L346), [347](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L347), [348](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L348), [349](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L349), [350](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L350), [352](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L352), [353](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L353), [355](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L355), [356](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L356), [357](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L357), [358](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L358), [359](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L359), [360](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L360), [361](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L361), [362](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L362), [363](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L363), [365](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L365), [366](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L366), [367](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L367), [368](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L368), [369](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L369), [371](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L371), [372](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L372), [373](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L373), [374](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L374), [375](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L375), [376](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L376), [377](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L377), [379](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L379), [380](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L380), [381](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L381), [382](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L382), [383](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L383), [384](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L384), [385](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L385), [386](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L386), [387](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L387), [388](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L388), [392](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L392), [393](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L393), [394](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L394), [395](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L395), [396](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L396), [397](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L397), [398](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L398), [399](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L399), [401](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L401), [402](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L402), [403](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L403), [404](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L404), [405](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L405), [406](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L406), [407](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L407), [408](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L408), [409](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L409), [410](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L410), [411](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L411), [412](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L412), [413](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L413), [414](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L414), [415](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L415), [416](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L416), [418](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L418), [419](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L419), [421](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L421), [422](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L422), [423](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L423), [424](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L424), [425](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L425), [426](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L426), [428](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L428), [429](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L429), [430](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L430), [431](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L431), [432](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L432), [433](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L433), [434](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L434), [435](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L435), [436](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L436), [438](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L438), [439](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L439), [440](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L440), [441](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L441), [442](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L442), [443](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L443), [444](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L444), [448](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L448), [449](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L449), [450](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L450), [451](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L451), [452](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L452), [453](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L453), [454](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L454), [455](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L455), [456](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L456), [458](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L458), [459](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L459), [460](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L460), [461](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L461), [463](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L463), [464](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L464), [466](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L466), [467](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L467), [468](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L468), [469](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L469), [470](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L470), [471](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L471), [473](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L473), [474](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L474), [475](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L475), [476](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L476), [477](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L477), [478](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L478), [479](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L479), [480](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L480), [482](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L482), [483](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L483), [484](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L484), [485](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L485), [490](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L490), [491](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L491), [492](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L492), [493](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L493), [494](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L494), [495](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L495), [496](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L496), [498](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L498), [499](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L499), [500](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L500), [501](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L501), [502](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L502), [503](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L503), [504](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L504), [505](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L505), [506](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L506), [508](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L508), [509](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L509), [510](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L510), [511](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L511), [512](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L512), [513](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L513), [514](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L514), [515](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L515), [516](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L516), [517](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L517), [518](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L518), [519](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L519), [520](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L520), [521](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L521), [522](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L522), [523](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L523), [524](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L524), [525](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L525), [526](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L526), [527](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L527), [528](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L528), [529](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L529), [530](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L530), [531](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L531), [532](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L532), [534](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L534), [535](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L535), [536](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L536), [537](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L537), [539](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L539), [540](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L540), [541](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L541), [542](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L542), [543](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L543), [544](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L544), [546](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L546), [547](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L547), [548](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L548), [549](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L549), [550](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L550), [551](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L551), [552](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L552), [553](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L553), [554](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L554), [555](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L555), [556](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L556), [558](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L558), [559](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L559), [560](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L560), [562](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L562), [563](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L563), [564](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L564), [565](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L565), [567](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L567), [568](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L568), [569](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L569), [571](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L571), [572](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L572), [573](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L573), [574](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L574), [575](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L575), [576](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L576), [577](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L577), [578](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L578), [579](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L579), [581](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L581), [582](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L582), [583](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L583), [584](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L584), [585](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L585), [586](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L586), [587](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L587), [588](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L588), [590](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L590), [591](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L591), [592](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L592), [593](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L593), [594](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L594), [595](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L595), [597](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L597), [598](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L598), [599](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L599), [600](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L600), [601](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L601), [603](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L603), [604](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L604), [605](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L605), [606](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L606), [607](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L607), [608](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L608), [610](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L610), [611](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L611), [612](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L612), [614](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L614), [615](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L615), [616](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L616), [618](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L618), [619](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L619), [620](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L620), [621](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L621), [622](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L622), [624](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L624), [625](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L625), [626](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L626), [628](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L628), [629](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L629), [630](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L630), [631](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L631), [634](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L634), [635](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L635), [636](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L636), [637](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L637), [638](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L638), [639](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L639), [640](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L640), [642](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L642), [643](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L643), [644](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L644), [646](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L646), [647](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L647), [649](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L649), [650](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L650), [652](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L652), [653](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L653), [654](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L654), [655](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L655), [656](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L656), [657](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L657), [659](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L659), [660](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L660), [661](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L661), [662](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L662), [663](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L663), [665](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L665), [666](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L666), [667](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L667), [668](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L668), [669](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L669), [671](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L671), [672](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L672), [674](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L674), [675](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L675), [676](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L676), [678](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L678), [679](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L679), [680](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L680), [681](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L681), [683](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L683), [684](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L684), [685](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L685), [686](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L686), [687](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L687), [688](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L688), [689](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L689), [695](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L695), [696](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L696), [697](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L697), [699](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L699), [700](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L700), [702](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L702), [703](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L703), [705](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L705), [706](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L706), [707](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L707), [709](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L709), [710](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L710), [711](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L711), [712](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L712), [713](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L713), [714](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L714), [715](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L715), [716](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L716), [718](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L718), [719](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L719), [721](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L721), [722](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L722), [723](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L723), [725](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L725), [726](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L726), [727](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L727), [728](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L728), [729](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L729), [730](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L730), [731](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L731), [733](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L733), [734](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L734), [735](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L735), [736](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L736), [737](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L737), [738](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L738), [739](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L739), [743](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L743), [744](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L744), [745](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L745), [746](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L746), [747](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L747), [748](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L748), [749](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L749), [751](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L751), [752](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L752), [753](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L753), [754](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L754), [755](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L755), [756](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L756), [757](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L757), [758](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L758), [759](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L759), [760](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L760), [761](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L761), [762](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L762), [763](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L763), [764](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L764), [765](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L765), [766](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L766), [767](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L767), [768](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L768), [769](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L769), [771](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L771), [772](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L772), [774](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L774), [775](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L775), [776](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L776), [777](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L777), [778](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L778), [779](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L779), [780](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L780), [781](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L781), [783](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L783), [784](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L784), [785](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L785), [786](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L786), [787](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L787), [789](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L789), [791](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L791), [792](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L792), [793](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L793), [794](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L794), [795](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L795), [796](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L796), [797](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L797), [798](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L798), [799](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L799), [801](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L801), [802](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L802), [804](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L804), [805](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L805), [806](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L806), [807](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L807), [808](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L808), [809](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L809), [810](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L810), [812](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L812), [813](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L813), [814](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L814), [815](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L815), [816](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L816), [817](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L817), [818](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L818), [819](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L819), [820](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L820), [821](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L821), [822](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L822), [823](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L823), [824](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L824), [825](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L825), [826](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L826), [829](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L829), [830](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L830), [831](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L831), [836](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L836), [837](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L837), [838](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L838), [839](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L839), [840](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L840), [841](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L841), [842](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L842), [843](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L843), [846](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L846), [847](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L847), [848](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L848), [849](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L849), [850](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L850), [851](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L851), [852](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L852)]


```solidity
File: src/loan/SimplePSM.sol

2: pragma solidity 0.8.13;

3: 

4: import {ERC20} from "@openzeppelin/contracts/token/ERC20/ERC20.sol";

5: import {SafeERC20} from "@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol";

6: 

7: import {CoreRef} from "@src/core/CoreRef.sol";

8: import {CoreRoles} from "@src/core/CoreRoles.sol";

9: import {LendingTerm} from "@src/loan/LendingTerm.sol";

10: import {CreditToken} from "@src/tokens/CreditToken.sol";

11: import {ProfitManager} from "@src/governance/ProfitManager.sol";

12: import {RateLimitedMinter} from "@src/rate-limits/RateLimitedMinter.sol";

13: 

25: contract SimplePSM is CoreRef {

26:     using SafeERC20 for ERC20;

27: 

29:     address public immutable profitManager;

30: 

32:     address public immutable credit;

33: 

35:     address public immutable pegToken;

36: 

39:     uint256 public pegTokenBalance;

40: 

43:     uint256 public immutable decimalCorrection;

44: 

46:     bool public redemptionsPaused;

47: 

49:     event Redeem(

50:         uint256 indexed when,

51:         address indexed to,

52:         uint256 amountIn,

53:         uint256 amountOut

54:     );

56:     event Mint(

57:         uint256 indexed when,

58:         address indexed to,

59:         uint256 amountIn,

60:         uint256 amountOut

61:     );

63:     event RedemptionsPaused(uint256 indexed when, bool status);

64: 

65:     constructor(

66:         address _core,

67:         address _profitManager,

68:         address _credit,

69:         address _pegToken

70:     ) CoreRef(_core) {

71:         profitManager = _profitManager;

72:         credit = _credit;

73:         pegToken = _pegToken;

74: 

75:         uint256 decimals = uint256(ERC20(_pegToken).decimals());

76:         decimalCorrection = 10 ** (18 - decimals);

77:     }

78: 

80:     function getMintAmountOut(uint256 amountIn) public view returns (uint256) {

81:         uint256 creditMultiplier = ProfitManager(profitManager)

82:             .creditMultiplier();

83:         return (amountIn * decimalCorrection * 1e18) / creditMultiplier;

84:     }

85: 

87:     function getRedeemAmountOut(

88:         uint256 amountIn

89:     ) public view returns (uint256) {

90:         uint256 creditMultiplier = ProfitManager(profitManager)

91:             .creditMultiplier();

92:         return (amountIn * creditMultiplier) / 1e18 / decimalCorrection;

93:     }

94: 

97:     function redeemableCredit() public view returns (uint256) {

98:         return getMintAmountOut(pegTokenBalance);

99:     }

100: 

103:     function mint(

104:         address to,

105:         uint256 amountIn

106:     ) external whenNotPaused returns (uint256 amountOut) {

107:         amountOut = getMintAmountOut(amountIn);

108:         pegTokenBalance += amountIn;

109:         ERC20(pegToken).safeTransferFrom(msg.sender, address(this), amountIn);

110:         CreditToken(credit).mint(to, amountOut);

111:         emit Mint(block.timestamp, to, amountIn, amountOut);

112:     }

113: 

117:     function mintAndEnterRebase(

118:         uint256 amountIn

119:     ) external whenNotPaused returns (uint256 amountOut) {

120:         require(

121:             !CreditToken(credit).isRebasing(msg.sender),

122:             "SimplePSM: already rebasing"

123:         );

124:         amountOut = getMintAmountOut(amountIn);

125:         pegTokenBalance += amountIn;

126:         ERC20(pegToken).safeTransferFrom(msg.sender, address(this), amountIn);

127:         CreditToken(credit).mint(msg.sender, amountOut);

128:         CreditToken(credit).forceEnterRebase(msg.sender);

129:         emit Mint(block.timestamp, msg.sender, amountIn, amountOut);

130:     }

131: 

134:     function redeem(

135:         address to,

136:         uint256 amountIn

137:     ) external returns (uint256 amountOut) {

138:         require(!redemptionsPaused, "SimplePSM: redemptions paused");

139:         amountOut = getRedeemAmountOut(amountIn);

140:         CreditToken(credit).burnFrom(msg.sender, amountIn);

141:         pegTokenBalance -= amountOut;

142:         ERC20(pegToken).safeTransfer(to, amountOut);

143:         emit Redeem(block.timestamp, to, amountIn, amountOut);

144:     }

145: 

149:     function setRedemptionsPaused(

150:         bool paused

151:     ) external onlyCoreRole(CoreRoles.GOVERNOR) {

152:         redemptionsPaused = paused;

153:         emit RedemptionsPaused(block.timestamp, paused);

154:     }

155: }

156: 

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L2), [3](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L3), [4](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L4), [5](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L5), [6](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L6), [7](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L7), [8](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L8), [9](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L9), [10](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L10), [11](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L11), [12](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L12), [13](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L13), [25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L25), [26](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L26), [27](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L27), [29](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L29), [30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L30), [32](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L32), [33](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L33), [35](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L35), [36](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L36), [39](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L39), [40](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L40), [43](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L43), [44](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L44), [46](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L46), [47](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L47), [49](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L49), [50](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L50), [51](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L51), [52](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L52), [53](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L53), [54](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L54), [56](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L56), [57](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L57), [58](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L58), [59](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L59), [60](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L60), [61](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L61), [63](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L63), [64](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L64), [65](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L65), [66](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L66), [67](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L67), [68](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L68), [69](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L69), [70](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L70), [71](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L71), [72](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L72), [73](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L73), [74](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L74), [75](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L75), [76](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L76), [77](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L77), [78](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L78), [80](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L80), [81](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L81), [82](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L82), [83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L83), [84](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L84), [85](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L85), [87](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L87), [88](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L88), [89](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L89), [90](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L90), [91](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L91), [92](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L92), [93](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L93), [94](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L94), [97](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L97), [98](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L98), [99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L99), [100](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L100), [103](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L103), [104](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L104), [105](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L105), [106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L106), [107](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L107), [108](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L108), [109](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L109), [110](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L110), [111](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L111), [112](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L112), [113](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L113), [117](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L117), [118](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L118), [119](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L119), [120](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L120), [121](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L121), [122](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L122), [123](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L123), [124](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L124), [125](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L125), [126](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L126), [127](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L127), [128](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L128), [129](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L129), [130](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L130), [131](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L131), [134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L134), [135](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L135), [136](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L136), [137](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L137), [138](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L138), [139](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L139), [140](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L140), [141](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L141), [142](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L142), [143](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L143), [144](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L144), [145](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L145), [149](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L149), [150](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L150), [151](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L151), [152](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L152), [153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L153), [154](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L154), [155](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L155), [156](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L156)]


```solidity
File: src/loan/SurplusGuildMinter.sol

128:         CreditToken(credit).transferFrom(msg.sender, address(this), amount);

263:                 CreditToken(credit).transfer(user, creditReward);

```
*Github:* [[128](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L128), [263](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L263)]


```solidity
File: src/tokens/CreditToken.sol

122:         return ERC20RebaseDistributor.transfer(to, amount);

135:         return ERC20RebaseDistributor.transferFrom(from, to, amount);

```
*Github:* [[122](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L122), [135](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L135)]


```solidity
File: src/tokens/ERC20Gauges.sol

486:         return super.transfer(to, amount);

495:         return super.transferFrom(from, to, amount);

```
*Github:* [[486](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L486), [495](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L495)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

413:         return super.transfer(to, amount);

422:         return super.transferFrom(from, to, amount);

```
*Github:* [[413](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L413), [422](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L422)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

584:         bool success = ERC20.transfer(to, amount);

678:         bool success = ERC20.transferFrom(from, to, amount);

```
*Github:* [[584](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L584), [678](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L678)]


```solidity
File: src/tokens/GuildToken.sol

299:         return ERC20.transfer(to, amount);

314:         return ERC20.transferFrom(from, to, amount);

```
*Github:* [[299](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L299), [314](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L314)]


</details>


<a name="L-21"></a> 
### [L-21] Tokens may be minted to `address(0)`

*There are <b>6</b> instances of this issue:*
```solidity
File: src/loan/SimplePSM.sol

103:     function mint(
             address to,
             uint256 amountIn
         ) external whenNotPaused returns (uint256 amountOut) {
             amountOut = getMintAmountOut(amountIn);
             pegTokenBalance += amountIn;
             ERC20(pegToken).safeTransferFrom(msg.sender, address(this), amountIn);
             CreditToken(credit).mint(to, amountOut);
             emit Mint(block.timestamp, to, amountIn, amountOut);
         }

```
*Github:* [[103](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L103)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

11:     function mint(address to, uint256 amount) external;
    }

```
*Github:* [[11](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L11)]


```solidity
File: src/tokens/CreditToken.sol

35:     function mint(
            address to,
            uint256 amount
        ) external onlyCoreRole(CoreRoles.CREDIT_MINTER) {
            _mint(to, amount);
        }

83:     function _mint(
            address account,
            uint256 amount
        ) internal override(ERC20, ERC20RebaseDistributor) {
            ERC20RebaseDistributor._mint(account, amount);
        }

```
*Github:* [[35](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L35), [83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L83)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

509:     function _mint(address account, uint256 amount) internal virtual override {
             // do ERC20._mint()
             ERC20._mint(account, amount);
     
             // if `account` is rebasing, update its number of shares
             RebasingState memory _rebasingState = rebasingState[account];
             if (_rebasingState.isRebasing == 1) {
                 // compute rebased balance
                 uint256 _rebasingSharePrice = rebasingSharePrice();
                 uint256 rawBalance = ERC20.balanceOf(account);
                 uint256 rebasedBalance = _shares2balance(
                     _rebasingState.nShares,
                     _rebasingSharePrice,
                     amount,
                     rawBalance
                 );
     
                 // update number of shares
                 uint256 sharesAfter = _balance2shares(
                     rebasedBalance,
                     _rebasingSharePrice
                 );
                 uint256 sharesReceived = sharesAfter - _rebasingState.nShares;
                 rebasingState[account] = RebasingState({
                     isRebasing: 1,
                     nShares: uint248(sharesAfter)
                 });
                 updateTotalRebasingShares(
                     _rebasingSharePrice,
                     int256(sharesReceived)
                 );
     
                 // "realize" unminted rebase rewards
                 uint256 mintAmount = rebasedBalance - rawBalance;
                 if (mintAmount != 0) {
                     ERC20._mint(account, mintAmount);
                     decreaseUnmintedRebaseRewards(mintAmount);
                     emit RebaseReward(account, block.timestamp, mintAmount);
                 }
             }
         }

```
*Github:* [[509](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L509)]


```solidity
File: src/tokens/GuildToken.sol

268:     function mint(
             address to,
             uint256 amount
         ) external onlyCoreRole(CoreRoles.GUILD_MINTER) {
             _mint(to, amount);
         }

```
*Github:* [[268](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L268)]



<a name="L-22"></a> 
### [L-22] Unsafe downcast
When a type is downcast to a smaller type, the higher order bits are truncated, effectively applying a modulo to the original value. Without any other checks, this wrapping will lead to unexpected behavior and bugs.

<details>
<summary>
There are <b>14</b> instances (click to show):
</summary>

```solidity
File: src/governance/ProfitManager.sol

/// @audit uint256 -> uint32
213:             surplusBufferSplit: uint32(surplusBufferSplit / 1e9),

/// @audit uint256 -> uint32
214:             guildSplit: uint32(guildSplit / 1e9),

/// @audit uint256 -> uint32
215:             otherSplit: uint32(otherSplit / 1e9),

```
*Github:* [[213](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L213), [214](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L214), [215](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L215)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

/// @audit uint256 -> uint224
111:             lastValue: uint224(START_REBASING_SHARE_PRICE), // safe initial value

/// @audit uint256 -> uint224
113:             targetValue: uint224(START_REBASING_SHARE_PRICE) // safe initial value

/// @audit uint256 -> uint224
192:                 lastValue: uint224(START_REBASING_SHARE_PRICE), // safe initial value

/// @audit uint256 -> uint224
194:                 targetValue: uint224(START_REBASING_SHARE_PRICE) // safe initial value

/// @audit uint256 -> uint248
295:             nShares: uint248(shares)

/// @audit uint256 -> uint248
498:                 nShares: uint248(sharesAfter)

/// @audit uint256 -> uint248
534:                 nShares: uint248(sharesAfter)

/// @audit uint256 -> uint248
598:                 nShares: uint248(fromSharesAfter)

/// @audit uint256 -> uint248
622:                 nShares: uint248(toSharesAfter)

/// @audit uint256 -> uint248
692:                 nShares: uint248(fromSharesAfter)

/// @audit uint256 -> uint248
716:                 nShares: uint248(toSharesAfter)

```
*Github:* [[111](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L111), [113](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L113), [192](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L192), [194](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L194), [295](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L295), [498](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L498), [534](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L534), [598](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L598), [622](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L622), [692](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L692), [716](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L716)]


</details>


<a name="L-23"></a> 
### [L-23] Unsafe solidity low-level call can cause gas grief attack
Using the low-level calls of a solidity address can leave the contract open to gas grief attacks. These attacks occur when the called contract returns a large amount of data. So when calling an external contract, it is necessary to check the length of the return data before reading/copying it (using `returndatasize()`).

*There are <b>2</b> instances of this issue:*
```solidity
File: src/core/CoreRef.sol

101:             (bool success, bytes memory returned) = target.call{value: value}(

```
*Github:* [[101](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L101)]


```solidity
File: src/governance/LendingTermOnboarding.sol

114:         (bool success, bytes memory returned) = params.collateralToken.call(

```
*Github:* [[114](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L114)]



<a name="L-24"></a> 
### [L-24] Using zero as a parameter
Taking `0` as a valid argument in Solidity without checks can lead to severe security issues. A historical example is the infamous `0x0` address bug where numerous tokens were lost. This happens because 0 can be interpreted as an uninitialized `address`, leading to transfers to the 0x0 address, effectively burning tokens. Moreover, `0` as a denominator in division operations would cause a runtime exception. It's also often indicative of a logical error in the caller's code. It's important to always validate input and handle edge cases like `0` appropriately. Use `require()` statements to enforce conditions and provide clear error messages to facilitate debugging and safer code.

<details>
<summary>
There are <b>18</b> instances (click to show):
</summary>

```solidity
File: src/governance/LendingTermOffboarding.sol

106:         emit OffboardSupport(
                 block.timestamp,
                 term,
                 block.number,
                 address(0),

```
*Github:* [[106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L106)]


```solidity
File: src/governance/ProfitManager.sol

311:                 emit TermSurplusBufferUpdate(block.timestamp, gauge, 0);

328:                 emit SurplusBufferUpdate(block.timestamp, 0);

```
*Github:* [[311](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L311), [328](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L328)]


```solidity
File: src/loan/AuctionHouse.sol

96:         auctions[loanId] = Auction({

223:         emit AuctionEnd(

```
*Github:* [[96](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L96), [223](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L223)]


```solidity
File: src/loan/LendingTerm.sol

335:         return debtCeiling(0);

401:         loans[loanId] = Loan({
                 borrower: borrower,
                 borrowTime: block.timestamp,
                 borrowAmount: borrowAmount,
                 borrowCreditMultiplier: creditMultiplier,
                 collateralAmount: collateralAmount,
                 caller: address(0),

721:         emit LoanClose(block.timestamp, loanId, LoanCloseType.Forgive, 0);

```
*Github:* [[335](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L335), [401](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L401), [721](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L721)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

119:         InterpolatedValue({

196:             __unmintedRebaseRewards = InterpolatedValue({

316:         uint256 rebasedBalance = _shares2balance(

329:         rebasingState[account] = RebasingState({isRebasing: 0, nShares: 0});

347:         uint256 _rebasingSupply = _shares2balance(

395:         return _shares2balance(totalRebasingShares, rebasingSharePrice(), 0, 0);

434:                 _shares2balance(

470:             uint256 rebasedBalance = _shares2balance(

568:             uint256 rebasedBalance = _shares2balance(

662:             uint256 rebasedBalance = _shares2balance(

```
*Github:* [[119](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L119), [196](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L196), [316](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L316), [329](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L329), [347](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L347), [395](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L395), [434](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L434), [470](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L470), [568](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L568), [662](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L662)]


</details>


<a name="L-25"></a> 
### [L-25] Missing zero address check in initializer

*There is one instance of this issue:*
```solidity
File: src/governance/ProfitManager.sol

/// @audit missing zero check for `_credit`
/// @audit missing zero check for `_guild`
/// @audit missing zero check for `_psm`
156:     function initializeReferences(
             address _credit,
             address _guild,
             address _psm
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

```
*Github:* [[156](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L156)]



<a name="L-26"></a> 
### [L-26] `decimals()` is not a part of the ERC-20 standard
The `decimals()` function is not a part of the ERC-20 standard, and was added later as an optional extension. As such, some valid ERC20 tokens do not support this interface, so it is unsafe to blindly cast all tokens to this interface, and then call this function.

*There is one instance of this issue:*
```solidity
File: src/loan/SimplePSM.sol

75:         uint256 decimals = uint256(ERC20(_pegToken).decimals());

```
*Github:* [[75](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L75)]



<a name="L-27"></a> 
### [L-27] Initializers could be front-run
Initializers could be front-run, allowing an attacker to either set their own values, take ownership of the contract, and in the best case forcing a re-deployment

*There is one instance of this issue:*
```solidity
File: src/loan/LendingTerm.sol

160:     function initialize(

```
*Github:* [[160](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L160)]




## Non Critical Issues

<a name="NC-1"></a> 
### [NC-1] `abi.encodePacked()` should be replaced with `bytes.concat()`
Solidity version 0.8.4 introduces `bytes.concat()`, which can be used to replace `abi.encodePacked()` on bytes/strings. It can make the intended operation clearer, leading to less reviewer confusion.

*There are <b>2</b> instances of this issue:*
```solidity
File: src/governance/GuildVetoGovernor.sol

389:             string(abi.encodePacked(timelockId))

```
*Github:* [[389](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L389)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

485:                 abi.encodePacked(

```
*Github:* [[485](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L485)]



<a name="NC-2"></a> 
### [NC-2] Avoid the use of sensitive terms
Use [alternative variants](https://www.zdnet.com/article/mysql-drops-master-slave-and-blacklist-whitelist-terminology/), e.g. allowlist/denylist instead of whitelist/blacklist

*There is one instance of this issue:*
```solidity
File: src/tokens/GuildToken.sol

25:     Lending terms can be whitelisted by adding a gauge for their address, if GUILD

```
*Github:* [[25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L25)]



<a name="NC-3"></a> 
### [NC-3] Multiple `address`/ID mappings can be combined into a single `mapping` of an `address`/ID to a `struct`, for readability
Well-organized data structures make code reviews easier, which may lead to fewer bugs. Consider combining related mappings into mappings to structs, so it's clear what data is related

*There are <b>7</b> instances of this issue:*
```solidity
File: src/governance/LendingTermOffboarding.sol

49:     mapping(uint256 => mapping(address => uint256)) public polls;

53:     mapping(address => mapping(uint256 => mapping(address => uint256)))

```
*Github:* [[49](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L49), [53](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L53)]


```solidity
File: src/governance/ProfitManager.sol

44:     mapping(address => mapping(address => uint256)) public userGaugeProfitIndex;

```
*Github:* [[44](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L44)]


```solidity
File: src/loan/SurplusGuildMinter.sol

86:     mapping(address => mapping(address => UserStake)) internal _stakes;

```
*Github:* [[86](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L86)]


```solidity
File: src/tokens/ERC20Gauges.sol

66:     mapping(address => mapping(address => uint256)) public getUserGaugeWeight;

```
*Github:* [[66](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L66)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

203:     mapping(address => mapping(address => uint256))

```
*Github:* [[203](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L203)]


```solidity
File: src/tokens/GuildToken.sol

120:     mapping(address => mapping(address => uint256)) public lastGaugeLossApplied;

```
*Github:* [[120](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L120)]



<a name="NC-4"></a> 
### [NC-4] Complex casting
Consider whether the number of casts is really necessary, or whether using a different type would be more appropriate. Alternatively, add comments to explain in detail why the casts are necessary, and any implicit reasons why the cast does not introduce an overflow.

*There is one instance of this issue:*
```solidity
File: src/loan/LendingTerm.sol

277:         gaugeWeight = uint256(int256(gaugeWeight) + gaugeWeightDelta);

```
*Github:* [[277](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L277)]



<a name="NC-5"></a> 
### [NC-5] Consider adding a block/deny-list
Doing so will significantly increase centralization, but will help to prevent hackers from using stolen tokens.

<details>
<summary>
There are <b>19</b> instances (click to show):
</summary>

```solidity
File: src/core/Core.sol

10: contract Core is AccessControlEnumerable {

```
*Github:* [[10](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/Core.sol#L10)]


```solidity
File: src/core/CoreRef.sol

12: abstract contract CoreRef is Pausable {

```
*Github:* [[12](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L12)]


```solidity
File: src/governance/GuildGovernor.sol

16: contract GuildGovernor is
        CoreRef,
        Governor,
        GovernorVotes,
        GovernorTimelockControl,
        GovernorSettings,
        GovernorCountingSimple
    {

```
*Github:* [[16](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L16)]


```solidity
File: src/governance/GuildTimelockController.sol

14: contract GuildTimelockController is TimelockController, CoreRef {

```
*Github:* [[14](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L14)]


```solidity
File: src/governance/GuildVetoGovernor.sol

25: contract GuildVetoGovernor is CoreRef, Governor, GovernorVotes {

```
*Github:* [[25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L25)]


```solidity
File: src/governance/LendingTermOffboarding.sol

16: contract LendingTermOffboarding is CoreRef {

```
*Github:* [[16](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L16)]


```solidity
File: src/governance/LendingTermOnboarding.sol

23: contract LendingTermOnboarding is GuildGovernor {

```
*Github:* [[23](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L23)]


```solidity
File: src/governance/ProfitManager.sol

30: contract ProfitManager is CoreRef {

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L30)]


```solidity
File: src/loan/AuctionHouse.sol

10: contract AuctionHouse is CoreRef {

```
*Github:* [[10](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L10)]


```solidity
File: src/loan/LendingTerm.sol

20: contract LendingTerm is CoreRef {

```
*Github:* [[20](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L20)]


```solidity
File: src/loan/SimplePSM.sol

25: contract SimplePSM is CoreRef {

```
*Github:* [[25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L25)]


```solidity
File: src/loan/SurplusGuildMinter.sol

24: contract SurplusGuildMinter is CoreRef {

```
*Github:* [[24](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L24)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

17: contract RateLimitedMinter is RateLimitedV2 {

```
*Github:* [[17](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L17)]


```solidity
File: src/tokens/CreditToken.sol

18: contract CreditToken is
        CoreRef,
        ERC20Burnable,
        ERC20MultiVotes,
        ERC20RebaseDistributor
    {

```
*Github:* [[18](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L18)]


```solidity
File: src/tokens/ERC20Gauges.sol

58: abstract contract ERC20Gauges is ERC20 {

```
*Github:* [[58](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L58)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

35: abstract contract ERC20MultiVotes is ERC20Permit {

```
*Github:* [[35](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L35)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

42: abstract contract ERC20RebaseDistributor is ERC20 {

```
*Github:* [[42](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L42)]


```solidity
File: src/tokens/GuildToken.sol

37: contract GuildToken is CoreRef, ERC20Burnable, ERC20Gauges, ERC20MultiVotes {

```
*Github:* [[37](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L37)]


```solidity
File: src/utils/RateLimitedV2.sol

14: abstract contract RateLimitedV2 is IRateLimitedV2, CoreRef {

```
*Github:* [[14](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L14)]


</details>


<a name="NC-6"></a> 
### [NC-6] Consider adding emergency-stop functionality
Consider adding `Pausable` to the following contracts so it's possible to stop them in case of an emergency.

<details>
<summary>
There are <b>14</b> instances (click to show):
</summary>

```solidity
File: src/core/Core.sol

10: contract Core is AccessControlEnumerable {

```
*Github:* [[10](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/Core.sol#L10)]


```solidity
File: src/governance/GuildGovernor.sol

16: contract GuildGovernor is

```
*Github:* [[16](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L16)]


```solidity
File: src/governance/GuildTimelockController.sol

14: contract GuildTimelockController is TimelockController, CoreRef {

```
*Github:* [[14](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L14)]


```solidity
File: src/governance/GuildVetoGovernor.sol

25: contract GuildVetoGovernor is CoreRef, Governor, GovernorVotes {

```
*Github:* [[25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L25)]


```solidity
File: src/governance/LendingTermOffboarding.sol

16: contract LendingTermOffboarding is CoreRef {

```
*Github:* [[16](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L16)]


```solidity
File: src/governance/LendingTermOnboarding.sol

23: contract LendingTermOnboarding is GuildGovernor {

```
*Github:* [[23](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L23)]


```solidity
File: src/governance/ProfitManager.sol

30: contract ProfitManager is CoreRef {

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L30)]


```solidity
File: src/loan/AuctionHouse.sol

10: contract AuctionHouse is CoreRef {

```
*Github:* [[10](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L10)]


```solidity
File: src/loan/LendingTerm.sol

20: contract LendingTerm is CoreRef {

```
*Github:* [[20](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L20)]


```solidity
File: src/loan/SimplePSM.sol

25: contract SimplePSM is CoreRef {

```
*Github:* [[25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L25)]


```solidity
File: src/loan/SurplusGuildMinter.sol

24: contract SurplusGuildMinter is CoreRef {

```
*Github:* [[24](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L24)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

17: contract RateLimitedMinter is RateLimitedV2 {

```
*Github:* [[17](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L17)]


```solidity
File: src/tokens/CreditToken.sol

18: contract CreditToken is

```
*Github:* [[18](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L18)]


```solidity
File: src/tokens/GuildToken.sol

37: contract GuildToken is CoreRef, ERC20Burnable, ERC20Gauges, ERC20MultiVotes {

```
*Github:* [[37](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L37)]


</details>


<a name="NC-7"></a> 
### [NC-7] Consider adding formal verification proofs
Formal verification is the act of proving or disproving the correctness of intended algorithms underlying a system with respect to a certain formal specification/property/invariant, using formal methods of mathematics.

Some tools that are currently available to perform these tests on smart contracts are [SMTChecker](https://docs.soliditylang.org/en/latest/smtchecker.html) and [Certora Prover](https://www.certora.com/).

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/)]



<a name="NC-8"></a> 
### [NC-8] Consider bounding input array length
The functions below take in an unbounded array, and make function calls for entries in the array. While the function will revert if it eventually runs out of gas, it may be a nicer user experience to require() that the length of the array is below some reasonable maximum, so that the user doesn't have to use up a full transaction's gas only to see that the transaction reverts.

*There are <b>2</b> instances of this issue:*
```solidity
File: src/core/CoreRef.sol

/// @audit consider length check for `calls`
96:         for (uint256 i = 0; i < calls.length; i++) {

```
*Github:* [[96](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L96)]


```solidity
File: src/loan/LendingTerm.sol

/// @audit consider length check for `loanIds`
685:         for (uint256 i = 0; i < loanIds.length; i++) {

```
*Github:* [[685](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L685)]



<a name="NC-9"></a> 
### [NC-9] Consider using descriptive `constant`s when passing zero as a function argument
Passing zero as a function argument can sometimes result in a security issue (e.g. passing zero as the slippage parameter). Consider using a `constant` variable with a descriptive name, so it's clear that the argument is intentionally being used, and for the right reasons.

<details>
<summary>
There are <b>16</b> instances (click to show):
</summary>

```solidity
File: src/governance/GuildTimelockController.sol

22:             new address[](0),

23:             new address[](0),

```
*Github:* [[22](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L22), [23](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L23)]


```solidity
File: src/governance/ProfitManager.sol

311:                 emit TermSurplusBufferUpdate(block.timestamp, gauge, 0);

328:                 emit SurplusBufferUpdate(block.timestamp, 0);

```
*Github:* [[311](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L311), [328](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L328)]


```solidity
File: src/loan/AuctionHouse.sol

214:         LendingTerm(_lendingTerm).onBid(
                 loanId,
                 msg.sender,
                 0, // collateralToBorrower

223:         emit AuctionEnd(
                 block.timestamp,
                 loanId,
                 LendingTerm(_lendingTerm).collateralToken(),
                 0, // collateralSold

```
*Github:* [[214](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L214), [223](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L223)]


```solidity
File: src/loan/LendingTerm.sol

335:         return debtCeiling(0);

721:         emit LoanClose(block.timestamp, loanId, LoanCloseType.Forgive, 0);

```
*Github:* [[335](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L335), [721](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L721)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

302:             oldDelegatee = _delegates[delegator].at(0);

```
*Github:* [[302](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L302)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

316:         uint256 rebasedBalance = _shares2balance(
                 shares,
                 currentRebasingSharePrice,
                 0,

347:         uint256 _rebasingSupply = _shares2balance(
                 _totalRebasingShares,
                 _rebasingSharePrice,
                 0,

395:         return _shares2balance(totalRebasingShares, rebasingSharePrice(), 0, 0);

434:                 _shares2balance(
                         _rebasingState.nShares,
                         rebasingSharePrice(),
                         0,

470:             uint256 rebasedBalance = _shares2balance(
                     _rebasingState.nShares,
                     _rebasingSharePrice,
                     0,

568:             uint256 rebasedBalance = _shares2balance(
                     shares,
                     _rebasingSharePrice,
                     0,

662:             uint256 rebasedBalance = _shares2balance(
                     shares,
                     _rebasingSharePrice,
                     0,

```
*Github:* [[316](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L316), [347](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L347), [395](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L395), [434](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L434), [470](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L470), [568](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L568), [662](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L662)]


</details>


<a name="NC-10"></a> 
### [NC-10] Constant redefined elsewhere
Consider defining in only one contract so that values cannot become out of sync when only one location is updated. A [cheap way](https://medium.com/coinmonks/gas-cost-of-solidity-library-functions-dbe0cedd4678) to store constants in a single location is to create an `internal constant` in a `library`. If the variable is a local cache of another contract's value, consider making the cache variable internal or private, which will require external users to query the contract with the source of truth, so that callers don't get out of sync.

*There is one instance of this issue:*
```solidity
File: src/loan/LendingTerm.sol

/// @audit also seen in src/loan/SurplusGuildMinter.sol
68:     uint256 public constant YEAR = 31557600;

```
*Github:* [[68](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L68)]



<a name="NC-11"></a> 
### [NC-11] Constants should be put on the left side of comparisons
Putting constants on the left side of comparison statements is a best practice known as [Yoda conditions](https://en.wikipedia.org/wiki/Yoda_conditions). Although solidity's static typing system prevents accidental assignments within conditionals, adopting this practice can improve code readability and consistency, especially when working across multiple languages.

<details>
<summary>
There are <b>103</b> instances (click to show):
</summary>

```solidity
File: src/governance/GuildVetoGovernor.sol

274:         if (timelockOperationTimestamp == 0) {

```
*Github:* [[274](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L274)]


```solidity
File: src/governance/LendingTermOffboarding.sol

125:         require(_weight != 0, "LendingTermOffboarding: poll not found");

130:         require(userWeight != 0, "LendingTermOffboarding: zero weight");

178:             LendingTerm(term).issuance() == 0,

```
*Github:* [[125](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L125), [130](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L130), [178](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L178)]


```solidity
File: src/governance/LendingTermOnboarding.sol

185:         require(created[term] != 0, "LendingTermOnboarding: invalid term");

```
*Github:* [[185](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L185)]


```solidity
File: src/governance/ProfitManager.sol

51:         uint32 otherSplit; // percentage, with 9 decimals (!) that go to other address if != address(0)

162:             credit == address(0) && guild == address(0) && psm == address(0)

202:         if (otherRecipient == address(0)) {

203:             require(otherSplit == 0, "GuildToken: invalid config");

205:             require(otherSplit != 0, "GuildToken: invalid config");

309:             if (_termSurplusBuffer != 0) {

361:             if (amountForSurplusBuffer != 0) {

370:             if (amountForOther != 0) {

378:             if (amountForCredit != 0) {

383:             if (amountForGuild != 0) {

391:                 if (_gaugeWeight != 0) {

393:                     if (_gaugeProfitIndex == 0) {

416:         if (_userGaugeWeight == 0) {

421:         if (_gaugeProfitIndex == 0) {

424:         if (_userGaugeProfitIndex == 0) {

428:         if (deltaIndex != 0) {

432:         if (creditEarned != 0) {

472:             if (_gaugeProfitIndex == 0) {

475:             if (_userGaugeProfitIndex == 0) {

479:             if (deltaIndex != 0) {

```
*Github:* [[51](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L51), [162](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L162), [202](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L202), [203](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L203), [205](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L205), [309](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L309), [361](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L361), [370](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L370), [378](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L378), [383](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L383), [391](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L391), [393](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L393), [416](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L416), [421](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L421), [424](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L424), [428](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L428), [432](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L432), [472](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L472), [475](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L475), [479](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L479)]


```solidity
File: src/loan/AuctionHouse.sol

123:         require(_startTime != 0, "AuctionHouse: invalid auction");

126:         require(auctions[loanId].endTime == 0, "AuctionHouse: auction ended");

172:         require(creditAsked != 0, "AuctionHouse: cannot bid 0");

206:         require(creditAsked == 0, "AuctionHouse: ongoing auction");

```
*Github:* [[123](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L123), [126](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L126), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L172), [206](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L206)]


```solidity
File: src/loan/LendingTerm.sol

166:         assert(address(core()) == address(0));

167:         assert(_core != address(0));

204:         if (borrowTime == 0) {

208:         if (loan.closeTime != 0) {

212:         if (loan.callTime != 0) {

225:         if (_openingFee != 0) {

241:         if (params.maxDelayBetweenPartialRepay == 0) return false;

244:         if (loans[loanId].borrowTime == 0) return false;

247:         if (loans[loanId].closeTime != 0) return false;

285:         if (gaugeWeight == 0) {

298:         if (totalBorrowedCredit == 0 && gaugeWeight != 0) {

344:         require(borrowAmount != 0, "LendingTerm: cannot borrow 0");

345:         require(collateralAmount != 0, "LendingTerm: cannot stake 0");

352:         require(loans[loanId].borrowTime == 0, "LendingTerm: loan exists");

388:         if (totalBorrowedCredit == 0) {

392:             require(_debtCeiling != 0, "LendingTerm: debt ceiling reached");

413:         if (params.maxDelayBetweenPartialRepay != 0) {

453:         require(collateralToAdd != 0, "LendingTerm: cannot add 0");

458:         require(loan.borrowTime != 0, "LendingTerm: loan not found");

459:         require(loan.closeTime == 0, "LendingTerm: loan closed");

460:         require(loan.callTime == 0, "LendingTerm: loan called");

499:         require(borrowTime != 0, "LendingTerm: loan not found");

504:         require(loan.closeTime == 0, "LendingTerm: loan closed");

505:         require(loan.callTime == 0, "LendingTerm: loan called");

572:         require(borrowTime != 0, "LendingTerm: loan not found");

577:         require(loan.closeTime == 0, "LendingTerm: loan closed");

578:         require(loan.callTime == 0, "LendingTerm: loan called");

595:         if (interest != 0) {

643:         require(loan.borrowTime != 0, "LendingTerm: loan not found");

646:         require(loan.closeTime == 0, "LendingTerm: loan closed");

649:         require(loan.callTime == 0, "LendingTerm: loan called");

699:         require(loan.borrowTime != 0, "LendingTerm: loan not found");

702:         require(loan.closeTime == 0, "LendingTerm: loan closed");

738:         require(loans[loanId].closeTime == 0, "LendingTerm: loan closed");

774:         if (creditFromBidder != 0) {

783:         if (principal != 0) {

789:         if (pnl != 0) {

791:             if (interest != 0) {

804:         if (collateralToBorrower != 0) {

812:         if (collateralToBidder != 0) {

837:             AuctionHouse(refs.auctionHouse).nAuctionsInProgress() == 0,

```
*Github:* [[166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L166), [167](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L167), [204](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L204), [208](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L208), [212](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L212), [225](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L225), [241](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L241), [244](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L244), [247](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L247), [285](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L285), [298](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L298), [344](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L344), [345](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L345), [352](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L352), [388](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L388), [392](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L392), [413](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L413), [453](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L453), [458](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L458), [459](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L459), [460](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L460), [499](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L499), [504](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L504), [505](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L505), [572](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L572), [577](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L577), [578](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L578), [595](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L595), [643](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L643), [646](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L646), [649](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L649), [699](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L699), [702](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L702), [738](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L738), [774](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L774), [783](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L783), [789](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L789), [791](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L791), [804](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L804), [812](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L812), [837](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L837)]


```solidity
File: src/loan/SurplusGuildMinter.sol

184:         if (userStake.credit == 0) {

235:         if (userStake.stakeTime == 0)

244:         if (_profitIndex == 0) _profitIndex = 1e18;

245:         if (_userProfitIndex == 0) _userProfitIndex = 1e18;

249:         if (deltaIndex != 0) {

258:             if (guildReward != 0) {

262:             if (creditReward != 0) {

298:         if (userStake.stakeTime == 0 || slashed) return;

```
*Github:* [[184](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L184), [235](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L235), [244](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L244), [245](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L245), [249](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L249), [258](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L258), [262](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L262), [298](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L298)]


```solidity
File: src/tokens/ERC20Gauges.sol

189:         if (total == 0) return 0;

417:         if (weight != 0) {

434:         if (weight != 0) {

522:             if (userGaugeWeight != 0) {

```
*Github:* [[189](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L189), [417](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L417), [434](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L434), [522](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L522)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

311:         if (newDelegatee != address(0)) {

352:         if (newDelegates == 0) {

448:             if (delegateVotes != 0) {

503:         require(signer != address(0));

```
*Github:* [[311](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L311), [352](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L352), [448](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L448), [503](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L503)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

172:         if (sharesDelta == 0) return;

189:         if (sharesAfter == 0) {

212:         if (delta != 0) {

323:         if (mintAmount != 0) {

339:         require(amount != 0, "ERC20RebaseDistributor: cannot distribute zero");

362:         if (_rebasingSupply != 0) {

430:         if (_rebasingState.isRebasing == 0) {

477:             if (mintAmount != 0) {

543:             if (mintAmount != 0) {

575:             if (mintAmount != 0) {

627:             if (mintAmount != 0) {

669:             if (mintAmount != 0) {

721:             if (mintAmount != 0) {

```
*Github:* [[172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L172), [189](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L189), [212](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L212), [323](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L323), [339](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L339), [362](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L362), [430](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L430), [477](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L477), [543](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L543), [575](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L575), [627](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L627), [669](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L669), [721](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L721)]


```solidity
File: src/tokens/GuildToken.sol

188:             transferable || from == address(0) || to == address(0),

225:         if (issuance != 0) {

249:         if (getUserGaugeWeight[user][gauge] == 0) {

```
*Github:* [[188](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L188), [225](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L225), [249](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L249)]


```solidity
File: src/utils/RateLimitedV2.sol

96:         require(newBuffer != 0, "RateLimited: no rate limit buffer");

```
*Github:* [[96](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L96)]


</details>


<a name="NC-12"></a> 
### [NC-12] Contract does not follow the Solidity Style Guide's suggested layout ordering
The [style guide](https://docs.soliditylang.org/en/v0.8.16/style-guide.html#order-of-layout) says that, within a contract, the ordering should be `1) Type declarations`, `2) State variables`, `3) Events`, `4) Modifiers`, and `5) Functions`, but the contract(s) below do not follow this ordering

<details>
<summary>
There are <b>88</b> instances (click to show):
</summary>

```solidity
File: src/core/CoreRef.sol

/// @audit event/error `CoreUpdate` came earlier
17:     Core private _core;

/// @audit function `constructor` came earlier
24:     modifier onlyCoreRole(bytes32 role) {

/// @audit state variable `_core` came earlier
/// @audit event/error `CoreUpdate` came earlier
/// @audit modifier `onlyCoreRole` came earlier
/// @audit function `constructor` came earlier
/// @audit function `core` came earlier
/// @audit function `setCore` came earlier
/// @audit function `_setCore` came earlier
/// @audit function `pause` came earlier
/// @audit function `unpause` came earlier
74:     struct Call {

```
*Github:* [[17](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L17), [24](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L24), [74](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L74)]


```solidity
File: src/governance/GuildVetoGovernor.sol

/// @audit function `constructor` came earlier
/// @audit function `quorum` came earlier
/// @audit function `setQuorum` came earlier
/// @audit function `_setQuorum` came earlier
83:     event TimelockChange(address oldTimelock, address newTimelock);

/// @audit event/error `QuorumUpdated` came earlier
/// @audit event/error `TimelockChange` came earlier
/// @audit function `constructor` came earlier
/// @audit function `quorum` came earlier
/// @audit function `setQuorum` came earlier
/// @audit function `_setQuorum` came earlier
86:     address public timelock;

/// @audit event/error `QuorumUpdated` came earlier
/// @audit event/error `TimelockChange` came earlier
/// @audit function `constructor` came earlier
/// @audit function `quorum` came earlier
/// @audit function `setQuorum` came earlier
/// @audit function `_setQuorum` came earlier
90:     mapping(uint256 => bytes32) private _timelockIds;

/// @audit state variable `_quorum` came earlier
/// @audit state variable `timelock` came earlier
/// @audit state variable `_timelockIds` came earlier
/// @audit event/error `QuorumUpdated` came earlier
/// @audit event/error `TimelockChange` came earlier
/// @audit function `constructor` came earlier
/// @audit function `quorum` came earlier
/// @audit function `setQuorum` came earlier
/// @audit function `_setQuorum` came earlier
/// @audit function `updateTimelock` came earlier
/// @audit function `_updateTimelock` came earlier
111:     enum VoteType {

/// @audit state variable `_quorum` came earlier
/// @audit state variable `timelock` came earlier
/// @audit state variable `_timelockIds` came earlier
/// @audit event/error `QuorumUpdated` came earlier
/// @audit event/error `TimelockChange` came earlier
/// @audit function `constructor` came earlier
/// @audit function `quorum` came earlier
/// @audit function `setQuorum` came earlier
/// @audit function `_setQuorum` came earlier
/// @audit function `updateTimelock` came earlier
/// @audit function `_updateTimelock` came earlier
117:     struct ProposalVote {

/// @audit event/error `QuorumUpdated` came earlier
/// @audit event/error `TimelockChange` came earlier
/// @audit function `constructor` came earlier
/// @audit function `quorum` came earlier
/// @audit function `setQuorum` came earlier
/// @audit function `_setQuorum` came earlier
/// @audit function `updateTimelock` came earlier
/// @audit function `_updateTimelock` came earlier
124:     mapping(uint256 => ProposalVote) private _proposalVotes;

```
*Github:* [[83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L83), [86](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L86), [90](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L90), [111](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L111), [117](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L117), [124](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L124)]


```solidity
File: src/governance/LendingTermOffboarding.sol

/// @audit event/error `OffboardSupport` came earlier
/// @audit event/error `Offboard` came earlier
/// @audit event/error `Cleanup` came earlier
/// @audit event/error `QuorumUpdated` came earlier
36:     uint256 public constant POLL_DURATION_BLOCKS = 46523; // ~7 days @ 13s/block

/// @audit event/error `OffboardSupport` came earlier
/// @audit event/error `Offboard` came earlier
/// @audit event/error `Cleanup` came earlier
/// @audit event/error `QuorumUpdated` came earlier
39:     uint256 public quorum;

/// @audit event/error `OffboardSupport` came earlier
/// @audit event/error `Offboard` came earlier
/// @audit event/error `Cleanup` came earlier
/// @audit event/error `QuorumUpdated` came earlier
42:     address public immutable guildToken;

/// @audit event/error `OffboardSupport` came earlier
/// @audit event/error `Offboard` came earlier
/// @audit event/error `Cleanup` came earlier
/// @audit event/error `QuorumUpdated` came earlier
45:     address public immutable psm;

/// @audit event/error `OffboardSupport` came earlier
/// @audit event/error `Offboard` came earlier
/// @audit event/error `Cleanup` came earlier
/// @audit event/error `QuorumUpdated` came earlier
49:     mapping(uint256 => mapping(address => uint256)) public polls;

/// @audit event/error `OffboardSupport` came earlier
/// @audit event/error `Offboard` came earlier
/// @audit event/error `Cleanup` came earlier
/// @audit event/error `QuorumUpdated` came earlier
53:     mapping(address => mapping(uint256 => mapping(address => uint256)))

/// @audit event/error `OffboardSupport` came earlier
/// @audit event/error `Offboard` came earlier
/// @audit event/error `Cleanup` came earlier
/// @audit event/error `QuorumUpdated` came earlier
58:     mapping(address => uint256) public lastPollBlock;

/// @audit event/error `OffboardSupport` came earlier
/// @audit event/error `Offboard` came earlier
/// @audit event/error `Cleanup` came earlier
/// @audit event/error `QuorumUpdated` came earlier
61:     mapping(address => bool) public canOffboard;

/// @audit event/error `OffboardSupport` came earlier
/// @audit event/error `Offboard` came earlier
/// @audit event/error `Cleanup` came earlier
/// @audit event/error `QuorumUpdated` came earlier
64:     uint256 public nOffboardingsInProgress;

```
*Github:* [[36](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L36), [39](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L39), [42](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L42), [45](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L45), [49](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L49), [53](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L53), [58](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L58), [61](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L61), [64](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L64)]


```solidity
File: src/governance/ProfitManager.sol

/// @audit state variable `guild` came earlier
/// @audit state variable `credit` came earlier
/// @audit state variable `psm` came earlier
/// @audit state variable `gaugeProfitIndex` came earlier
/// @audit state variable `userGaugeProfitIndex` came earlier
48:     struct ProfitSharingConfig {

/// @audit function `constructor` came earlier
111:     event GaugePnL(address indexed gauge, uint256 indexed when, int256 pnl);

/// @audit function `constructor` came earlier
114:     event SurplusBufferUpdate(uint256 indexed when, uint256 newValue);

/// @audit function `constructor` came earlier
117:     event TermSurplusBufferUpdate(

/// @audit function `constructor` came earlier
124:     event CreditMultiplierUpdate(uint256 indexed when, uint256 newValue);

/// @audit function `constructor` came earlier
127:     event ProfitSharingConfigUpdate(

/// @audit function `constructor` came earlier
137:     event ClaimRewards(

/// @audit function `constructor` came earlier
145:     event MinBorrowUpdate(uint256 indexed when, uint256 newValue);

/// @audit function `constructor` came earlier
148:     event GaugeWeightToleranceUpdate(uint256 indexed when, uint256 newValue);

```
*Github:* [[48](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L48), [111](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L111), [114](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L114), [117](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L117), [124](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L124), [127](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L127), [137](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L137), [145](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L145), [148](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L148)]


```solidity
File: src/loan/AuctionHouse.sol

/// @audit event/error `AuctionStart` came earlier
/// @audit event/error `AuctionEnd` came earlier
31:     uint256 public immutable midPoint;

/// @audit event/error `AuctionStart` came earlier
/// @audit event/error `AuctionEnd` came earlier
38:     uint256 public immutable auctionDuration;

/// @audit state variable `midPoint` came earlier
/// @audit state variable `auctionDuration` came earlier
/// @audit event/error `AuctionStart` came earlier
/// @audit event/error `AuctionEnd` came earlier
40:     struct Auction {

/// @audit event/error `AuctionStart` came earlier
/// @audit event/error `AuctionEnd` came earlier
51:     mapping(bytes32 => Auction) internal auctions;

/// @audit event/error `AuctionStart` came earlier
/// @audit event/error `AuctionEnd` came earlier
54:     uint256 public nAuctionsInProgress;

```
*Github:* [[31](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L31), [38](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L38), [40](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L40), [51](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L51), [54](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L54)]


```solidity
File: src/loan/LendingTerm.sol

/// @audit event/error `LoanOpen` came earlier
/// @audit event/error `LoanCall` came earlier
35:     enum LoanCloseType {

/// @audit event/error `LoanOpen` came earlier
/// @audit event/error `LoanCall` came earlier
/// @audit event/error `LoanClose` came earlier
/// @audit event/error `LoanAddCollateral` came earlier
/// @audit event/error `LoanPartialRepay` came earlier
61:     struct Signature {

/// @audit event/error `LoanOpen` came earlier
/// @audit event/error `LoanCall` came earlier
/// @audit event/error `LoanClose` came earlier
/// @audit event/error `LoanAddCollateral` came earlier
/// @audit event/error `LoanPartialRepay` came earlier
68:     uint256 public constant YEAR = 31557600;

/// @audit event/error `LoanOpen` came earlier
/// @audit event/error `LoanCall` came earlier
/// @audit event/error `LoanClose` came earlier
/// @audit event/error `LoanAddCollateral` came earlier
/// @audit event/error `LoanPartialRepay` came earlier
73:     mapping(bytes32 => uint256) public lastPartialRepay;

/// @audit state variable `YEAR` came earlier
/// @audit state variable `lastPartialRepay` came earlier
/// @audit event/error `LoanOpen` came earlier
/// @audit event/error `LoanCall` came earlier
/// @audit event/error `LoanClose` came earlier
/// @audit event/error `LoanAddCollateral` came earlier
/// @audit event/error `LoanPartialRepay` came earlier
75:     struct Loan {

/// @audit event/error `LoanOpen` came earlier
/// @audit event/error `LoanCall` came earlier
/// @audit event/error `LoanClose` came earlier
/// @audit event/error `LoanAddCollateral` came earlier
/// @audit event/error `LoanPartialRepay` came earlier
89:     mapping(bytes32 => Loan) internal loans;

/// @audit event/error `LoanOpen` came earlier
/// @audit event/error `LoanCall` came earlier
/// @audit event/error `LoanClose` came earlier
/// @audit event/error `LoanAddCollateral` came earlier
/// @audit event/error `LoanPartialRepay` came earlier
95:     uint256 public issuance;

/// @audit state variable `YEAR` came earlier
/// @audit state variable `lastPartialRepay` came earlier
/// @audit state variable `loans` came earlier
/// @audit state variable `issuance` came earlier
/// @audit event/error `LoanOpen` came earlier
/// @audit event/error `LoanCall` came earlier
/// @audit event/error `LoanClose` came earlier
/// @audit event/error `LoanAddCollateral` came earlier
/// @audit event/error `LoanPartialRepay` came earlier
97:     struct LendingTermReferences {

/// @audit event/error `LoanOpen` came earlier
/// @audit event/error `LoanCall` came earlier
/// @audit event/error `LoanClose` came earlier
/// @audit event/error `LoanAddCollateral` came earlier
/// @audit event/error `LoanPartialRepay` came earlier
112:     LendingTermReferences internal refs;

/// @audit state variable `YEAR` came earlier
/// @audit state variable `lastPartialRepay` came earlier
/// @audit state variable `loans` came earlier
/// @audit state variable `issuance` came earlier
/// @audit state variable `refs` came earlier
/// @audit event/error `LoanOpen` came earlier
/// @audit event/error `LoanCall` came earlier
/// @audit event/error `LoanClose` came earlier
/// @audit event/error `LoanAddCollateral` came earlier
/// @audit event/error `LoanPartialRepay` came earlier
114:     struct LendingTermParams {

/// @audit event/error `LoanOpen` came earlier
/// @audit event/error `LoanCall` came earlier
/// @audit event/error `LoanClose` came earlier
/// @audit event/error `LoanAddCollateral` came earlier
/// @audit event/error `LoanPartialRepay` came earlier
151:     LendingTermParams internal params;

```
*Github:* [[35](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L35), [61](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L61), [68](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L68), [73](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L73), [75](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L75), [89](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L89), [95](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L95), [97](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L97), [112](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L112), [114](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L114), [151](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L151)]


```solidity
File: src/loan/SurplusGuildMinter.sol

/// @audit event/error `Stake` came earlier
/// @audit event/error `Unstake` came earlier
/// @audit event/error `GuildReward` came earlier
/// @audit event/error `MintRatioUpdate` came earlier
/// @audit event/error `RewardRatioUpdate` came earlier
56:     address public immutable profitManager;

/// @audit event/error `Stake` came earlier
/// @audit event/error `Unstake` came earlier
/// @audit event/error `GuildReward` came earlier
/// @audit event/error `MintRatioUpdate` came earlier
/// @audit event/error `RewardRatioUpdate` came earlier
59:     address public immutable credit;

/// @audit event/error `Stake` came earlier
/// @audit event/error `Unstake` came earlier
/// @audit event/error `GuildReward` came earlier
/// @audit event/error `MintRatioUpdate` came earlier
/// @audit event/error `RewardRatioUpdate` came earlier
62:     address public immutable guild;

/// @audit event/error `Stake` came earlier
/// @audit event/error `Unstake` came earlier
/// @audit event/error `GuildReward` came earlier
/// @audit event/error `MintRatioUpdate` came earlier
/// @audit event/error `RewardRatioUpdate` came earlier
65:     address public immutable rlgm;

/// @audit event/error `Stake` came earlier
/// @audit event/error `Unstake` came earlier
/// @audit event/error `GuildReward` came earlier
/// @audit event/error `MintRatioUpdate` came earlier
/// @audit event/error `RewardRatioUpdate` came earlier
70:     uint256 public mintRatio;

/// @audit event/error `Stake` came earlier
/// @audit event/error `Unstake` came earlier
/// @audit event/error `GuildReward` came earlier
/// @audit event/error `MintRatioUpdate` came earlier
/// @audit event/error `RewardRatioUpdate` came earlier
75:     uint256 public rewardRatio;

/// @audit state variable `MIN_STAKE` came earlier
/// @audit state variable `YEAR` came earlier
/// @audit state variable `profitManager` came earlier
/// @audit state variable `credit` came earlier
/// @audit state variable `guild` came earlier
/// @audit state variable `rlgm` came earlier
/// @audit state variable `mintRatio` came earlier
/// @audit state variable `rewardRatio` came earlier
/// @audit event/error `Stake` came earlier
/// @audit event/error `Unstake` came earlier
/// @audit event/error `GuildReward` came earlier
/// @audit event/error `MintRatioUpdate` came earlier
/// @audit event/error `RewardRatioUpdate` came earlier
77:     struct UserStake {

/// @audit event/error `Stake` came earlier
/// @audit event/error `Unstake` came earlier
/// @audit event/error `GuildReward` came earlier
/// @audit event/error `MintRatioUpdate` came earlier
/// @audit event/error `RewardRatioUpdate` came earlier
86:     mapping(address => mapping(address => UserStake)) internal _stakes;

```
*Github:* [[56](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L56), [59](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L59), [62](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L62), [65](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L65), [70](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L70), [75](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L75), [77](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L77), [86](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L86)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

/// @audit function `mint` came earlier
19:     address public immutable token;

/// @audit function `mint` came earlier
22:     bytes32 public immutable role;

```
*Github:* [[19](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L19), [22](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L22)]


```solidity
File: src/tokens/ERC20Gauges.sol

/// @audit function `gauges` came earlier
/// @audit function `isGauge` came earlier
/// @audit function `isDeprecatedGauge` came earlier
/// @audit function `numGauges` came earlier
/// @audit function `deprecatedGauges` came earlier
/// @audit function `numDeprecatedGauges` came earlier
/// @audit function `liveGauges` came earlier
/// @audit function `numLiveGauges` came earlier
/// @audit function `userGauges` came earlier
/// @audit function `isUserGauge` came earlier
/// @audit function `numUserGauges` came earlier
/// @audit function `userUnusedWeight` came earlier
/// @audit function `calculateGaugeAllocation` came earlier
200:     event IncrementGaugeWeight(

/// @audit function `gauges` came earlier
/// @audit function `isGauge` came earlier
/// @audit function `isDeprecatedGauge` came earlier
/// @audit function `numGauges` came earlier
/// @audit function `deprecatedGauges` came earlier
/// @audit function `numDeprecatedGauges` came earlier
/// @audit function `liveGauges` came earlier
/// @audit function `numLiveGauges` came earlier
/// @audit function `userGauges` came earlier
/// @audit function `isUserGauge` came earlier
/// @audit function `numUserGauges` came earlier
/// @audit function `userUnusedWeight` came earlier
/// @audit function `calculateGaugeAllocation` came earlier
207:     event DecrementGaugeWeight(

/// @audit function `gauges` came earlier
/// @audit function `isGauge` came earlier
/// @audit function `isDeprecatedGauge` came earlier
/// @audit function `numGauges` came earlier
/// @audit function `deprecatedGauges` came earlier
/// @audit function `numDeprecatedGauges` came earlier
/// @audit function `liveGauges` came earlier
/// @audit function `numLiveGauges` came earlier
/// @audit function `userGauges` came earlier
/// @audit function `isUserGauge` came earlier
/// @audit function `numUserGauges` came earlier
/// @audit function `userUnusedWeight` came earlier
/// @audit function `calculateGaugeAllocation` came earlier
/// @audit function `incrementGauge` came earlier
/// @audit function `_incrementGaugeWeight` came earlier
/// @audit function `_incrementUserAndGlobalWeights` came earlier
/// @audit function `incrementGauges` came earlier
/// @audit function `decrementGauge` came earlier
/// @audit function `_decrementGaugeWeight` came earlier
/// @audit function `decrementGauges` came earlier
374:     event AddGauge(address indexed gauge, uint256 indexed gaugeType);

/// @audit function `gauges` came earlier
/// @audit function `isGauge` came earlier
/// @audit function `isDeprecatedGauge` came earlier
/// @audit function `numGauges` came earlier
/// @audit function `deprecatedGauges` came earlier
/// @audit function `numDeprecatedGauges` came earlier
/// @audit function `liveGauges` came earlier
/// @audit function `numLiveGauges` came earlier
/// @audit function `userGauges` came earlier
/// @audit function `isUserGauge` came earlier
/// @audit function `numUserGauges` came earlier
/// @audit function `userUnusedWeight` came earlier
/// @audit function `calculateGaugeAllocation` came earlier
/// @audit function `incrementGauge` came earlier
/// @audit function `_incrementGaugeWeight` came earlier
/// @audit function `_incrementUserAndGlobalWeights` came earlier
/// @audit function `incrementGauges` came earlier
/// @audit function `decrementGauge` came earlier
/// @audit function `_decrementGaugeWeight` came earlier
/// @audit function `decrementGauges` came earlier
377:     event RemoveGauge(address indexed gauge);

/// @audit function `gauges` came earlier
/// @audit function `isGauge` came earlier
/// @audit function `isDeprecatedGauge` came earlier
/// @audit function `numGauges` came earlier
/// @audit function `deprecatedGauges` came earlier
/// @audit function `numDeprecatedGauges` came earlier
/// @audit function `liveGauges` came earlier
/// @audit function `numLiveGauges` came earlier
/// @audit function `userGauges` came earlier
/// @audit function `isUserGauge` came earlier
/// @audit function `numUserGauges` came earlier
/// @audit function `userUnusedWeight` came earlier
/// @audit function `calculateGaugeAllocation` came earlier
/// @audit function `incrementGauge` came earlier
/// @audit function `_incrementGaugeWeight` came earlier
/// @audit function `_incrementUserAndGlobalWeights` came earlier
/// @audit function `incrementGauges` came earlier
/// @audit function `decrementGauge` came earlier
/// @audit function `_decrementGaugeWeight` came earlier
/// @audit function `decrementGauges` came earlier
380:     event MaxGaugesUpdate(uint256 oldMaxGauges, uint256 newMaxGauges);

/// @audit function `gauges` came earlier
/// @audit function `isGauge` came earlier
/// @audit function `isDeprecatedGauge` came earlier
/// @audit function `numGauges` came earlier
/// @audit function `deprecatedGauges` came earlier
/// @audit function `numDeprecatedGauges` came earlier
/// @audit function `liveGauges` came earlier
/// @audit function `numLiveGauges` came earlier
/// @audit function `userGauges` came earlier
/// @audit function `isUserGauge` came earlier
/// @audit function `numUserGauges` came earlier
/// @audit function `userUnusedWeight` came earlier
/// @audit function `calculateGaugeAllocation` came earlier
/// @audit function `incrementGauge` came earlier
/// @audit function `_incrementGaugeWeight` came earlier
/// @audit function `_incrementUserAndGlobalWeights` came earlier
/// @audit function `incrementGauges` came earlier
/// @audit function `decrementGauge` came earlier
/// @audit function `_decrementGaugeWeight` came earlier
/// @audit function `decrementGauges` came earlier
383:     event CanExceedMaxGaugesUpdate(

/// @audit event/error `IncrementGaugeWeight` came earlier
/// @audit event/error `DecrementGaugeWeight` came earlier
/// @audit event/error `AddGauge` came earlier
/// @audit event/error `RemoveGauge` came earlier
/// @audit event/error `MaxGaugesUpdate` came earlier
/// @audit event/error `CanExceedMaxGaugesUpdate` came earlier
/// @audit function `gauges` came earlier
/// @audit function `isGauge` came earlier
/// @audit function `isDeprecatedGauge` came earlier
/// @audit function `numGauges` came earlier
/// @audit function `deprecatedGauges` came earlier
/// @audit function `numDeprecatedGauges` came earlier
/// @audit function `liveGauges` came earlier
/// @audit function `numLiveGauges` came earlier
/// @audit function `userGauges` came earlier
/// @audit function `isUserGauge` came earlier
/// @audit function `numUserGauges` came earlier
/// @audit function `userUnusedWeight` came earlier
/// @audit function `calculateGaugeAllocation` came earlier
/// @audit function `incrementGauge` came earlier
/// @audit function `_incrementGaugeWeight` came earlier
/// @audit function `_incrementUserAndGlobalWeights` came earlier
/// @audit function `incrementGauges` came earlier
/// @audit function `decrementGauge` came earlier
/// @audit function `_decrementGaugeWeight` came earlier
/// @audit function `decrementGauges` came earlier
390:     uint256 public maxGauges;

/// @audit event/error `IncrementGaugeWeight` came earlier
/// @audit event/error `DecrementGaugeWeight` came earlier
/// @audit event/error `AddGauge` came earlier
/// @audit event/error `RemoveGauge` came earlier
/// @audit event/error `MaxGaugesUpdate` came earlier
/// @audit event/error `CanExceedMaxGaugesUpdate` came earlier
/// @audit function `gauges` came earlier
/// @audit function `isGauge` came earlier
/// @audit function `isDeprecatedGauge` came earlier
/// @audit function `numGauges` came earlier
/// @audit function `deprecatedGauges` came earlier
/// @audit function `numDeprecatedGauges` came earlier
/// @audit function `liveGauges` came earlier
/// @audit function `numLiveGauges` came earlier
/// @audit function `userGauges` came earlier
/// @audit function `isUserGauge` came earlier
/// @audit function `numUserGauges` came earlier
/// @audit function `userUnusedWeight` came earlier
/// @audit function `calculateGaugeAllocation` came earlier
/// @audit function `incrementGauge` came earlier
/// @audit function `_incrementGaugeWeight` came earlier
/// @audit function `_incrementUserAndGlobalWeights` came earlier
/// @audit function `incrementGauges` came earlier
/// @audit function `decrementGauge` came earlier
/// @audit function `_decrementGaugeWeight` came earlier
/// @audit function `decrementGauges` came earlier
393:     mapping(address => bool) public canExceedMaxGauges;

```
*Github:* [[200](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L200), [207](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L207), [374](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L374), [377](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L377), [380](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L380), [383](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L383), [390](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L390), [393](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L393)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

/// @audit function `checkpoints` came earlier
/// @audit function `numCheckpoints` came earlier
/// @audit function `freeVotes` came earlier
/// @audit function `getVotes` came earlier
/// @audit function `getPastVotes` came earlier
/// @audit function `_checkpointsLookup` came earlier
/// @audit function `average` came earlier
132:     event MaxDelegatesUpdate(uint256 oldMaxDelegates, uint256 newMaxDelegates);

/// @audit function `checkpoints` came earlier
/// @audit function `numCheckpoints` came earlier
/// @audit function `freeVotes` came earlier
/// @audit function `getVotes` came earlier
/// @audit function `getPastVotes` came earlier
/// @audit function `_checkpointsLookup` came earlier
/// @audit function `average` came earlier
135:     event CanContractExceedMaxDelegatesUpdate(

/// @audit event/error `MaxDelegatesUpdate` came earlier
/// @audit event/error `CanContractExceedMaxDelegatesUpdate` came earlier
/// @audit function `checkpoints` came earlier
/// @audit function `numCheckpoints` came earlier
/// @audit function `freeVotes` came earlier
/// @audit function `getVotes` came earlier
/// @audit function `getPastVotes` came earlier
/// @audit function `_checkpointsLookup` came earlier
/// @audit function `average` came earlier
141:     uint256 public maxDelegates;

/// @audit event/error `MaxDelegatesUpdate` came earlier
/// @audit event/error `CanContractExceedMaxDelegatesUpdate` came earlier
/// @audit function `checkpoints` came earlier
/// @audit function `numCheckpoints` came earlier
/// @audit function `freeVotes` came earlier
/// @audit function `getVotes` came earlier
/// @audit function `getPastVotes` came earlier
/// @audit function `_checkpointsLookup` came earlier
/// @audit function `average` came earlier
144:     mapping(address => bool) public canContractExceedMaxDelegates;

/// @audit function `checkpoints` came earlier
/// @audit function `numCheckpoints` came earlier
/// @audit function `freeVotes` came earlier
/// @audit function `getVotes` came earlier
/// @audit function `getPastVotes` came earlier
/// @audit function `_checkpointsLookup` came earlier
/// @audit function `average` came earlier
/// @audit function `_setMaxDelegates` came earlier
/// @audit function `_setContractExceedMaxDelegates` came earlier
174:     event Delegation(

/// @audit function `checkpoints` came earlier
/// @audit function `numCheckpoints` came earlier
/// @audit function `freeVotes` came earlier
/// @audit function `getVotes` came earlier
/// @audit function `getPastVotes` came earlier
/// @audit function `_checkpointsLookup` came earlier
/// @audit function `average` came earlier
/// @audit function `_setMaxDelegates` came earlier
/// @audit function `_setContractExceedMaxDelegates` came earlier
181:     event Undelegation(

/// @audit function `checkpoints` came earlier
/// @audit function `numCheckpoints` came earlier
/// @audit function `freeVotes` came earlier
/// @audit function `getVotes` came earlier
/// @audit function `getPastVotes` came earlier
/// @audit function `_checkpointsLookup` came earlier
/// @audit function `average` came earlier
/// @audit function `_setMaxDelegates` came earlier
/// @audit function `_setContractExceedMaxDelegates` came earlier
188:     event DelegateVotesChanged(

/// @audit function `checkpoints` came earlier
/// @audit function `numCheckpoints` came earlier
/// @audit function `freeVotes` came earlier
/// @audit function `getVotes` came earlier
/// @audit function `getPastVotes` came earlier
/// @audit function `_checkpointsLookup` came earlier
/// @audit function `average` came earlier
/// @audit function `_setMaxDelegates` came earlier
/// @audit function `_setContractExceedMaxDelegates` came earlier
196:     event DelegateChanged(

/// @audit event/error `MaxDelegatesUpdate` came earlier
/// @audit event/error `CanContractExceedMaxDelegatesUpdate` came earlier
/// @audit event/error `Delegation` came earlier
/// @audit event/error `Undelegation` came earlier
/// @audit event/error `DelegateVotesChanged` came earlier
/// @audit event/error `DelegateChanged` came earlier
/// @audit function `checkpoints` came earlier
/// @audit function `numCheckpoints` came earlier
/// @audit function `freeVotes` came earlier
/// @audit function `getVotes` came earlier
/// @audit function `getPastVotes` came earlier
/// @audit function `_checkpointsLookup` came earlier
/// @audit function `average` came earlier
/// @audit function `_setMaxDelegates` came earlier
/// @audit function `_setContractExceedMaxDelegates` came earlier
203:     mapping(address => mapping(address => uint256))

/// @audit event/error `MaxDelegatesUpdate` came earlier
/// @audit event/error `CanContractExceedMaxDelegatesUpdate` came earlier
/// @audit event/error `Delegation` came earlier
/// @audit event/error `Undelegation` came earlier
/// @audit event/error `DelegateVotesChanged` came earlier
/// @audit event/error `DelegateChanged` came earlier
/// @audit function `checkpoints` came earlier
/// @audit function `numCheckpoints` came earlier
/// @audit function `freeVotes` came earlier
/// @audit function `getVotes` came earlier
/// @audit function `getPastVotes` came earlier
/// @audit function `_checkpointsLookup` came earlier
/// @audit function `average` came earlier
/// @audit function `_setMaxDelegates` came earlier
/// @audit function `_setContractExceedMaxDelegates` came earlier
207:     mapping(address => uint256) public userDelegatedVotes;

/// @audit event/error `MaxDelegatesUpdate` came earlier
/// @audit event/error `CanContractExceedMaxDelegatesUpdate` came earlier
/// @audit event/error `Delegation` came earlier
/// @audit event/error `Undelegation` came earlier
/// @audit event/error `DelegateVotesChanged` came earlier
/// @audit event/error `DelegateChanged` came earlier
/// @audit function `checkpoints` came earlier
/// @audit function `numCheckpoints` came earlier
/// @audit function `freeVotes` came earlier
/// @audit function `getVotes` came earlier
/// @audit function `getPastVotes` came earlier
/// @audit function `_checkpointsLookup` came earlier
/// @audit function `average` came earlier
/// @audit function `_setMaxDelegates` came earlier
/// @audit function `_setContractExceedMaxDelegates` came earlier
210:     mapping(address => EnumerableSet.AddressSet) private _delegates;

/// @audit event/error `MaxDelegatesUpdate` came earlier
/// @audit event/error `CanContractExceedMaxDelegatesUpdate` came earlier
/// @audit event/error `Delegation` came earlier
/// @audit event/error `Undelegation` came earlier
/// @audit event/error `DelegateVotesChanged` came earlier
/// @audit event/error `DelegateChanged` came earlier
/// @audit function `checkpoints` came earlier
/// @audit function `numCheckpoints` came earlier
/// @audit function `freeVotes` came earlier
/// @audit function `getVotes` came earlier
/// @audit function `getPastVotes` came earlier
/// @audit function `_checkpointsLookup` came earlier
/// @audit function `average` came earlier
/// @audit function `_setMaxDelegates` came earlier
/// @audit function `_setContractExceedMaxDelegates` came earlier
/// @audit function `delegatesVotesCount` came earlier
/// @audit function `delegates` came earlier
/// @audit function `containsDelegate` came earlier
/// @audit function `delegateCount` came earlier
/// @audit function `incrementDelegation` came earlier
/// @audit function `undelegate` came earlier
/// @audit function `delegate` came earlier
/// @audit function `_delegate` came earlier
/// @audit function `_incrementDelegation` came earlier
/// @audit function `_undelegate` came earlier
/// @audit function `_writeCheckpoint` came earlier
/// @audit function `_add` came earlier
/// @audit function `_subtract` came earlier
/// @audit function `_burn` came earlier
/// @audit function `transfer` came earlier
/// @audit function `transferFrom` came earlier
/// @audit function `_decrementVotesUntilFree` came earlier
467:     bytes32 public constant DELEGATION_TYPEHASH =

```
*Github:* [[132](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L132), [135](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L135), [141](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L141), [144](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L144), [174](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L174), [181](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L181), [188](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L188), [196](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L196), [203](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L203), [207](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L207), [210](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L210), [467](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L467)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

/// @audit event/error `RebaseEnter` came earlier
/// @audit event/error `RebaseExit` came earlier
/// @audit event/error `RebaseDistribution` came earlier
/// @audit event/error `RebaseReward` came earlier
77:     struct RebasingState {

/// @audit event/error `RebaseEnter` came earlier
/// @audit event/error `RebaseExit` came earlier
/// @audit event/error `RebaseDistribution` came earlier
/// @audit event/error `RebaseReward` came earlier
83:     mapping(address => RebasingState) internal rebasingState;

/// @audit event/error `RebaseEnter` came earlier
/// @audit event/error `RebaseExit` came earlier
/// @audit event/error `RebaseDistribution` came earlier
/// @audit event/error `RebaseReward` came earlier
86:     uint256 internal totalRebasingShares;

/// @audit event/error `RebaseEnter` came earlier
/// @audit event/error `RebaseExit` came earlier
/// @audit event/error `RebaseDistribution` came earlier
/// @audit event/error `RebaseReward` came earlier
93:     uint256 internal constant START_REBASING_SHARE_PRICE = 1e30;

/// @audit event/error `RebaseEnter` came earlier
/// @audit event/error `RebaseExit` came earlier
/// @audit event/error `RebaseDistribution` came earlier
/// @audit event/error `RebaseReward` came earlier
97:     uint256 public constant DISTRIBUTION_PERIOD = 30 days;

/// @audit state variable `rebasingState` came earlier
/// @audit state variable `totalRebasingShares` came earlier
/// @audit state variable `START_REBASING_SHARE_PRICE` came earlier
/// @audit state variable `DISTRIBUTION_PERIOD` came earlier
/// @audit event/error `RebaseEnter` came earlier
/// @audit event/error `RebaseExit` came earlier
/// @audit event/error `RebaseDistribution` came earlier
/// @audit event/error `RebaseReward` came earlier
99:     struct InterpolatedValue {

/// @audit event/error `RebaseEnter` came earlier
/// @audit event/error `RebaseExit` came earlier
/// @audit event/error `RebaseDistribution` came earlier
/// @audit event/error `RebaseReward` came earlier
108:     InterpolatedValue internal __rebasingSharePrice =

/// @audit event/error `RebaseEnter` came earlier
/// @audit event/error `RebaseExit` came earlier
/// @audit event/error `RebaseDistribution` came earlier
/// @audit event/error `RebaseReward` came earlier
118:     InterpolatedValue internal __unmintedRebaseRewards =

```
*Github:* [[77](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L77), [83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L83), [86](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L86), [93](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L93), [97](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L97), [99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L99), [108](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L108), [118](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L118)]


```solidity
File: src/tokens/GuildToken.sol

/// @audit function `constructor` came earlier
/// @audit function `setMaxDelegates` came earlier
/// @audit function `setContractExceedMaxDelegates` came earlier
/// @audit function `addGauge` came earlier
/// @audit function `removeGauge` came earlier
/// @audit function `setMaxGauges` came earlier
/// @audit function `setCanExceedMaxGauges` came earlier
107:     event GaugeLoss(address indexed gauge, uint256 indexed when);

/// @audit function `constructor` came earlier
/// @audit function `setMaxDelegates` came earlier
/// @audit function `setContractExceedMaxDelegates` came earlier
/// @audit function `addGauge` came earlier
/// @audit function `removeGauge` came earlier
/// @audit function `setMaxGauges` came earlier
/// @audit function `setCanExceedMaxGauges` came earlier
109:     event GaugeLossApply(

/// @audit event/error `GaugeLoss` came earlier
/// @audit event/error `GaugeLossApply` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setMaxDelegates` came earlier
/// @audit function `setContractExceedMaxDelegates` came earlier
/// @audit function `addGauge` came earlier
/// @audit function `removeGauge` came earlier
/// @audit function `setMaxGauges` came earlier
/// @audit function `setCanExceedMaxGauges` came earlier
117:     mapping(address => uint256) public lastGaugeLoss;

/// @audit event/error `GaugeLoss` came earlier
/// @audit event/error `GaugeLossApply` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setMaxDelegates` came earlier
/// @audit function `setContractExceedMaxDelegates` came earlier
/// @audit function `addGauge` came earlier
/// @audit function `removeGauge` came earlier
/// @audit function `setMaxGauges` came earlier
/// @audit function `setCanExceedMaxGauges` came earlier
120:     mapping(address => mapping(address => uint256)) public lastGaugeLossApplied;

/// @audit event/error `GaugeLoss` came earlier
/// @audit event/error `GaugeLossApply` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setMaxDelegates` came earlier
/// @audit function `setContractExceedMaxDelegates` came earlier
/// @audit function `addGauge` came earlier
/// @audit function `removeGauge` came earlier
/// @audit function `setMaxGauges` came earlier
/// @audit function `setCanExceedMaxGauges` came earlier
/// @audit function `notifyGaugeLoss` came earlier
/// @audit function `applyGaugeLoss` came earlier
169:     bool public transferable; // default = false

/// @audit function `constructor` came earlier
/// @audit function `setMaxDelegates` came earlier
/// @audit function `setContractExceedMaxDelegates` came earlier
/// @audit function `addGauge` came earlier
/// @audit function `removeGauge` came earlier
/// @audit function `setMaxGauges` came earlier
/// @audit function `setCanExceedMaxGauges` came earlier
/// @audit function `notifyGaugeLoss` came earlier
/// @audit function `applyGaugeLoss` came earlier
172:     event TransfersEnabled(uint256 block, uint256 timestamp);

/// @audit function `constructor` came earlier
/// @audit function `setMaxDelegates` came earlier
/// @audit function `setContractExceedMaxDelegates` came earlier
/// @audit function `addGauge` came earlier
/// @audit function `removeGauge` came earlier
/// @audit function `setMaxGauges` came earlier
/// @audit function `setCanExceedMaxGauges` came earlier
/// @audit function `notifyGaugeLoss` came earlier
/// @audit function `applyGaugeLoss` came earlier
/// @audit function `enableTransfer` came earlier
/// @audit function `_beforeTokenTransfer` came earlier
194:     event ProfitManagerUpdated(uint256 timestamp, address newValue);

```
*Github:* [[107](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L107), [109](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L109), [117](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L117), [120](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L120), [169](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L169), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L172), [194](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L194)]


</details>


<a name="NC-13"></a> 
### [NC-13] Contract should expose an `interface`
All `external`/`public` functions should extend an `interface`. This is useful to make sure that the whole API is extracted.

*Note:* It is possible that the interface is out-of-scope and has not been seen by the bot.

<details>
<summary>
There are <b>160</b> instances (click to show):
</summary>

```solidity
File: src/core/Core.sol

50:     function createRole(

```
*Github:* [[50](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/Core.sol#L50)]


```solidity
File: src/core/CoreRef.sol

30:     function core() public view returns (Core) {

39:     function setCore(

57:     function pause() public onlyCoreRole(CoreRoles.GUARDIAN) {

62:     function unpause() public onlyCoreRole(CoreRoles.GUARDIAN) {

87:     function emergencyAction(

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L30), [39](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L39), [57](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L57), [62](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L62), [87](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L87)]


```solidity
File: src/governance/GuildGovernor.sol

57:     function quorum(

78:     function setVotingDelay(

85:     function setVotingPeriod(

92:     function setProposalThreshold(

99:     function setQuorum(

110:     function guardianCancel(

151:     function proposalThreshold()

160:     function state(

171:     function supportsInterface(

```
*Github:* [[57](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L57), [78](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L78), [85](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L85), [92](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L92), [99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L99), [110](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L110), [151](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L151), [160](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L160), [171](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L171)]


```solidity
File: src/governance/GuildTimelockController.sol

30:     function hasRole(

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L30)]


```solidity
File: src/governance/GuildVetoGovernor.sol

53:     function quorum(

60:     function setQuorum(

93:     function updateTimelock(

130:     function COUNTING_MODE()

143:     function hasVoted(

153:     function proposalVotes(

222:     function votingDelay() public pure override returns (uint256) {

230:     function votingPeriod() public pure override returns (uint256) {

246:     function state(

304:     function propose(

315:     function createVeto(bytes32 timelockId) external returns (uint256) {

349:     function executeVeto(bytes32 timelockId) external returns (uint256) {

```
*Github:* [[53](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L53), [60](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L60), [93](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L93), [130](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L130), [143](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L143), [153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L153), [222](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L222), [230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L230), [246](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L246), [304](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L304), [315](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L315), [349](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L349)]


```solidity
File: src/governance/LendingTermOffboarding.sol

78:     function setQuorum(

89:     function proposeOffboard(address term) external whenNotPaused {

116:     function supportOffboard(

153:     function offboard(address term) external whenNotPaused {

175:     function cleanup(address term) external whenNotPaused {

```
*Github:* [[78](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L78), [89](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L89), [116](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L116), [153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L153), [175](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L175)]


```solidity
File: src/governance/LendingTermOnboarding.sol

92:     function allowImplementation(

105:     function createTerm(

171:     function propose(

181:     function proposeOnboard(

215:     function getOnboardProposeArgs(

```
*Github:* [[92](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L92), [105](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L105), [171](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L171), [181](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L181), [215](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L215)]


```solidity
File: src/governance/ProfitManager.sol

151:     function minBorrow() external view returns (uint256) {

156:     function initializeReferences(

172:     function totalBorrowedCredit() external view returns (uint256) {

179:     function setMinBorrow(

187:     function setGaugeWeightTolerance(

195:     function setProfitSharingConfig(

230:     function getProfitSharingConfig()

251:     function donateToSurplusBuffer(uint256 amount) external {

259:     function donateToTermSurplusBuffer(address term, uint256 amount) external {

267:     function withdrawFromSurplusBuffer(

278:     function withdrawFromTermSurplusBuffer(

292:     function notifyPnL(

409:     function claimGaugeRewards(

439:     function claimRewards(

452:     function getPendingRewards(

```
*Github:* [[151](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L151), [156](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L156), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L172), [179](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L179), [187](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L187), [195](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L195), [230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L230), [251](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L251), [259](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L259), [267](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L267), [278](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L278), [292](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L292), [409](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L409), [439](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L439), [452](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L452)]


```solidity
File: src/loan/AuctionHouse.sol

67:     function getAuction(bytes32 loanId) external view returns (Auction memory) {

75:     function startAuction(bytes32 loanId, uint256 callDebt) external {

118:     function getBidDetail(

166:     function bid(bytes32 loanId) external {

202:     function forgive(bytes32 loanId) external {

```
*Github:* [[67](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L67), [75](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L75), [118](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L118), [166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L166), [202](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L202)]


```solidity
File: src/loan/LendingTerm.sol

160:     function initialize(

176:     function getReferences()

185:     function getParameters() external view returns (LendingTermParams memory) {

190:     function collateralToken() external view returns (address) {

195:     function getLoan(bytes32 loanId) external view returns (Loan memory) {

200:     function getLoanDebt(bytes32 loanId) public view returns (uint256) {

237:     function partialRepayDelayPassed(

270:     function debtCeiling(

334:     function debtCeiling() external view returns (uint256) {

438:     function borrow(

482:     function addCollateral(bytes32 loanId, uint256 collateralToAdd) external {

562:     function partialRepay(bytes32 loanId, uint256 debtToRepay) external {

628:     function repay(bytes32 loanId) external {

678:     function call(bytes32 loanId) external {

683:     function callMany(bytes32[] memory loanIds) public {

695:     function forgive(bytes32 loanId) external onlyCoreRole(CoreRoles.GOVERNOR) {

725:     function onBid(

829:     function setAuctionHouse(

846:     function setHardCap(

```
*Github:* [[160](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L160), [176](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L176), [185](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L185), [190](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L190), [195](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L195), [200](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L200), [237](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L237), [270](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L270), [334](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L334), [438](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L438), [482](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L482), [562](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L562), [628](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L628), [678](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L678), [683](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L683), [695](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L695), [725](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L725), [829](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L829), [846](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L846)]


```solidity
File: src/loan/SimplePSM.sol

80:     function getMintAmountOut(uint256 amountIn) public view returns (uint256) {

87:     function getRedeemAmountOut(

97:     function redeemableCredit() public view returns (uint256) {

117:     function mintAndEnterRebase(

134:     function redeem(

149:     function setRedemptionsPaused(

```
*Github:* [[80](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L80), [87](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L87), [97](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L97), [117](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L117), [134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L134), [149](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L149)]


```solidity
File: src/loan/SurplusGuildMinter.sol

106:     function getUserStake(

114:     function stake(address term, uint256 amount) external whenNotPaused {

158:     function unstake(address term, uint256 amount) external {

216:     function getRewards(

293:     function updateMintRatio(address user, address term) external {

319:     function setMintRatio(

328:     function setRewardRatio(

```
*Github:* [[106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L106), [114](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L114), [158](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L158), [216](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L216), [293](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L293), [319](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L319), [328](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L328)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

60:     function replenishBuffer(uint256 amount) external onlyCoreRole(role) {

```
*Github:* [[60](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L60)]


```solidity
File: src/tokens/CreditToken.sol

43:     function setMaxDelegates(

50:     function setContractExceedMaxDelegates(

58:     function forceEnterRebase(

69:     function forceExitRebase(

98:     function balanceOf(

104:     function totalSupply()

113:     function transfer(

125:     function transferFrom(

```
*Github:* [[43](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L43), [50](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L50), [58](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L58), [69](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L69), [98](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L98), [104](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L104), [113](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L113), [125](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L125)]


```solidity
File: src/tokens/ERC20Gauges.sol

98:     function gauges() external view returns (address[] memory) {

103:     function isGauge(address gauge) public view returns (bool) {

108:     function isDeprecatedGauge(address gauge) public view returns (bool) {

113:     function numGauges() external view returns (uint256) {

118:     function deprecatedGauges() external view returns (address[] memory) {

123:     function numDeprecatedGauges() external view returns (uint256) {

128:     function liveGauges() external view returns (address[] memory _liveGauges) {

149:     function numLiveGauges() external view returns (uint256) {

154:     function userGauges(address user) external view returns (address[] memory) {

159:     function isUserGauge(

167:     function numUserGauges(address user) external view returns (uint256) {

172:     function userUnusedWeight(address user) external view returns (uint256) {

182:     function calculateGaugeAllocation(

219:     function incrementGauge(

269:     function incrementGauges(

301:     function decrementGauge(

340:     function decrementGauges(

481:     function transfer(

489:     function transferFrom(

```
*Github:* [[98](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L98), [103](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L103), [108](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L108), [113](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L113), [118](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L118), [123](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L123), [128](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L128), [149](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L149), [154](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L154), [159](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L159), [167](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L167), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L172), [182](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L182), [219](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L219), [269](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L269), [301](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L301), [340](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L340), [481](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L481), [489](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L489)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

52:     function checkpoints(

60:     function numCheckpoints(

71:     function freeVotes(address account) public view virtual returns (uint256) {

80:     function getVotes(address account) public view virtual returns (uint256) {

91:     function getPastVotes(

218:     function delegatesVotesCount(

230:     function delegates(

242:     function containsDelegate(

254:     function delegateCount(address delegator) public view returns (uint256) {

264:     function incrementDelegation(

276:     function undelegate(address delegatee, uint256 amount) public virtual {

286:     function delegate(address newDelegatee) external virtual {

408:     function transfer(

416:     function transferFrom(

471:     function delegateBySig(

```
*Github:* [[52](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L52), [60](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L60), [71](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L71), [80](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L80), [91](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L91), [218](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L218), [230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L230), [242](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L242), [254](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L254), [264](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L264), [276](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L276), [286](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L286), [408](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L408), [416](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L416), [471](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L471)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

281:     function enterRebase() external {

303:     function exitRebase() external {

338:     function distribute(uint256 amount) external {

389:     function isRebasing(address account) public view returns (bool) {

394:     function rebasingSupply() public view returns (uint256) {

399:     function nonRebasingSupply() external view virtual returns (uint256) {

415:     function pendingDistributedSupply() external view returns (uint256) {

426:     function balanceOf(

444:     function totalSupply() public view virtual override returns (uint256) {

451:     function targetTotalSupply() external view returns (uint256) {

553:     function transfer(

646:     function transferFrom(

```
*Github:* [[281](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L281), [303](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L303), [338](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L338), [389](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L389), [394](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L394), [399](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L399), [415](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L415), [426](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L426), [444](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L444), [451](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L451), [553](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L553), [646](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L646)]


```solidity
File: src/tokens/GuildToken.sol

59:     function setMaxDelegates(

66:     function setContractExceedMaxDelegates(

76:     function addGauge(

83:     function removeGauge(

89:     function setMaxGauges(

95:     function setCanExceedMaxGauges(

123:     function notifyGaugeLoss(address gauge) external {

133:     function applyGaugeLoss(address gauge, address who) external {

175:     function enableTransfer() external onlyCoreRole(CoreRoles.GOVERNOR) {

197:     function setProfitManager(address _newProfitManager) external onlyCoreRole(CoreRoles.GOVERNOR) {

288:     function transfer(

302:     function transferFrom(

```
*Github:* [[59](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L59), [66](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L66), [76](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L76), [83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L83), [89](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L89), [95](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L95), [123](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L123), [133](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L133), [175](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L175), [197](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L197), [288](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L288), [302](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L302)]


```solidity
File: src/utils/RateLimitedV2.sol

61:     function setRateLimitPerSecond(

75:     function setBufferCap(

83:     function buffer() public view returns (uint256) {

```
*Github:* [[61](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L61), [75](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L75), [83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L83)]


</details>


<a name="NC-14"></a> 
### [NC-14] Contract uses both `require()`/`revert()` as well as custom errors
Consider using just one method in a single file.

*There is one instance of this issue:*
```solidity
File: src/tokens/ERC20Gauges.sol

10: @notice This contract is meant to be used to support gauge style votes with weights associated with resource allocation.

```
*Github:* [[10](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L10)]



<a name="NC-15"></a> 
### [NC-15] Contracts should each be defined in separate files
Keeping each contract in a separate file makes it easier to work with multiple people, makes the code easier to maintain, and is a common practice on most projects. The following files each contains more than one contract/library/interface.

*There are <b>2</b> instances of this issue:*
```solidity
File: src/rate-limits/RateLimitedMinter.sol

/// @audit another contract/library/interface is defined in this file
10: interface IERC20Mintable {

/// @audit another contract/library/interface is defined in this file
17: contract RateLimitedMinter is RateLimitedV2 {

```
*Github:* [[10](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L10), [17](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L17)]



<a name="NC-16"></a> 
### [NC-16] Contracts should have full test coverage
While 100% code coverage does not guarantee that there are no bugs, it often will catch easy-to-find bugs, and will ensure that there are fewer regressions when the code invariably has to be modified. Furthermore, in order to get full coverage, code authors will often have to re-organize their code so that it is more modular, so that each component can be tested separately, which reduces interdependencies between modules and layers, and makes for code that is easier to reason about and audit.

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/)]



<a name="NC-17"></a> 
### [NC-17] Events that mark critical parameter changes should contain both the old and the new value
This should especially be done if the new value is not required to be different from the old value.

<details>
<summary>
There are <b>61</b> instances (click to show):
</summary>

```solidity
File: src/core/CoreRef.sol

53:         emit CoreUpdate(oldCore, newCore);

```
*Github:* [[53](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L53)]


```solidity
File: src/governance/GuildGovernor.sol

69:         emit QuorumUpdated(_quorum, newQuorum);

```
*Github:* [[69](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L69)]


```solidity
File: src/governance/GuildVetoGovernor.sol

72:         emit QuorumUpdated(_quorum, newQuorum);

100:         emit TimelockChange(timelock, newTimelock);

```
*Github:* [[72](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L72), [100](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L100)]


```solidity
File: src/governance/LendingTermOffboarding.sol

81:         emit QuorumUpdated(quorum, _quorum);

169:         emit Offboard(block.timestamp, term);

198:         emit Cleanup(block.timestamp, term);

```
*Github:* [[81](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L81), [169](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L169), [198](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L198)]


```solidity
File: src/governance/LendingTermOnboarding.sol

166:         emit TermCreated(block.timestamp, implementation, term, params);

```
*Github:* [[166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L166)]


```solidity
File: src/governance/ProfitManager.sol

107:         emit MinBorrowUpdate(block.timestamp, 100e18);

183:         emit MinBorrowUpdate(block.timestamp, newValue);

191:         emit GaugeWeightToleranceUpdate(block.timestamp, newValue);

255:         emit SurplusBufferUpdate(block.timestamp, newSurplusBuffer);

263:         emit TermSurplusBufferUpdate(block.timestamp, term, newSurplusBuffer);

274:         emit SurplusBufferUpdate(block.timestamp, newSurplusBuffer);

286:         emit TermSurplusBufferUpdate(block.timestamp, term, newSurplusBuffer);

311:                 emit TermSurplusBufferUpdate(block.timestamp, gauge, 0);

328:                 emit SurplusBufferUpdate(block.timestamp, 0);

404:         emit GaugePnL(gauge, block.timestamp, amount);

433:             emit ClaimRewards(block.timestamp, user, gauge, creditEarned);

```
*Github:* [[107](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L107), [183](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L183), [191](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L191), [255](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L255), [263](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L263), [274](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L274), [286](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L286), [311](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L311), [328](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L328), [404](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L404), [433](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L433)]


```solidity
File: src/loan/LendingTerm.sol

558:         emit LoanPartialRepay(block.timestamp, loanId, repayer, debtToRepay);

624:         emit LoanClose(block.timestamp, loanId, LoanCloseType.Repay, loanDebt);

674:         emit LoanCall(block.timestamp, loanId);

721:         emit LoanClose(block.timestamp, loanId, LoanCloseType.Forgive, 0);

```
*Github:* [[558](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L558), [624](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L624), [674](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L674), [721](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L721)]


```solidity
File: src/loan/SimplePSM.sol

111:         emit Mint(block.timestamp, to, amountIn, amountOut);

129:         emit Mint(block.timestamp, msg.sender, amountIn, amountOut);

143:         emit Redeem(block.timestamp, to, amountIn, amountOut);

153:         emit RedemptionsPaused(block.timestamp, paused);

```
*Github:* [[111](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L111), [129](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L129), [143](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L143), [153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L153)]


```solidity
File: src/loan/SurplusGuildMinter.sol

154:         emit Stake(block.timestamp, term, amount);

211:         emit Unstake(block.timestamp, term, amount);

260:                 emit GuildReward(block.timestamp, user, guildReward);

275:             emit Unstake(block.timestamp, term, uint256(userStake.credit));

323:         emit MintRatioUpdate(block.timestamp, _mintRatio);

332:         emit RewardRatioUpdate(block.timestamp, _rewardRatio);

```
*Github:* [[154](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L154), [211](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L211), [260](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L260), [275](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L275), [323](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L323), [332](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L332)]


```solidity
File: src/tokens/ERC20Gauges.sol

246:         emit IncrementGaugeWeight(user, gauge, weight);

331:         emit DecrementGaugeWeight(user, gauge, weight);

422:         emit AddGauge(gauge, _type);

439:         emit RemoveGauge(gauge);

448:         emit MaxGaugesUpdate(oldMax, newMax);

465:         emit CanExceedMaxGaugesUpdate(account, canExceedMax);

```
*Github:* [[246](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L246), [331](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L331), [422](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L422), [439](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L439), [448](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L448), [465](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L465)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

151:         emit MaxDelegatesUpdate(oldMax, newMax);

166:         emit CanContractExceedMaxDelegatesUpdate(account, canExceedMax);

314:         emit DelegateChanged(delegator, oldDelegatee, newDelegatee);

340:         emit Delegation(delegator, delegatee, amount);

359:         emit Undelegation(delegator, delegatee, amount);

384:         emit DelegateVotesChanged(delegatee, oldWeight, newWeight);

456:                 emit Undelegation(user, delegatee, delegateVotes);

```
*Github:* [[151](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L151), [166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L166), [314](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L314), [340](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L340), [359](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L359), [384](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L384), [456](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L456)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

298:         emit RebaseEnter(account, block.timestamp);

326:             emit RebaseReward(account, block.timestamp, mintAmount);

332:         emit RebaseExit(account, block.timestamp);

481:                 emit RebaseReward(account, block.timestamp, mintAmount);

546:                 emit RebaseReward(account, block.timestamp, mintAmount);

579:                 emit RebaseReward(msg.sender, block.timestamp, mintAmount);

630:                 emit RebaseReward(to, block.timestamp, mintAmount);

673:                 emit RebaseReward(from, block.timestamp, mintAmount);

724:                 emit RebaseReward(to, block.timestamp, mintAmount);

```
*Github:* [[298](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L298), [326](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L326), [332](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L332), [481](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L481), [546](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L546), [579](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L579), [630](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L630), [673](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L673), [724](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L724)]


```solidity
File: src/tokens/GuildToken.sol

128:         emit GaugeLoss(gauge, block.timestamp);

177:         emit TransfersEnabled(block.number, block.timestamp);

199:         emit ProfitManagerUpdated(block.timestamp, _newProfitManager);

```
*Github:* [[128](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L128), [177](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L177), [199](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L199)]


```solidity
File: src/utils/RateLimitedV2.sol

106:         emit BufferUsed(amount, bufferStored);

134:         emit BufferReplenished(amount, bufferStored);

155:         emit BufferCapUpdate(oldBufferCap, newBufferCap);

```
*Github:* [[106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L106), [134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L134), [155](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L155)]


</details>


<a name="NC-18"></a> 
### [NC-18] Custom errors should be used rather than `revert()`/`require()`
Custom errors are available from solidity version 0.8.4. Custom errors are more easily processed in try-catch blocks, and are easier to re-use and maintain.

<details>
<summary>
There are <b>55</b> instances (click to show):
</summary>

```solidity
File: src/core/CoreRef.sol

25:         require(_core.hasRole(role, msg.sender), "UNAUTHORIZED");

104:             require(success, "CoreRef: underlying call reverted");

```
*Github:* [[25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L25), [104](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L104)]


```solidity
File: src/governance/GuildVetoGovernor.sol

213:             revert("GuildVetoGovernor: can only vote against in veto proposals");

310:         revert("GuildVetoGovernor: cannot propose arbitrary actions");

```
*Github:* [[213](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L213), [310](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L310)]


```solidity
File: src/governance/LendingTermOffboarding.sol

125:         require(_weight != 0, "LendingTermOffboarding: poll not found");

130:         require(userWeight != 0, "LendingTermOffboarding: zero weight");

154:         require(canOffboard[term], "LendingTermOffboarding: quorum not met");

176:         require(canOffboard[term], "LendingTermOffboarding: quorum not met");

```
*Github:* [[125](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L125), [130](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L130), [154](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L154), [176](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L176)]


```solidity
File: src/governance/LendingTermOnboarding.sol

177:         revert("LendingTermOnboarding: cannot propose arbitrary actions");

185:         require(created[term] != 0, "LendingTermOnboarding: invalid term");

200:         require(!isGauge, "LendingTermOnboarding: active term");

```
*Github:* [[177](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L177), [185](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L185), [200](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L200)]


```solidity
File: src/governance/ProfitManager.sol

203:             require(otherSplit == 0, "GuildToken: invalid config");

205:             require(otherSplit != 0, "GuildToken: invalid config");

```
*Github:* [[203](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L203), [205](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L205)]


```solidity
File: src/loan/AuctionHouse.sol

61:         require(_midPoint < _auctionDuration, "AuctionHouse: invalid params");

123:         require(_startTime != 0, "AuctionHouse: invalid auction");

126:         require(auctions[loanId].endTime == 0, "AuctionHouse: auction ended");

172:         require(creditAsked != 0, "AuctionHouse: cannot bid 0");

206:         require(creditAsked == 0, "AuctionHouse: ongoing auction");

```
*Github:* [[61](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L61), [123](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L123), [126](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L126), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L172), [206](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L206)]


```solidity
File: src/loan/LendingTerm.sol

344:         require(borrowAmount != 0, "LendingTerm: cannot borrow 0");

345:         require(collateralAmount != 0, "LendingTerm: cannot stake 0");

352:         require(loans[loanId].borrowTime == 0, "LendingTerm: loan exists");

392:             require(_debtCeiling != 0, "LendingTerm: debt ceiling reached");

453:         require(collateralToAdd != 0, "LendingTerm: cannot add 0");

458:         require(loan.borrowTime != 0, "LendingTerm: loan not found");

459:         require(loan.closeTime == 0, "LendingTerm: loan closed");

460:         require(loan.callTime == 0, "LendingTerm: loan called");

499:         require(borrowTime != 0, "LendingTerm: loan not found");

504:         require(loan.closeTime == 0, "LendingTerm: loan closed");

505:         require(loan.callTime == 0, "LendingTerm: loan called");

509:         require(debtToRepay < loanDebt, "LendingTerm: full repayment");

572:         require(borrowTime != 0, "LendingTerm: loan not found");

577:         require(loan.closeTime == 0, "LendingTerm: loan closed");

578:         require(loan.callTime == 0, "LendingTerm: loan called");

643:         require(loan.borrowTime != 0, "LendingTerm: loan not found");

646:         require(loan.closeTime == 0, "LendingTerm: loan closed");

649:         require(loan.callTime == 0, "LendingTerm: loan called");

699:         require(loan.borrowTime != 0, "LendingTerm: loan not found");

702:         require(loan.closeTime == 0, "LendingTerm: loan closed");

733:         require(msg.sender == refs.auctionHouse, "LendingTerm: invalid caller");

738:         require(loans[loanId].closeTime == 0, "LendingTerm: loan closed");

```
*Github:* [[344](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L344), [345](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L345), [352](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L352), [392](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L392), [453](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L453), [458](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L458), [459](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L459), [460](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L460), [499](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L499), [504](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L504), [505](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L505), [509](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L509), [572](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L572), [577](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L577), [578](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L578), [643](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L643), [646](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L646), [649](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L649), [699](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L699), [702](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L702), [733](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L733), [738](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L738)]


```solidity
File: src/loan/SimplePSM.sol

138:         require(!redemptionsPaused, "SimplePSM: redemptions paused");

```
*Github:* [[138](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L138)]


```solidity
File: src/loan/SurplusGuildMinter.sol

125:         require(amount >= MIN_STAKE, "SurplusGuildMinter: min stake");

```
*Github:* [[125](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L125)]


```solidity
File: src/tokens/ERC20Gauges.sol

223:         require(isGauge(gauge), "ERC20Gauges: invalid gauge");

237:             require(canExceedMaxGauges[user], "ERC20Gauges: exceed max gauges");

255:         require(newUserWeight <= balanceOf(user), "ERC20Gauges: overweight");

274:         require(weights.length == size, "ERC20Gauges: size mismatch");

285:             require(isGauge(gauge), "ERC20Gauges: invalid gauge");

345:         require(weights.length == size, "ERC20Gauges: size mismatch");

412:             require(gaugeType[gauge] == _type, "ERC20Gauges: invalid type");

```
*Github:* [[223](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L223), [237](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L237), [255](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L255), [274](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L274), [285](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L285), [345](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L345), [412](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L412)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

297:         require(count < 2, "ERC20MultiVotes: delegation error");

502:         require(nonce == _useNonce(signer), "ERC20MultiVotes: invalid nonce");

```
*Github:* [[297](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L297), [502](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L502)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

339:         require(amount != 0, "ERC20RebaseDistributor: cannot distribute zero");

```
*Github:* [[339](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L339)]


```solidity
File: src/tokens/GuildToken.sol

124:         require(msg.sender == profitManager, "UNAUTHORIZED");

```
*Github:* [[124](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L124)]


```solidity
File: src/utils/RateLimitedV2.sol

96:         require(newBuffer != 0, "RateLimited: no rate limit buffer");

97:         require(amount <= newBuffer, "RateLimited: rate limit hit");

```
*Github:* [[96](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L96), [97](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L97)]


</details>


<a name="NC-19"></a> 
### [NC-19] Polymorphic functions make security audits more time-consuming and error-prone
The instances below point to one of two functions with the same name. Consider naming each function differently, in order to make code navigation and analysis easier.

*There are <b>2</b> instances of this issue:*
```solidity
File: src/loan/LendingTerm.sol

/// @audit also found on line 334
270:     function debtCeiling(

```
*Github:* [[270](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L270)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

/// @audit also found on line 49
11:     function mint(address to, uint256 amount) external;

```
*Github:* [[11](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L11)]



<a name="NC-20"></a> 
### [NC-20] Duplicated `require()`/`revert()` checks should be refactored
Refactoring duplicate `require()`/`revert()` checks into a modifier or function can make the code more concise, readable and maintainable, and less likely to make errors or omissions when modifying the `require()` or `revert()`.

*There are <b>9</b> instances of this issue:*
```solidity
File: src/governance/LendingTermOffboarding.sol

/// @audit duplicated on line 176
154:         require(canOffboard[term], "LendingTermOffboarding: quorum not met");

```
*Github:* [[154](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L154)]


```solidity
File: src/loan/LendingTerm.sol

/// @audit duplicated on line 643
458:         require(loan.borrowTime != 0, "LendingTerm: loan not found");

/// @audit duplicated on line 504
459:         require(loan.closeTime == 0, "LendingTerm: loan closed");

/// @audit duplicated on line 505
460:         require(loan.callTime == 0, "LendingTerm: loan called");

/// @audit duplicated on line 572
499:         require(borrowTime != 0, "LendingTerm: loan not found");

/// @audit duplicated on line 646
577:         require(loan.closeTime == 0, "LendingTerm: loan closed");

/// @audit duplicated on line 649
578:         require(loan.callTime == 0, "LendingTerm: loan called");

```
*Github:* [[458](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L458), [459](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L459), [460](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L460), [499](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L499), [577](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L577), [578](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L578)]


```solidity
File: src/tokens/ERC20Gauges.sol

/// @audit duplicated on line 285
223:         require(isGauge(gauge), "ERC20Gauges: invalid gauge");

/// @audit duplicated on line 345
274:         require(weights.length == size, "ERC20Gauges: size mismatch");

```
*Github:* [[223](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L223), [274](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L274)]



<a name="NC-21"></a> 
### [NC-21] `else` block not required
One level of nesting can be removed by not having an `else` block when the `if`-block always jumps at the end. For example:
```solidity
if (condition) {
	body1...
	return x;
} else {
	body2...
}
```
can be changed to:
```solidity
if (condition) {
	body1...
	return x;
}
body2...
```

*There are <b>4</b> instances of this issue:*
```solidity
File: src/governance/GuildVetoGovernor.sol

288:             if (_quorumReached(proposalId)) {
                     return ProposalState.Succeeded;
                 }
                 // need more votes to veto
                 else {

```
*Github:* [[288](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L288)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

141:         if (block.timestamp >= targetTimestamp) {
                 // if period is passed, return target value
                 return targetValue;
             } else {

406:         if (_rebasingSupply > _totalSupply) {
                 return 0;
             } else {

430:         if (_rebasingState.isRebasing == 0) {
                 return ERC20.balanceOf(account);
             } else {

```
*Github:* [[141](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L141), [406](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L406), [430](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L430)]



<a name="NC-22"></a> 
### [NC-22] Empty bytes check is missing
Passing empty bytes to a function can cause unexpected behavior, such as certain operations failing, producing incorrect results, or wasting gas. It is recommended to check that all byte parameters are not empty.

*There is one instance of this issue:*
```solidity
File: src/governance/GuildVetoGovernor.sol

/// @audit missing empty check for ``
195:     function _countVote(
             uint256 proposalId,
             address account,
             uint8 support,
             uint256 weight,
             bytes memory // params
         ) internal virtual override {

```
*Github:* [[195](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L195)]



<a name="NC-23"></a> 
### [NC-23] Enable IR-based code generation
The IR-based code generator was introduced with an aim to not only allow code generation to be more transparent and auditable but also to enable more powerful optimization passes that span across functions. You can enable it on the command line using `--via-ir` or with the option `{"viaIR": true}`. This will take longer to compile, but you can just simple test it before deploying and if you got a better benchmark then you can add --via-ir to your deploy command More on: https://docs.soliditylang.org/en/v0.8.17/ir-breaking-changes.html

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/)]



<a name="NC-24"></a> 
### [NC-24] Enum values should be used instead of constant array indexes
Create a commented enum value to use instead of constant array indexes, this makes the code far easier to understand.

*There are <b>8</b> instances of this issue:*
```solidity
File: src/governance/GuildVetoGovernor.sol

380:         targets[0] = timelock;

383:         calldatas[0] = abi.encodeWithSelector(

```
*Github:* [[380](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L380), [383](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L383)]


```solidity
File: src/governance/LendingTermOnboarding.sol

239:         targets[0] = guildToken;

240:         calldatas[0] = abi.encodeWithSelector(

248:         targets[1] = _core;

249:         calldatas[1] = abi.encodeWithSelector(

256:         targets[2] = _core;

257:         calldatas[2] = abi.encodeWithSelector(

```
*Github:* [[239](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L239), [240](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L240), [248](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L248), [249](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L249), [256](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L256), [257](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L257)]



<a name="NC-25"></a> 
### [NC-25] Events are emitted without the sender information
When an action is triggered based on a user's action, not being able to filter based on who triggered the action makes event processing a lot more cumbersome. Including the `msg.sender` the events of these types of action will make events much more useful to end users, especially when `msg.sender` is not `tx.origin`.

<details>
<summary>
There are <b>58</b> instances (click to show):
</summary>

```solidity
File: src/core/CoreRef.sol

53:         emit CoreUpdate(oldCore, newCore);

```
*Github:* [[53](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L53)]


```solidity
File: src/governance/GuildGovernor.sol

69:         emit QuorumUpdated(_quorum, newQuorum);

```
*Github:* [[69](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L69)]


```solidity
File: src/governance/GuildVetoGovernor.sol

72:         emit QuorumUpdated(_quorum, newQuorum);

100:         emit TimelockChange(timelock, newTimelock);

```
*Github:* [[72](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L72), [100](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L100)]


```solidity
File: src/governance/LendingTermOffboarding.sol

81:         emit QuorumUpdated(quorum, _quorum);

106:         emit OffboardSupport(

169:         emit Offboard(block.timestamp, term);

198:         emit Cleanup(block.timestamp, term);

```
*Github:* [[81](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L81), [106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L106), [169](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L169), [198](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L198)]


```solidity
File: src/governance/LendingTermOnboarding.sol

97:         emit ImplementationAllowChanged(

166:         emit TermCreated(block.timestamp, implementation, term, params);

```
*Github:* [[97](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L97), [166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L166)]


```solidity
File: src/governance/ProfitManager.sol

107:         emit MinBorrowUpdate(block.timestamp, 100e18);

183:         emit MinBorrowUpdate(block.timestamp, newValue);

191:         emit GaugeWeightToleranceUpdate(block.timestamp, newValue);

219:         emit ProfitSharingConfigUpdate(

255:         emit SurplusBufferUpdate(block.timestamp, newSurplusBuffer);

263:         emit TermSurplusBufferUpdate(block.timestamp, term, newSurplusBuffer);

274:         emit SurplusBufferUpdate(block.timestamp, newSurplusBuffer);

286:         emit TermSurplusBufferUpdate(block.timestamp, term, newSurplusBuffer);

404:         emit GaugePnL(gauge, block.timestamp, amount);

```
*Github:* [[107](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L107), [183](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L183), [191](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L191), [219](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L219), [255](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L255), [263](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L263), [274](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L274), [286](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L286), [404](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L404)]


```solidity
File: src/loan/AuctionHouse.sol

106:         emit AuctionStart(

189:         emit AuctionEnd(

223:         emit AuctionEnd(

```
*Github:* [[106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L106), [189](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L189), [223](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L223)]


```solidity
File: src/loan/LendingTerm.sol

428:         emit LoanOpen(

473:         emit LoanAddCollateral(

558:         emit LoanPartialRepay(block.timestamp, loanId, repayer, debtToRepay);

624:         emit LoanClose(block.timestamp, loanId, LoanCloseType.Repay, loanDebt);

674:         emit LoanCall(block.timestamp, loanId);

721:         emit LoanClose(block.timestamp, loanId, LoanCloseType.Forgive, 0);

819:         emit LoanClose(

```
*Github:* [[428](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L428), [473](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L473), [558](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L558), [624](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L624), [674](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L674), [721](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L721), [819](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L819)]


```solidity
File: src/loan/SimplePSM.sol

111:         emit Mint(block.timestamp, to, amountIn, amountOut);

143:         emit Redeem(block.timestamp, to, amountIn, amountOut);

153:         emit RedemptionsPaused(block.timestamp, paused);

```
*Github:* [[111](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L111), [143](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L143), [153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L153)]


```solidity
File: src/loan/SurplusGuildMinter.sol

154:         emit Stake(block.timestamp, term, amount);

211:         emit Unstake(block.timestamp, term, amount);

323:         emit MintRatioUpdate(block.timestamp, _mintRatio);

332:         emit RewardRatioUpdate(block.timestamp, _rewardRatio);

```
*Github:* [[154](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L154), [211](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L211), [323](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L323), [332](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L332)]


```solidity
File: src/tokens/ERC20Gauges.sol

246:         emit IncrementGaugeWeight(user, gauge, weight);

331:         emit DecrementGaugeWeight(user, gauge, weight);

422:         emit AddGauge(gauge, _type);

439:         emit RemoveGauge(gauge);

448:         emit MaxGaugesUpdate(oldMax, newMax);

465:         emit CanExceedMaxGaugesUpdate(account, canExceedMax);

```
*Github:* [[246](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L246), [331](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L331), [422](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L422), [439](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L439), [448](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L448), [465](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L465)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

151:         emit MaxDelegatesUpdate(oldMax, newMax);

166:         emit CanContractExceedMaxDelegatesUpdate(account, canExceedMax);

314:         emit DelegateChanged(delegator, oldDelegatee, newDelegatee);

340:         emit Delegation(delegator, delegatee, amount);

359:         emit Undelegation(delegator, delegatee, amount);

384:         emit DelegateVotesChanged(delegatee, oldWeight, newWeight);

```
*Github:* [[151](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L151), [166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L166), [314](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L314), [340](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L340), [359](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L359), [384](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L384)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

298:         emit RebaseEnter(account, block.timestamp);

332:         emit RebaseExit(account, block.timestamp);

```
*Github:* [[298](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L298), [332](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L332)]


```solidity
File: src/tokens/GuildToken.sol

128:         emit GaugeLoss(gauge, block.timestamp);

155:         emit GaugeLossApply(

177:         emit TransfersEnabled(block.number, block.timestamp);

199:         emit ProfitManagerUpdated(block.timestamp, _newProfitManager);

```
*Github:* [[128](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L128), [155](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L155), [177](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L177), [199](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L199)]


```solidity
File: src/utils/RateLimitedV2.sol

106:         emit BufferUsed(amount, bufferStored);

134:         emit BufferReplenished(amount, bufferStored);

142:         emit RateLimitPerSecondUpdate(

155:         emit BufferCapUpdate(oldBufferCap, newBufferCap);

```
*Github:* [[106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L106), [134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L134), [142](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L142), [155](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L155)]


</details>


<a name="NC-26"></a> 
### [NC-26] Events may be emitted out of order due to reentrancy
Ensure that events follow the best practice of check-effects-interaction, and are emitted before external calls.

*There are <b>5</b> instances of this issue:*
```solidity
File: src/governance/LendingTermOnboarding.sol

/// @audit `.call(...)` is called on line 114
166:         emit TermCreated(block.timestamp, implementation, term, params);

```
*Github:* [[166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L166)]


```solidity
File: src/loan/LendingTerm.sol

/// @audit `.safeTransferFrom(...)` is called on line 421
428:         emit LoanOpen(

/// @audit `.safeTransferFrom(...)` is called on line 466
473:         emit LoanAddCollateral(

/// @audit `.safeTransfer(...)` is called on line 618
624:         emit LoanClose(block.timestamp, loanId, LoanCloseType.Repay, loanDebt);

/// @audit `.safeTransfer(...)` is called on line 805
/// @audit `.safeTransfer(...)` is called on line 813
819:         emit LoanClose(

```
*Github:* [[428](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L428), [473](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L473), [624](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L624), [819](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L819)]



<a name="NC-27"></a> 
### [NC-27] Execution at deadlines should be allowed
The condition may be wrong in these cases, as when `block.timestamp` is equal to the compared `>` or `<` variable these blocks will not be executed.

*There are <b>7</b> instances of this issue:*
```solidity
File: src/governance/GuildVetoGovernor.sol

283:         if (timelockOperationTimestamp > block.timestamp) {

```
*Github:* [[283](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L283)]


```solidity
File: src/governance/LendingTermOnboarding.sol

189:             lastProposal[term] + MIN_DELAY_BETWEEN_PROPOSALS < block.timestamp,

```
*Github:* [[189](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L189)]


```solidity
File: src/loan/AuctionHouse.sol

134:         if (block.timestamp < _startTime + midPoint) {

144:         else if (block.timestamp < _startTime + auctionDuration) {

```
*Github:* [[134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L134), [144](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L144)]


```solidity
File: src/loan/LendingTerm.sol

501:             borrowTime < block.timestamp,

574:             borrowTime < block.timestamp,

660:             borrowTime < block.timestamp,

```
*Github:* [[501](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L501), [574](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L574), [660](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L660)]



<a name="NC-28"></a> 
### [NC-28]  Function ordering does not follow the Solidity Style Guide
According to the [solidity style guide](https://docs.soliditylang.org/en/v0.8.17/style-guide.html#order-of-functions), functions should be laid out in the following order: `constructor()`, `receive()`, `fallback()`, `external`, `public`, `internal`, `private`, but the cases below do not follow this pattern

<details>
<summary>
There are <b>103</b> instances (click to show):
</summary>

```solidity
File: src/core/CoreRef.sol

/// @audit public function `core` came earlier from this external function
39:     function setCore(

/// @audit internal function `_setCore` came earlier from this public function
57:     function pause() public onlyCoreRole(CoreRoles.GUARDIAN) {

/// @audit internal function `_setCore` came earlier from this public function
62:     function unpause() public onlyCoreRole(CoreRoles.GUARDIAN) {

/// @audit public function `core` came earlier from this external function
/// @audit internal function `_setCore` came earlier from this external function
/// @audit public function `pause` came earlier from this external function
/// @audit public function `unpause` came earlier from this external function
87:     function emergencyAction(

```
*Github:* [[39](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L39), [57](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L57), [62](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L62), [87](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L87)]


```solidity
File: src/governance/GuildGovernor.sol

/// @audit internal function `_setQuorum` came earlier from this public function
78:     function setVotingDelay(

/// @audit internal function `_setQuorum` came earlier from this public function
85:     function setVotingPeriod(

/// @audit internal function `_setQuorum` came earlier from this public function
92:     function setProposalThreshold(

/// @audit internal function `_setQuorum` came earlier from this public function
99:     function setQuorum(

/// @audit internal function `_setQuorum` came earlier from this public function
110:     function guardianCancel(

/// @audit internal function `_setQuorum` came earlier from this public function
/// @audit internal function `_cancel` came earlier from this public function
/// @audit internal function `_execute` came earlier from this public function
/// @audit internal function `_executor` came earlier from this public function
151:     function proposalThreshold()

/// @audit internal function `_setQuorum` came earlier from this public function
/// @audit internal function `_cancel` came earlier from this public function
/// @audit internal function `_execute` came earlier from this public function
/// @audit internal function `_executor` came earlier from this public function
160:     function state(

/// @audit internal function `_setQuorum` came earlier from this public function
/// @audit internal function `_cancel` came earlier from this public function
/// @audit internal function `_execute` came earlier from this public function
/// @audit internal function `_executor` came earlier from this public function
171:     function supportsInterface(

```
*Github:* [[78](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L78), [85](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L85), [92](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L92), [99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L99), [110](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L110), [151](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L151), [160](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L160), [171](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L171)]


```solidity
File: src/governance/GuildVetoGovernor.sol

/// @audit public function `quorum` came earlier from this external function
/// @audit public function `setQuorum` came earlier from this external function
/// @audit internal function `_setQuorum` came earlier from this external function
93:     function updateTimelock(

/// @audit internal function `_setQuorum` came earlier from this public function
/// @audit private function `_updateTimelock` came earlier from this public function
130:     function COUNTING_MODE()

/// @audit internal function `_setQuorum` came earlier from this public function
/// @audit private function `_updateTimelock` came earlier from this public function
143:     function hasVoted(

/// @audit internal function `_setQuorum` came earlier from this public function
/// @audit private function `_updateTimelock` came earlier from this public function
153:     function proposalVotes(

/// @audit private function `_updateTimelock` came earlier from this internal function
172:     function _quorumReached(

/// @audit private function `_updateTimelock` came earlier from this internal function
186:     function _voteSucceeded(

/// @audit private function `_updateTimelock` came earlier from this internal function
195:     function _countVote(

/// @audit internal function `_setQuorum` came earlier from this public function
/// @audit private function `_updateTimelock` came earlier from this public function
/// @audit internal function `_quorumReached` came earlier from this public function
/// @audit internal function `_voteSucceeded` came earlier from this public function
/// @audit internal function `_countVote` came earlier from this public function
222:     function votingDelay() public pure override returns (uint256) {

/// @audit internal function `_setQuorum` came earlier from this public function
/// @audit private function `_updateTimelock` came earlier from this public function
/// @audit internal function `_quorumReached` came earlier from this public function
/// @audit internal function `_voteSucceeded` came earlier from this public function
/// @audit internal function `_countVote` came earlier from this public function
230:     function votingPeriod() public pure override returns (uint256) {

/// @audit internal function `_setQuorum` came earlier from this public function
/// @audit private function `_updateTimelock` came earlier from this public function
/// @audit internal function `_quorumReached` came earlier from this public function
/// @audit internal function `_voteSucceeded` came earlier from this public function
/// @audit internal function `_countVote` came earlier from this public function
246:     function state(

/// @audit internal function `_setQuorum` came earlier from this public function
/// @audit private function `_updateTimelock` came earlier from this public function
/// @audit internal function `_quorumReached` came earlier from this public function
/// @audit internal function `_voteSucceeded` came earlier from this public function
/// @audit internal function `_countVote` came earlier from this public function
304:     function propose(

/// @audit public function `quorum` came earlier from this external function
/// @audit public function `setQuorum` came earlier from this external function
/// @audit internal function `_setQuorum` came earlier from this external function
/// @audit private function `_updateTimelock` came earlier from this external function
/// @audit public function `COUNTING_MODE` came earlier from this external function
/// @audit public function `hasVoted` came earlier from this external function
/// @audit public function `proposalVotes` came earlier from this external function
/// @audit internal function `_quorumReached` came earlier from this external function
/// @audit internal function `_voteSucceeded` came earlier from this external function
/// @audit internal function `_countVote` came earlier from this external function
/// @audit public function `votingDelay` came earlier from this external function
/// @audit public function `votingPeriod` came earlier from this external function
/// @audit public function `state` came earlier from this external function
/// @audit public function `propose` came earlier from this external function
315:     function createVeto(bytes32 timelockId) external returns (uint256) {

/// @audit public function `quorum` came earlier from this external function
/// @audit public function `setQuorum` came earlier from this external function
/// @audit internal function `_setQuorum` came earlier from this external function
/// @audit private function `_updateTimelock` came earlier from this external function
/// @audit public function `COUNTING_MODE` came earlier from this external function
/// @audit public function `hasVoted` came earlier from this external function
/// @audit public function `proposalVotes` came earlier from this external function
/// @audit internal function `_quorumReached` came earlier from this external function
/// @audit internal function `_voteSucceeded` came earlier from this external function
/// @audit internal function `_countVote` came earlier from this external function
/// @audit public function `votingDelay` came earlier from this external function
/// @audit public function `votingPeriod` came earlier from this external function
/// @audit public function `state` came earlier from this external function
/// @audit public function `propose` came earlier from this external function
349:     function executeVeto(bytes32 timelockId) external returns (uint256) {

/// @audit private function `_updateTimelock` came earlier from this internal function
367:     function _getVetoCalls(

```
*Github:* [[93](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L93), [130](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L130), [143](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L143), [153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L153), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L172), [186](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L186), [195](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L195), [222](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L222), [230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L230), [246](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L246), [304](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L304), [315](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L315), [349](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L349), [367](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L367)]


```solidity
File: src/governance/LendingTermOnboarding.sol

/// @audit public function `propose` came earlier from this external function
181:     function proposeOnboard(

```
*Github:* [[181](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L181)]


```solidity
File: src/governance/ProfitManager.sol

/// @audit public function `claimGaugeRewards` came earlier from this external function
439:     function claimRewards(

/// @audit public function `claimGaugeRewards` came earlier from this external function
452:     function getPendingRewards(

```
*Github:* [[439](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L439), [452](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L452)]


```solidity
File: src/loan/AuctionHouse.sol

/// @audit public function `getBidDetail` came earlier from this external function
166:     function bid(bytes32 loanId) external {

/// @audit public function `getBidDetail` came earlier from this external function
202:     function forgive(bytes32 loanId) external {

```
*Github:* [[166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L166), [202](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L202)]


```solidity
File: src/loan/LendingTerm.sol

/// @audit public function `getLoanDebt` came earlier from this external function
/// @audit public function `partialRepayDelayPassed` came earlier from this external function
334:     function debtCeiling() external view returns (uint256) {

/// @audit public function `getLoanDebt` came earlier from this external function
/// @audit public function `partialRepayDelayPassed` came earlier from this external function
/// @audit public function `debtCeiling` came earlier from this external function
/// @audit internal function `_borrow` came earlier from this external function
438:     function borrow(

/// @audit public function `getLoanDebt` came earlier from this external function
/// @audit public function `partialRepayDelayPassed` came earlier from this external function
/// @audit public function `debtCeiling` came earlier from this external function
/// @audit internal function `_borrow` came earlier from this external function
/// @audit internal function `_addCollateral` came earlier from this external function
482:     function addCollateral(bytes32 loanId, uint256 collateralToAdd) external {

/// @audit public function `getLoanDebt` came earlier from this external function
/// @audit public function `partialRepayDelayPassed` came earlier from this external function
/// @audit public function `debtCeiling` came earlier from this external function
/// @audit internal function `_borrow` came earlier from this external function
/// @audit internal function `_addCollateral` came earlier from this external function
/// @audit internal function `_partialRepay` came earlier from this external function
562:     function partialRepay(bytes32 loanId, uint256 debtToRepay) external {

/// @audit public function `getLoanDebt` came earlier from this external function
/// @audit public function `partialRepayDelayPassed` came earlier from this external function
/// @audit public function `debtCeiling` came earlier from this external function
/// @audit internal function `_borrow` came earlier from this external function
/// @audit internal function `_addCollateral` came earlier from this external function
/// @audit internal function `_partialRepay` came earlier from this external function
/// @audit internal function `_repay` came earlier from this external function
628:     function repay(bytes32 loanId) external {

/// @audit public function `getLoanDebt` came earlier from this external function
/// @audit public function `partialRepayDelayPassed` came earlier from this external function
/// @audit public function `debtCeiling` came earlier from this external function
/// @audit internal function `_borrow` came earlier from this external function
/// @audit internal function `_addCollateral` came earlier from this external function
/// @audit internal function `_partialRepay` came earlier from this external function
/// @audit internal function `_repay` came earlier from this external function
/// @audit internal function `_call` came earlier from this external function
678:     function call(bytes32 loanId) external {

/// @audit internal function `_borrow` came earlier from this public function
/// @audit internal function `_addCollateral` came earlier from this public function
/// @audit internal function `_partialRepay` came earlier from this public function
/// @audit internal function `_repay` came earlier from this public function
/// @audit internal function `_call` came earlier from this public function
683:     function callMany(bytes32[] memory loanIds) public {

/// @audit public function `getLoanDebt` came earlier from this external function
/// @audit public function `partialRepayDelayPassed` came earlier from this external function
/// @audit public function `debtCeiling` came earlier from this external function
/// @audit internal function `_borrow` came earlier from this external function
/// @audit internal function `_addCollateral` came earlier from this external function
/// @audit internal function `_partialRepay` came earlier from this external function
/// @audit internal function `_repay` came earlier from this external function
/// @audit internal function `_call` came earlier from this external function
/// @audit public function `callMany` came earlier from this external function
695:     function forgive(bytes32 loanId) external onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit public function `getLoanDebt` came earlier from this external function
/// @audit public function `partialRepayDelayPassed` came earlier from this external function
/// @audit public function `debtCeiling` came earlier from this external function
/// @audit internal function `_borrow` came earlier from this external function
/// @audit internal function `_addCollateral` came earlier from this external function
/// @audit internal function `_partialRepay` came earlier from this external function
/// @audit internal function `_repay` came earlier from this external function
/// @audit internal function `_call` came earlier from this external function
/// @audit public function `callMany` came earlier from this external function
725:     function onBid(

/// @audit public function `getLoanDebt` came earlier from this external function
/// @audit public function `partialRepayDelayPassed` came earlier from this external function
/// @audit public function `debtCeiling` came earlier from this external function
/// @audit internal function `_borrow` came earlier from this external function
/// @audit internal function `_addCollateral` came earlier from this external function
/// @audit internal function `_partialRepay` came earlier from this external function
/// @audit internal function `_repay` came earlier from this external function
/// @audit internal function `_call` came earlier from this external function
/// @audit public function `callMany` came earlier from this external function
829:     function setAuctionHouse(

/// @audit public function `getLoanDebt` came earlier from this external function
/// @audit public function `partialRepayDelayPassed` came earlier from this external function
/// @audit public function `debtCeiling` came earlier from this external function
/// @audit internal function `_borrow` came earlier from this external function
/// @audit internal function `_addCollateral` came earlier from this external function
/// @audit internal function `_partialRepay` came earlier from this external function
/// @audit internal function `_repay` came earlier from this external function
/// @audit internal function `_call` came earlier from this external function
/// @audit public function `callMany` came earlier from this external function
846:     function setHardCap(

```
*Github:* [[334](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L334), [438](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L438), [482](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L482), [562](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L562), [628](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L628), [678](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L678), [683](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L683), [695](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L695), [725](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L725), [829](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L829), [846](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L846)]


```solidity
File: src/loan/SimplePSM.sol

/// @audit public function `getMintAmountOut` came earlier from this external function
/// @audit public function `getRedeemAmountOut` came earlier from this external function
/// @audit public function `redeemableCredit` came earlier from this external function
103:     function mint(

/// @audit public function `getMintAmountOut` came earlier from this external function
/// @audit public function `getRedeemAmountOut` came earlier from this external function
/// @audit public function `redeemableCredit` came earlier from this external function
117:     function mintAndEnterRebase(

/// @audit public function `getMintAmountOut` came earlier from this external function
/// @audit public function `getRedeemAmountOut` came earlier from this external function
/// @audit public function `redeemableCredit` came earlier from this external function
134:     function redeem(

/// @audit public function `getMintAmountOut` came earlier from this external function
/// @audit public function `getRedeemAmountOut` came earlier from this external function
/// @audit public function `redeemableCredit` came earlier from this external function
149:     function setRedemptionsPaused(

```
*Github:* [[103](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L103), [117](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L117), [134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L134), [149](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L149)]


```solidity
File: src/loan/SurplusGuildMinter.sol

/// @audit public function `getRewards` came earlier from this external function
293:     function updateMintRatio(address user, address term) external {

/// @audit public function `getRewards` came earlier from this external function
319:     function setMintRatio(

/// @audit public function `getRewards` came earlier from this external function
328:     function setRewardRatio(

```
*Github:* [[293](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L293), [319](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L319), [328](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L328)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

/// @audit a function was seen before constructor
30:     constructor(

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L30)]


```solidity
File: src/tokens/CreditToken.sol

/// @audit internal function `_mint` came earlier from this public function
/// @audit internal function `_burn` came earlier from this public function
98:     function balanceOf(

/// @audit internal function `_mint` came earlier from this public function
/// @audit internal function `_burn` came earlier from this public function
104:     function totalSupply()

/// @audit internal function `_mint` came earlier from this public function
/// @audit internal function `_burn` came earlier from this public function
113:     function transfer(

/// @audit internal function `_mint` came earlier from this public function
/// @audit internal function `_burn` came earlier from this public function
125:     function transferFrom(

```
*Github:* [[98](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L98), [104](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L104), [113](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L113), [125](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L125)]


```solidity
File: src/tokens/ERC20Gauges.sol

/// @audit public function `isGauge` came earlier from this external function
/// @audit public function `isDeprecatedGauge` came earlier from this external function
113:     function numGauges() external view returns (uint256) {

/// @audit public function `isGauge` came earlier from this external function
/// @audit public function `isDeprecatedGauge` came earlier from this external function
118:     function deprecatedGauges() external view returns (address[] memory) {

/// @audit public function `isGauge` came earlier from this external function
/// @audit public function `isDeprecatedGauge` came earlier from this external function
123:     function numDeprecatedGauges() external view returns (uint256) {

/// @audit public function `isGauge` came earlier from this external function
/// @audit public function `isDeprecatedGauge` came earlier from this external function
128:     function liveGauges() external view returns (address[] memory _liveGauges) {

/// @audit public function `isGauge` came earlier from this external function
/// @audit public function `isDeprecatedGauge` came earlier from this external function
149:     function numLiveGauges() external view returns (uint256) {

/// @audit public function `isGauge` came earlier from this external function
/// @audit public function `isDeprecatedGauge` came earlier from this external function
154:     function userGauges(address user) external view returns (address[] memory) {

/// @audit public function `isGauge` came earlier from this external function
/// @audit public function `isDeprecatedGauge` came earlier from this external function
159:     function isUserGauge(

/// @audit public function `isGauge` came earlier from this external function
/// @audit public function `isDeprecatedGauge` came earlier from this external function
167:     function numUserGauges(address user) external view returns (uint256) {

/// @audit public function `isGauge` came earlier from this external function
/// @audit public function `isDeprecatedGauge` came earlier from this external function
172:     function userUnusedWeight(address user) external view returns (uint256) {

/// @audit public function `isGauge` came earlier from this external function
/// @audit public function `isDeprecatedGauge` came earlier from this external function
182:     function calculateGaugeAllocation(

/// @audit internal function `_incrementGaugeWeight` came earlier from this public function
/// @audit internal function `_incrementUserAndGlobalWeights` came earlier from this public function
269:     function incrementGauges(

/// @audit internal function `_incrementGaugeWeight` came earlier from this public function
/// @audit internal function `_incrementUserAndGlobalWeights` came earlier from this public function
301:     function decrementGauge(

/// @audit internal function `_incrementGaugeWeight` came earlier from this public function
/// @audit internal function `_incrementUserAndGlobalWeights` came earlier from this public function
/// @audit internal function `_decrementGaugeWeight` came earlier from this public function
340:     function decrementGauges(

/// @audit internal function `_incrementGaugeWeight` came earlier from this public function
/// @audit internal function `_incrementUserAndGlobalWeights` came earlier from this public function
/// @audit internal function `_decrementGaugeWeight` came earlier from this public function
/// @audit internal function `_addGauge` came earlier from this public function
/// @audit internal function `_removeGauge` came earlier from this public function
/// @audit internal function `_setMaxGauges` came earlier from this public function
/// @audit internal function `_setCanExceedMaxGauges` came earlier from this public function
/// @audit internal function `_burn` came earlier from this public function
481:     function transfer(

/// @audit internal function `_incrementGaugeWeight` came earlier from this public function
/// @audit internal function `_incrementUserAndGlobalWeights` came earlier from this public function
/// @audit internal function `_decrementGaugeWeight` came earlier from this public function
/// @audit internal function `_addGauge` came earlier from this public function
/// @audit internal function `_removeGauge` came earlier from this public function
/// @audit internal function `_setMaxGauges` came earlier from this public function
/// @audit internal function `_setCanExceedMaxGauges` came earlier from this public function
/// @audit internal function `_burn` came earlier from this public function
489:     function transferFrom(

```
*Github:* [[113](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L113), [118](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L118), [123](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L123), [128](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L128), [149](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L149), [154](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L154), [159](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L159), [167](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L167), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L172), [182](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L182), [269](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L269), [301](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L301), [340](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L340), [481](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L481), [489](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L489)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

/// @audit private function `_checkpointsLookup` came earlier from this internal function
122:     function average(uint256 a, uint256 b) internal pure returns (uint256) {

/// @audit private function `_checkpointsLookup` came earlier from this internal function
147:     function _setMaxDelegates(uint256 newMax) internal {

/// @audit private function `_checkpointsLookup` came earlier from this internal function
155:     function _setContractExceedMaxDelegates(

/// @audit private function `_checkpointsLookup` came earlier from this public function
/// @audit internal function `average` came earlier from this public function
/// @audit internal function `_setMaxDelegates` came earlier from this public function
/// @audit internal function `_setContractExceedMaxDelegates` came earlier from this public function
218:     function delegatesVotesCount(

/// @audit private function `_checkpointsLookup` came earlier from this public function
/// @audit internal function `average` came earlier from this public function
/// @audit internal function `_setMaxDelegates` came earlier from this public function
/// @audit internal function `_setContractExceedMaxDelegates` came earlier from this public function
230:     function delegates(

/// @audit private function `_checkpointsLookup` came earlier from this public function
/// @audit internal function `average` came earlier from this public function
/// @audit internal function `_setMaxDelegates` came earlier from this public function
/// @audit internal function `_setContractExceedMaxDelegates` came earlier from this public function
242:     function containsDelegate(

/// @audit private function `_checkpointsLookup` came earlier from this public function
/// @audit internal function `average` came earlier from this public function
/// @audit internal function `_setMaxDelegates` came earlier from this public function
/// @audit internal function `_setContractExceedMaxDelegates` came earlier from this public function
254:     function delegateCount(address delegator) public view returns (uint256) {

/// @audit private function `_checkpointsLookup` came earlier from this public function
/// @audit internal function `average` came earlier from this public function
/// @audit internal function `_setMaxDelegates` came earlier from this public function
/// @audit internal function `_setContractExceedMaxDelegates` came earlier from this public function
264:     function incrementDelegation(

/// @audit private function `_checkpointsLookup` came earlier from this public function
/// @audit internal function `average` came earlier from this public function
/// @audit internal function `_setMaxDelegates` came earlier from this public function
/// @audit internal function `_setContractExceedMaxDelegates` came earlier from this public function
276:     function undelegate(address delegatee, uint256 amount) public virtual {

/// @audit public function `checkpoints` came earlier from this external function
/// @audit public function `numCheckpoints` came earlier from this external function
/// @audit public function `freeVotes` came earlier from this external function
/// @audit public function `getVotes` came earlier from this external function
/// @audit public function `getPastVotes` came earlier from this external function
/// @audit private function `_checkpointsLookup` came earlier from this external function
/// @audit internal function `average` came earlier from this external function
/// @audit internal function `_setMaxDelegates` came earlier from this external function
/// @audit internal function `_setContractExceedMaxDelegates` came earlier from this external function
/// @audit public function `delegatesVotesCount` came earlier from this external function
/// @audit public function `delegates` came earlier from this external function
/// @audit public function `containsDelegate` came earlier from this external function
/// @audit public function `delegateCount` came earlier from this external function
/// @audit public function `incrementDelegation` came earlier from this external function
/// @audit public function `undelegate` came earlier from this external function
286:     function delegate(address newDelegatee) external virtual {

/// @audit private function `_checkpointsLookup` came earlier from this internal function
290:     function _delegate(

/// @audit private function `_checkpointsLookup` came earlier from this internal function
317:     function _incrementDelegation(

/// @audit private function `_checkpointsLookup` came earlier from this internal function
344:     function _undelegate(

/// @audit private function `_checkpointsLookup` came earlier from this internal function
/// @audit private function `_writeCheckpoint` came earlier from this internal function
/// @audit private function `_add` came earlier from this internal function
/// @audit private function `_subtract` came earlier from this internal function
403:     function _burn(address from, uint256 amount) internal virtual override {

/// @audit private function `_checkpointsLookup` came earlier from this public function
/// @audit internal function `average` came earlier from this public function
/// @audit internal function `_setMaxDelegates` came earlier from this public function
/// @audit internal function `_setContractExceedMaxDelegates` came earlier from this public function
/// @audit internal function `_delegate` came earlier from this public function
/// @audit internal function `_incrementDelegation` came earlier from this public function
/// @audit internal function `_undelegate` came earlier from this public function
/// @audit private function `_writeCheckpoint` came earlier from this public function
/// @audit private function `_add` came earlier from this public function
/// @audit private function `_subtract` came earlier from this public function
/// @audit internal function `_burn` came earlier from this public function
408:     function transfer(

/// @audit private function `_checkpointsLookup` came earlier from this public function
/// @audit internal function `average` came earlier from this public function
/// @audit internal function `_setMaxDelegates` came earlier from this public function
/// @audit internal function `_setContractExceedMaxDelegates` came earlier from this public function
/// @audit internal function `_delegate` came earlier from this public function
/// @audit internal function `_incrementDelegation` came earlier from this public function
/// @audit internal function `_undelegate` came earlier from this public function
/// @audit private function `_writeCheckpoint` came earlier from this public function
/// @audit private function `_add` came earlier from this public function
/// @audit private function `_subtract` came earlier from this public function
/// @audit internal function `_burn` came earlier from this public function
416:     function transferFrom(

/// @audit private function `_checkpointsLookup` came earlier from this internal function
/// @audit private function `_writeCheckpoint` came earlier from this internal function
/// @audit private function `_add` came earlier from this internal function
/// @audit private function `_subtract` came earlier from this internal function
427:     function _decrementVotesUntilFree(address user, uint256 votes) internal {

/// @audit private function `_checkpointsLookup` came earlier from this public function
/// @audit internal function `average` came earlier from this public function
/// @audit internal function `_setMaxDelegates` came earlier from this public function
/// @audit internal function `_setContractExceedMaxDelegates` came earlier from this public function
/// @audit internal function `_delegate` came earlier from this public function
/// @audit internal function `_incrementDelegation` came earlier from this public function
/// @audit internal function `_undelegate` came earlier from this public function
/// @audit private function `_writeCheckpoint` came earlier from this public function
/// @audit private function `_add` came earlier from this public function
/// @audit private function `_subtract` came earlier from this public function
/// @audit internal function `_burn` came earlier from this public function
/// @audit internal function `_decrementVotesUntilFree` came earlier from this public function
471:     function delegateBySig(

```
*Github:* [[122](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L122), [147](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L147), [155](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L155), [218](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L218), [230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L230), [242](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L242), [254](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L254), [264](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L264), [276](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L276), [286](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L286), [290](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L290), [317](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L317), [344](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L344), [403](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L403), [408](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L408), [416](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L416), [427](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L427), [471](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L471)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

/// @audit internal function `interpolatedValue` came earlier from this external function
/// @audit internal function `updateTotalRebasingShares` came earlier from this external function
/// @audit internal function `decreaseUnmintedRebaseRewards` came earlier from this external function
/// @audit internal function `rebasingSharePrice` came earlier from this external function
/// @audit internal function `unmintedRebaseRewards` came earlier from this external function
/// @audit internal function `_balance2shares` came earlier from this external function
/// @audit internal function `_shares2balance` came earlier from this external function
281:     function enterRebase() external {

/// @audit internal function `interpolatedValue` came earlier from this external function
/// @audit internal function `updateTotalRebasingShares` came earlier from this external function
/// @audit internal function `decreaseUnmintedRebaseRewards` came earlier from this external function
/// @audit internal function `rebasingSharePrice` came earlier from this external function
/// @audit internal function `unmintedRebaseRewards` came earlier from this external function
/// @audit internal function `_balance2shares` came earlier from this external function
/// @audit internal function `_shares2balance` came earlier from this external function
/// @audit internal function `_enterRebase` came earlier from this external function
303:     function exitRebase() external {

/// @audit internal function `interpolatedValue` came earlier from this external function
/// @audit internal function `updateTotalRebasingShares` came earlier from this external function
/// @audit internal function `decreaseUnmintedRebaseRewards` came earlier from this external function
/// @audit internal function `rebasingSharePrice` came earlier from this external function
/// @audit internal function `unmintedRebaseRewards` came earlier from this external function
/// @audit internal function `_balance2shares` came earlier from this external function
/// @audit internal function `_shares2balance` came earlier from this external function
/// @audit internal function `_enterRebase` came earlier from this external function
/// @audit internal function `_exitRebase` came earlier from this external function
338:     function distribute(uint256 amount) external {

/// @audit internal function `interpolatedValue` came earlier from this public function
/// @audit internal function `updateTotalRebasingShares` came earlier from this public function
/// @audit internal function `decreaseUnmintedRebaseRewards` came earlier from this public function
/// @audit internal function `rebasingSharePrice` came earlier from this public function
/// @audit internal function `unmintedRebaseRewards` came earlier from this public function
/// @audit internal function `_balance2shares` came earlier from this public function
/// @audit internal function `_shares2balance` came earlier from this public function
/// @audit internal function `_enterRebase` came earlier from this public function
/// @audit internal function `_exitRebase` came earlier from this public function
389:     function isRebasing(address account) public view returns (bool) {

/// @audit internal function `interpolatedValue` came earlier from this public function
/// @audit internal function `updateTotalRebasingShares` came earlier from this public function
/// @audit internal function `decreaseUnmintedRebaseRewards` came earlier from this public function
/// @audit internal function `rebasingSharePrice` came earlier from this public function
/// @audit internal function `unmintedRebaseRewards` came earlier from this public function
/// @audit internal function `_balance2shares` came earlier from this public function
/// @audit internal function `_shares2balance` came earlier from this public function
/// @audit internal function `_enterRebase` came earlier from this public function
/// @audit internal function `_exitRebase` came earlier from this public function
394:     function rebasingSupply() public view returns (uint256) {

/// @audit internal function `interpolatedValue` came earlier from this external function
/// @audit internal function `updateTotalRebasingShares` came earlier from this external function
/// @audit internal function `decreaseUnmintedRebaseRewards` came earlier from this external function
/// @audit internal function `rebasingSharePrice` came earlier from this external function
/// @audit internal function `unmintedRebaseRewards` came earlier from this external function
/// @audit internal function `_balance2shares` came earlier from this external function
/// @audit internal function `_shares2balance` came earlier from this external function
/// @audit internal function `_enterRebase` came earlier from this external function
/// @audit internal function `_exitRebase` came earlier from this external function
/// @audit public function `isRebasing` came earlier from this external function
/// @audit public function `rebasingSupply` came earlier from this external function
399:     function nonRebasingSupply() external view virtual returns (uint256) {

/// @audit internal function `interpolatedValue` came earlier from this external function
/// @audit internal function `updateTotalRebasingShares` came earlier from this external function
/// @audit internal function `decreaseUnmintedRebaseRewards` came earlier from this external function
/// @audit internal function `rebasingSharePrice` came earlier from this external function
/// @audit internal function `unmintedRebaseRewards` came earlier from this external function
/// @audit internal function `_balance2shares` came earlier from this external function
/// @audit internal function `_shares2balance` came earlier from this external function
/// @audit internal function `_enterRebase` came earlier from this external function
/// @audit internal function `_exitRebase` came earlier from this external function
/// @audit public function `isRebasing` came earlier from this external function
/// @audit public function `rebasingSupply` came earlier from this external function
415:     function pendingDistributedSupply() external view returns (uint256) {

/// @audit internal function `interpolatedValue` came earlier from this public function
/// @audit internal function `updateTotalRebasingShares` came earlier from this public function
/// @audit internal function `decreaseUnmintedRebaseRewards` came earlier from this public function
/// @audit internal function `rebasingSharePrice` came earlier from this public function
/// @audit internal function `unmintedRebaseRewards` came earlier from this public function
/// @audit internal function `_balance2shares` came earlier from this public function
/// @audit internal function `_shares2balance` came earlier from this public function
/// @audit internal function `_enterRebase` came earlier from this public function
/// @audit internal function `_exitRebase` came earlier from this public function
426:     function balanceOf(

/// @audit internal function `interpolatedValue` came earlier from this public function
/// @audit internal function `updateTotalRebasingShares` came earlier from this public function
/// @audit internal function `decreaseUnmintedRebaseRewards` came earlier from this public function
/// @audit internal function `rebasingSharePrice` came earlier from this public function
/// @audit internal function `unmintedRebaseRewards` came earlier from this public function
/// @audit internal function `_balance2shares` came earlier from this public function
/// @audit internal function `_shares2balance` came earlier from this public function
/// @audit internal function `_enterRebase` came earlier from this public function
/// @audit internal function `_exitRebase` came earlier from this public function
444:     function totalSupply() public view virtual override returns (uint256) {

/// @audit internal function `interpolatedValue` came earlier from this external function
/// @audit internal function `updateTotalRebasingShares` came earlier from this external function
/// @audit internal function `decreaseUnmintedRebaseRewards` came earlier from this external function
/// @audit internal function `rebasingSharePrice` came earlier from this external function
/// @audit internal function `unmintedRebaseRewards` came earlier from this external function
/// @audit internal function `_balance2shares` came earlier from this external function
/// @audit internal function `_shares2balance` came earlier from this external function
/// @audit internal function `_enterRebase` came earlier from this external function
/// @audit internal function `_exitRebase` came earlier from this external function
/// @audit public function `isRebasing` came earlier from this external function
/// @audit public function `rebasingSupply` came earlier from this external function
/// @audit public function `balanceOf` came earlier from this external function
/// @audit public function `totalSupply` came earlier from this external function
451:     function targetTotalSupply() external view returns (uint256) {

/// @audit internal function `interpolatedValue` came earlier from this public function
/// @audit internal function `updateTotalRebasingShares` came earlier from this public function
/// @audit internal function `decreaseUnmintedRebaseRewards` came earlier from this public function
/// @audit internal function `rebasingSharePrice` came earlier from this public function
/// @audit internal function `unmintedRebaseRewards` came earlier from this public function
/// @audit internal function `_balance2shares` came earlier from this public function
/// @audit internal function `_shares2balance` came earlier from this public function
/// @audit internal function `_enterRebase` came earlier from this public function
/// @audit internal function `_exitRebase` came earlier from this public function
/// @audit internal function `_burn` came earlier from this public function
/// @audit internal function `_mint` came earlier from this public function
553:     function transfer(

/// @audit internal function `interpolatedValue` came earlier from this public function
/// @audit internal function `updateTotalRebasingShares` came earlier from this public function
/// @audit internal function `decreaseUnmintedRebaseRewards` came earlier from this public function
/// @audit internal function `rebasingSharePrice` came earlier from this public function
/// @audit internal function `unmintedRebaseRewards` came earlier from this public function
/// @audit internal function `_balance2shares` came earlier from this public function
/// @audit internal function `_shares2balance` came earlier from this public function
/// @audit internal function `_enterRebase` came earlier from this public function
/// @audit internal function `_exitRebase` came earlier from this public function
/// @audit internal function `_burn` came earlier from this public function
/// @audit internal function `_mint` came earlier from this public function
646:     function transferFrom(

```
*Github:* [[281](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L281), [303](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L303), [338](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L338), [389](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L389), [394](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L394), [399](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L399), [415](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L415), [426](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L426), [444](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L444), [451](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L451), [553](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L553), [646](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L646)]


```solidity
File: src/tokens/GuildToken.sol

/// @audit internal function `_beforeTokenTransfer` came earlier from this external function
197:     function setProfitManager(address _newProfitManager) external onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit internal function `_beforeTokenTransfer` came earlier from this external function
/// @audit internal function `_decrementGaugeWeight` came earlier from this external function
/// @audit internal function `_incrementGaugeWeight` came earlier from this external function
268:     function mint(

/// @audit internal function `_beforeTokenTransfer` came earlier from this public function
/// @audit internal function `_decrementGaugeWeight` came earlier from this public function
/// @audit internal function `_incrementGaugeWeight` came earlier from this public function
/// @audit internal function `_burn` came earlier from this public function
288:     function transfer(

/// @audit internal function `_beforeTokenTransfer` came earlier from this public function
/// @audit internal function `_decrementGaugeWeight` came earlier from this public function
/// @audit internal function `_incrementGaugeWeight` came earlier from this public function
/// @audit internal function `_burn` came earlier from this public function
302:     function transferFrom(

```
*Github:* [[197](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L197), [268](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L268), [288](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L288), [302](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L302)]


</details>


<a name="NC-29"></a> 
### [NC-29] Functions and modifiers should be named in mixedCase style
As the [Solidity Style Guide](https://docs.soliditylang.org/en/v0.8.21/style-guide.html#function-names) suggests: functions and modifiers should be named in mixedCase style.

*There is one instance of this issue:*
```solidity
File: src/governance/GuildVetoGovernor.sol

130:     function COUNTING_MODE()

```
*Github:* [[130](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L130)]



<a name="NC-30"></a> 
### [NC-30] Functions with array parameters should have length checks in place

*There are <b>4</b> instances of this issue:*
```solidity
File: src/governance/GuildGovernor.sol

/// @audit `targets`
/// @audit `values`
/// @audit `calldatas`
110:     function guardianCancel(

/// @audit `targets`
/// @audit `values`
/// @audit `calldatas`
123:     function _cancel(

/// @audit `targets`
/// @audit `values`
/// @audit `calldatas`
132:     function _execute(

```
*Github:* [[110](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L110), [123](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L123), [132](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L132)]


```solidity
File: src/loan/LendingTerm.sol

/// @audit `loanIds`
683:     function callMany(bytes32[] memory loanIds) public {

```
*Github:* [[683](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L683)]



<a name="NC-31"></a> 
### [NC-31] High cyclomatic complexity
Consider breaking down these blocks into more manageable units, by splitting things into utility functions, by reducing nesting, and by using early returns

*There are <b>2</b> instances of this issue:*
```solidity
File: src/governance/ProfitManager.sol

/// @audit Number of blocks: 12
292:     function notifyPnL(

```
*Github:* [[292](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L292)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

/// @audit Number of blocks: 10
168:     function updateTotalRebasingShares(

```
*Github:* [[168](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L168)]



<a name="NC-32"></a> 
### [NC-32] Variable names for `immutable`s should use CONSTANT_CASE
For `immutable` variable names, each word should use all capital letters, with underscores separating each word (CONSTANT_CASE)

<details>
<summary>
There are <b>20</b> instances (click to show):
</summary>

```solidity
File: src/governance/LendingTermOffboarding.sol

42:     address public immutable guildToken;

45:     address public immutable psm;

```
*Github:* [[42](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L42), [45](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L45)]


```solidity
File: src/governance/LendingTermOnboarding.sol

32:     address public immutable guildToken;

34:     uint256 public immutable gaugeType;

41:     address public immutable profitManager;

43:     address public immutable auctionHouse;

45:     address public immutable creditMinter;

47:     address public immutable creditToken;

```
*Github:* [[32](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L32), [34](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L34), [41](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L41), [43](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L43), [45](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L45), [47](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L47)]


```solidity
File: src/loan/AuctionHouse.sol

31:     uint256 public immutable midPoint;

38:     uint256 public immutable auctionDuration;

```
*Github:* [[31](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L31), [38](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L38)]


```solidity
File: src/loan/SimplePSM.sol

29:     address public immutable profitManager;

32:     address public immutable credit;

35:     address public immutable pegToken;

43:     uint256 public immutable decimalCorrection;

```
*Github:* [[29](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L29), [32](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L32), [35](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L35), [43](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L43)]


```solidity
File: src/loan/SurplusGuildMinter.sol

56:     address public immutable profitManager;

59:     address public immutable credit;

62:     address public immutable guild;

65:     address public immutable rlgm;

```
*Github:* [[56](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L56), [59](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L59), [62](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L62), [65](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L65)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

19:     address public immutable token;

22:     bytes32 public immutable role;

```
*Github:* [[19](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L19), [22](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L22)]


</details>


<a name="NC-33"></a> 
### [NC-33] Inconsistent spacing in comments
Some lines use `// x` and some use `//x`. The instances below point out the usages that don't follow the majority, within each file

<details>
<summary>
There are <b>23</b> instances (click to show):
</summary>

```solidity
File: src/loan/AuctionHouse.sol

159:             //creditAsked = 0; // implicit

```
*Github:* [[159](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L159)]


```solidity
File: src/tokens/CreditToken.sol

81:     //////////////////////////////////////////////////////////////*/

```
*Github:* [[81](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L81)]


```solidity
File: src/tokens/ERC20Gauges.sol

63:     //////////////////////////////////////////////////////////////*/

95:     //////////////////////////////////////////////////////////////*/

197:     //////////////////////////////////////////////////////////////*/

371:     //////////////////////////////////////////////////////////////*/

470:     //////////////////////////////////////////////////////////////*/

```
*Github:* [[63](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L63), [95](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L95), [197](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L197), [371](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L371), [470](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L470)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

41:     //////////////////////////////////////////////////////////////*/

129:     //////////////////////////////////////////////////////////////*/

171:     //////////////////////////////////////////////////////////////*/

397:     //////////////////////////////////////////////////////////////*/

465:     //////////////////////////////////////////////////////////////*/

```
*Github:* [[41](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L41), [129](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L129), [171](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L171), [397](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L397), [465](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L465)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

45:     ///////////////////////////////////////////////////////////////*/

75:     ///////////////////////////////////////////////////////////////*/

128:     ///////////////////////////////////////////////////////////////*/

277:     ///////////////////////////////////////////////////////////////*/

423:     ///////////////////////////////////////////////////////////////*/

```
*Github:* [[45](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L45), [75](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L75), [128](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L128), [277](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L277), [423](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L423)]


```solidity
File: src/tokens/GuildToken.sol

56:     //////////////////////////////////////////////////////////////*/

75:     //////////////////////////////////////////////////////////////*/

104:     //////////////////////////////////////////////////////////////*/

165:     //////////////////////////////////////////////////////////////*/

265:     //////////////////////////////////////////////////////////////*/

277:     //////////////////////////////////////////////////////////////*/

```
*Github:* [[56](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L56), [75](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L75), [104](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L104), [165](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L165), [265](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L265), [277](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L277)]


</details>


<a name="NC-34"></a> 
### [NC-34] Invalid NatSpec comment style
NatSpec must begin with `///` or use `/* ... */` syntax

*There is one instance of this issue:*
```solidity
File: src/governance/GuildVetoGovernor.sol

252:         // @dev all proposals that are in this Governor's state should have been created

```
*Github:* [[252](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L252)]



<a name="NC-35"></a> 
### [NC-35] Large or complicated code bases should implement invariant tests
This includes: large code bases, or code with lots of inline-assembly, complicated math, or complicated interactions between multiple contracts. Invariant fuzzers such as Echidna require the test writer to come up with invariants which should not be violated under any circumstances, and the fuzzer tests various inputs and function calls to ensure that the invariants always hold. Even code with 100% code coverage can still have bugs due to the order of the operations a user performs, and invariant fuzzers may help significantly.

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/)]



<a name="NC-36"></a> 
### [NC-36] Large numeric literals should use underscores for readability
Large hardcoded numbers in code can be difficult to read. Consider using underscores for number literals to improve readability (e.g `1234567` -> `1_234_567`). Consider using an underscore for every third digit from the right.

*There are <b>5</b> instances of this issue:*
```solidity
File: src/governance/GuildVetoGovernor.sol

231:         return 2425847; // ~1 year with 1 block every 13s

```
*Github:* [[231](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L231)]


```solidity
File: src/governance/LendingTermOffboarding.sol

36:     uint256 public constant POLL_DURATION_BLOCKS = 46523; // ~7 days @ 13s/block

```
*Github:* [[36](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L36)]


```solidity
File: src/governance/LendingTermOnboarding.sol

134:             params.maxDelayBetweenPartialRepay < 31557601, // periodic payment every [0, 1 year]

```
*Github:* [[134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L134)]


```solidity
File: src/loan/LendingTerm.sol

68:     uint256 public constant YEAR = 31557600;

```
*Github:* [[68](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L68)]


```solidity
File: src/loan/SurplusGuildMinter.sol

29:     uint256 public constant YEAR = 31557600;

```
*Github:* [[29](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L29)]



<a name="NC-37"></a> 
### [NC-37] Long functions should be refactored into multiple, smaller, functions

<details>
<summary>
There are <b>14</b> instances (click to show):
</summary>

```solidity
File: src/governance/GuildVetoGovernor.sol

/// @audit 55 lines
246:     function state(
             uint256 proposalId
         ) public view override returns (ProposalState) {

```
*Github:* [[246](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L246)]


```solidity
File: src/governance/LendingTermOnboarding.sol

/// @audit 63 lines
105:     function createTerm(
             address implementation,
             LendingTerm.LendingTermParams calldata params
         ) external returns (address) {

```
*Github:* [[105](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L105)]


```solidity
File: src/governance/ProfitManager.sol

/// @audit 113 lines
292:     function notifyPnL(
             address gauge,
             int256 amount
         ) external onlyCoreRole(CoreRoles.GAUGE_PNL_NOTIFIER) {

```
*Github:* [[292](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L292)]


```solidity
File: src/loan/LendingTerm.sol

/// @audit 61 lines
270:     function debtCeiling(
             int256 gaugeWeightDelta
         ) public view returns (uint256) {

/// @audit 61 lines
334:     function debtCeiling() external view returns (uint256) {

/// @audit 96 lines
339:     function _borrow(
             address borrower,
             uint256 borrowAmount,
             uint256 collateralAmount
         ) internal returns (bytes32 loanId) {

/// @audit 69 lines
490:     function _partialRepay(
             address repayer,
             bytes32 loanId,
             uint256 debtToRepay
         ) internal {

/// @audit 58 lines
567:     function _repay(address repayer, bytes32 loanId) internal {

/// @audit 100 lines
725:     function onBid(
             bytes32 loanId,
             address bidder,
             uint256 collateralToBorrower,
             uint256 collateralToBidder,
             uint256 creditFromBidder
         ) external {

```
*Github:* [[270](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L270), [334](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L334), [339](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L339), [490](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L490), [567](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L567), [725](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L725)]


```solidity
File: src/loan/SurplusGuildMinter.sol

/// @audit 54 lines
158:     function unstake(address term, uint256 amount) external {

/// @audit 74 lines
216:     function getRewards(
             address user,
             address term
         )
             public
             returns (
                 uint256 lastGaugeLoss, // GuildToken.lastGaugeLoss(term)
                 UserStake memory userStake, // stake state after execution of getRewards()
                 bool slashed // true if the user has been slashed
             )
         {

```
*Github:* [[158](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L158), [216](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L216)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

/// @audit 57 lines
168:     function updateTotalRebasingShares(
             uint256 currentRebasingSharePrice,
             int256 sharesDelta
         ) internal {

/// @audit 89 lines
553:     function transfer(
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

/// @audit 90 lines
646:     function transferFrom(
             address from,
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

```
*Github:* [[168](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L168), [553](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L553), [646](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L646)]


</details>


<a name="NC-38"></a> 
### [NC-38] Magic numbers should be replaced with constants
Magic numbers are hard-coded values in code that can make it difficult for developers and maintainers to understand the code, and can also cause confusion or errors. To improve the readability and maintainability of code, it is recommended to replace magic numbers with constants that have good readability.

<details>
<summary>
There are <b>54</b> instances (click to show):
</summary>

```solidity
File: src/governance/GuildVetoGovernor.sol

// @audit `2425847`
231:         return 2425847; // ~1 year with 1 block every 13s

```
*Github:* [[231](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L231)]


```solidity
File: src/governance/LendingTermOnboarding.sol

// @audit `32`
118:             success && returned.length == 32,

// @audit `1e18`
128:             params.interestRate < 1e18, // interest rate [0, 100[% APR

// @audit `31557601`
134:             params.maxDelayBetweenPartialRepay < 31557601, // periodic payment every [0, 1 year]

// @audit `1e18`
139:             params.minPartialRepayPercent < 1e18, // periodic payment sizes [0, 100[%

// @audit `0.1e18`
144:             params.openingFee <= 0.1e18, // open fee expected [0, 10]%

// @audit `3`
227:         targets = new address[](3);

// @audit `3`
228:         values = new uint256[](3);

// @audit `3`
229:         calldatas = new bytes[](3);

// @audit `2`
256:         targets[2] = _core;

// @audit `2`
257:         calldatas[2] = abi.encodeWithSelector(

```
*Github:* [[118](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L118), [128](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L128), [134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L134), [139](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L139), [144](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L144), [227](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L227), [228](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L228), [229](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L229), [256](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L256), [257](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L257)]


```solidity
File: src/governance/ProfitManager.sol

// @audit `100e18`
107:         emit MinBorrowUpdate(block.timestamp, 100e18);

// @audit `1e18`
152:         return (_minBorrow * 1e18) / creditMultiplier;

// @audit `1e18`
208:             surplusBufferSplit + otherSplit + guildSplit + creditSplit == 1e18,

// @audit `1e9`
213:             surplusBufferSplit: uint32(surplusBufferSplit / 1e9),

// @audit `1e9`
214:             guildSplit: uint32(guildSplit / 1e9),

// @audit `1e9`
215:             otherSplit: uint32(otherSplit / 1e9),

// @audit `1e9`
243:             1e9;

// @audit `1e9`
244:         guildSplit = uint256(profitSharingConfig.guildSplit) * 1e9;

// @audit `1e9`
245:         otherSplit = uint256(profitSharingConfig.otherSplit) * 1e9;

// @audit `1e18`
246:         creditSplit = 1e18 - surplusBufferSplit - guildSplit - otherSplit;

// @audit `1e9`
347:                 uint256(_profitSharingConfig.surplusBufferSplit)) / 1e9;

// @audit `1e9`
350:                 uint256(_profitSharingConfig.guildSplit)) / 1e9;

// @audit `1e9`
353:                 uint256(_profitSharingConfig.otherSplit)) / 1e9;

// @audit `1e18`
394:                         _gaugeProfitIndex = 1e18;

// @audit `1e18`
398:                         (amountForGuild * 1e18) /

// @audit `1e18`
422:             _gaugeProfitIndex = 1e18;

// @audit `1e18`
425:             _userGaugeProfitIndex = 1e18;

// @audit `1e18`
429:             creditEarned = (_userGaugeWeight * deltaIndex) / 1e18;

// @audit `1e18`
473:                 _gaugeProfitIndex = 1e18;

// @audit `1e18`
476:                 _userGaugeProfitIndex = 1e18;

// @audit `1e18`
483:                 creditEarned[i] = (_userGaugeWeight * deltaIndex) / 1e18;

```
*Github:* [[107](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L107), [152](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L152), [208](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L208), [213](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L213), [214](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L214), [215](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L215), [243](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L243), [244](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L244), [245](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L245), [246](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L246), [347](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L347), [350](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L350), [353](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L353), [394](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L394), [398](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L398), [422](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L422), [425](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L425), [429](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L429), [473](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L473), [476](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L476), [483](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L483)]


```solidity
File: src/loan/LendingTerm.sol

// @audit `1e18`
222:             1e18;

// @audit `1e18`
226:             loanDebt += (borrowAmount * _openingFee) / 1e18;

// @audit `1e18`
306:             1e18;

// @audit `1e18`
387:             ) * gaugeWeightTolerance) / 1e18;

// @audit `1e18`
510:         uint256 percentRepaid = (debtToRepay * 1e18) / loanDebt; // [0, 1e18[

// @audit `1e18`
516:         uint256 principalRepaid = (principal * percentRepaid) / 1e18;

// @audit `1e18`
518:         uint256 issuanceDecrease = (borrowAmount * percentRepaid) / 1e18;

// @audit `1e18`
524:             debtToRepay >= (loanDebt * params.minPartialRepayPercent) / 1e18,

```
*Github:* [[222](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L222), [226](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L226), [306](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L306), [387](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L387), [510](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L510), [516](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L516), [518](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L518), [524](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L524)]


```solidity
File: src/loan/SimplePSM.sol

// @audit `10`
76:         decimalCorrection = 10 ** (18 - decimals);

// @audit `18`
76:         decimalCorrection = 10 ** (18 - decimals);

// @audit `1e18`
83:         return (amountIn * decimalCorrection * 1e18) / creditMultiplier;

// @audit `1e18`
92:         return (amountIn * creditMultiplier) / 1e18 / decimalCorrection;

```
*Github:* [[76](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L76), [76](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L76), [83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L83), [92](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L92)]


```solidity
File: src/loan/SurplusGuildMinter.sol

// @audit `1e18`
134:         uint256 guildAmount = (_mintRatio * amount) / 1e18;

// @audit `1e18`
175:         uint256 userMintRatio = (uint256(userStake.guild) * 1e18) /

// @audit `1e18`
177:         uint256 guildAmount = (userMintRatio * amount) / 1e18;

// @audit `1e18`
244:         if (_profitIndex == 0) _profitIndex = 1e18;

// @audit `1e18`
245:         if (_userProfitIndex == 0) _userProfitIndex = 1e18;

// @audit `1e18`
251:                 1e18;

// @audit `1e18`
252:             uint256 guildReward = (creditReward * rewardRatio) / 1e18;

// @audit `1e18`
302:         uint256 guildAfter = (mintRatio * uint256(userStake.credit)) / 1e18;

```
*Github:* [[134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L134), [175](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L175), [177](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L177), [244](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L244), [245](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L245), [251](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L251), [252](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L252), [302](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L302)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

// @audit `2`
124:         return (a & b) + (a ^ b) / 2;

// @audit `2`
297:         require(count < 2, "ERC20MultiVotes: delegation error");

```
*Github:* [[124](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L124), [297](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L297)]


</details>


<a name="NC-39"></a> 
### [NC-39] Consider moving `msg.sender` checks to `modifier`s
If some functions are only allowed to be called by some specific users, consider using a modifier instead of checking with a require statement, especially if this check is done in multiple functions.

*There are <b>3</b> instances of this issue:*
```solidity
File: src/core/CoreRef.sol

25:         require(_core.hasRole(role, msg.sender), "UNAUTHORIZED");

```
*Github:* [[25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L25)]


```solidity
File: src/loan/LendingTerm.sol

733:         require(msg.sender == refs.auctionHouse, "LendingTerm: invalid caller");

```
*Github:* [[733](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L733)]


```solidity
File: src/tokens/GuildToken.sol

124:         require(msg.sender == profitManager, "UNAUTHORIZED");

```
*Github:* [[124](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L124)]



<a name="NC-40"></a> 
### [NC-40] Named mappings are recommended
[Named mappings](https://docs.soliditylang.org/en/v0.8.18/types.html#mapping-types) (with syntax `mapping(KeyType KeyName? => ValueType ValueName?)`) are recommended.It can make the mapping variables clearer, more readable and easier to maintain.

<details>
<summary>
There are <b>32</b> instances (click to show):
</summary>

```solidity
File: src/governance/GuildVetoGovernor.sol

90:     mapping(uint256 => bytes32) private _timelockIds;

121:         mapping(address => bool) hasVoted;

124:     mapping(uint256 => ProposalVote) private _proposalVotes;

```
*Github:* [[90](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L90), [121](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L121), [124](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L124)]


```solidity
File: src/governance/LendingTermOffboarding.sol

49:     mapping(uint256 => mapping(address => uint256)) public polls;

53:     mapping(address => mapping(uint256 => mapping(address => uint256)))

58:     mapping(address => uint256) public lastPollBlock;

61:     mapping(address => bool) public canOffboard;

```
*Github:* [[49](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L49), [53](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L53), [58](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L58), [61](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L61)]


```solidity
File: src/governance/LendingTermOnboarding.sol

27:     mapping(address => uint256) public lastProposal;

30:     mapping(address => bool) public implementations;

38:     mapping(address => uint256) public created;

```
*Github:* [[27](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L27), [30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L30), [38](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L38)]


```solidity
File: src/governance/ProfitManager.sol

41:     mapping(address => uint256) public gaugeProfitIndex;

44:     mapping(address => mapping(address => uint256)) public userGaugeProfitIndex;

77:     mapping(address => uint256) public termSurplusBuffer;

```
*Github:* [[41](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L41), [44](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L44), [77](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L77)]


```solidity
File: src/loan/AuctionHouse.sol

51:     mapping(bytes32 => Auction) internal auctions;

```
*Github:* [[51](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L51)]


```solidity
File: src/loan/LendingTerm.sol

73:     mapping(bytes32 => uint256) public lastPartialRepay;

89:     mapping(bytes32 => Loan) internal loans;

```
*Github:* [[73](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L73), [89](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L89)]


```solidity
File: src/loan/SurplusGuildMinter.sol

86:     mapping(address => mapping(address => UserStake)) internal _stakes;

```
*Github:* [[86](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L86)]


```solidity
File: src/tokens/ERC20Gauges.sol

66:     mapping(address => mapping(address => uint256)) public getUserGaugeWeight;

70:     mapping(address => uint256) public getUserWeight;

74:     mapping(address => uint256) public getGaugeWeight;

81:     mapping(uint256 => uint256) public totalTypeWeight;

84:     mapping(address => uint256) public gaugeType;

86:     mapping(address => EnumerableSet.AddressSet) internal _userGauges;

393:     mapping(address => bool) public canExceedMaxGauges;

```
*Github:* [[66](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L66), [70](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L70), [74](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L74), [81](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L81), [84](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L84), [86](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L86), [393](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L393)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

49:     mapping(address => Checkpoint[]) private _checkpoints;

144:     mapping(address => bool) public canContractExceedMaxDelegates;

203:     mapping(address => mapping(address => uint256))

207:     mapping(address => uint256) public userDelegatedVotes;

210:     mapping(address => EnumerableSet.AddressSet) private _delegates;

```
*Github:* [[49](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L49), [144](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L144), [203](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L203), [207](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L207), [210](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L210)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

83:     mapping(address => RebasingState) internal rebasingState;

```
*Github:* [[83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L83)]


```solidity
File: src/tokens/GuildToken.sol

117:     mapping(address => uint256) public lastGaugeLoss;

120:     mapping(address => mapping(address => uint256)) public lastGaugeLossApplied;

```
*Github:* [[117](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L117), [120](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L120)]


</details>


<a name="NC-41"></a> 
### [NC-41] Missing NatSpec from contract declarations
e.g. `@dev` or `@notice`, and it must appear above the contract definition braces in order to be identified by the compiler as NatSpec.

*There is one instance of this issue:*
```solidity
File: src/rate-limits/RateLimitedMinter.sol

10: interface IERC20Mintable {

```
*Github:* [[10](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L10)]



<a name="NC-42"></a> 
### [NC-42] Missing NatSpec `@author` from contract declaration
Some contract definitions have an incomplete NatSpec: add a `@author` notation to improve the code documentation.

*There are <b>10</b> instances of this issue:*
```solidity
File: src/core/CoreRoles.sol

8: library CoreRoles {

```
*Github:* [[8](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L8)]


```solidity
File: src/governance/LendingTermOffboarding.sol

16: contract LendingTermOffboarding is CoreRef {

```
*Github:* [[16](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L16)]


```solidity
File: src/governance/LendingTermOnboarding.sol

23: contract LendingTermOnboarding is GuildGovernor {

```
*Github:* [[23](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L23)]


```solidity
File: src/loan/AuctionHouse.sol

10: contract AuctionHouse is CoreRef {

```
*Github:* [[10](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L10)]


```solidity
File: src/loan/LendingTerm.sol

20: contract LendingTerm is CoreRef {

```
*Github:* [[20](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L20)]


```solidity
File: src/loan/SimplePSM.sol

25: contract SimplePSM is CoreRef {

```
*Github:* [[25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L25)]


```solidity
File: src/loan/SurplusGuildMinter.sol

24: contract SurplusGuildMinter is CoreRef {

```
*Github:* [[24](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L24)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

10: interface IERC20Mintable {

17: contract RateLimitedMinter is RateLimitedV2 {

```
*Github:* [[10](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L10), [17](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L17)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

35: abstract contract ERC20MultiVotes is ERC20Permit {

```
*Github:* [[35](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L35)]



<a name="NC-43"></a> 
### [NC-43] Missing NatSpec `@dev` from contract declaration
Some contract definitions have an incomplete NatSpec: add a `@dev` notation to improve the code documentation.

<details>
<summary>
There are <b>16</b> instances (click to show):
</summary>

```solidity
File: src/core/Core.sol

10: contract Core is AccessControlEnumerable {

```
*Github:* [[10](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/Core.sol#L10)]


```solidity
File: src/core/CoreRef.sol

12: abstract contract CoreRef is Pausable {

```
*Github:* [[12](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L12)]


```solidity
File: src/core/CoreRoles.sol

8: library CoreRoles {

```
*Github:* [[8](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L8)]


```solidity
File: src/governance/GuildGovernor.sol

16: contract GuildGovernor is

```
*Github:* [[16](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L16)]


```solidity
File: src/governance/GuildVetoGovernor.sol

25: contract GuildVetoGovernor is CoreRef, Governor, GovernorVotes {

```
*Github:* [[25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L25)]


```solidity
File: src/governance/LendingTermOffboarding.sol

16: contract LendingTermOffboarding is CoreRef {

```
*Github:* [[16](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L16)]


```solidity
File: src/governance/LendingTermOnboarding.sol

23: contract LendingTermOnboarding is GuildGovernor {

```
*Github:* [[23](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L23)]


```solidity
File: src/governance/ProfitManager.sol

30: contract ProfitManager is CoreRef {

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L30)]


```solidity
File: src/loan/AuctionHouse.sol

10: contract AuctionHouse is CoreRef {

```
*Github:* [[10](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L10)]


```solidity
File: src/loan/LendingTerm.sol

20: contract LendingTerm is CoreRef {

```
*Github:* [[20](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L20)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

10: interface IERC20Mintable {

17: contract RateLimitedMinter is RateLimitedV2 {

```
*Github:* [[10](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L10), [17](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L17)]


```solidity
File: src/tokens/CreditToken.sol

18: contract CreditToken is

```
*Github:* [[18](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L18)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

42: abstract contract ERC20RebaseDistributor is ERC20 {

```
*Github:* [[42](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L42)]


```solidity
File: src/tokens/GuildToken.sol

37: contract GuildToken is CoreRef, ERC20Burnable, ERC20Gauges, ERC20MultiVotes {

```
*Github:* [[37](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L37)]


```solidity
File: src/utils/RateLimitedV2.sol

14: abstract contract RateLimitedV2 is IRateLimitedV2, CoreRef {

```
*Github:* [[14](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L14)]


</details>


<a name="NC-44"></a> 
### [NC-44] Missing NatSpec `@dev` from event declaration
Some event definitions have an incomplete NatSpec: add a `@dev` notation to improve the code documentation.

<details>
<summary>
There are <b>47</b> instances (click to show):
</summary>

```solidity
File: src/core/CoreRef.sol

14:     event CoreUpdate(address indexed oldCore, address indexed newCore);

```
*Github:* [[14](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L14)]


```solidity
File: src/governance/GuildGovernor.sol

28:     event QuorumUpdated(uint256 oldQuorum, uint256 newQuorum);

```
*Github:* [[28](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L28)]


```solidity
File: src/governance/GuildVetoGovernor.sol

30:     event QuorumUpdated(uint256 oldQuorum, uint256 newQuorum);

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L30)]


```solidity
File: src/governance/LendingTermOffboarding.sol

18:     event OffboardSupport(

26:     event Offboard(uint256 indexed timestamp, address indexed term);

28:     event Cleanup(uint256 indexed timestamp, address indexed term);

31:     event QuorumUpdated(uint256 oldQuorum, uint256 newQuorum);

```
*Github:* [[18](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L18), [26](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L26), [28](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L28), [31](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L31)]


```solidity
File: src/governance/LendingTermOnboarding.sol

50:     event ImplementationAllowChanged(

56:     event TermCreated(

```
*Github:* [[50](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L50), [56](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L56)]


```solidity
File: src/governance/ProfitManager.sol

111:     event GaugePnL(address indexed gauge, uint256 indexed when, int256 pnl);

114:     event SurplusBufferUpdate(uint256 indexed when, uint256 newValue);

117:     event TermSurplusBufferUpdate(

124:     event CreditMultiplierUpdate(uint256 indexed when, uint256 newValue);

127:     event ProfitSharingConfigUpdate(

137:     event ClaimRewards(

145:     event MinBorrowUpdate(uint256 indexed when, uint256 newValue);

148:     event GaugeWeightToleranceUpdate(uint256 indexed when, uint256 newValue);

```
*Github:* [[111](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L111), [114](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L114), [117](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L117), [124](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L124), [127](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L127), [137](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L137), [145](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L145), [148](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L148)]


```solidity
File: src/loan/AuctionHouse.sol

12:     event AuctionStart(

20:     event AuctionEnd(

```
*Github:* [[12](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L12), [20](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L20)]


```solidity
File: src/loan/LendingTerm.sol

25:     event LoanOpen(

33:     event LoanCall(uint256 indexed when, bytes32 indexed loanId);

40:     event LoanClose(

47:     event LoanAddCollateral(

54:     event LoanPartialRepay(

```
*Github:* [[25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L25), [33](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L33), [40](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L40), [47](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L47), [54](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L54)]


```solidity
File: src/loan/SimplePSM.sol

49:     event Redeem(

56:     event Mint(

63:     event RedemptionsPaused(uint256 indexed when, bool status);

```
*Github:* [[49](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L49), [56](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L56), [63](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L63)]


```solidity
File: src/loan/SurplusGuildMinter.sol

32:     event Stake(

38:     event Unstake(

45:     event GuildReward(

51:     event MintRatioUpdate(uint256 indexed timestamp, uint256 ratio);

53:     event RewardRatioUpdate(uint256 indexed timestamp, uint256 ratio);

```
*Github:* [[32](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L32), [38](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L38), [45](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L45), [51](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L51), [53](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L53)]


```solidity
File: src/tokens/ERC20Gauges.sol

200:     event IncrementGaugeWeight(

207:     event DecrementGaugeWeight(

374:     event AddGauge(address indexed gauge, uint256 indexed gaugeType);

377:     event RemoveGauge(address indexed gauge);

380:     event MaxGaugesUpdate(uint256 oldMaxGauges, uint256 newMaxGauges);

383:     event CanExceedMaxGaugesUpdate(

```
*Github:* [[200](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L200), [207](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L207), [374](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L374), [377](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L377), [380](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L380), [383](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L383)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

132:     event MaxDelegatesUpdate(uint256 oldMaxDelegates, uint256 newMaxDelegates);

135:     event CanContractExceedMaxDelegatesUpdate(

```
*Github:* [[132](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L132), [135](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L135)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

48:     event RebaseEnter(address indexed account, uint256 indexed timestamp);

50:     event RebaseExit(address indexed account, uint256 indexed timestamp);

52:     event RebaseDistribution(

```
*Github:* [[48](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L48), [50](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L50), [52](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L52)]


```solidity
File: src/tokens/GuildToken.sol

107:     event GaugeLoss(address indexed gauge, uint256 indexed when);

109:     event GaugeLossApply(

172:     event TransfersEnabled(uint256 block, uint256 timestamp);

194:     event ProfitManagerUpdated(uint256 timestamp, address newValue);

```
*Github:* [[107](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L107), [109](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L109), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L172), [194](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L194)]


</details>


<a name="NC-45"></a> 
### [NC-45] Missing NatSpec `@dev` from function declaration
Some function definitions have an incomplete NatSpec: add a `@dev` notation to improve the code documentation.

<details>
<summary>
There are <b>203</b> instances (click to show):
</summary>

```solidity
File: src/core/Core.sol

12:     constructor() {

```
*Github:* [[12](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/Core.sol#L12)]


```solidity
File: src/core/CoreRef.sol

19:     constructor(address coreAddress) {

30:     function core() public view returns (Core) {

39:     function setCore(

49:     function _setCore(address newCore) internal {

57:     function pause() public onlyCoreRole(CoreRoles.GUARDIAN) {

62:     function unpause() public onlyCoreRole(CoreRoles.GUARDIAN) {

87:     function emergencyAction(

```
*Github:* [[19](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L19), [30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L30), [39](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L39), [49](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L49), [57](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L57), [62](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L62), [87](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L87)]


```solidity
File: src/governance/GuildGovernor.sol

30:     constructor(

57:     function quorum(

78:     function setVotingDelay(

85:     function setVotingPeriod(

92:     function setProposalThreshold(

99:     function setQuorum(

110:     function guardianCancel(

123:     function _cancel(

132:     function _execute(

142:     function _executor()

151:     function proposalThreshold()

160:     function state(

171:     function supportsInterface(

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L30), [57](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L57), [78](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L78), [85](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L85), [92](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L92), [99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L99), [110](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L110), [123](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L123), [132](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L132), [142](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L142), [151](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L151), [160](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L160), [171](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L171)]


```solidity
File: src/governance/GuildTimelockController.sol

15:     constructor(

```
*Github:* [[15](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L15)]


```solidity
File: src/governance/GuildVetoGovernor.sol

32:     constructor(

60:     function setQuorum(

93:     function updateTimelock(

99:     function _updateTimelock(address newTimelock) private {

246:     function state(

315:     function createVeto(bytes32 timelockId) external returns (uint256) {

367:     function _getVetoCalls(

```
*Github:* [[32](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L32), [60](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L60), [93](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L93), [99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L99), [246](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L246), [315](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L315), [367](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L367)]


```solidity
File: src/governance/LendingTermOffboarding.sol

66:     constructor(

78:     function setQuorum(

116:     function supportOffboard(

153:     function offboard(address term) external whenNotPaused {

175:     function cleanup(address term) external whenNotPaused {

```
*Github:* [[66](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L66), [78](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L78), [116](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L116), [153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L153), [175](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L175)]


```solidity
File: src/governance/LendingTermOnboarding.sol

63:     constructor(

92:     function allowImplementation(

105:     function createTerm(

181:     function proposeOnboard(

215:     function getOnboardProposeArgs(

```
*Github:* [[63](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L63), [92](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L92), [105](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L105), [181](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L181), [215](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L215)]


```solidity
File: src/governance/ProfitManager.sol

106:     constructor(address _core) CoreRef(_core) {

151:     function minBorrow() external view returns (uint256) {

156:     function initializeReferences(

172:     function totalBorrowedCredit() external view returns (uint256) {

179:     function setMinBorrow(

187:     function setGaugeWeightTolerance(

195:     function setProfitSharingConfig(

230:     function getProfitSharingConfig()

251:     function donateToSurplusBuffer(uint256 amount) external {

259:     function donateToTermSurplusBuffer(address term, uint256 amount) external {

267:     function withdrawFromSurplusBuffer(

278:     function withdrawFromTermSurplusBuffer(

292:     function notifyPnL(

439:     function claimRewards(

452:     function getPendingRewards(

```
*Github:* [[106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L106), [151](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L151), [156](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L156), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L172), [179](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L179), [187](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L187), [195](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L195), [230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L230), [251](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L251), [259](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L259), [267](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L267), [278](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L278), [292](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L292), [439](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L439), [452](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L452)]


```solidity
File: src/loan/AuctionHouse.sol

56:     constructor(

67:     function getAuction(bytes32 loanId) external view returns (Auction memory) {

75:     function startAuction(bytes32 loanId, uint256 callDebt) external {

118:     function getBidDetail(

```
*Github:* [[56](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L56), [67](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L67), [75](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L75), [118](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L118)]


```solidity
File: src/loan/LendingTerm.sol

153:     constructor() CoreRef(address(1)) {

160:     function initialize(

176:     function getReferences()

185:     function getParameters() external view returns (LendingTermParams memory) {

190:     function collateralToken() external view returns (address) {

195:     function getLoan(bytes32 loanId) external view returns (Loan memory) {

200:     function getLoanDebt(bytes32 loanId) public view returns (uint256) {

237:     function partialRepayDelayPassed(

334:     function debtCeiling() external view returns (uint256) {

339:     function _borrow(

438:     function borrow(

448:     function _addCollateral(

482:     function addCollateral(bytes32 loanId, uint256 collateralToAdd) external {

490:     function _partialRepay(

562:     function partialRepay(bytes32 loanId, uint256 debtToRepay) external {

567:     function _repay(address repayer, bytes32 loanId) internal {

628:     function repay(bytes32 loanId) external {

634:     function _call(

678:     function call(bytes32 loanId) external {

683:     function callMany(bytes32[] memory loanIds) public {

695:     function forgive(bytes32 loanId) external onlyCoreRole(CoreRoles.GOVERNOR) {

725:     function onBid(

829:     function setAuctionHouse(

846:     function setHardCap(

```
*Github:* [[153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L153), [160](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L160), [176](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L176), [185](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L185), [190](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L190), [195](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L195), [200](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L200), [237](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L237), [334](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L334), [339](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L339), [438](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L438), [448](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L448), [482](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L482), [490](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L490), [562](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L562), [567](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L567), [628](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L628), [634](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L634), [678](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L678), [683](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L683), [695](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L695), [725](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L725), [829](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L829), [846](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L846)]


```solidity
File: src/loan/SimplePSM.sol

65:     constructor(

80:     function getMintAmountOut(uint256 amountIn) public view returns (uint256) {

87:     function getRedeemAmountOut(

97:     function redeemableCredit() public view returns (uint256) {

149:     function setRedemptionsPaused(

```
*Github:* [[65](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L65), [80](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L80), [87](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L87), [97](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L97), [149](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L149)]


```solidity
File: src/loan/SurplusGuildMinter.sol

88:     constructor(

106:     function getUserStake(

114:     function stake(address term, uint256 amount) external whenNotPaused {

158:     function unstake(address term, uint256 amount) external {

216:     function getRewards(

293:     function updateMintRatio(address user, address term) external {

319:     function setMintRatio(

328:     function setRewardRatio(

```
*Github:* [[88](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L88), [106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L106), [114](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L114), [158](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L158), [216](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L216), [293](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L293), [319](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L319), [328](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L328)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

11:     function mint(address to, uint256 amount) external;

30:     constructor(

49:     function mint(

60:     function replenishBuffer(uint256 amount) external onlyCoreRole(role) {

```
*Github:* [[11](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L11), [30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L30), [49](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L49), [60](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L60)]


```solidity
File: src/tokens/CreditToken.sol

24:     constructor(

35:     function mint(

43:     function setMaxDelegates(

50:     function setContractExceedMaxDelegates(

58:     function forceEnterRebase(

69:     function forceExitRebase(

83:     function _mint(

90:     function _burn(

98:     function balanceOf(

104:     function totalSupply()

113:     function transfer(

125:     function transferFrom(

```
*Github:* [[24](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L24), [35](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L35), [43](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L43), [50](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L50), [58](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L58), [69](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L69), [83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L83), [90](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L90), [98](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L98), [104](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L104), [113](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L113), [125](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L125)]


```solidity
File: src/tokens/ERC20Gauges.sol

98:     function gauges() external view returns (address[] memory) {

103:     function isGauge(address gauge) public view returns (bool) {

108:     function isDeprecatedGauge(address gauge) public view returns (bool) {

113:     function numGauges() external view returns (uint256) {

118:     function deprecatedGauges() external view returns (address[] memory) {

123:     function numDeprecatedGauges() external view returns (uint256) {

128:     function liveGauges() external view returns (address[] memory _liveGauges) {

149:     function numLiveGauges() external view returns (uint256) {

154:     function userGauges(address user) external view returns (address[] memory) {

159:     function isUserGauge(

167:     function numUserGauges(address user) external view returns (uint256) {

172:     function userUnusedWeight(address user) external view returns (uint256) {

182:     function calculateGaugeAllocation(

219:     function incrementGauge(

249:     function _incrementUserAndGlobalWeights(

269:     function incrementGauges(

301:     function decrementGauge(

314:     function _decrementGaugeWeight(

340:     function decrementGauges(

395:     function _addGauge(

425:     function _removeGauge(address gauge) internal {

452:     function _setCanExceedMaxGauges(

476:     function _burn(address from, uint256 amount) internal virtual override {

481:     function transfer(

489:     function transferFrom(

500:     function _decrementWeightUntilFree(address user, uint256 weight) internal {

```
*Github:* [[98](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L98), [103](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L103), [108](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L108), [113](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L113), [118](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L118), [123](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L123), [128](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L128), [149](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L149), [154](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L154), [159](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L159), [167](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L167), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L172), [182](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L182), [219](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L219), [249](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L249), [269](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L269), [301](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L301), [314](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L314), [340](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L340), [395](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L395), [425](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L425), [452](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L452), [476](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L476), [481](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L481), [489](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L489), [500](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L500)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

52:     function checkpoints(

60:     function numCheckpoints(

71:     function freeVotes(address account) public view virtual returns (uint256) {

80:     function getVotes(address account) public view virtual returns (uint256) {

91:     function getPastVotes(

122:     function average(uint256 a, uint256 b) internal pure returns (uint256) {

147:     function _setMaxDelegates(uint256 newMax) internal {

155:     function _setContractExceedMaxDelegates(

218:     function delegatesVotesCount(

230:     function delegates(

242:     function containsDelegate(

254:     function delegateCount(address delegator) public view returns (uint256) {

276:     function undelegate(address delegatee, uint256 amount) public virtual {

290:     function _delegate(

317:     function _incrementDelegation(

344:     function _undelegate(

363:     function _writeCheckpoint(

387:     function _add(uint256 a, uint256 b) private pure returns (uint256) {

391:     function _subtract(uint256 a, uint256 b) private pure returns (uint256) {

403:     function _burn(address from, uint256 amount) internal virtual override {

408:     function transfer(

416:     function transferFrom(

427:     function _decrementVotesUntilFree(address user, uint256 votes) internal {

```
*Github:* [[52](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L52), [60](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L60), [71](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L71), [80](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L80), [91](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L91), [122](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L122), [147](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L147), [155](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L155), [218](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L218), [230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L230), [242](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L242), [254](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L254), [276](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L276), [290](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L290), [317](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L317), [344](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L344), [363](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L363), [387](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L387), [391](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L391), [403](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L403), [408](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L408), [416](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L416), [427](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L427)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

131:     function interpolatedValue(

168:     function updateTotalRebasingShares(

228:     function decreaseUnmintedRebaseRewards(uint256 amount) internal {

242:     function rebasingSharePrice() internal view returns (uint256) {

247:     function unmintedRebaseRewards() internal view returns (uint256) {

252:     function _balance2shares(

260:     function _shares2balance(

281:     function enterRebase() external {

289:     function _enterRebase(address account) internal {

303:     function exitRebase() external {

311:     function _exitRebase(address account) internal {

389:     function isRebasing(address account) public view returns (bool) {

394:     function rebasingSupply() public view returns (uint256) {

399:     function nonRebasingSupply() external view virtual returns (uint256) {

415:     function pendingDistributedSupply() external view returns (uint256) {

426:     function balanceOf(

444:     function totalSupply() public view virtual override returns (uint256) {

509:     function _mint(address account, uint256 amount) internal virtual override {

553:     function transfer(

646:     function transferFrom(

```
*Github:* [[131](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L131), [168](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L168), [228](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L228), [242](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L242), [247](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L247), [252](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L252), [260](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L260), [281](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L281), [289](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L289), [303](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L303), [311](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L311), [389](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L389), [394](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L394), [399](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L399), [415](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L415), [426](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L426), [444](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L444), [509](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L509), [553](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L553), [646](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L646)]


```solidity
File: src/tokens/GuildToken.sol

43:     constructor(

59:     function setMaxDelegates(

66:     function setContractExceedMaxDelegates(

76:     function addGauge(

83:     function removeGauge(

89:     function setMaxGauges(

95:     function setCanExceedMaxGauges(

123:     function notifyGaugeLoss(address gauge) external {

133:     function applyGaugeLoss(address gauge, address who) external {

175:     function enableTransfer() external onlyCoreRole(CoreRoles.GOVERNOR) {

197:     function setProfitManager(address _newProfitManager) external onlyCoreRole(CoreRoles.GOVERNOR) {

268:     function mint(

279:     function _burn(

288:     function transfer(

302:     function transferFrom(

```
*Github:* [[43](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L43), [59](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L59), [66](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L66), [76](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L76), [83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L83), [89](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L89), [95](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L95), [123](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L123), [133](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L133), [175](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L175), [197](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L197), [268](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L268), [279](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L279), [288](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L288), [302](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L302)]


```solidity
File: src/utils/RateLimitedV2.sol

40:     constructor(

61:     function setRateLimitPerSecond(

75:     function setBufferCap(

93:     function _depleteBuffer(uint256 amount) internal {

111:     function _replenishBuffer(uint256 amount) internal {

138:     function _setRateLimitPerSecond(uint128 newRateLimitPerSecond) internal {

149:     function _setBufferCap(uint128 newBufferCap) internal {

158:     function _updateBufferStored(uint128 newBufferCap) internal {

```
*Github:* [[40](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L40), [61](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L61), [75](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L75), [93](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L93), [111](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L111), [138](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L138), [149](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L149), [158](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L158)]


</details>


<a name="NC-46"></a> 
### [NC-46] Missing NatSpec `@dev` from modifier declaration
Some modifier definitions have an incomplete NatSpec: add a `@dev` notation to improve the code documentation.

*There is one instance of this issue:*
```solidity
File: src/core/CoreRef.sol

24:     modifier onlyCoreRole(bytes32 role) {

```
*Github:* [[24](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L24)]



<a name="NC-47"></a> 
### [NC-47] Event declarations should have NatSpec descriptions

*There is one instance of this issue:*
```solidity
File: src/loan/LendingTerm.sol

40:     event LoanClose(

```
*Github:* [[40](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L40)]



<a name="NC-48"></a> 
### [NC-48] NatSpec documentation for function is missing
It is recommended that Solidity contracts are fully annotated using NatSpec for all public interfaces (everything in the ABI). It is clearly stated in the Solidity official documentation. In complex projects such as DeFi, the interpretation of all functions and their arguments and returns is important for code readability and auditability.

<details>
<summary>
There are <b>57</b> instances (click to show):
</summary>

```solidity
File: src/core/CoreRef.sol

19:     constructor(address coreAddress) {

```
*Github:* [[19](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L19)]


```solidity
File: src/governance/GuildGovernor.sol

30:     constructor(
            address _core,
            address _timelock,
            address _token,
            uint256 initialVotingDelay,
            uint256 initialVotingPeriod,
            uint256 initialProposalThreshold,
            uint256 initialQuorum
        )
            CoreRef(_core)
            Governor("ECG Governor")
            GovernorVotes(IVotes(_token))
            GovernorTimelockControl(TimelockController(payable(_timelock)))
            GovernorSettings(
                initialVotingDelay,
                initialVotingPeriod,
                initialProposalThreshold
            )
        {

123:     function _cancel(
             address[] memory targets,
             uint256[] memory values,
             bytes[] memory calldatas,
             bytes32 descriptionHash
         ) internal override(Governor, GovernorTimelockControl) returns (uint256) {

132:     function _execute(
             uint256 proposalId,
             address[] memory targets,
             uint256[] memory values,
             bytes[] memory calldatas,
             bytes32 descriptionHash
         ) internal override(Governor, GovernorTimelockControl) {

142:     function _executor()
             internal
             view
             override(Governor, GovernorTimelockControl)
             returns (address)
         {

151:     function proposalThreshold()
             public
             view
             override(Governor, GovernorSettings)
             returns (uint256)
         {

160:     function state(
             uint256 proposalId
         )
             public
             view
             override(Governor, GovernorTimelockControl)
             returns (ProposalState)
         {

171:     function supportsInterface(
             bytes4 interfaceId
         ) public view override(Governor, GovernorTimelockControl) returns (bool) {

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L30), [123](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L123), [132](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L132), [142](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L142), [151](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L151), [160](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L160), [171](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L171)]


```solidity
File: src/governance/GuildTimelockController.sol

15:     constructor(
            address _core,
            uint256 _minDelay
        )
            CoreRef(_core)
            TimelockController(
                _minDelay,
                new address[](0),
                new address[](0),
                address(0)
            )
        {}

```
*Github:* [[15](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L15)]


```solidity
File: src/governance/GuildVetoGovernor.sol

32:     constructor(
            address _core,
            address initialTimelock,
            address _token,
            uint256 initialQuorum
        )
            CoreRef(_core)
            Governor("ECG Veto Governor")
            GovernorVotes(IVotes(_token))
        {

99:     function _updateTimelock(address newTimelock) private {

367:     function _getVetoCalls(
             bytes32 timelockId
         )
             internal
             view
             returns (
                 address[] memory targets,
                 uint256[] memory values,
                 bytes[] memory calldatas,
                 string memory description
             )
         {

```
*Github:* [[32](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L32), [99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L99), [367](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L367)]


```solidity
File: src/governance/LendingTermOffboarding.sol

66:     constructor(
            address _core,
            address _guildToken,
            address _psm,
            uint256 _quorum
        ) CoreRef(_core) {

```
*Github:* [[66](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L66)]


```solidity
File: src/governance/LendingTermOnboarding.sol

63:     constructor(
            LendingTerm.LendingTermReferences memory _lendingTermReferences,
            uint256 _gaugeType,
            address _core,
            address _timelock,
            uint256 initialVotingDelay,
            uint256 initialVotingPeriod,
            uint256 initialProposalThreshold,
            uint256 initialQuorum
        )
            GuildGovernor(
                _core,
                _timelock,
                _lendingTermReferences.guildToken,
                initialVotingDelay,
                initialVotingPeriod,
                initialProposalThreshold,
                initialQuorum
            )
        {

```
*Github:* [[63](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L63)]


```solidity
File: src/governance/ProfitManager.sol

106:     constructor(address _core) CoreRef(_core) {

```
*Github:* [[106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L106)]


```solidity
File: src/loan/AuctionHouse.sol

56:     constructor(
            address _core,
            uint256 _midPoint,
            uint256 _auctionDuration
        ) CoreRef(_core) {

```
*Github:* [[56](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L56)]


```solidity
File: src/loan/LendingTerm.sol

153:     constructor() CoreRef(address(1)) {

```
*Github:* [[153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L153)]


```solidity
File: src/loan/SimplePSM.sol

65:     constructor(
            address _core,
            address _profitManager,
            address _credit,
            address _pegToken
        ) CoreRef(_core) {

```
*Github:* [[65](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L65)]


```solidity
File: src/loan/SurplusGuildMinter.sol

88:     constructor(
            address _core,
            address _profitManager,
            address _credit,
            address _guild,
            address _rlgm,
            uint256 _mintRatio,
            uint256 _rewardRatio
        ) CoreRef(_core) {

```
*Github:* [[88](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L88)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

11:     function mint(address to, uint256 amount) external;

```
*Github:* [[11](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L11)]


```solidity
File: src/tokens/CreditToken.sol

24:     constructor(
            address _core,
            string memory _name,
            string memory _symbol
        )
            CoreRef(_core)
            ERC20(_name, _symbol)
            ERC20Permit(_name)
        {}

83:     function _mint(
            address account,
            uint256 amount
        ) internal override(ERC20, ERC20RebaseDistributor) {

90:     function _burn(
            address account,
            uint256 amount
        ) internal override(ERC20, ERC20MultiVotes, ERC20RebaseDistributor) {

98:     function balanceOf(
            address account
        ) public view override(ERC20, ERC20RebaseDistributor) returns (uint256) {

104:     function totalSupply()
             public
             view
             override(ERC20, ERC20RebaseDistributor)
             returns (uint256)
         {

113:     function transfer(
             address to,
             uint256 amount
         )
             public
             override(ERC20, ERC20MultiVotes, ERC20RebaseDistributor)
             returns (bool)
         {

125:     function transferFrom(
             address from,
             address to,
             uint256 amount
         )
             public
             override(ERC20, ERC20MultiVotes, ERC20RebaseDistributor)
             returns (bool)
         {

```
*Github:* [[24](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L24), [83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L83), [90](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L90), [98](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L98), [104](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L104), [113](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L113), [125](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L125)]


```solidity
File: src/tokens/ERC20Gauges.sol

249:     function _incrementUserAndGlobalWeights(
             address user,
             uint256 weight
         ) internal returns (uint256 newUserWeight) {

314:     function _decrementGaugeWeight(
             address user,
             address gauge,
             uint256 weight
         ) internal virtual {

395:     function _addGauge(
             uint256 _type,
             address gauge
         ) internal returns (uint256 weight) {

425:     function _removeGauge(address gauge) internal {

476:     function _burn(address from, uint256 amount) internal virtual override {

481:     function transfer(
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

489:     function transferFrom(
             address from,
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

500:     function _decrementWeightUntilFree(address user, uint256 weight) internal {

```
*Github:* [[249](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L249), [314](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L314), [395](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L395), [425](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L425), [476](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L476), [481](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L481), [489](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L489), [500](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L500)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

122:     function average(uint256 a, uint256 b) internal pure returns (uint256) {

290:     function _delegate(
             address delegator,
             address newDelegatee
         ) internal virtual {

317:     function _incrementDelegation(
             address delegator,
             address delegatee,
             uint256 amount
         ) internal virtual {

344:     function _undelegate(
             address delegator,
             address delegatee,
             uint256 amount
         ) internal virtual {

363:     function _writeCheckpoint(
             address delegatee,
             function(uint256, uint256) view returns (uint256) op,
             uint256 delta
         ) private {

387:     function _add(uint256 a, uint256 b) private pure returns (uint256) {

391:     function _subtract(uint256 a, uint256 b) private pure returns (uint256) {

403:     function _burn(address from, uint256 amount) internal virtual override {

408:     function transfer(
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

416:     function transferFrom(
             address from,
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

427:     function _decrementVotesUntilFree(address user, uint256 votes) internal {

```
*Github:* [[122](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L122), [290](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L290), [317](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L317), [344](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L344), [363](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L363), [387](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L387), [391](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L391), [403](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L403), [408](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L408), [416](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L416), [427](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L427)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

289:     function _enterRebase(address account) internal {

311:     function _exitRebase(address account) internal {

```
*Github:* [[289](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L289), [311](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L311)]


```solidity
File: src/tokens/GuildToken.sol

43:     constructor(
            address _core,
            address _profitManager
        )
            CoreRef(_core)
            ERC20("Ethereum Credit Guild - GUILD", "GUILD")
            ERC20Permit("Ethereum Credit Guild - GUILD")
        {

76:     function addGauge(
            uint256 _type,
            address gauge
        ) external onlyCoreRole(CoreRoles.GAUGE_ADD) returns (uint256) {

83:     function removeGauge(
            address gauge
        ) external onlyCoreRole(CoreRoles.GAUGE_REMOVE) {

89:     function setMaxGauges(
            uint256 max
        ) external onlyCoreRole(CoreRoles.GAUGE_PARAMETERS) {

95:     function setCanExceedMaxGauges(
            address who,
            bool can
        ) external onlyCoreRole(CoreRoles.GAUGE_PARAMETERS) {

279:     function _burn(
             address from,
             uint256 amount
         ) internal virtual override(ERC20, ERC20Gauges, ERC20MultiVotes) {

288:     function transfer(
             address to,
             uint256 amount
         )
             public
             virtual
             override(ERC20, ERC20Gauges, ERC20MultiVotes)
             returns (bool)
         {

302:     function transferFrom(
             address from,
             address to,
             uint256 amount
         )
             public
             virtual
             override(ERC20, ERC20Gauges, ERC20MultiVotes)
             returns (bool)
         {

```
*Github:* [[43](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L43), [76](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L76), [83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L83), [89](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L89), [95](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L95), [279](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L279), [288](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L288), [302](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L302)]


```solidity
File: src/utils/RateLimitedV2.sol

158:     function _updateBufferStored(uint128 newBufferCap) internal {

```
*Github:* [[158](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L158)]


</details>


<a name="NC-49"></a> 
### [NC-49] Public variable declarations should have NatSpec descriptions

*There is one instance of this issue:*
```solidity
File: src/tokens/ERC20MultiVotes.sol

467:     bytes32 public constant DELEGATION_TYPEHASH =

```
*Github:* [[467](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L467)]



<a name="NC-50"></a> 
### [NC-50] Missing NatSpec `@notice` from contract declaration
Some contract definitions have an incomplete NatSpec: add a `@notice` notation to improve the code documentation.

*There are <b>5</b> instances of this issue:*
```solidity
File: src/governance/GuildGovernor.sol

16: contract GuildGovernor is

```
*Github:* [[16](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L16)]


```solidity
File: src/governance/GuildTimelockController.sol

14: contract GuildTimelockController is TimelockController, CoreRef {

```
*Github:* [[14](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L14)]


```solidity
File: src/governance/GuildVetoGovernor.sol

25: contract GuildVetoGovernor is CoreRef, Governor, GovernorVotes {

```
*Github:* [[25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L25)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

10: interface IERC20Mintable {

```
*Github:* [[10](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L10)]


```solidity
File: src/utils/RateLimitedV2.sol

14: abstract contract RateLimitedV2 is IRateLimitedV2, CoreRef {

```
*Github:* [[14](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L14)]



<a name="NC-51"></a> 
### [NC-51] Missing NatSpec `@notice` from event declaration
Some event definitions have an incomplete NatSpec: add a `@notice` notation to improve the code documentation.

*There are <b>5</b> instances of this issue:*
```solidity
File: src/governance/GuildVetoGovernor.sol

83:     event TimelockChange(address oldTimelock, address newTimelock);

```
*Github:* [[83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L83)]


```solidity
File: src/loan/LendingTerm.sol

40:     event LoanClose(

```
*Github:* [[40](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L40)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

174:     event Delegation(

181:     event Undelegation(

188:     event DelegateVotesChanged(

```
*Github:* [[174](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L174), [181](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L181), [188](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L188)]



<a name="NC-52"></a> 
### [NC-52] Missing NatSpec `@notice` from function declaration
Some function definitions have an incomplete NatSpec: add a `@notice` notation to improve the code documentation.

<details>
<summary>
There are <b>83</b> instances (click to show):
</summary>

```solidity
File: src/core/CoreRef.sol

19:     constructor(address coreAddress) {

```
*Github:* [[19](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L19)]


```solidity
File: src/governance/GuildGovernor.sol

30:     constructor(

68:     function _setQuorum(uint256 newQuorum) internal {

123:     function _cancel(

132:     function _execute(

142:     function _executor()

151:     function proposalThreshold()

160:     function state(

171:     function supportsInterface(

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L30), [68](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L68), [123](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L123), [132](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L132), [142](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L142), [151](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L151), [160](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L160), [171](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L171)]


```solidity
File: src/governance/GuildTimelockController.sol

15:     constructor(

30:     function hasRole(

38:     function _setRoleAdmin(bytes32 role, bytes32 adminRole) internal override {}

41:     function _grantRole(bytes32 role, address account) internal override {}

44:     function _revokeRole(bytes32 role, address account) internal override {}

```
*Github:* [[15](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L15), [30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L30), [38](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L38), [41](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L41), [44](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L44)]


```solidity
File: src/governance/GuildVetoGovernor.sol

32:     constructor(

53:     function quorum(

71:     function _setQuorum(uint256 newQuorum) internal virtual {

99:     function _updateTimelock(address newTimelock) private {

130:     function COUNTING_MODE()

143:     function hasVoted(

153:     function proposalVotes(

172:     function _quorumReached(

186:     function _voteSucceeded(

195:     function _countVote(

222:     function votingDelay() public pure override returns (uint256) {

230:     function votingPeriod() public pure override returns (uint256) {

304:     function propose(

367:     function _getVetoCalls(

```
*Github:* [[32](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L32), [53](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L53), [71](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L71), [99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L99), [130](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L130), [143](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L143), [153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L153), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L172), [186](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L186), [195](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L195), [222](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L222), [230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L230), [304](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L304), [367](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L367)]


```solidity
File: src/governance/LendingTermOffboarding.sol

66:     constructor(

```
*Github:* [[66](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L66)]


```solidity
File: src/governance/LendingTermOnboarding.sol

63:     constructor(

171:     function propose(

```
*Github:* [[63](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L63), [171](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L171)]


```solidity
File: src/governance/ProfitManager.sol

106:     constructor(address _core) CoreRef(_core) {

```
*Github:* [[106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L106)]


```solidity
File: src/loan/AuctionHouse.sol

56:     constructor(

```
*Github:* [[56](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L56)]


```solidity
File: src/loan/LendingTerm.sol

153:     constructor() CoreRef(address(1)) {

```
*Github:* [[153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L153)]


```solidity
File: src/loan/SimplePSM.sol

65:     constructor(

```
*Github:* [[65](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L65)]


```solidity
File: src/loan/SurplusGuildMinter.sol

88:     constructor(

```
*Github:* [[88](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L88)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

11:     function mint(address to, uint256 amount) external;

30:     constructor(

```
*Github:* [[11](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L11), [30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L30)]


```solidity
File: src/tokens/CreditToken.sol

24:     constructor(

83:     function _mint(

90:     function _burn(

98:     function balanceOf(

104:     function totalSupply()

113:     function transfer(

125:     function transferFrom(

```
*Github:* [[24](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L24), [83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L83), [90](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L90), [98](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L98), [104](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L104), [113](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L113), [125](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L125)]


```solidity
File: src/tokens/ERC20Gauges.sol

230:     function _incrementGaugeWeight(

249:     function _incrementUserAndGlobalWeights(

314:     function _decrementGaugeWeight(

395:     function _addGauge(

425:     function _removeGauge(address gauge) internal {

476:     function _burn(address from, uint256 amount) internal virtual override {

481:     function transfer(

489:     function transferFrom(

500:     function _decrementWeightUntilFree(address user, uint256 weight) internal {

```
*Github:* [[230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L230), [249](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L249), [314](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L314), [395](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L395), [425](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L425), [476](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L476), [481](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L481), [489](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L489), [500](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L500)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

103:     function _checkpointsLookup(

122:     function average(uint256 a, uint256 b) internal pure returns (uint256) {

290:     function _delegate(

317:     function _incrementDelegation(

344:     function _undelegate(

363:     function _writeCheckpoint(

387:     function _add(uint256 a, uint256 b) private pure returns (uint256) {

391:     function _subtract(uint256 a, uint256 b) private pure returns (uint256) {

403:     function _burn(address from, uint256 amount) internal virtual override {

408:     function transfer(

416:     function transferFrom(

427:     function _decrementVotesUntilFree(address user, uint256 votes) internal {

471:     function delegateBySig(

```
*Github:* [[103](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L103), [122](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L122), [290](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L290), [317](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L317), [344](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L344), [363](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L363), [387](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L387), [391](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L391), [403](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L403), [408](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L408), [416](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L416), [427](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L427), [471](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L471)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

289:     function _enterRebase(address account) internal {

311:     function _exitRebase(address account) internal {

```
*Github:* [[289](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L289), [311](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L311)]


```solidity
File: src/tokens/GuildToken.sol

43:     constructor(

76:     function addGauge(

83:     function removeGauge(

89:     function setMaxGauges(

95:     function setCanExceedMaxGauges(

182:     function _beforeTokenTransfer(

207:     function _decrementGaugeWeight(

242:     function _incrementGaugeWeight(

279:     function _burn(

288:     function transfer(

302:     function transferFrom(

```
*Github:* [[43](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L43), [76](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L76), [83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L83), [89](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L89), [95](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L95), [182](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L182), [207](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L207), [242](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L242), [279](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L279), [288](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L288), [302](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L302)]


```solidity
File: src/utils/RateLimitedV2.sol

138:     function _setRateLimitPerSecond(uint128 newRateLimitPerSecond) internal {

149:     function _setBufferCap(uint128 newBufferCap) internal {

158:     function _updateBufferStored(uint128 newBufferCap) internal {

```
*Github:* [[138](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L138), [149](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L149), [158](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L158)]


</details>


<a name="NC-53"></a> 
### [NC-53] Missing NatSpec `@param` from event declaration
Some event definitions have an incomplete NatSpec: add a `@param` notation to improve the code documentation.

<details>
<summary>
There are <b>53</b> instances (click to show):
</summary>

```solidity
File: src/core/CoreRef.sol

14:     event CoreUpdate(address indexed oldCore, address indexed newCore);

```
*Github:* [[14](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L14)]


```solidity
File: src/governance/GuildGovernor.sol

28:     event QuorumUpdated(uint256 oldQuorum, uint256 newQuorum);

```
*Github:* [[28](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L28)]


```solidity
File: src/governance/GuildVetoGovernor.sol

30:     event QuorumUpdated(uint256 oldQuorum, uint256 newQuorum);

83:     event TimelockChange(address oldTimelock, address newTimelock);

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L30), [83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L83)]


```solidity
File: src/governance/LendingTermOffboarding.sol

18:     event OffboardSupport(

26:     event Offboard(uint256 indexed timestamp, address indexed term);

28:     event Cleanup(uint256 indexed timestamp, address indexed term);

31:     event QuorumUpdated(uint256 oldQuorum, uint256 newQuorum);

```
*Github:* [[18](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L18), [26](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L26), [28](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L28), [31](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L31)]


```solidity
File: src/governance/LendingTermOnboarding.sol

50:     event ImplementationAllowChanged(

56:     event TermCreated(

```
*Github:* [[50](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L50), [56](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L56)]


```solidity
File: src/governance/ProfitManager.sol

111:     event GaugePnL(address indexed gauge, uint256 indexed when, int256 pnl);

114:     event SurplusBufferUpdate(uint256 indexed when, uint256 newValue);

117:     event TermSurplusBufferUpdate(

124:     event CreditMultiplierUpdate(uint256 indexed when, uint256 newValue);

127:     event ProfitSharingConfigUpdate(

137:     event ClaimRewards(

145:     event MinBorrowUpdate(uint256 indexed when, uint256 newValue);

148:     event GaugeWeightToleranceUpdate(uint256 indexed when, uint256 newValue);

```
*Github:* [[111](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L111), [114](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L114), [117](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L117), [124](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L124), [127](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L127), [137](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L137), [145](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L145), [148](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L148)]


```solidity
File: src/loan/AuctionHouse.sol

12:     event AuctionStart(

20:     event AuctionEnd(

```
*Github:* [[12](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L12), [20](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L20)]


```solidity
File: src/loan/LendingTerm.sol

25:     event LoanOpen(

33:     event LoanCall(uint256 indexed when, bytes32 indexed loanId);

40:     event LoanClose(

47:     event LoanAddCollateral(

54:     event LoanPartialRepay(

```
*Github:* [[25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L25), [33](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L33), [40](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L40), [47](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L47), [54](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L54)]


```solidity
File: src/loan/SimplePSM.sol

49:     event Redeem(

56:     event Mint(

63:     event RedemptionsPaused(uint256 indexed when, bool status);

```
*Github:* [[49](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L49), [56](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L56), [63](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L63)]


```solidity
File: src/loan/SurplusGuildMinter.sol

32:     event Stake(

38:     event Unstake(

45:     event GuildReward(

51:     event MintRatioUpdate(uint256 indexed timestamp, uint256 ratio);

53:     event RewardRatioUpdate(uint256 indexed timestamp, uint256 ratio);

```
*Github:* [[32](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L32), [38](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L38), [45](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L45), [51](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L51), [53](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L53)]


```solidity
File: src/tokens/ERC20Gauges.sol

200:     event IncrementGaugeWeight(

207:     event DecrementGaugeWeight(

374:     event AddGauge(address indexed gauge, uint256 indexed gaugeType);

377:     event RemoveGauge(address indexed gauge);

380:     event MaxGaugesUpdate(uint256 oldMaxGauges, uint256 newMaxGauges);

383:     event CanExceedMaxGaugesUpdate(

```
*Github:* [[200](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L200), [207](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L207), [374](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L374), [377](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L377), [380](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L380), [383](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L383)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

132:     event MaxDelegatesUpdate(uint256 oldMaxDelegates, uint256 newMaxDelegates);

135:     event CanContractExceedMaxDelegatesUpdate(

174:     event Delegation(

181:     event Undelegation(

188:     event DelegateVotesChanged(

196:     event DelegateChanged(

```
*Github:* [[132](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L132), [135](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L135), [174](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L174), [181](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L181), [188](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L188), [196](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L196)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

48:     event RebaseEnter(address indexed account, uint256 indexed timestamp);

50:     event RebaseExit(address indexed account, uint256 indexed timestamp);

52:     event RebaseDistribution(

67:     event RebaseReward(

```
*Github:* [[48](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L48), [50](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L50), [52](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L52), [67](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L67)]


```solidity
File: src/tokens/GuildToken.sol

107:     event GaugeLoss(address indexed gauge, uint256 indexed when);

109:     event GaugeLossApply(

172:     event TransfersEnabled(uint256 block, uint256 timestamp);

194:     event ProfitManagerUpdated(uint256 timestamp, address newValue);

```
*Github:* [[107](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L107), [109](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L109), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L172), [194](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L194)]


</details>


<a name="NC-54"></a> 
### [NC-54] Missing NatSpec `@param` from function declaration
Some function definitions have an incomplete NatSpec: add a `@param` notation to improve the code documentation.

<details>
<summary>
There are <b>170</b> instances (click to show):
</summary>

```solidity
File: src/core/CoreRef.sol

/// @audit missing @param for `coreAddress`
19:     constructor(address coreAddress) {

/// @audit missing @param for `calls`
87:     function emergencyAction(
            Call[] calldata calls
        )
            external
            payable
            onlyCoreRole(CoreRoles.GOVERNOR)
            returns (bytes[] memory returnData)
        {

```
*Github:* [[19](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L19), [87](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L87)]


```solidity
File: src/governance/GuildGovernor.sol

/// @audit missing @param for `_core`
/// @audit missing @param for `_timelock`
/// @audit missing @param for `_token`
/// @audit missing @param for `initialVotingDelay`
/// @audit missing @param for `initialVotingPeriod`
/// @audit missing @param for `initialProposalThreshold`
/// @audit missing @param for `initialQuorum`
30:     constructor(
            address _core,
            address _timelock,
            address _token,
            uint256 initialVotingDelay,
            uint256 initialVotingPeriod,
            uint256 initialProposalThreshold,
            uint256 initialQuorum
        )
            CoreRef(_core)
            Governor("ECG Governor")
            GovernorVotes(IVotes(_token))
            GovernorTimelockControl(TimelockController(payable(_timelock)))
            GovernorSettings(
                initialVotingDelay,
                initialVotingPeriod,
                initialProposalThreshold
            )
        {

/// @audit missing @param for `newQuorum`
68:     function _setQuorum(uint256 newQuorum) internal {

/// @audit missing @param for `newVotingDelay`
78:     function setVotingDelay(
            uint256 newVotingDelay
        ) public override onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit missing @param for `newVotingPeriod`
85:     function setVotingPeriod(
            uint256 newVotingPeriod
        ) public override onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit missing @param for `newProposalThreshold`
92:     function setProposalThreshold(
            uint256 newProposalThreshold
        ) public override onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit missing @param for `newQuorum`
99:     function setQuorum(
            uint256 newQuorum
        ) public onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit missing @param for `targets`
/// @audit missing @param for `values`
/// @audit missing @param for `calldatas`
/// @audit missing @param for `descriptionHash`
110:     function guardianCancel(
             address[] memory targets,
             uint256[] memory values,
             bytes[] memory calldatas,
             bytes32 descriptionHash
         ) public onlyCoreRole(CoreRoles.GUARDIAN) returns (uint256) {

/// @audit missing @param for `targets`
/// @audit missing @param for `values`
/// @audit missing @param for `calldatas`
/// @audit missing @param for `descriptionHash`
123:     function _cancel(
             address[] memory targets,
             uint256[] memory values,
             bytes[] memory calldatas,
             bytes32 descriptionHash
         ) internal override(Governor, GovernorTimelockControl) returns (uint256) {

/// @audit missing @param for `proposalId`
/// @audit missing @param for `targets`
/// @audit missing @param for `values`
/// @audit missing @param for `calldatas`
/// @audit missing @param for `descriptionHash`
132:     function _execute(
             uint256 proposalId,
             address[] memory targets,
             uint256[] memory values,
             bytes[] memory calldatas,
             bytes32 descriptionHash
         ) internal override(Governor, GovernorTimelockControl) {

/// @audit missing @param for `proposalId`
160:     function state(
             uint256 proposalId
         )
             public
             view
             override(Governor, GovernorTimelockControl)
             returns (ProposalState)
         {

/// @audit missing @param for `interfaceId`
171:     function supportsInterface(
             bytes4 interfaceId
         ) public view override(Governor, GovernorTimelockControl) returns (bool) {

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L30), [68](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L68), [78](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L78), [85](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L85), [92](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L92), [99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L99), [110](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L110), [123](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L123), [132](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L132), [160](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L160), [171](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L171)]


```solidity
File: src/governance/GuildTimelockController.sol

/// @audit missing @param for `_core`
/// @audit missing @param for `_minDelay`
15:     constructor(
            address _core,
            uint256 _minDelay
        )
            CoreRef(_core)
            TimelockController(
                _minDelay,
                new address[](0),
                new address[](0),
                address(0)
            )
        {}

/// @audit missing @param for `role`
/// @audit missing @param for `account`
30:     function hasRole(
            bytes32 role,
            address account
        ) public view virtual override returns (bool) {

/// @audit missing @param for `role`
/// @audit missing @param for `adminRole`
38:     function _setRoleAdmin(bytes32 role, bytes32 adminRole) internal override {}

/// @audit missing @param for `role`
/// @audit missing @param for `account`
41:     function _grantRole(bytes32 role, address account) internal override {}

/// @audit missing @param for `role`
/// @audit missing @param for `account`
44:     function _revokeRole(bytes32 role, address account) internal override {}

```
*Github:* [[15](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L15), [30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L30), [38](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L38), [41](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L41), [44](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L44)]


```solidity
File: src/governance/GuildVetoGovernor.sol

/// @audit missing @param for `_core`
/// @audit missing @param for `initialTimelock`
/// @audit missing @param for `_token`
/// @audit missing @param for `initialQuorum`
32:     constructor(
            address _core,
            address initialTimelock,
            address _token,
            uint256 initialQuorum
        )
            CoreRef(_core)
            Governor("ECG Veto Governor")
            GovernorVotes(IVotes(_token))
        {

/// @audit missing @param for `newQuorum`
60:     function setQuorum(
            uint256 newQuorum
        ) public onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit missing @param for `newQuorum`
71:     function _setQuorum(uint256 newQuorum) internal virtual {

/// @audit missing @param for `newTimelock`
93:     function updateTimelock(
            address newTimelock
        ) external onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit missing @param for `newTimelock`
99:     function _updateTimelock(address newTimelock) private {

/// @audit missing @param for `proposalId`
/// @audit missing @param for `account`
143:     function hasVoted(
             uint256 proposalId,
             address account
         ) public view virtual override returns (bool) {

/// @audit missing @param for `proposalId`
153:     function proposalVotes(
             uint256 proposalId
         )
             public
             view
             virtual
             returns (uint256 againstVotes, uint256 forVotes, uint256 abstainVotes)
         {

/// @audit missing @param for `proposalId`
172:     function _quorumReached(
             uint256 proposalId
         ) internal view virtual override returns (bool) {

/// @audit missing @param for `proposalId`
/// @audit missing @param for `account`
/// @audit missing @param for `support`
/// @audit missing @param for `weight`
195:     function _countVote(
             uint256 proposalId,
             address account,
             uint8 support,
             uint256 weight,
             bytes memory // params
         ) internal virtual override {

/// @audit missing @param for `proposalId`
246:     function state(
             uint256 proposalId
         ) public view override returns (ProposalState) {

/// @audit missing @param for `timelockId`
315:     function createVeto(bytes32 timelockId) external returns (uint256) {

/// @audit missing @param for `timelockId`
349:     function executeVeto(bytes32 timelockId) external returns (uint256) {

/// @audit missing @param for `timelockId`
367:     function _getVetoCalls(
             bytes32 timelockId
         )
             internal
             view
             returns (
                 address[] memory targets,
                 uint256[] memory values,
                 bytes[] memory calldatas,
                 string memory description
             )
         {

```
*Github:* [[32](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L32), [60](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L60), [71](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L71), [93](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L93), [99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L99), [143](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L143), [153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L153), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L172), [195](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L195), [246](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L246), [315](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L315), [349](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L349), [367](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L367)]


```solidity
File: src/governance/LendingTermOffboarding.sol

/// @audit missing @param for `_core`
/// @audit missing @param for `_guildToken`
/// @audit missing @param for `_psm`
/// @audit missing @param for `_quorum`
66:     constructor(
            address _core,
            address _guildToken,
            address _psm,
            uint256 _quorum
        ) CoreRef(_core) {

/// @audit missing @param for `_quorum`
78:     function setQuorum(
            uint256 _quorum
        ) external onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit missing @param for `term`
89:     function proposeOffboard(address term) external whenNotPaused {

/// @audit missing @param for `snapshotBlock`
/// @audit missing @param for `term`
116:     function supportOffboard(
             uint256 snapshotBlock,
             address term
         ) external whenNotPaused {

```
*Github:* [[66](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L66), [78](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L78), [89](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L89), [116](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L116)]


```solidity
File: src/governance/LendingTermOnboarding.sol

/// @audit missing @param for `_lendingTermReferences`
/// @audit missing @param for `_gaugeType`
/// @audit missing @param for `_core`
/// @audit missing @param for `_timelock`
/// @audit missing @param for `initialVotingDelay`
/// @audit missing @param for `initialVotingPeriod`
/// @audit missing @param for `initialProposalThreshold`
/// @audit missing @param for `initialQuorum`
63:     constructor(
            LendingTerm.LendingTermReferences memory _lendingTermReferences,
            uint256 _gaugeType,
            address _core,
            address _timelock,
            uint256 initialVotingDelay,
            uint256 initialVotingPeriod,
            uint256 initialProposalThreshold,
            uint256 initialQuorum
        )
            GuildGovernor(
                _core,
                _timelock,
                _lendingTermReferences.guildToken,
                initialVotingDelay,
                initialVotingPeriod,
                initialProposalThreshold,
                initialQuorum
            )
        {

/// @audit missing @param for `implementation`
/// @audit missing @param for `allowed`
92:     function allowImplementation(
            address implementation,
            bool allowed
        ) external onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit missing @param for `implementation`
/// @audit missing @param for `params`
105:     function createTerm(
             address implementation,
             LendingTerm.LendingTermParams calldata params
         ) external returns (address) {

/// @audit missing @param for `term`
181:     function proposeOnboard(
             address term
         ) external whenNotPaused returns (uint256 proposalId) {

/// @audit missing @param for `term`
215:     function getOnboardProposeArgs(
             address term
         )
             public
             view
             returns (
                 address[] memory targets,
                 uint256[] memory values,
                 bytes[] memory calldatas,
                 string memory description
             )
         {

```
*Github:* [[63](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L63), [92](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L92), [105](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L105), [181](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L181), [215](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L215)]


```solidity
File: src/governance/ProfitManager.sol

/// @audit missing @param for `_core`
106:     constructor(address _core) CoreRef(_core) {

/// @audit missing @param for `_credit`
/// @audit missing @param for `_guild`
/// @audit missing @param for `_psm`
156:     function initializeReferences(
             address _credit,
             address _guild,
             address _psm
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit missing @param for `newValue`
179:     function setMinBorrow(
             uint256 newValue
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit missing @param for `newValue`
187:     function setGaugeWeightTolerance(
             uint256 newValue
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit missing @param for `surplusBufferSplit`
/// @audit missing @param for `creditSplit`
/// @audit missing @param for `guildSplit`
/// @audit missing @param for `otherSplit`
/// @audit missing @param for `otherRecipient`
195:     function setProfitSharingConfig(
             uint256 surplusBufferSplit,
             uint256 creditSplit,
             uint256 guildSplit,
             uint256 otherSplit,
             address otherRecipient
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit missing @param for `amount`
251:     function donateToSurplusBuffer(uint256 amount) external {

/// @audit missing @param for `term`
/// @audit missing @param for `amount`
259:     function donateToTermSurplusBuffer(address term, uint256 amount) external {

/// @audit missing @param for `to`
/// @audit missing @param for `amount`
267:     function withdrawFromSurplusBuffer(
             address to,
             uint256 amount
         ) external onlyCoreRole(CoreRoles.GUILD_SURPLUS_BUFFER_WITHDRAW) {

/// @audit missing @param for `term`
/// @audit missing @param for `to`
/// @audit missing @param for `amount`
278:     function withdrawFromTermSurplusBuffer(
             address term,
             address to,
             uint256 amount
         ) external onlyCoreRole(CoreRoles.GUILD_SURPLUS_BUFFER_WITHDRAW) {

/// @audit missing @param for `gauge`
/// @audit missing @param for `amount`
292:     function notifyPnL(
             address gauge,
             int256 amount
         ) external onlyCoreRole(CoreRoles.GAUGE_PNL_NOTIFIER) {

/// @audit missing @param for `user`
/// @audit missing @param for `gauge`
409:     function claimGaugeRewards(
             address user,
             address gauge
         ) public returns (uint256 creditEarned) {

/// @audit missing @param for `user`
439:     function claimRewards(
             address user
         ) external returns (uint256 creditEarned) {

/// @audit missing @param for `user`
452:     function getPendingRewards(
             address user
         )
             external
             view
             returns (
                 address[] memory gauges,
                 uint256[] memory creditEarned,
                 uint256 totalCreditEarned
             )
         {

```
*Github:* [[106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L106), [156](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L156), [179](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L179), [187](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L187), [195](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L195), [251](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L251), [259](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L259), [267](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L267), [278](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L278), [292](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L292), [409](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L409), [439](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L439), [452](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L452)]


```solidity
File: src/loan/AuctionHouse.sol

/// @audit missing @param for `_core`
/// @audit missing @param for `_midPoint`
/// @audit missing @param for `_auctionDuration`
56:     constructor(
            address _core,
            uint256 _midPoint,
            uint256 _auctionDuration
        ) CoreRef(_core) {

/// @audit missing @param for `loanId`
67:     function getAuction(bytes32 loanId) external view returns (Auction memory) {

/// @audit missing @param for `loanId`
118:     function getBidDetail(
             bytes32 loanId
         ) public view returns (uint256 collateralReceived, uint256 creditAsked) {

/// @audit missing @param for `loanId`
166:     function bid(bytes32 loanId) external {

/// @audit missing @param for `loanId`
202:     function forgive(bytes32 loanId) external {

```
*Github:* [[56](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L56), [67](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L67), [118](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L118), [166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L166), [202](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L202)]


```solidity
File: src/loan/LendingTerm.sol

/// @audit missing @param for `_core`
/// @audit missing @param for `_refs`
/// @audit missing @param for `_params`
160:     function initialize(
             address _core,
             LendingTermReferences calldata _refs,
             LendingTermParams calldata _params
         ) external {

/// @audit missing @param for `loanId`
195:     function getLoan(bytes32 loanId) external view returns (Loan memory) {

/// @audit missing @param for `loanId`
200:     function getLoanDebt(bytes32 loanId) public view returns (uint256) {

/// @audit missing @param for `loanId`
237:     function partialRepayDelayPassed(
             bytes32 loanId
         ) public view returns (bool) {

/// @audit missing @param for `borrower`
/// @audit missing @param for `borrowAmount`
/// @audit missing @param for `collateralAmount`
339:     function _borrow(
             address borrower,
             uint256 borrowAmount,
             uint256 collateralAmount
         ) internal returns (bytes32 loanId) {

/// @audit missing @param for `borrowAmount`
/// @audit missing @param for `collateralAmount`
438:     function borrow(
             uint256 borrowAmount,
             uint256 collateralAmount
         ) external whenNotPaused returns (bytes32 loanId) {

/// @audit missing @param for `borrower`
/// @audit missing @param for `loanId`
/// @audit missing @param for `collateralToAdd`
448:     function _addCollateral(
             address borrower,
             bytes32 loanId,
             uint256 collateralToAdd
         ) internal {

/// @audit missing @param for `loanId`
/// @audit missing @param for `collateralToAdd`
482:     function addCollateral(bytes32 loanId, uint256 collateralToAdd) external {

/// @audit missing @param for `repayer`
/// @audit missing @param for `loanId`
/// @audit missing @param for `debtToRepay`
490:     function _partialRepay(
             address repayer,
             bytes32 loanId,
             uint256 debtToRepay
         ) internal {

/// @audit missing @param for `loanId`
/// @audit missing @param for `debtToRepay`
562:     function partialRepay(bytes32 loanId, uint256 debtToRepay) external {

/// @audit missing @param for `repayer`
/// @audit missing @param for `loanId`
567:     function _repay(address repayer, bytes32 loanId) internal {

/// @audit missing @param for `loanId`
628:     function repay(bytes32 loanId) external {

/// @audit missing @param for `caller`
/// @audit missing @param for `loanId`
/// @audit missing @param for `_auctionHouse`
634:     function _call(
             address caller,
             bytes32 loanId,
             address _auctionHouse
         ) internal {

/// @audit missing @param for `loanId`
678:     function call(bytes32 loanId) external {

/// @audit missing @param for `loanIds`
683:     function callMany(bytes32[] memory loanIds) public {

/// @audit missing @param for `loanId`
695:     function forgive(bytes32 loanId) external onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit missing @param for `loanId`
/// @audit missing @param for `bidder`
/// @audit missing @param for `collateralToBorrower`
/// @audit missing @param for `collateralToBidder`
/// @audit missing @param for `creditFromBidder`
725:     function onBid(
             bytes32 loanId,
             address bidder,
             uint256 collateralToBorrower,
             uint256 collateralToBidder,
             uint256 creditFromBidder
         ) external {

/// @audit missing @param for `_newValue`
829:     function setAuctionHouse(
             address _newValue
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit missing @param for `_newValue`
846:     function setHardCap(
             uint256 _newValue
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

```
*Github:* [[160](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L160), [195](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L195), [200](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L200), [237](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L237), [339](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L339), [438](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L438), [448](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L448), [482](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L482), [490](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L490), [562](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L562), [567](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L567), [628](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L628), [634](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L634), [678](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L678), [683](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L683), [695](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L695), [725](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L725), [829](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L829), [846](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L846)]


```solidity
File: src/loan/SimplePSM.sol

/// @audit missing @param for `_core`
/// @audit missing @param for `_profitManager`
/// @audit missing @param for `_credit`
/// @audit missing @param for `_pegToken`
65:     constructor(
            address _core,
            address _profitManager,
            address _credit,
            address _pegToken
        ) CoreRef(_core) {

/// @audit missing @param for `amountIn`
80:     function getMintAmountOut(uint256 amountIn) public view returns (uint256) {

/// @audit missing @param for `amountIn`
87:     function getRedeemAmountOut(
            uint256 amountIn
        ) public view returns (uint256) {

/// @audit missing @param for `to`
/// @audit missing @param for `amountIn`
103:     function mint(
             address to,
             uint256 amountIn
         ) external whenNotPaused returns (uint256 amountOut) {

/// @audit missing @param for `amountIn`
117:     function mintAndEnterRebase(
             uint256 amountIn
         ) external whenNotPaused returns (uint256 amountOut) {

/// @audit missing @param for `to`
/// @audit missing @param for `amountIn`
134:     function redeem(
             address to,
             uint256 amountIn
         ) external returns (uint256 amountOut) {

/// @audit missing @param for `paused`
149:     function setRedemptionsPaused(
             bool paused
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

```
*Github:* [[65](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L65), [80](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L80), [87](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L87), [103](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L103), [117](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L117), [134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L134), [149](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L149)]


```solidity
File: src/loan/SurplusGuildMinter.sol

/// @audit missing @param for `_core`
/// @audit missing @param for `_profitManager`
/// @audit missing @param for `_credit`
/// @audit missing @param for `_guild`
/// @audit missing @param for `_rlgm`
/// @audit missing @param for `_mintRatio`
/// @audit missing @param for `_rewardRatio`
88:     constructor(
            address _core,
            address _profitManager,
            address _credit,
            address _guild,
            address _rlgm,
            uint256 _mintRatio,
            uint256 _rewardRatio
        ) CoreRef(_core) {

/// @audit missing @param for `user`
/// @audit missing @param for `term`
106:     function getUserStake(
             address user,
             address term
         ) external view returns (UserStake memory) {

/// @audit missing @param for `term`
/// @audit missing @param for `amount`
114:     function stake(address term, uint256 amount) external whenNotPaused {

/// @audit missing @param for `term`
/// @audit missing @param for `amount`
158:     function unstake(address term, uint256 amount) external {

/// @audit missing @param for `user`
/// @audit missing @param for `term`
216:     function getRewards(
             address user,
             address term
         )
             public
             returns (
                 uint256 lastGaugeLoss, // GuildToken.lastGaugeLoss(term)
                 UserStake memory userStake, // stake state after execution of getRewards()
                 bool slashed // true if the user has been slashed
             )
         {

/// @audit missing @param for `user`
/// @audit missing @param for `term`
293:     function updateMintRatio(address user, address term) external {

/// @audit missing @param for `_mintRatio`
319:     function setMintRatio(
             uint256 _mintRatio
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit missing @param for `_rewardRatio`
328:     function setRewardRatio(
             uint256 _rewardRatio
         ) external onlyCoreRole(CoreRoles.GOVERNOR) {

```
*Github:* [[88](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L88), [106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L106), [114](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L114), [158](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L158), [216](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L216), [293](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L293), [319](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L319), [328](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L328)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

/// @audit missing @param for `to`
/// @audit missing @param for `amount`
11:     function mint(address to, uint256 amount) external;

```
*Github:* [[11](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L11)]


```solidity
File: src/tokens/CreditToken.sol

/// @audit missing @param for `_core`
/// @audit missing @param for `_name`
/// @audit missing @param for `_symbol`
24:     constructor(
            address _core,
            string memory _name,
            string memory _symbol
        )
            CoreRef(_core)
            ERC20(_name, _symbol)
            ERC20Permit(_name)
        {}

/// @audit missing @param for `to`
/// @audit missing @param for `amount`
35:     function mint(
            address to,
            uint256 amount
        ) external onlyCoreRole(CoreRoles.CREDIT_MINTER) {

/// @audit missing @param for `newMax`
43:     function setMaxDelegates(
            uint256 newMax
        ) external onlyCoreRole(CoreRoles.CREDIT_GOVERNANCE_PARAMETERS) {

/// @audit missing @param for `account`
/// @audit missing @param for `canExceedMax`
50:     function setContractExceedMaxDelegates(
            address account,
            bool canExceedMax
        ) external onlyCoreRole(CoreRoles.CREDIT_GOVERNANCE_PARAMETERS) {

/// @audit missing @param for `account`
58:     function forceEnterRebase(
            address account
        ) external onlyCoreRole(CoreRoles.CREDIT_REBASE_PARAMETERS) {

/// @audit missing @param for `account`
69:     function forceExitRebase(
            address account
        ) external onlyCoreRole(CoreRoles.CREDIT_REBASE_PARAMETERS) {

/// @audit missing @param for `account`
/// @audit missing @param for `amount`
83:     function _mint(
            address account,
            uint256 amount
        ) internal override(ERC20, ERC20RebaseDistributor) {

/// @audit missing @param for `account`
/// @audit missing @param for `amount`
90:     function _burn(
            address account,
            uint256 amount
        ) internal override(ERC20, ERC20MultiVotes, ERC20RebaseDistributor) {

/// @audit missing @param for `account`
98:     function balanceOf(
            address account
        ) public view override(ERC20, ERC20RebaseDistributor) returns (uint256) {

/// @audit missing @param for `to`
/// @audit missing @param for `amount`
113:     function transfer(
             address to,
             uint256 amount
         )
             public
             override(ERC20, ERC20MultiVotes, ERC20RebaseDistributor)
             returns (bool)
         {

/// @audit missing @param for `from`
/// @audit missing @param for `to`
/// @audit missing @param for `amount`
125:     function transferFrom(
             address from,
             address to,
             uint256 amount
         )
             public
             override(ERC20, ERC20MultiVotes, ERC20RebaseDistributor)
             returns (bool)
         {

```
*Github:* [[24](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L24), [35](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L35), [43](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L43), [50](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L50), [58](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L58), [69](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L69), [83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L83), [90](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L90), [98](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L98), [113](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L113), [125](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L125)]


```solidity
File: src/tokens/ERC20Gauges.sol

/// @audit missing @param for `gauge`
103:     function isGauge(address gauge) public view returns (bool) {

/// @audit missing @param for `gauge`
108:     function isDeprecatedGauge(address gauge) public view returns (bool) {

/// @audit missing @param for `user`
154:     function userGauges(address user) external view returns (address[] memory) {

/// @audit missing @param for `user`
/// @audit missing @param for `gauge`
159:     function isUserGauge(
             address user,
             address gauge
         ) external view returns (bool) {

/// @audit missing @param for `user`
167:     function numUserGauges(address user) external view returns (uint256) {

/// @audit missing @param for `user`
172:     function userUnusedWeight(address user) external view returns (uint256) {

/// @audit missing @param for `user`
/// @audit missing @param for `gauge`
/// @audit missing @param for `weight`
230:     function _incrementGaugeWeight(
             address user,
             address gauge,
             uint256 weight
         ) internal virtual {

/// @audit missing @param for `user`
/// @audit missing @param for `weight`
249:     function _incrementUserAndGlobalWeights(
             address user,
             uint256 weight
         ) internal returns (uint256 newUserWeight) {

/// @audit missing @param for `user`
/// @audit missing @param for `gauge`
/// @audit missing @param for `weight`
314:     function _decrementGaugeWeight(
             address user,
             address gauge,
             uint256 weight
         ) internal virtual {

/// @audit missing @param for `_type`
/// @audit missing @param for `gauge`
395:     function _addGauge(
             uint256 _type,
             address gauge
         ) internal returns (uint256 weight) {

/// @audit missing @param for `gauge`
425:     function _removeGauge(address gauge) internal {

/// @audit missing @param for `newMax`
444:     function _setMaxGauges(uint256 newMax) internal {

/// @audit missing @param for `account`
/// @audit missing @param for `canExceedMax`
452:     function _setCanExceedMaxGauges(
             address account,
             bool canExceedMax
         ) internal {

/// @audit missing @param for `from`
/// @audit missing @param for `amount`
476:     function _burn(address from, uint256 amount) internal virtual override {

/// @audit missing @param for `to`
/// @audit missing @param for `amount`
481:     function transfer(
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

/// @audit missing @param for `from`
/// @audit missing @param for `to`
/// @audit missing @param for `amount`
489:     function transferFrom(
             address from,
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

/// @audit missing @param for `user`
/// @audit missing @param for `weight`
500:     function _decrementWeightUntilFree(address user, uint256 weight) internal {

```
*Github:* [[103](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L103), [108](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L108), [154](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L154), [159](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L159), [167](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L167), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L172), [230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L230), [249](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L249), [314](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L314), [395](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L395), [425](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L425), [444](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L444), [452](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L452), [476](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L476), [481](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L481), [489](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L489), [500](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L500)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

/// @audit missing @param for `account`
/// @audit missing @param for `pos`
52:     function checkpoints(
            address account,
            uint32 pos
        ) public view virtual returns (Checkpoint memory) {

/// @audit missing @param for `account`
60:     function numCheckpoints(
            address account
        ) public view virtual returns (uint32) {

/// @audit missing @param for `ckpts`
/// @audit missing @param for `blockNumber`
103:     function _checkpointsLookup(
             Checkpoint[] storage ckpts,
             uint256 blockNumber
         ) private view returns (uint256) {

/// @audit missing @param for `a`
/// @audit missing @param for `b`
122:     function average(uint256 a, uint256 b) internal pure returns (uint256) {

/// @audit missing @param for `newMax`
147:     function _setMaxDelegates(uint256 newMax) internal {

/// @audit missing @param for `account`
/// @audit missing @param for `canExceedMax`
155:     function _setContractExceedMaxDelegates(
             address account,
             bool canExceedMax
         ) internal {

/// @audit missing @param for `delegator`
/// @audit missing @param for `newDelegatee`
290:     function _delegate(
             address delegator,
             address newDelegatee
         ) internal virtual {

/// @audit missing @param for `delegator`
/// @audit missing @param for `delegatee`
/// @audit missing @param for `amount`
317:     function _incrementDelegation(
             address delegator,
             address delegatee,
             uint256 amount
         ) internal virtual {

/// @audit missing @param for `delegator`
/// @audit missing @param for `delegatee`
/// @audit missing @param for `amount`
344:     function _undelegate(
             address delegator,
             address delegatee,
             uint256 amount
         ) internal virtual {

/// @audit missing @param for `delegatee`
/// @audit missing @param for `op`
/// @audit missing @param for `delta`
363:     function _writeCheckpoint(
             address delegatee,
             function(uint256, uint256) view returns (uint256) op,
             uint256 delta
         ) private {

/// @audit missing @param for `a`
/// @audit missing @param for `b`
387:     function _add(uint256 a, uint256 b) private pure returns (uint256) {

/// @audit missing @param for `a`
/// @audit missing @param for `b`
391:     function _subtract(uint256 a, uint256 b) private pure returns (uint256) {

/// @audit missing @param for `from`
/// @audit missing @param for `amount`
403:     function _burn(address from, uint256 amount) internal virtual override {

/// @audit missing @param for `to`
/// @audit missing @param for `amount`
408:     function transfer(
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

/// @audit missing @param for `from`
/// @audit missing @param for `to`
/// @audit missing @param for `amount`
416:     function transferFrom(
             address from,
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

/// @audit missing @param for `user`
/// @audit missing @param for `votes`
427:     function _decrementVotesUntilFree(address user, uint256 votes) internal {

/// @audit missing @param for `delegatee`
/// @audit missing @param for `nonce`
/// @audit missing @param for `expiry`
/// @audit missing @param for `v`
/// @audit missing @param for `r`
/// @audit missing @param for `s`
471:     function delegateBySig(
             address delegatee,
             uint256 nonce,
             uint256 expiry,
             uint8 v,
             bytes32 r,
             bytes32 s
         ) public {

```
*Github:* [[52](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L52), [60](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L60), [103](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L103), [122](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L122), [147](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L147), [155](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L155), [290](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L290), [317](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L317), [344](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L344), [363](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L363), [387](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L387), [391](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L391), [403](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L403), [408](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L408), [416](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L416), [427](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L427), [471](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L471)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

/// @audit missing @param for `val`
131:     function interpolatedValue(
             InterpolatedValue memory val
         ) internal view returns (uint256) {

/// @audit missing @param for `currentRebasingSharePrice`
/// @audit missing @param for `sharesDelta`
168:     function updateTotalRebasingShares(
             uint256 currentRebasingSharePrice,
             int256 sharesDelta
         ) internal {

/// @audit missing @param for `amount`
228:     function decreaseUnmintedRebaseRewards(uint256 amount) internal {

/// @audit missing @param for `balance`
/// @audit missing @param for `sharePrice`
252:     function _balance2shares(
             uint256 balance,
             uint256 sharePrice
         ) internal pure returns (uint256) {

/// @audit missing @param for `shares`
/// @audit missing @param for `sharePrice`
/// @audit missing @param for `deltaBalance`
/// @audit missing @param for `minBalance`
260:     function _shares2balance(
             uint256 shares,
             uint256 sharePrice,
             uint256 deltaBalance,
             uint256 minBalance
         ) internal pure returns (uint256) {

/// @audit missing @param for `account`
289:     function _enterRebase(address account) internal {

/// @audit missing @param for `account`
311:     function _exitRebase(address account) internal {

/// @audit missing @param for `amount`
338:     function distribute(uint256 amount) external {

/// @audit missing @param for `account`
389:     function isRebasing(address account) public view returns (bool) {

/// @audit missing @param for `account`
426:     function balanceOf(
             address account
         ) public view virtual override returns (uint256) {

/// @audit missing @param for `account`
/// @audit missing @param for `amount`
461:     function _burn(address account, uint256 amount) internal virtual override {

/// @audit missing @param for `account`
/// @audit missing @param for `amount`
509:     function _mint(address account, uint256 amount) internal virtual override {

/// @audit missing @param for `to`
/// @audit missing @param for `amount`
553:     function transfer(
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

/// @audit missing @param for `from`
/// @audit missing @param for `to`
/// @audit missing @param for `amount`
646:     function transferFrom(
             address from,
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

```
*Github:* [[131](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L131), [168](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L168), [228](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L228), [252](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L252), [260](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L260), [289](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L289), [311](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L311), [338](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L338), [389](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L389), [426](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L426), [461](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L461), [509](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L509), [553](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L553), [646](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L646)]


```solidity
File: src/tokens/GuildToken.sol

/// @audit missing @param for `_core`
/// @audit missing @param for `_profitManager`
43:     constructor(
            address _core,
            address _profitManager
        )
            CoreRef(_core)
            ERC20("Ethereum Credit Guild - GUILD", "GUILD")
            ERC20Permit("Ethereum Credit Guild - GUILD")
        {

/// @audit missing @param for `newMax`
59:     function setMaxDelegates(
            uint256 newMax
        ) external onlyCoreRole(CoreRoles.GUILD_GOVERNANCE_PARAMETERS) {

/// @audit missing @param for `account`
/// @audit missing @param for `canExceedMax`
66:     function setContractExceedMaxDelegates(
            address account,
            bool canExceedMax
        ) external onlyCoreRole(CoreRoles.GUILD_GOVERNANCE_PARAMETERS) {

/// @audit missing @param for `_type`
/// @audit missing @param for `gauge`
76:     function addGauge(
            uint256 _type,
            address gauge
        ) external onlyCoreRole(CoreRoles.GAUGE_ADD) returns (uint256) {

/// @audit missing @param for `gauge`
83:     function removeGauge(
            address gauge
        ) external onlyCoreRole(CoreRoles.GAUGE_REMOVE) {

/// @audit missing @param for `max`
89:     function setMaxGauges(
            uint256 max
        ) external onlyCoreRole(CoreRoles.GAUGE_PARAMETERS) {

/// @audit missing @param for `who`
/// @audit missing @param for `can`
95:     function setCanExceedMaxGauges(
            address who,
            bool can
        ) external onlyCoreRole(CoreRoles.GAUGE_PARAMETERS) {

/// @audit missing @param for `gauge`
123:     function notifyGaugeLoss(address gauge) external {

/// @audit missing @param for `gauge`
/// @audit missing @param for `who`
133:     function applyGaugeLoss(address gauge, address who) external {

/// @audit missing @param for `from`
/// @audit missing @param for `to`
182:     function _beforeTokenTransfer(
             address from,
             address to,
             uint256 /* amount*/
         ) internal view override {

/// @audit missing @param for `_newProfitManager`
197:     function setProfitManager(address _newProfitManager) external onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit missing @param for `user`
/// @audit missing @param for `gauge`
/// @audit missing @param for `weight`
207:     function _decrementGaugeWeight(
             address user,
             address gauge,
             uint256 weight
         ) internal override {

/// @audit missing @param for `user`
/// @audit missing @param for `gauge`
/// @audit missing @param for `weight`
242:     function _incrementGaugeWeight(
             address user,
             address gauge,
             uint256 weight
         ) internal override {

/// @audit missing @param for `to`
/// @audit missing @param for `amount`
268:     function mint(
             address to,
             uint256 amount
         ) external onlyCoreRole(CoreRoles.GUILD_MINTER) {

/// @audit missing @param for `from`
/// @audit missing @param for `amount`
279:     function _burn(
             address from,
             uint256 amount
         ) internal virtual override(ERC20, ERC20Gauges, ERC20MultiVotes) {

/// @audit missing @param for `to`
/// @audit missing @param for `amount`
288:     function transfer(
             address to,
             uint256 amount
         )
             public
             virtual
             override(ERC20, ERC20Gauges, ERC20MultiVotes)
             returns (bool)
         {

/// @audit missing @param for `from`
/// @audit missing @param for `to`
/// @audit missing @param for `amount`
302:     function transferFrom(
             address from,
             address to,
             uint256 amount
         )
             public
             virtual
             override(ERC20, ERC20Gauges, ERC20MultiVotes)
             returns (bool)
         {

```
*Github:* [[43](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L43), [59](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L59), [66](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L66), [76](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L76), [83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L83), [89](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L89), [95](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L95), [123](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L123), [133](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L133), [182](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L182), [197](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L197), [207](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L207), [242](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L242), [268](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L268), [279](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L279), [288](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L288), [302](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L302)]


```solidity
File: src/utils/RateLimitedV2.sol

/// @audit missing @param for `newBufferCap`
158:     function _updateBufferStored(uint128 newBufferCap) internal {

```
*Github:* [[158](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L158)]


</details>


<a name="NC-55"></a> 
### [NC-55] Missing NatSpec `@param` from modifier declaration
Some modifier definitions have an incomplete NatSpec: add a `@param` notation to improve the code documentation.

*There is one instance of this issue:*
```solidity
File: src/core/CoreRef.sol

24:     modifier onlyCoreRole(bytes32 role) {

```
*Github:* [[24](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L24)]



<a name="NC-56"></a> 
### [NC-56] Missing NatSpec `@return` from function declaration
Some function definitions have an incomplete NatSpec: add a `@return` notation to improve the code documentation.

<details>
<summary>
There are <b>98</b> instances (click to show):
</summary>

```solidity
File: src/core/CoreRef.sol

30:     function core() public view returns (Core) {

87:     function emergencyAction(
            Call[] calldata calls
        )
            external
            payable
            onlyCoreRole(CoreRoles.GOVERNOR)
            returns (bytes[] memory returnData)
        {

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L30), [87](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L87)]


```solidity
File: src/governance/GuildGovernor.sol

57:     function quorum(
            uint256 /* blockNumber*/
        ) public view override returns (uint256) {

110:     function guardianCancel(
             address[] memory targets,
             uint256[] memory values,
             bytes[] memory calldatas,
             bytes32 descriptionHash
         ) public onlyCoreRole(CoreRoles.GUARDIAN) returns (uint256) {

123:     function _cancel(
             address[] memory targets,
             uint256[] memory values,
             bytes[] memory calldatas,
             bytes32 descriptionHash
         ) internal override(Governor, GovernorTimelockControl) returns (uint256) {

142:     function _executor()
             internal
             view
             override(Governor, GovernorTimelockControl)
             returns (address)
         {

151:     function proposalThreshold()
             public
             view
             override(Governor, GovernorSettings)
             returns (uint256)
         {

160:     function state(
             uint256 proposalId
         )
             public
             view
             override(Governor, GovernorTimelockControl)
             returns (ProposalState)
         {

171:     function supportsInterface(
             bytes4 interfaceId
         ) public view override(Governor, GovernorTimelockControl) returns (bool) {

```
*Github:* [[57](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L57), [110](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L110), [123](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L123), [142](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L142), [151](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L151), [160](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L160), [171](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L171)]


```solidity
File: src/governance/GuildTimelockController.sol

30:     function hasRole(
            bytes32 role,
            address account
        ) public view virtual override returns (bool) {

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L30)]


```solidity
File: src/governance/GuildVetoGovernor.sol

53:     function quorum(
            uint256 /* blockNumber*/
        ) public view override returns (uint256) {

130:     function COUNTING_MODE()
             public
             pure
             virtual
             override
             returns (string memory)
         {

143:     function hasVoted(
             uint256 proposalId,
             address account
         ) public view virtual override returns (bool) {

153:     function proposalVotes(
             uint256 proposalId
         )
             public
             view
             virtual
             returns (uint256 againstVotes, uint256 forVotes, uint256 abstainVotes)
         {

172:     function _quorumReached(
             uint256 proposalId
         ) internal view virtual override returns (bool) {

186:     function _voteSucceeded(
             uint256 /* proposalId*/
         ) internal pure virtual override returns (bool) {

222:     function votingDelay() public pure override returns (uint256) {

230:     function votingPeriod() public pure override returns (uint256) {

246:     function state(
             uint256 proposalId
         ) public view override returns (ProposalState) {

304:     function propose(
             address[] memory /* targets*/,
             uint256[] memory /* values*/,
             bytes[] memory /* calldatas*/,
             string memory /* description*/
         ) public pure override returns (uint256) {

315:     function createVeto(bytes32 timelockId) external returns (uint256) {

349:     function executeVeto(bytes32 timelockId) external returns (uint256) {

367:     function _getVetoCalls(
             bytes32 timelockId
         )
             internal
             view
             returns (
                 address[] memory targets,
                 uint256[] memory values,
                 bytes[] memory calldatas,
                 string memory description
             )
         {

```
*Github:* [[53](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L53), [130](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L130), [143](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L143), [153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L153), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L172), [186](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L186), [222](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L222), [230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L230), [246](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L246), [304](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L304), [315](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L315), [349](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L349), [367](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L367)]


```solidity
File: src/governance/LendingTermOnboarding.sol

105:     function createTerm(
             address implementation,
             LendingTerm.LendingTermParams calldata params
         ) external returns (address) {

171:     function propose(
             address[] memory /* targets*/,
             uint256[] memory /* values*/,
             bytes[] memory /* calldatas*/,
             string memory /* description*/
         ) public pure override(IGovernor, Governor) returns (uint256) {

181:     function proposeOnboard(
             address term
         ) external whenNotPaused returns (uint256 proposalId) {

215:     function getOnboardProposeArgs(
             address term
         )
             public
             view
             returns (
                 address[] memory targets,
                 uint256[] memory values,
                 bytes[] memory calldatas,
                 string memory description
             )
         {

```
*Github:* [[105](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L105), [171](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L171), [181](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L181), [215](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L215)]


```solidity
File: src/governance/ProfitManager.sol

151:     function minBorrow() external view returns (uint256) {

172:     function totalBorrowedCredit() external view returns (uint256) {

230:     function getProfitSharingConfig()
             external
             view
             returns (
                 uint256 surplusBufferSplit,
                 uint256 creditSplit,
                 uint256 guildSplit,
                 uint256 otherSplit,
                 address otherRecipient
             )
         {

409:     function claimGaugeRewards(
             address user,
             address gauge
         ) public returns (uint256 creditEarned) {

439:     function claimRewards(
             address user
         ) external returns (uint256 creditEarned) {

452:     function getPendingRewards(
             address user
         )
             external
             view
             returns (
                 address[] memory gauges,
                 uint256[] memory creditEarned,
                 uint256 totalCreditEarned
             )
         {

```
*Github:* [[151](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L151), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L172), [230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L230), [409](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L409), [439](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L439), [452](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L452)]


```solidity
File: src/loan/AuctionHouse.sol

67:     function getAuction(bytes32 loanId) external view returns (Auction memory) {

118:     function getBidDetail(
             bytes32 loanId
         ) public view returns (uint256 collateralReceived, uint256 creditAsked) {

```
*Github:* [[67](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L67), [118](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L118)]


```solidity
File: src/loan/LendingTerm.sol

176:     function getReferences()
             external
             view
             returns (LendingTermReferences memory)
         {

185:     function getParameters() external view returns (LendingTermParams memory) {

190:     function collateralToken() external view returns (address) {

195:     function getLoan(bytes32 loanId) external view returns (Loan memory) {

200:     function getLoanDebt(bytes32 loanId) public view returns (uint256) {

237:     function partialRepayDelayPassed(
             bytes32 loanId
         ) public view returns (bool) {

334:     function debtCeiling() external view returns (uint256) {

339:     function _borrow(
             address borrower,
             uint256 borrowAmount,
             uint256 collateralAmount
         ) internal returns (bytes32 loanId) {

438:     function borrow(
             uint256 borrowAmount,
             uint256 collateralAmount
         ) external whenNotPaused returns (bytes32 loanId) {

```
*Github:* [[176](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L176), [185](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L185), [190](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L190), [195](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L195), [200](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L200), [237](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L237), [334](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L334), [339](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L339), [438](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L438)]


```solidity
File: src/loan/SimplePSM.sol

80:     function getMintAmountOut(uint256 amountIn) public view returns (uint256) {

87:     function getRedeemAmountOut(
            uint256 amountIn
        ) public view returns (uint256) {

97:     function redeemableCredit() public view returns (uint256) {

103:     function mint(
             address to,
             uint256 amountIn
         ) external whenNotPaused returns (uint256 amountOut) {

117:     function mintAndEnterRebase(
             uint256 amountIn
         ) external whenNotPaused returns (uint256 amountOut) {

134:     function redeem(
             address to,
             uint256 amountIn
         ) external returns (uint256 amountOut) {

```
*Github:* [[80](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L80), [87](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L87), [97](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L97), [103](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L103), [117](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L117), [134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L134)]


```solidity
File: src/loan/SurplusGuildMinter.sol

106:     function getUserStake(
             address user,
             address term
         ) external view returns (UserStake memory) {

216:     function getRewards(
             address user,
             address term
         )
             public
             returns (
                 uint256 lastGaugeLoss, // GuildToken.lastGaugeLoss(term)
                 UserStake memory userStake, // stake state after execution of getRewards()
                 bool slashed // true if the user has been slashed
             )
         {

```
*Github:* [[106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L106), [216](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L216)]


```solidity
File: src/tokens/CreditToken.sol

98:     function balanceOf(
            address account
        ) public view override(ERC20, ERC20RebaseDistributor) returns (uint256) {

104:     function totalSupply()
             public
             view
             override(ERC20, ERC20RebaseDistributor)
             returns (uint256)
         {

113:     function transfer(
             address to,
             uint256 amount
         )
             public
             override(ERC20, ERC20MultiVotes, ERC20RebaseDistributor)
             returns (bool)
         {

125:     function transferFrom(
             address from,
             address to,
             uint256 amount
         )
             public
             override(ERC20, ERC20MultiVotes, ERC20RebaseDistributor)
             returns (bool)
         {

```
*Github:* [[98](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L98), [104](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L104), [113](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L113), [125](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L125)]


```solidity
File: src/tokens/ERC20Gauges.sol

98:     function gauges() external view returns (address[] memory) {

103:     function isGauge(address gauge) public view returns (bool) {

108:     function isDeprecatedGauge(address gauge) public view returns (bool) {

113:     function numGauges() external view returns (uint256) {

118:     function deprecatedGauges() external view returns (address[] memory) {

123:     function numDeprecatedGauges() external view returns (uint256) {

128:     function liveGauges() external view returns (address[] memory _liveGauges) {

149:     function numLiveGauges() external view returns (uint256) {

154:     function userGauges(address user) external view returns (address[] memory) {

159:     function isUserGauge(
             address user,
             address gauge
         ) external view returns (bool) {

167:     function numUserGauges(address user) external view returns (uint256) {

172:     function userUnusedWeight(address user) external view returns (uint256) {

249:     function _incrementUserAndGlobalWeights(
             address user,
             uint256 weight
         ) internal returns (uint256 newUserWeight) {

395:     function _addGauge(
             uint256 _type,
             address gauge
         ) internal returns (uint256 weight) {

481:     function transfer(
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

489:     function transferFrom(
             address from,
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

```
*Github:* [[98](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L98), [103](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L103), [108](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L108), [113](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L113), [118](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L118), [123](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L123), [128](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L128), [149](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L149), [154](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L154), [159](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L159), [167](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L167), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L172), [249](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L249), [395](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L395), [481](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L481), [489](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L489)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

52:     function checkpoints(
            address account,
            uint32 pos
        ) public view virtual returns (Checkpoint memory) {

60:     function numCheckpoints(
            address account
        ) public view virtual returns (uint32) {

103:     function _checkpointsLookup(
             Checkpoint[] storage ckpts,
             uint256 blockNumber
         ) private view returns (uint256) {

122:     function average(uint256 a, uint256 b) internal pure returns (uint256) {

387:     function _add(uint256 a, uint256 b) private pure returns (uint256) {

391:     function _subtract(uint256 a, uint256 b) private pure returns (uint256) {

408:     function transfer(
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

416:     function transferFrom(
             address from,
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

```
*Github:* [[52](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L52), [60](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L60), [103](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L103), [122](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L122), [387](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L387), [391](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L391), [408](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L408), [416](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L416)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

131:     function interpolatedValue(
             InterpolatedValue memory val
         ) internal view returns (uint256) {

242:     function rebasingSharePrice() internal view returns (uint256) {

247:     function unmintedRebaseRewards() internal view returns (uint256) {

252:     function _balance2shares(
             uint256 balance,
             uint256 sharePrice
         ) internal pure returns (uint256) {

260:     function _shares2balance(
             uint256 shares,
             uint256 sharePrice,
             uint256 deltaBalance,
             uint256 minBalance
         ) internal pure returns (uint256) {

389:     function isRebasing(address account) public view returns (bool) {

394:     function rebasingSupply() public view returns (uint256) {

399:     function nonRebasingSupply() external view virtual returns (uint256) {

415:     function pendingDistributedSupply() external view returns (uint256) {

426:     function balanceOf(
             address account
         ) public view virtual override returns (uint256) {

444:     function totalSupply() public view virtual override returns (uint256) {

451:     function targetTotalSupply() external view returns (uint256) {

553:     function transfer(
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

646:     function transferFrom(
             address from,
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

```
*Github:* [[131](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L131), [242](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L242), [247](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L247), [252](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L252), [260](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L260), [389](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L389), [394](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L394), [399](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L399), [415](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L415), [426](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L426), [444](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L444), [451](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L451), [553](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L553), [646](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L646)]


```solidity
File: src/tokens/GuildToken.sol

76:     function addGauge(
            uint256 _type,
            address gauge
        ) external onlyCoreRole(CoreRoles.GAUGE_ADD) returns (uint256) {

288:     function transfer(
             address to,
             uint256 amount
         )
             public
             virtual
             override(ERC20, ERC20Gauges, ERC20MultiVotes)
             returns (bool)
         {

302:     function transferFrom(
             address from,
             address to,
             uint256 amount
         )
             public
             virtual
             override(ERC20, ERC20Gauges, ERC20MultiVotes)
             returns (bool)
         {

```
*Github:* [[76](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L76), [288](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L288), [302](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L302)]


```solidity
File: src/utils/RateLimitedV2.sol

83:     function buffer() public view returns (uint256) {

```
*Github:* [[83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L83)]


</details>


<a name="NC-57"></a> 
### [NC-57] Missing NatSpec `@title` from contract declaration
Some contract definitions have an incomplete NatSpec: add a `@title` notation to improve the code documentation.

*There are <b>8</b> instances of this issue:*
```solidity
File: src/governance/LendingTermOffboarding.sol

16: contract LendingTermOffboarding is CoreRef {

```
*Github:* [[16](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L16)]


```solidity
File: src/governance/LendingTermOnboarding.sol

23: contract LendingTermOnboarding is GuildGovernor {

```
*Github:* [[23](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L23)]


```solidity
File: src/loan/AuctionHouse.sol

10: contract AuctionHouse is CoreRef {

```
*Github:* [[10](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L10)]


```solidity
File: src/loan/LendingTerm.sol

20: contract LendingTerm is CoreRef {

```
*Github:* [[20](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L20)]


```solidity
File: src/loan/SimplePSM.sol

25: contract SimplePSM is CoreRef {

```
*Github:* [[25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L25)]


```solidity
File: src/loan/SurplusGuildMinter.sol

24: contract SurplusGuildMinter is CoreRef {

```
*Github:* [[24](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L24)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

10: interface IERC20Mintable {

17: contract RateLimitedMinter is RateLimitedV2 {

```
*Github:* [[10](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L10), [17](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L17)]



<a name="NC-58"></a> 
### [NC-58] There is no need to initialize variables with 0
Since the variables are automatically set to 0 when created, it is redundant to initialize it with 0 again.

*There are <b>9</b> instances of this issue:*
```solidity
File: src/core/CoreRef.sol

96:         for (uint256 i = 0; i < calls.length; i++) {

```
*Github:* [[96](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L96)]


```solidity
File: src/governance/ProfitManager.sol

443:         for (uint256 i = 0; i < gauges.length; ) {

467:         for (uint256 i = 0; i < gauges.length; ) {

```
*Github:* [[443](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L443), [467](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L467)]


```solidity
File: src/loan/LendingTerm.sol

685:         for (uint256 i = 0; i < loanIds.length; i++) {

```
*Github:* [[685](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L685)]


```solidity
File: src/tokens/ERC20Gauges.sol

280:         for (uint256 i = 0; i < size; ) {

352:         for (uint256 i = 0; i < size; ) {

516:             uint256 i = 0;

```
*Github:* [[280](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L280), [352](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L352), [516](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L516)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

109:         uint256 low = 0;

442:             uint256 i = 0;

```
*Github:* [[109](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L109), [442](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L442)]



<a name="NC-59"></a> 
### [NC-59] Put all system-wide constants in one file
Putting all the system-wide constants in a single file improves code readability, makes it easier to understand the basic configuration and limitations of the system, and makes maintenance easier.

<details>
<summary>
There are <b>25</b> instances (click to show):
</summary>

```solidity
File: src/core/CoreRoles.sol

12:     bytes32 internal constant GOVERNOR = keccak256("GOVERNOR_ROLE");

15:     bytes32 internal constant GUARDIAN = keccak256("GUARDIAN_ROLE");

20:     bytes32 internal constant CREDIT_MINTER = keccak256("CREDIT_MINTER_ROLE");

23:     bytes32 internal constant RATE_LIMITED_CREDIT_MINTER =

27:     bytes32 internal constant GUILD_MINTER = keccak256("GUILD_MINTER_ROLE");

30:     bytes32 internal constant RATE_LIMITED_GUILD_MINTER =

36:     bytes32 internal constant GAUGE_ADD = keccak256("GAUGE_ADD_ROLE");

39:     bytes32 internal constant GAUGE_REMOVE = keccak256("GAUGE_REMOVE_ROLE");

42:     bytes32 internal constant GAUGE_PARAMETERS =

46:     bytes32 internal constant GAUGE_PNL_NOTIFIER =

50:     bytes32 internal constant GUILD_GOVERNANCE_PARAMETERS =

54:     bytes32 internal constant GUILD_SURPLUS_BUFFER_WITHDRAW =

60:     bytes32 internal constant CREDIT_GOVERNANCE_PARAMETERS =

64:     bytes32 internal constant CREDIT_REBASE_PARAMETERS =

71:     bytes32 internal constant TIMELOCK_PROPOSER = keccak256("PROPOSER_ROLE");

74:     bytes32 internal constant TIMELOCK_EXECUTOR = keccak256("EXECUTOR_ROLE");

77:     bytes32 internal constant TIMELOCK_CANCELLER = keccak256("CANCELLER_ROLE");

```
*Github:* [[12](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L12), [15](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L15), [20](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L20), [23](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L23), [27](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L27), [30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L30), [36](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L36), [39](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L39), [42](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L42), [46](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L46), [50](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L50), [54](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L54), [60](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L60), [64](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L64), [71](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L71), [74](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L74), [77](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L77)]


```solidity
File: src/governance/LendingTermOffboarding.sol

36:     uint256 public constant POLL_DURATION_BLOCKS = 46523; // ~7 days @ 13s/block

```
*Github:* [[36](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L36)]


```solidity
File: src/governance/LendingTermOnboarding.sol

25:     uint256 public constant MIN_DELAY_BETWEEN_PROPOSALS = 7 days;

```
*Github:* [[25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L25)]


```solidity
File: src/loan/LendingTerm.sol

68:     uint256 public constant YEAR = 31557600;

```
*Github:* [[68](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L68)]


```solidity
File: src/loan/SurplusGuildMinter.sol

26:     uint256 public constant MIN_STAKE = 1e18;

29:     uint256 public constant YEAR = 31557600;

```
*Github:* [[26](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L26), [29](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L29)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

467:     bytes32 public constant DELEGATION_TYPEHASH =

```
*Github:* [[467](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L467)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

93:     uint256 internal constant START_REBASING_SHARE_PRICE = 1e30;

97:     uint256 public constant DISTRIBUTION_PERIOD = 30 days;

```
*Github:* [[93](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L93), [97](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L97)]


</details>


<a name="NC-60"></a> 
### [NC-60] Redundant `return` statement in a function with named return variables
Because the return variable (or its default value) has been assigned, explicit return at the end of the function is unnecessary, as it is returned automatically.

*There are <b>7</b> instances of this issue:*
```solidity
File: src/governance/LendingTermOnboarding.sol

181:     function proposeOnboard(

```
*Github:* [[181](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L181)]


```solidity
File: src/governance/ProfitManager.sol

409:     function claimGaugeRewards(

```
*Github:* [[409](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L409)]


```solidity
File: src/tokens/ERC20Gauges.sol

128:     function liveGauges() external view returns (address[] memory _liveGauges) {

219:     function incrementGauge(

269:     function incrementGauges(

301:     function decrementGauge(

340:     function decrementGauges(

```
*Github:* [[128](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L128), [219](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L219), [269](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L269), [301](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L301), [340](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L340)]



<a name="NC-61"></a> 
### [NC-61] Setters should prevent re-setting the same value
Not only is wasteful in terms of gas, but this is especially problematic when an event is emitted and the old and new values set are the same, as listeners might not expect this kind of scenario.

<details>
<summary>
There are <b>15</b> instances (click to show):
</summary>

```solidity
File: src/governance/GuildGovernor.sol

70:         _quorum = newQuorum;

```
*Github:* [[70](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L70)]


```solidity
File: src/governance/GuildVetoGovernor.sol

73:         _quorum = newQuorum;

```
*Github:* [[73](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L73)]


```solidity
File: src/governance/LendingTermOffboarding.sol

82:         quorum = _quorum;

```
*Github:* [[82](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L82)]


```solidity
File: src/governance/ProfitManager.sol

182:         _minBorrow = newValue;

190:         gaugeWeightTolerance = newValue;

```
*Github:* [[182](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L182), [190](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L190)]


```solidity
File: src/loan/SimplePSM.sol

152:         redemptionsPaused = paused;

```
*Github:* [[152](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L152)]


```solidity
File: src/loan/SurplusGuildMinter.sol

322:         mintRatio = _mintRatio;

331:         rewardRatio = _rewardRatio;

```
*Github:* [[322](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L322), [331](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L331)]


```solidity
File: src/tokens/ERC20Gauges.sol

446:         maxGauges = newMax;

463:         canExceedMaxGauges[account] = canExceedMax;

```
*Github:* [[446](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L446), [463](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L463)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

149:         maxDelegates = newMax;

164:         canContractExceedMaxDelegates[account] = canExceedMax;

```
*Github:* [[149](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L149), [164](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L164)]


```solidity
File: src/tokens/GuildToken.sol

198:         profitManager = _newProfitManager;

```
*Github:* [[198](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L198)]


```solidity
File: src/utils/RateLimitedV2.sol

140:         rateLimitPerSecond = newRateLimitPerSecond;

153:         bufferCap = newBufferCap;

```
*Github:* [[140](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L140), [153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L153)]


</details>


<a name="NC-62"></a> 
### [NC-62] State variables should include comments
Consider adding some comments on critical state variables to explain what they are supposed to do: this will help for future code reviews.

<details>
<summary>
There are <b>17</b> instances (click to show):
</summary>

```solidity
File: src/governance/GuildGovernor.sol

25:     uint256 private _quorum;

```
*Github:* [[25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L25)]


```solidity
File: src/governance/GuildVetoGovernor.sol

27:     uint256 private _quorum;

```
*Github:* [[27](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L27)]


```solidity
File: src/governance/LendingTermOnboarding.sol

25:     uint256 public constant MIN_DELAY_BETWEEN_PROPOSALS = 7 days;

```
*Github:* [[25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L25)]


```solidity
File: src/loan/SimplePSM.sol

29:     address public immutable profitManager;

32:     address public immutable credit;

35:     address public immutable pegToken;

39:     uint256 public pegTokenBalance;

43:     uint256 public immutable decimalCorrection;

```
*Github:* [[29](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L29), [32](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L32), [35](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L35), [39](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L39), [43](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L43)]


```solidity
File: src/loan/SurplusGuildMinter.sol

26:     uint256 public constant MIN_STAKE = 1e18;

29:     uint256 public constant YEAR = 31557600;

```
*Github:* [[26](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L26), [29](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L29)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

19:     address public immutable token;

22:     bytes32 public immutable role;

```
*Github:* [[19](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L19), [22](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L22)]


```solidity
File: src/utils/RateLimitedV2.sol

18:     uint256 public immutable MAX_RATE_LIMIT_PER_SECOND;

23:     uint128 public rateLimitPerSecond;

26:     uint128 public bufferCap;

31:     uint32 public lastBufferUsedTime;

34:     uint224 public bufferStored;

```
*Github:* [[18](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L18), [23](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L23), [26](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L26), [31](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L31), [34](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L34)]


</details>


<a name="NC-63"></a> 
### [NC-63] The first argument should not be attached to the opening parenthesis
It is recommended by the [Solidity Style Guide](https://docs.soliditylang.org/en/latest/style-guide.html#maximum-line-length).

*There is one instance of this issue:*
```solidity
File: src/governance/LendingTermOnboarding.sol

155:             address(core()),
                 LendingTerm.LendingTermReferences({
                     profitManager: profitManager,
                     guildToken: guildToken,
                     auctionHouse: auctionHouse,
                     creditMinter: creditMinter,
                     creditToken: creditToken
                 }),
                 params

```
*Github:* [[155](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L155)]



<a name="NC-64"></a> 
### [NC-64] Timestamp may be manipulation
The `block.timestamp` can be manipulated by miners to perform MEV profiting or other time-based attacks.

<details>
<summary>
There are <b>107</b> instances (click to show):
</summary>

```solidity
File: src/governance/GuildVetoGovernor.sol

283:         if (timelockOperationTimestamp > block.timestamp) {

```
*Github:* [[283](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L283)]


```solidity
File: src/governance/LendingTermOffboarding.sol

107:             block.timestamp,

142:             block.timestamp,

169:         emit Offboard(block.timestamp, term);

198:         emit Cleanup(block.timestamp, term);

```
*Github:* [[107](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L107), [142](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L142), [169](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L169), [198](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L198)]


```solidity
File: src/governance/LendingTermOnboarding.sol

98:             block.timestamp,

165:         created[term] = block.timestamp;

166:         emit TermCreated(block.timestamp, implementation, term, params);

189:             lastProposal[term] + MIN_DELAY_BETWEEN_PROPOSALS < block.timestamp,

192:         lastProposal[term] = block.timestamp;

```
*Github:* [[98](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L98), [165](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L165), [166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L166), [189](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L189), [192](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L192)]


```solidity
File: src/governance/ProfitManager.sol

107:         emit MinBorrowUpdate(block.timestamp, 100e18);

183:         emit MinBorrowUpdate(block.timestamp, newValue);

191:         emit GaugeWeightToleranceUpdate(block.timestamp, newValue);

220:             block.timestamp,

255:         emit SurplusBufferUpdate(block.timestamp, newSurplusBuffer);

263:         emit TermSurplusBufferUpdate(block.timestamp, term, newSurplusBuffer);

274:         emit SurplusBufferUpdate(block.timestamp, newSurplusBuffer);

286:         emit TermSurplusBufferUpdate(block.timestamp, term, newSurplusBuffer);

311:                 emit TermSurplusBufferUpdate(block.timestamp, gauge, 0);

319:                     block.timestamp,

328:                 emit SurplusBufferUpdate(block.timestamp, 0);

336:                     block.timestamp,

364:                     block.timestamp,

404:         emit GaugePnL(gauge, block.timestamp, amount);

433:             emit ClaimRewards(block.timestamp, user, gauge, creditEarned);

```
*Github:* [[107](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L107), [183](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L183), [191](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L191), [220](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L220), [255](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L255), [263](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L263), [274](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L274), [286](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L286), [311](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L311), [319](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L319), [328](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L328), [336](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L336), [364](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L364), [404](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L404), [433](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L433)]


```solidity
File: src/loan/AuctionHouse.sol

85:             loan.callTime == block.timestamp,

97:             startTime: block.timestamp,

107:             block.timestamp,

131:         assert(block.timestamp >= _startTime);

134:         if (block.timestamp < _startTime + midPoint) {

139:             uint256 elapsed = block.timestamp - _startTime; // [0, midPoint[

144:         else if (block.timestamp < _startTime + auctionDuration) {

150:             uint256 elapsed = block.timestamp - _startTime - midPoint; // [0, PHASE_2_DURATION[

175:         auctions[loanId].endTime = block.timestamp;

190:             block.timestamp,

209:         auctions[loanId].endTime = block.timestamp;

224:             block.timestamp,

```
*Github:* [[85](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L85), [97](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L97), [107](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L107), [131](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L131), [134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L134), [139](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L139), [144](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L144), [150](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L150), [175](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L175), [190](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L190), [209](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L209), [224](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L224)]


```solidity
File: src/loan/LendingTerm.sol

220:             (block.timestamp - borrowTime)) /

252:             block.timestamp - params.maxDelayBetweenPartialRepay;

348:             abi.encode(borrower, address(this), block.timestamp)

403:             borrowTime: block.timestamp,

414:             lastPartialRepay[loanId] = block.timestamp;

429:             block.timestamp,

474:             block.timestamp,

501:             borrowTime < block.timestamp,

535:         lastPartialRepay[loanId] = block.timestamp;

558:         emit LoanPartialRepay(block.timestamp, loanId, repayer, debtToRepay);

574:             borrowTime < block.timestamp,

614:         loan.closeTime = block.timestamp;

624:         emit LoanClose(block.timestamp, loanId, LoanCloseType.Repay, loanDebt);

660:             borrowTime < block.timestamp,

666:         loans[loanId].callTime = block.timestamp;

674:         emit LoanCall(block.timestamp, loanId);

705:         loans[loanId].closeTime = block.timestamp;

721:         emit LoanClose(block.timestamp, loanId, LoanCloseType.Forgive, 0);

771:         loans[loanId].closeTime = block.timestamp;

820:             block.timestamp,

```
*Github:* [[220](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L220), [252](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L252), [348](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L348), [403](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L403), [414](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L414), [429](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L429), [474](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L474), [501](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L501), [535](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L535), [558](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L558), [574](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L574), [614](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L614), [624](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L624), [660](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L660), [666](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L666), [674](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L674), [705](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L705), [721](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L721), [771](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L771), [820](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L820)]


```solidity
File: src/loan/SimplePSM.sol

111:         emit Mint(block.timestamp, to, amountIn, amountOut);

129:         emit Mint(block.timestamp, msg.sender, amountIn, amountOut);

143:         emit Redeem(block.timestamp, to, amountIn, amountOut);

153:         emit RedemptionsPaused(block.timestamp, paused);

```
*Github:* [[111](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L111), [129](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L129), [143](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L143), [153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L153)]


```solidity
File: src/loan/SurplusGuildMinter.sol

122:             lastGaugeLoss != block.timestamp,

140:             stakeTime: SafeCastLib.safeCastTo48(block.timestamp),

154:         emit Stake(block.timestamp, term, amount);

211:         emit Unstake(block.timestamp, term, amount);

260:                 emit GuildReward(block.timestamp, user, guildReward);

275:             emit Unstake(block.timestamp, term, uint256(userStake.credit));

323:         emit MintRatioUpdate(block.timestamp, _mintRatio);

332:         emit RewardRatioUpdate(block.timestamp, _rewardRatio);

```
*Github:* [[122](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L122), [140](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L140), [154](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L154), [211](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L211), [260](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L260), [275](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L275), [323](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L323), [332](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L332)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

480:             block.timestamp <= expiry,

```
*Github:* [[480](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L480)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

110:             lastTimestamp: SafeCastLib.safeCastTo32(block.timestamp),

112:             targetTimestamp: SafeCastLib.safeCastTo32(block.timestamp),

120:             lastTimestamp: SafeCastLib.safeCastTo32(block.timestamp),

122:             targetTimestamp: SafeCastLib.safeCastTo32(block.timestamp),

141:         if (block.timestamp >= targetTimestamp) {

146:             uint256 elapsed = block.timestamp - lastTimestamp;

191:                 lastTimestamp: SafeCastLib.safeCastTo32(block.timestamp), // now

193:                 targetTimestamp: SafeCastLib.safeCastTo32(block.timestamp), // now

197:                 lastTimestamp: SafeCastLib.safeCastTo32(block.timestamp),

199:                 targetTimestamp: SafeCastLib.safeCastTo32(block.timestamp),

219:                 lastTimestamp: SafeCastLib.safeCastTo32(block.timestamp), // now

232:             lastTimestamp: SafeCastLib.safeCastTo32(block.timestamp), // now

298:         emit RebaseEnter(account, block.timestamp);

326:             emit RebaseReward(account, block.timestamp, mintAmount);

332:         emit RebaseExit(account, block.timestamp);

355:             block.timestamp,

364:             uint256 endTimestamp = block.timestamp + DISTRIBUTION_PERIOD;

370:                 lastTimestamp: SafeCastLib.safeCastTo32(block.timestamp),

379:                 lastTimestamp: SafeCastLib.safeCastTo32(block.timestamp),

481:                 emit RebaseReward(account, block.timestamp, mintAmount);

546:                 emit RebaseReward(account, block.timestamp, mintAmount);

579:                 emit RebaseReward(msg.sender, block.timestamp, mintAmount);

630:                 emit RebaseReward(to, block.timestamp, mintAmount);

673:                 emit RebaseReward(from, block.timestamp, mintAmount);

724:                 emit RebaseReward(to, block.timestamp, mintAmount);

```
*Github:* [[110](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L110), [112](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L112), [120](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L120), [122](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L122), [141](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L141), [146](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L146), [191](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L191), [193](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L193), [197](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L197), [199](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L199), [219](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L219), [232](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L232), [298](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L298), [326](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L326), [332](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L332), [355](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L355), [364](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L364), [370](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L370), [379](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L379), [481](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L481), [546](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L546), [579](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L579), [630](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L630), [673](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L673), [724](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L724)]


```solidity
File: src/tokens/GuildToken.sol

127:         lastGaugeLoss[gauge] = block.timestamp;

128:         emit GaugeLoss(gauge, block.timestamp);

146:         lastGaugeLossApplied[gauge][who] = block.timestamp;

159:             block.timestamp

177:         emit TransfersEnabled(block.number, block.timestamp);

199:         emit ProfitManagerUpdated(block.timestamp, _newProfitManager);

250:             lastGaugeLossApplied[gauge][user] = block.timestamp;

```
*Github:* [[127](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L127), [128](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L128), [146](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L146), [159](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L159), [177](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L177), [199](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L199), [250](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L250)]


```solidity
File: src/utils/RateLimitedV2.sol

45:         lastBufferUsedTime = block.timestamp.safeCastTo32();

84:         uint256 elapsed = block.timestamp.safeCastTo32() - lastBufferUsedTime;

99:         uint32 blockTimestamp = block.timestamp.safeCastTo32();

124:         uint32 blockTimestamp = block.timestamp.safeCastTo32();

160:         uint32 newBlockTimestamp = block.timestamp.safeCastTo32();

```
*Github:* [[45](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L45), [84](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L84), [99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L99), [124](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L124), [160](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L160)]


</details>


<a name="NC-65"></a> 
### [NC-65] Lines are too long
The [solidity style guide](https://docs.soliditylang.org/en/v0.8.17/style-guide.html#maximum-line-length) recommends a maximum line length of 120 characters. Lines of code that are longer than 120 should be wrapped.

*There are <b>3</b> instances of this issue:*
```solidity
File: src/governance/ProfitManager.sol

271:         uint256 newSurplusBuffer = surplusBuffer - amount; // this would revert due to underflow if withdrawing > surplusBuffer

283:         uint256 newSurplusBuffer = termSurplusBuffer[term] - amount; // this would revert due to underflow if withdrawing > termSurplusBuffer

```
*Github:* [[271](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L271), [283](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L283)]


```solidity
File: src/tokens/ERC20Gauges.sol

46:     - Rename `calculateGaugeAllocation` to `calculateGaugeStoredAllocation` to make clear that it reads from stored weights.

```
*Github:* [[46](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L46)]



<a name="NC-66"></a> 
### [NC-66] Typos

*There are <b>3</b> instances of this issue:*
```solidity
File: src/governance/LendingTermOnboarding.sol

/// @audit `implemenation`
91:     /// @notice Allow or disallow a given implemenation

```
*Github:* [[91](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L91)]


```solidity
File: src/governance/ProfitManager.sol

/// @audit `weigth`
387:                 // and if the weigth is 0, there are no users voting for the gauge.

```
*Github:* [[387](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L387)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

/// @audit `receivier`
273:      * @param delegatee the receivier of undelegation.

```
*Github:* [[273](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L273)]



<a name="NC-67"></a> 
### [NC-67] Unnecessary cast
The variable is being cast to its own type.

<details>
<summary>
There are <b>30</b> instances (click to show):
</summary>

```solidity
File: src/governance/ProfitManager.sol

/// @audit no need to cast `amount` into uint256
346:             uint256 amountForSurplusBuffer = (uint256(amount) *

/// @audit no need to cast `amount` into uint256
346:             uint256 amountForSurplusBuffer = (uint256(amount) *

/// @audit no need to cast `amount` into uint256
346:             uint256 amountForSurplusBuffer = (uint256(amount) *

/// @audit no need to cast `amount` into uint256
346:             uint256 amountForSurplusBuffer = (uint256(amount) *

/// @audit no need to cast `amount` into uint256
346:             uint256 amountForSurplusBuffer = (uint256(amount) *

/// @audit no need to cast `amount` into int256
346:             uint256 amountForSurplusBuffer = (uint256(amount) *

/// @audit no need to cast `amount` into uint256
349:             uint256 amountForGuild = (uint256(amount) *

/// @audit no need to cast `amount` into uint256
349:             uint256 amountForGuild = (uint256(amount) *

/// @audit no need to cast `amount` into uint256
349:             uint256 amountForGuild = (uint256(amount) *

/// @audit no need to cast `amount` into uint256
349:             uint256 amountForGuild = (uint256(amount) *

/// @audit no need to cast `amount` into uint256
349:             uint256 amountForGuild = (uint256(amount) *

/// @audit no need to cast `amount` into int256
349:             uint256 amountForGuild = (uint256(amount) *

/// @audit no need to cast `amount` into uint256
352:             uint256 amountForOther = (uint256(amount) *

/// @audit no need to cast `amount` into uint256
352:             uint256 amountForOther = (uint256(amount) *

/// @audit no need to cast `amount` into uint256
352:             uint256 amountForOther = (uint256(amount) *

/// @audit no need to cast `amount` into uint256
352:             uint256 amountForOther = (uint256(amount) *

/// @audit no need to cast `amount` into uint256
352:             uint256 amountForOther = (uint256(amount) *

/// @audit no need to cast `amount` into int256
352:             uint256 amountForOther = (uint256(amount) *

/// @audit no need to cast `amount` into uint256
355:             uint256 amountForCredit = uint256(amount) -

/// @audit no need to cast `amount` into uint256
355:             uint256 amountForCredit = uint256(amount) -

/// @audit no need to cast `amount` into uint256
355:             uint256 amountForCredit = uint256(amount) -

/// @audit no need to cast `amount` into uint256
355:             uint256 amountForCredit = uint256(amount) -

/// @audit no need to cast `amount` into uint256
355:             uint256 amountForCredit = uint256(amount) -

/// @audit no need to cast `amount` into int256
355:             uint256 amountForCredit = uint256(amount) -

```
*Github:* [[346](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L346), [346](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L346), [346](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L346), [346](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L346), [346](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L346), [346](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L346), [349](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L349), [349](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L349), [349](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L349), [349](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L349), [349](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L349), [349](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L349), [352](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L352), [352](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L352), [352](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L352), [352](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L352), [352](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L352), [352](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L352), [355](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L355), [355](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L355), [355](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L355), [355](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L355), [355](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L355), [355](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L355)]


```solidity
File: src/loan/SurplusGuildMinter.sol

/// @audit no need to cast `profitManager` into address
129:         CreditToken(credit).approve(address(profitManager), amount);

```
*Github:* [[129](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L129)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

/// @audit no need to cast `sharesDelta` into int256
176:             sharesAfter = sharesBefore + uint256(sharesDelta);

/// @audit no need to cast `sharesDelta` into int256
176:             sharesAfter = sharesBefore + uint256(sharesDelta);

/// @audit no need to cast `sharesDelta` into int256
176:             sharesAfter = sharesBefore + uint256(sharesDelta);

```
*Github:* [[176](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L176), [176](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L176), [176](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L176)]


```solidity
File: src/tokens/GuildToken.sol

/// @audit no need to cast `_userGaugeWeight` into uint256
154:         _burn(who, uint256(_userGaugeWeight));

/// @audit no need to cast `_userGaugeWeight` into uint256
158:             uint256(_userGaugeWeight),

```
*Github:* [[154](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L154), [158](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L158)]


</details>


<a name="NC-68"></a> 
### [NC-68] Unsafe conversion from unsigned to signed values
Solidity follows [two's complement](https://en.wikipedia.org/wiki/Two%27s_complement) rules for its integers, meaning that the most significant bit for signed integers is used to denote the sign, and converting between the two requires inverting all of the bits and adding one. Because of this, casting an unsigned integer to a signed one may result in a change of the sign and or magnitude of the value. For example, `int8(type(uint8).max)` is not equal to `type(int8).max`, but is equal to `-1`. `type(uint8).max` in binary is `11111111`, which if cast to a signed value, means the first binary `1` indicates a negative value, and the binary `1`s, invert to all zeroes, and when one is added, it becomes one, but negative, and therefore the decimal value of binary `11111111` is `-1`.

<details>
<summary>
There are <b>16</b> instances (click to show):
</summary>

```solidity
File: src/loan/LendingTerm.sol

/// @audit uint256 -> int256
277:         gaugeWeight = uint256(int256(gaugeWeight) + gaugeWeightDelta);

/// @audit uint256 -> int256
552:             int256(interestRepaid)

/// @audit uint256 -> int256
605:                 int256(interest)

/// @audit uint256 -> int256
714:         int256 pnl = -int256(principal);

/// @audit uint256 -> int256
760:             pnl = int256(interest);

/// @audit uint256 -> int256
762:             pnl = int256(creditFromBidder) - int256(principal);

/// @audit uint256 -> int256
762:             pnl = int256(creditFromBidder) - int256(principal);

```
*Github:* [[277](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L277), [552](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L552), [605](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L605), [714](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L714), [760](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L760), [762](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L762), [762](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L762)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

/// @audit uint256 -> int256
297:         updateTotalRebasingShares(currentRebasingSharePrice, int256(shares));

/// @audit uint256 -> int256
330:         updateTotalRebasingShares(currentRebasingSharePrice, -int256(shares));

/// @audit uint256 -> int256
502:                 -int256(sharesBurnt)

/// @audit uint256 -> int256
538:                 int256(sharesReceived)

/// @audit uint256 -> int256
595:             sharesDelta -= int256(sharesSpent);

/// @audit uint256 -> int256
619:             sharesDelta += int256(sharesReceived);

/// @audit uint256 -> int256
689:             sharesDelta -= int256(sharesSpent);

/// @audit uint256 -> int256
713:             sharesDelta += int256(sharesReceived);

```
*Github:* [[297](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L297), [330](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L330), [502](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L502), [538](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L538), [595](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L595), [619](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L619), [689](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L689), [713](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L713)]


```solidity
File: src/tokens/GuildToken.sol

/// @audit uint256 -> int256
226:             uint256 debtCeilingAfterDecrement = LendingTerm(gauge).debtCeiling(-int256(weight));

```
*Github:* [[226](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L226)]


</details>


<a name="NC-69"></a> 
### [NC-69] Unused arguments should be removed or implemented
Some arguments are never used: if this is intentional, consider removing these arguments from the function. Otherwise, implement the missing logic accordingly.

*There are <b>4</b> instances of this issue:*
```solidity
File: src/governance/GuildTimelockController.sol

/// @audit `role`
/// @audit `adminRole`
38:     function _setRoleAdmin(bytes32 role, bytes32 adminRole) internal override {}

/// @audit `role`
/// @audit `account`
41:     function _grantRole(bytes32 role, address account) internal override {}

/// @audit `role`
/// @audit `account`
44:     function _revokeRole(bytes32 role, address account) internal override {}

```
*Github:* [[38](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L38), [41](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L41), [44](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L44)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

/// @audit `to`
/// @audit `amount`
11:     function mint(address to, uint256 amount) external;

```
*Github:* [[11](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L11)]



<a name="NC-70"></a> 
### [NC-70] Unused import
The identifier is imported but never used within the file.

<details>
<summary>
There are <b>12</b> instances (click to show):
</summary>

```solidity
File: src/governance/GuildGovernor.sol

/// @audit `IGovernor`
4: import {Governor, IGovernor} from "@openzeppelin/contracts/governance/Governor.sol";

/// @audit `IERC165`
7: import {GovernorVotes, IERC165} from "@openzeppelin/contracts/governance/extensions/GovernorVotes.sol";

```
*Github:* [[4](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L4), [7](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L7)]


```solidity
File: src/governance/GuildTimelockController.sol

/// @audit `CoreRoles`
5: import {CoreRoles} from "@src/core/CoreRoles.sol";

```
*Github:* [[5](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L5)]


```solidity
File: src/governance/GuildVetoGovernor.sol

/// @audit `IGovernor`
4: import {Governor, IGovernor} from "@openzeppelin/contracts/governance/Governor.sol";

/// @audit `GovernorTimelockControl`
5: import {GovernorTimelockControl} from "@openzeppelin/contracts/governance/extensions/GovernorTimelockControl.sol";

/// @audit `IERC165`
6: import {GovernorVotes, IERC165} from "@openzeppelin/contracts/governance/extensions/GovernorVotes.sol";

/// @audit `GovernorCountingSimple`
7: import {GovernorCountingSimple} from "@openzeppelin/contracts/governance/extensions/GovernorCountingSimple.sol";

```
*Github:* [[4](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L4), [5](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L5), [6](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L6), [7](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L7)]


```solidity
File: src/loan/LendingTerm.sol

/// @audit `IERC20Permit`
6: import {IERC20Permit} from "@openzeppelin/contracts/token/ERC20/extensions/IERC20Permit.sol";

```
*Github:* [[6](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L6)]


```solidity
File: src/loan/SimplePSM.sol

/// @audit `LendingTerm`
9: import {LendingTerm} from "@src/loan/LendingTerm.sol";

/// @audit `RateLimitedMinter`
12: import {RateLimitedMinter} from "@src/rate-limits/RateLimitedMinter.sol";

```
*Github:* [[9](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L9), [12](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L12)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

/// @audit `CoreRoles`
5: import {CoreRoles} from "@src/core/CoreRoles.sol";

/// @audit `CreditToken`
8: import {CreditToken} from "@src/tokens/CreditToken.sol";

```
*Github:* [[5](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L5), [8](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L8)]


</details>


<a name="NC-71"></a> 
### [NC-71] Unused named return
Declaring named returns, but not using them, is confusing to the reader. Consider either completely removing them (by declaring just the type without a name), or remove the return statement and do a variable assignment. This would improve the readability of the code, and it may also help reduce regressions during future code refactors.

*There are <b>5</b> instances of this issue:*
```solidity
File: src/governance/LendingTermOnboarding.sol

/// @audit `proposalId` not used
181:     function proposeOnboard(
             address term
         ) external whenNotPaused returns (uint256 proposalId) {

```
*Github:* [[181](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L181)]


```solidity
File: src/tokens/ERC20Gauges.sol

/// @audit `newUserWeight` not used
219:     function incrementGauge(
             address gauge,
             uint256 weight
         ) public virtual returns (uint256 newUserWeight) {

/// @audit `newUserWeight` not used
269:     function incrementGauges(
             address[] calldata gaugeList,
             uint256[] calldata weights
         ) public virtual returns (uint256 newUserWeight) {

/// @audit `newUserWeight` not used
301:     function decrementGauge(
             address gauge,
             uint256 weight
         ) public virtual returns (uint256 newUserWeight) {

/// @audit `newUserWeight` not used
340:     function decrementGauges(
             address[] calldata gaugeList,
             uint256[] calldata weights
         ) public virtual returns (uint256 newUserWeight) {

```
*Github:* [[219](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L219), [269](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L269), [301](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L301), [340](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L340)]



<a name="NC-72"></a> 
### [NC-72] Use `abi.encodeCall()` instead of `abi.encodeWithSignature()`/`abi.encodeWithSelector()`
`abi.encodeCall()` has compiler type safety, whereas the other two functions do not

*There are <b>5</b> instances of this issue:*
```solidity
File: src/governance/GuildVetoGovernor.sol

383:         calldatas[0] = abi.encodeWithSelector(

```
*Github:* [[383](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L383)]


```solidity
File: src/governance/LendingTermOnboarding.sol

115:             abi.encodeWithSelector(IERC20.totalSupply.selector)

240:         calldatas[0] = abi.encodeWithSelector(

249:         calldatas[1] = abi.encodeWithSelector(

257:         calldatas[2] = abi.encodeWithSelector(

```
*Github:* [[115](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L115), [240](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L240), [249](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L249), [257](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L257)]



<a name="NC-73"></a> 
### [NC-73] Consider using `delete` rather than assigning zero/false to clear values
The `delete` keyword more closely matches the semantics of what is being done, and draws more attention to the changing of state, which may lead to a more thorough audit of its associated logic.

*There are <b>3</b> instances of this issue:*
```solidity
File: src/governance/LendingTermOffboarding.sol

197:         canOffboard[term] = false;

```
*Github:* [[197](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L197)]


```solidity
File: src/governance/ProfitManager.sol

310:                 termSurplusBuffer[gauge] = 0;

```
*Github:* [[310](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L310)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

453:                 _delegatesVotesCount[user][delegatee] = 0;

```
*Github:* [[453](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L453)]



<a name="NC-74"></a> 
### [NC-74] Expressions for constant values should use `immutable` rather than `constant`
While it doesn't save any gas because the compiler knows that developers often make this mistake, it's still best to use the right tool for the task at hand. There is a difference between `constant` variables and `immutable` variables, and they should each be used in their appropriate contexts. `constants` should be used for literal values written into the code, and `immutable` variables should be used for expressions, or values calculated in, or passed into the constructor.

<details>
<summary>
There are <b>25</b> instances (click to show):
</summary>

```solidity
File: src/core/CoreRoles.sol

12:     bytes32 internal constant GOVERNOR = keccak256("GOVERNOR_ROLE");

15:     bytes32 internal constant GUARDIAN = keccak256("GUARDIAN_ROLE");

20:     bytes32 internal constant CREDIT_MINTER = keccak256("CREDIT_MINTER_ROLE");

23:     bytes32 internal constant RATE_LIMITED_CREDIT_MINTER =

27:     bytes32 internal constant GUILD_MINTER = keccak256("GUILD_MINTER_ROLE");

30:     bytes32 internal constant RATE_LIMITED_GUILD_MINTER =

36:     bytes32 internal constant GAUGE_ADD = keccak256("GAUGE_ADD_ROLE");

39:     bytes32 internal constant GAUGE_REMOVE = keccak256("GAUGE_REMOVE_ROLE");

42:     bytes32 internal constant GAUGE_PARAMETERS =

46:     bytes32 internal constant GAUGE_PNL_NOTIFIER =

50:     bytes32 internal constant GUILD_GOVERNANCE_PARAMETERS =

54:     bytes32 internal constant GUILD_SURPLUS_BUFFER_WITHDRAW =

60:     bytes32 internal constant CREDIT_GOVERNANCE_PARAMETERS =

64:     bytes32 internal constant CREDIT_REBASE_PARAMETERS =

71:     bytes32 internal constant TIMELOCK_PROPOSER = keccak256("PROPOSER_ROLE");

74:     bytes32 internal constant TIMELOCK_EXECUTOR = keccak256("EXECUTOR_ROLE");

77:     bytes32 internal constant TIMELOCK_CANCELLER = keccak256("CANCELLER_ROLE");

```
*Github:* [[12](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L12), [15](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L15), [20](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L20), [23](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L23), [27](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L27), [30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L30), [36](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L36), [39](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L39), [42](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L42), [46](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L46), [50](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L50), [54](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L54), [60](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L60), [64](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L64), [71](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L71), [74](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L74), [77](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L77)]


```solidity
File: src/governance/LendingTermOffboarding.sol

36:     uint256 public constant POLL_DURATION_BLOCKS = 46523; // ~7 days @ 13s/block

```
*Github:* [[36](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L36)]


```solidity
File: src/governance/LendingTermOnboarding.sol

25:     uint256 public constant MIN_DELAY_BETWEEN_PROPOSALS = 7 days;

```
*Github:* [[25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L25)]


```solidity
File: src/loan/LendingTerm.sol

68:     uint256 public constant YEAR = 31557600;

```
*Github:* [[68](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L68)]


```solidity
File: src/loan/SurplusGuildMinter.sol

26:     uint256 public constant MIN_STAKE = 1e18;

29:     uint256 public constant YEAR = 31557600;

```
*Github:* [[26](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L26), [29](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L29)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

467:     bytes32 public constant DELEGATION_TYPEHASH =

```
*Github:* [[467](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L467)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

93:     uint256 internal constant START_REBASING_SHARE_PRICE = 1e30;

97:     uint256 public constant DISTRIBUTION_PERIOD = 30 days;

```
*Github:* [[93](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L93), [97](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L97)]


</details>


<a name="NC-75"></a> 
### [NC-75] Use `@inheritdoc` for overridden functions

*There are <b>10</b> instances of this issue:*
```solidity
File: src/governance/GuildTimelockController.sol

38:     function _setRoleAdmin(bytes32 role, bytes32 adminRole) internal override {}

41:     function _grantRole(bytes32 role, address account) internal override {}

44:     function _revokeRole(bytes32 role, address account) internal override {}

```
*Github:* [[38](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L38), [41](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L41), [44](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L44)]


```solidity
File: src/governance/GuildVetoGovernor.sol

222:     function votingDelay() public pure override returns (uint256) {

230:     function votingPeriod() public pure override returns (uint256) {

```
*Github:* [[222](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L222), [230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L230)]


```solidity
File: src/tokens/ERC20Gauges.sol

476:     function _burn(address from, uint256 amount) internal virtual override {

```
*Github:* [[476](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L476)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

403:     function _burn(address from, uint256 amount) internal virtual override {

```
*Github:* [[403](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L403)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

444:     function totalSupply() public view virtual override returns (uint256) {

461:     function _burn(address account, uint256 amount) internal virtual override {

509:     function _mint(address account, uint256 amount) internal virtual override {

```
*Github:* [[444](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L444), [461](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L461), [509](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L509)]



<a name="NC-76"></a> 
### [NC-76] Upgrade `openzeppelin` to the latest version (`5.0.1`)
These contracts import contracts from openzeppelin contracts but they are not using the latest version. For more information, please visit: [OpenZeppelin GitHub Releases](https://github.com/OpenZeppelin/openzeppelin-contracts/releases) It is recommended to always use the latest version to take advantage of updates and security fixes.

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/)]



<a name="NC-77"></a> 
### [NC-77] Use the latest solidity version for deployment (`0.8.23`)
Upgrading to a newer Solidity release can optimize gas usage, take advantage of new features and improve overall contract efficiency. Where possible, based on compatibility requirements, it is recommended to use newer/latest solidity version to take advantage of the latest optimizations and features.

<details>
<summary>
There are <b>20</b> instances (click to show):
</summary>

```solidity
File: src/core/Core.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/Core.sol#L2)]


```solidity
File: src/core/CoreRef.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L2)]


```solidity
File: src/core/CoreRoles.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L2)]


```solidity
File: src/governance/GuildGovernor.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L2)]


```solidity
File: src/governance/GuildTimelockController.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L2)]


```solidity
File: src/governance/GuildVetoGovernor.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L2)]


```solidity
File: src/governance/LendingTermOffboarding.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L2)]


```solidity
File: src/governance/LendingTermOnboarding.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L2)]


```solidity
File: src/governance/ProfitManager.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L2)]


```solidity
File: src/loan/AuctionHouse.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L2)]


```solidity
File: src/loan/LendingTerm.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L2)]


```solidity
File: src/loan/SimplePSM.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L2)]


```solidity
File: src/loan/SurplusGuildMinter.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L2)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L2)]


```solidity
File: src/tokens/CreditToken.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L2)]


```solidity
File: src/tokens/ERC20Gauges.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L2)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

4: pragma solidity 0.8.13;

```
*Github:* [[4](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L4)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L2)]


```solidity
File: src/tokens/GuildToken.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L2)]


```solidity
File: src/utils/RateLimitedV2.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L2)]


</details>


<a name="NC-78"></a> 
### [NC-78] Use of `override` is unnecessary
Starting with Solidity version [0.8.8](https://docs.soliditylang.org/en/v0.8.20/contracts.html#function-overriding), using the `override` keyword when the function solely overrides an interface function, and the function doesn't exist in multiple base contracts, is unnecessary.

<details>
<summary>
There are <b>32</b> instances (click to show):
</summary>

```solidity
File: src/governance/GuildGovernor.sol

59:     ) public view override returns (uint256) {

80:     ) public override onlyCoreRole(CoreRoles.GOVERNOR) {

87:     ) public override onlyCoreRole(CoreRoles.GOVERNOR) {

94:     ) public override onlyCoreRole(CoreRoles.GOVERNOR) {

```
*Github:* [[59](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L59), [80](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L80), [87](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L87), [94](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L94)]


```solidity
File: src/governance/GuildTimelockController.sol

33:     ) public view virtual override returns (bool) {

38:     function _setRoleAdmin(bytes32 role, bytes32 adminRole) internal override {}

41:     function _grantRole(bytes32 role, address account) internal override {}

44:     function _revokeRole(bytes32 role, address account) internal override {}

```
*Github:* [[33](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L33), [38](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L38), [41](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L41), [44](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L44)]


```solidity
File: src/governance/GuildVetoGovernor.sol

55:     ) public view override returns (uint256) {

146:     ) public view virtual override returns (bool) {

174:     ) internal view virtual override returns (bool) {

188:     ) internal pure virtual override returns (bool) {

201:     ) internal virtual override {

222:     function votingDelay() public pure override returns (uint256) {

230:     function votingPeriod() public pure override returns (uint256) {

248:     ) public view override returns (ProposalState) {

309:     ) public pure override returns (uint256) {

```
*Github:* [[55](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L55), [146](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L146), [174](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L174), [188](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L188), [201](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L201), [222](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L222), [230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L230), [248](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L248), [309](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L309)]


```solidity
File: src/tokens/ERC20Gauges.sol

476:     function _burn(address from, uint256 amount) internal virtual override {

484:     ) public virtual override returns (bool) {

493:     ) public virtual override returns (bool) {

```
*Github:* [[476](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L476), [484](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L484), [493](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L493)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

403:     function _burn(address from, uint256 amount) internal virtual override {

411:     ) public virtual override returns (bool) {

420:     ) public virtual override returns (bool) {

```
*Github:* [[403](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L403), [411](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L411), [420](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L420)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

428:     ) public view virtual override returns (uint256) {

444:     function totalSupply() public view virtual override returns (uint256) {

461:     function _burn(address account, uint256 amount) internal virtual override {

509:     function _mint(address account, uint256 amount) internal virtual override {

556:     ) public virtual override returns (bool) {

650:     ) public virtual override returns (bool) {

```
*Github:* [[428](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L428), [444](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L444), [461](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L461), [509](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L509), [556](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L556), [650](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L650)]


```solidity
File: src/tokens/GuildToken.sol

186:     ) internal view override {

211:     ) internal override {

246:     ) internal override {

```
*Github:* [[186](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L186), [211](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L211), [246](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L246)]


</details>


<a name="NC-79"></a> 
### [NC-79] Returning a struct instead of a bunch of variables is better
If a function returns [too many variables](https://docs.soliditylang.org/en/v0.8.21/contracts.html#returning-multiple-values), replacing them with a struct can improve code readability, maintainability and reusability.

*There are <b>3</b> instances of this issue:*
```solidity
File: src/governance/GuildVetoGovernor.sol

/// @audit 4 return variables
367:     function _getVetoCalls(
             bytes32 timelockId
         )
             internal
             view
             returns (
                 address[] memory targets,
                 uint256[] memory values,
                 bytes[] memory calldatas,
                 string memory description
             )
         {

```
*Github:* [[367](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L367)]


```solidity
File: src/governance/LendingTermOnboarding.sol

/// @audit 4 return variables
215:     function getOnboardProposeArgs(
             address term
         )
             public
             view
             returns (
                 address[] memory targets,
                 uint256[] memory values,
                 bytes[] memory calldatas,
                 string memory description
             )
         {

```
*Github:* [[215](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L215)]


```solidity
File: src/governance/ProfitManager.sol

/// @audit 5 return variables
230:     function getProfitSharingConfig()
             external
             view
             returns (
                 uint256 surplusBufferSplit,
                 uint256 creditSplit,
                 uint256 guildSplit,
                 uint256 otherSplit,
                 address otherRecipient
             )
         {

```
*Github:* [[230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L230)]



<a name="NC-80"></a> 
### [NC-80] Whitespace in Expressions
See the [Whitespace in Expressions](https://docs.soliditylang.org/en/latest/style-guide.html#whitespace-in-expressions) section of the Solidity Style Guide.

*There is one instance of this issue:*
```solidity
File: src/loan/SurplusGuildMinter.sol

116:         (uint256 lastGaugeLoss, UserStake memory userStake, ) = getRewards(

```
*Github:* [[116](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L116)]



<a name="NC-81"></a> 
### [NC-81] Common functions should be refactored to a common base contract
The functions below have the same implementation as is seen in other files. The functions should be refactored into functions of a common base contract.

<details>
<summary>
There are <b>12</b> instances (click to show):
</summary>

```solidity
File: src/governance/GuildGovernor.sol

/// @audit seen in src/governance/GuildVetoGovernor.sol
57:     function quorum(
            uint256 /* blockNumber*/
        ) public view override returns (uint256) {

/// @audit seen in src/governance/GuildVetoGovernor.sol
68:     function _setQuorum(uint256 newQuorum) internal {

/// @audit seen in src/governance/GuildVetoGovernor.sol
99:     function setQuorum(
            uint256 newQuorum
        ) public onlyCoreRole(CoreRoles.GOVERNOR) {

```
*Github:* [[57](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L57), [68](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L68), [99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L99)]


```solidity
File: src/governance/GuildVetoGovernor.sol

/// @audit seen in src/governance/GuildGovernor.sol
53:     function quorum(
            uint256 /* blockNumber*/
        ) public view override returns (uint256) {

/// @audit seen in src/governance/GuildGovernor.sol
60:     function setQuorum(
            uint256 newQuorum
        ) public onlyCoreRole(CoreRoles.GOVERNOR) {

/// @audit seen in src/governance/GuildGovernor.sol
71:     function _setQuorum(uint256 newQuorum) internal virtual {

```
*Github:* [[53](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L53), [60](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L60), [71](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L71)]


```solidity
File: src/tokens/CreditToken.sol

/// @audit seen in src/tokens/GuildToken.sol
35:     function mint(
            address to,
            uint256 amount
        ) external onlyCoreRole(CoreRoles.CREDIT_MINTER) {

/// @audit seen in src/tokens/GuildToken.sol
43:     function setMaxDelegates(
            uint256 newMax
        ) external onlyCoreRole(CoreRoles.CREDIT_GOVERNANCE_PARAMETERS) {

/// @audit seen in src/tokens/GuildToken.sol
50:     function setContractExceedMaxDelegates(
            address account,
            bool canExceedMax
        ) external onlyCoreRole(CoreRoles.CREDIT_GOVERNANCE_PARAMETERS) {

```
*Github:* [[35](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L35), [43](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L43), [50](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L50)]


```solidity
File: src/tokens/GuildToken.sol

/// @audit seen in src/tokens/CreditToken.sol
59:     function setMaxDelegates(
            uint256 newMax
        ) external onlyCoreRole(CoreRoles.GUILD_GOVERNANCE_PARAMETERS) {

/// @audit seen in src/tokens/CreditToken.sol
66:     function setContractExceedMaxDelegates(
            address account,
            bool canExceedMax
        ) external onlyCoreRole(CoreRoles.GUILD_GOVERNANCE_PARAMETERS) {

/// @audit seen in src/tokens/CreditToken.sol
268:     function mint(
             address to,
             uint256 amount
         ) external onlyCoreRole(CoreRoles.GUILD_MINTER) {

```
*Github:* [[59](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L59), [66](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L66), [268](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L268)]


</details>


<a name="NC-82"></a> 
### [NC-82] Empty body - Consider commenting why

*There are <b>5</b> instances of this issue:*
```solidity
File: src/governance/GuildTimelockController.sol

26:     {}

38:     function _setRoleAdmin(bytes32 role, bytes32 adminRole) internal override {}

41:     function _grantRole(bytes32 role, address account) internal override {}

44:     function _revokeRole(bytes32 role, address account) internal override {}

```
*Github:* [[26](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L26), [38](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L38), [41](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L41), [44](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L44)]


```solidity
File: src/tokens/CreditToken.sol

32:     {}

```
*Github:* [[32](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L32)]



<a name="NC-83"></a> 
### [NC-83] Names of `private`/`internal` functions should be prefixed with an underscore
It is recommended by the [Solidity Style Guide](https://docs.soliditylang.org/en/v0.8.20/style-guide.html#underscore-prefix-for-non-external-functions-and-variables)

*There are <b>6</b> instances of this issue:*
```solidity
File: src/tokens/ERC20MultiVotes.sol

122:     function average(uint256 a, uint256 b) internal pure returns (uint256) {

```
*Github:* [[122](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L122)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

131:     function interpolatedValue(
             InterpolatedValue memory val
         ) internal view returns (uint256) {

168:     function updateTotalRebasingShares(
             uint256 currentRebasingSharePrice,
             int256 sharesDelta
         ) internal {

228:     function decreaseUnmintedRebaseRewards(uint256 amount) internal {

242:     function rebasingSharePrice() internal view returns (uint256) {

247:     function unmintedRebaseRewards() internal view returns (uint256) {

```
*Github:* [[131](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L131), [168](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L168), [228](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L228), [242](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L242), [247](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L247)]



<a name="NC-84"></a> 
### [NC-84] Names of `private`/`internal` state variables should be prefixed with an underscore
It is recommended by the [Solidity Style Guide](https://docs.soliditylang.org/en/v0.8.20/style-guide.html#underscore-prefix-for-non-external-functions-and-variables)

<details>
<summary>
There are <b>25</b> instances (click to show):
</summary>

```solidity
File: src/core/CoreRoles.sol

12:     bytes32 internal constant GOVERNOR = keccak256("GOVERNOR_ROLE");

15:     bytes32 internal constant GUARDIAN = keccak256("GUARDIAN_ROLE");

20:     bytes32 internal constant CREDIT_MINTER = keccak256("CREDIT_MINTER_ROLE");

23:     bytes32 internal constant RATE_LIMITED_CREDIT_MINTER =

27:     bytes32 internal constant GUILD_MINTER = keccak256("GUILD_MINTER_ROLE");

30:     bytes32 internal constant RATE_LIMITED_GUILD_MINTER =

36:     bytes32 internal constant GAUGE_ADD = keccak256("GAUGE_ADD_ROLE");

39:     bytes32 internal constant GAUGE_REMOVE = keccak256("GAUGE_REMOVE_ROLE");

42:     bytes32 internal constant GAUGE_PARAMETERS =

46:     bytes32 internal constant GAUGE_PNL_NOTIFIER =

50:     bytes32 internal constant GUILD_GOVERNANCE_PARAMETERS =

54:     bytes32 internal constant GUILD_SURPLUS_BUFFER_WITHDRAW =

60:     bytes32 internal constant CREDIT_GOVERNANCE_PARAMETERS =

64:     bytes32 internal constant CREDIT_REBASE_PARAMETERS =

71:     bytes32 internal constant TIMELOCK_PROPOSER = keccak256("PROPOSER_ROLE");

74:     bytes32 internal constant TIMELOCK_EXECUTOR = keccak256("EXECUTOR_ROLE");

77:     bytes32 internal constant TIMELOCK_CANCELLER = keccak256("CANCELLER_ROLE");

```
*Github:* [[12](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L12), [15](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L15), [20](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L20), [23](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L23), [27](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L27), [30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L30), [36](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L36), [39](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L39), [42](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L42), [46](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L46), [50](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L50), [54](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L54), [60](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L60), [64](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L64), [71](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L71), [74](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L74), [77](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L77)]


```solidity
File: src/governance/ProfitManager.sol

64:     ProfitSharingConfig internal profitSharingConfig;

```
*Github:* [[64](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L64)]


```solidity
File: src/loan/AuctionHouse.sol

51:     mapping(bytes32 => Auction) internal auctions;

```
*Github:* [[51](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L51)]


```solidity
File: src/loan/LendingTerm.sol

89:     mapping(bytes32 => Loan) internal loans;

112:     LendingTermReferences internal refs;

151:     LendingTermParams internal params;

```
*Github:* [[89](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L89), [112](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L112), [151](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L151)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

83:     mapping(address => RebasingState) internal rebasingState;

86:     uint256 internal totalRebasingShares;

93:     uint256 internal constant START_REBASING_SHARE_PRICE = 1e30;

```
*Github:* [[83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L83), [86](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L86), [93](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L93)]


</details>


<a name="NC-85"></a> 
### [NC-85]  `require()` / `revert()` statements should have descriptive reason strings

*There are <b>4</b> instances of this issue:*
```solidity
File: src/tokens/ERC20Gauges.sol

324:             require(_userGauges[user].remove(gauge));

```
*Github:* [[324](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L324)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

353:             require(_delegates[delegator].remove(delegatee));

451:                 require(_delegates[user].remove(delegatee)); // Remove from set. Should never fail.

503:         require(signer != address(0));

```
*Github:* [[353](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L353), [451](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L451), [503](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L503)]



<a name="NC-86"></a> 
### [NC-86] Variables should be named in mixedCase style
As the [Solidity Style Guide](https://docs.soliditylang.org/en/latest/style-guide.html#naming-styles) suggests: `arguments`, `local variables` and `mutable state variables` should be named in mixedCase style.

*There is one instance of this issue:*
```solidity
File: src/loan/AuctionHouse.sol

/// @audit `PHASE_2_DURATION`
149:             uint256 PHASE_2_DURATION = auctionDuration - midPoint;

```
*Github:* [[149](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L149)]



<a name="NC-87"></a> 
### [NC-87] Event is missing `indexed` fields
Index event fields make the field more quickly accessible to off-chain tools that parse events. However, note that each index field costs extra gas during emission, so it's not necessarily best to index the maximum allowed per event (three fields). Each event should use three indexed fields if there are three or more fields, and gas usage is not particularly of concern for the events in question. If there are fewer than three fields, all of the fields should be indexed.

<details>
<summary>
There are <b>36</b> instances (click to show):
</summary>

```solidity
File: src/governance/GuildGovernor.sol

28:     event QuorumUpdated(uint256 oldQuorum, uint256 newQuorum);

```
*Github:* [[28](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L28)]


```solidity
File: src/governance/GuildVetoGovernor.sol

30:     event QuorumUpdated(uint256 oldQuorum, uint256 newQuorum);

83:     event TimelockChange(address oldTimelock, address newTimelock);

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L30), [83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L83)]


```solidity
File: src/governance/LendingTermOffboarding.sol

31:     event QuorumUpdated(uint256 oldQuorum, uint256 newQuorum);

```
*Github:* [[31](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L31)]


```solidity
File: src/governance/LendingTermOnboarding.sol

50:     event ImplementationAllowChanged(

```
*Github:* [[50](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L50)]


```solidity
File: src/governance/ProfitManager.sol

111:     event GaugePnL(address indexed gauge, uint256 indexed when, int256 pnl);

114:     event SurplusBufferUpdate(uint256 indexed when, uint256 newValue);

117:     event TermSurplusBufferUpdate(

124:     event CreditMultiplierUpdate(uint256 indexed when, uint256 newValue);

127:     event ProfitSharingConfigUpdate(

145:     event MinBorrowUpdate(uint256 indexed when, uint256 newValue);

148:     event GaugeWeightToleranceUpdate(uint256 indexed when, uint256 newValue);

```
*Github:* [[111](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L111), [114](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L114), [117](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L117), [124](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L124), [127](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L127), [145](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L145), [148](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L148)]


```solidity
File: src/loan/AuctionHouse.sol

12:     event AuctionStart(

20:     event AuctionEnd(

```
*Github:* [[12](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L12), [20](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L20)]


```solidity
File: src/loan/SimplePSM.sol

49:     event Redeem(

56:     event Mint(

63:     event RedemptionsPaused(uint256 indexed when, bool status);

```
*Github:* [[49](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L49), [56](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L56), [63](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L63)]


```solidity
File: src/loan/SurplusGuildMinter.sol

32:     event Stake(

38:     event Unstake(

45:     event GuildReward(

51:     event MintRatioUpdate(uint256 indexed timestamp, uint256 ratio);

53:     event RewardRatioUpdate(uint256 indexed timestamp, uint256 ratio);

```
*Github:* [[32](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L32), [38](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L38), [45](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L45), [51](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L51), [53](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L53)]


```solidity
File: src/tokens/ERC20Gauges.sol

200:     event IncrementGaugeWeight(

207:     event DecrementGaugeWeight(

380:     event MaxGaugesUpdate(uint256 oldMaxGauges, uint256 newMaxGauges);

383:     event CanExceedMaxGaugesUpdate(

```
*Github:* [[200](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L200), [207](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L207), [380](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L380), [383](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L383)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

132:     event MaxDelegatesUpdate(uint256 oldMaxDelegates, uint256 newMaxDelegates);

135:     event CanContractExceedMaxDelegatesUpdate(

174:     event Delegation(

181:     event Undelegation(

188:     event DelegateVotesChanged(

```
*Github:* [[132](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L132), [135](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L135), [174](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L174), [181](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L181), [188](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L188)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

52:     event RebaseDistribution(

67:     event RebaseReward(

```
*Github:* [[52](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L52), [67](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L67)]


```solidity
File: src/tokens/GuildToken.sol

109:     event GaugeLossApply(

172:     event TransfersEnabled(uint256 block, uint256 timestamp);

194:     event ProfitManagerUpdated(uint256 timestamp, address newValue);

```
*Github:* [[109](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L109), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L172), [194](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L194)]


</details>


<a name="NC-88"></a> 
### [NC-88] Functions not used internally could be marked `external`

<details>
<summary>
There are <b>29</b> instances (click to show):
</summary>

```solidity
File: src/core/CoreRef.sol

30:     function core() public view returns (Core) {

57:     function pause() public onlyCoreRole(CoreRoles.GUARDIAN) {

62:     function unpause() public onlyCoreRole(CoreRoles.GUARDIAN) {

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L30), [57](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L57), [62](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L62)]


```solidity
File: src/governance/GuildGovernor.sol

57:     function quorum(

78:     function setVotingDelay(

85:     function setVotingPeriod(

92:     function setProposalThreshold(

99:     function setQuorum(

110:     function guardianCancel(

151:     function proposalThreshold()

160:     function state(

171:     function supportsInterface(

```
*Github:* [[57](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L57), [78](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L78), [85](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L85), [92](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L92), [99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L99), [110](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L110), [151](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L151), [160](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L160), [171](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L171)]


```solidity
File: src/governance/GuildVetoGovernor.sol

60:     function setQuorum(

222:     function votingDelay() public pure override returns (uint256) {

230:     function votingPeriod() public pure override returns (uint256) {

246:     function state(

304:     function propose(

```
*Github:* [[60](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L60), [222](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L222), [230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L230), [246](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L246), [304](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L304)]


```solidity
File: src/governance/LendingTermOnboarding.sol

171:     function propose(

```
*Github:* [[171](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L171)]


```solidity
File: src/loan/LendingTerm.sol

683:     function callMany(bytes32[] memory loanIds) public {

```
*Github:* [[683](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L683)]


```solidity
File: src/loan/SimplePSM.sol

97:     function redeemableCredit() public view returns (uint256) {

```
*Github:* [[97](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L97)]


```solidity
File: src/tokens/CreditToken.sol

98:     function balanceOf(

104:     function totalSupply()

113:     function transfer(

125:     function transferFrom(

```
*Github:* [[98](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L98), [104](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L104), [113](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L113), [125](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L125)]


```solidity
File: src/tokens/ERC20Gauges.sol

108:     function isDeprecatedGauge(address gauge) public view returns (bool) {

```
*Github:* [[108](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L108)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

230:     function delegates(

242:     function containsDelegate(

471:     function delegateBySig(

```
*Github:* [[230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L230), [242](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L242), [471](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L471)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

389:     function isRebasing(address account) public view returns (bool) {

```
*Github:* [[389](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L389)]


</details>


<a name="NC-89"></a> 
### [NC-89] `whenNotPaused` is not used anywhere
These contracts import a pausable library, but there aren't any functions reserved to pause/unpause the contract. If this is an error, add the `whenNotPaused` modifier to the appropriate functions; otherwise, remove this import.

*There is one instance of this issue:*
```solidity
File: src/core/CoreRef.sol

12: abstract contract CoreRef is Pausable {

```
*Github:* [[12](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L12)]




## Gas Optimizations

<a name="GAS-1"></a> 
### [GAS-1] Assigning to structs can be more efficient
By changing the pattern of assigning value to the structure, gas savings of ~130 per instance are achieved. In addition, this use will provide significant savings in distribution costs. Instead of:
```solidity
MyStruct memory myStruct = MyStruct(_a, _b, _c);
```
write:
```solidity
MyStruct memory myStruct;
myStruct.a = _a;
myStruct.b = _b;
myStruct.c = _c;
```

<details>
<summary>
There are <b>22</b> instances (click to show):
</summary>

```solidity
File: src/governance/ProfitManager.sol

212:         profitSharingConfig = ProfitSharingConfig({
                 surplusBufferSplit: uint32(surplusBufferSplit / 1e9),
                 guildSplit: uint32(guildSplit / 1e9),
                 otherSplit: uint32(otherSplit / 1e9),
                 otherRecipient: otherRecipient

```
*Github:* [[212](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L212)]


```solidity
File: src/loan/AuctionHouse.sol

96:         auctions[loanId] = Auction({
                startTime: block.timestamp,
                endTime: 0,
                lendingTerm: msg.sender,
                collateralAmount: loan.collateralAmount,
                callDebt: callDebt

```
*Github:* [[96](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L96)]


```solidity
File: src/loan/LendingTerm.sol

401:         loans[loanId] = Loan({
                 borrower: borrower,
                 borrowTime: block.timestamp,
                 borrowAmount: borrowAmount,
                 borrowCreditMultiplier: creditMultiplier,
                 collateralAmount: collateralAmount,
                 caller: address(0),
                 callTime: 0,
                 callDebt: 0,
                 closeTime: 0

```
*Github:* [[401](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L401)]


```solidity
File: src/loan/SurplusGuildMinter.sol

139:         userStake = UserStake({
                 stakeTime: SafeCastLib.safeCastTo48(block.timestamp),
                 lastGaugeLoss: SafeCastLib.safeCastTo48(lastGaugeLoss),
                 profitIndex: SafeCastLib.safeCastTo160(
                     ProfitManager(profitManager).userGaugeProfitIndex(
                         address(this),
                         term
                     )
                 ),
                 credit: userStake.credit + SafeCastLib.safeCastTo128(amount),
                 guild: userStake.guild + SafeCastLib.safeCastTo128(guildAmount)

276:             userStake = UserStake({
                     stakeTime: uint48(0),
                     lastGaugeLoss: uint48(0),
                     profitIndex: uint160(0),
                     credit: uint128(0),
                     guild: uint128(0)

```
*Github:* [[139](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L139), [276](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L276)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

378:                 Checkpoint({
                         fromBlock: block.number.safeCastTo32(),
                         votes: newWeight.safeCastTo224()

```
*Github:* [[378](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L378)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

109:         InterpolatedValue({
                 lastTimestamp: SafeCastLib.safeCastTo32(block.timestamp),
                 lastValue: uint224(START_REBASING_SHARE_PRICE), // safe initial value
                 targetTimestamp: SafeCastLib.safeCastTo32(block.timestamp),
                 targetValue: uint224(START_REBASING_SHARE_PRICE) // safe initial value

119:         InterpolatedValue({
                 lastTimestamp: SafeCastLib.safeCastTo32(block.timestamp),
                 lastValue: 0,
                 targetTimestamp: SafeCastLib.safeCastTo32(block.timestamp),
                 targetValue: 0

190:             __rebasingSharePrice = InterpolatedValue({
                     lastTimestamp: SafeCastLib.safeCastTo32(block.timestamp), // now
                     lastValue: uint224(START_REBASING_SHARE_PRICE), // safe initial value
                     targetTimestamp: SafeCastLib.safeCastTo32(block.timestamp), // now
                     targetValue: uint224(START_REBASING_SHARE_PRICE) // safe initial value

196:             __unmintedRebaseRewards = InterpolatedValue({
                     lastTimestamp: SafeCastLib.safeCastTo32(block.timestamp),
                     lastValue: 0,
                     targetTimestamp: SafeCastLib.safeCastTo32(block.timestamp),
                     targetValue: 0

218:             __rebasingSharePrice = InterpolatedValue({
                     lastTimestamp: SafeCastLib.safeCastTo32(block.timestamp), // now
                     lastValue: SafeCastLib.safeCastTo224(currentRebasingSharePrice), // current value
                     targetTimestamp: val.targetTimestamp, // unchanged
                     targetValue: SafeCastLib.safeCastTo224(targetNewSharePrice) // adjusted target

231:         __unmintedRebaseRewards = InterpolatedValue({
                 lastTimestamp: SafeCastLib.safeCastTo32(block.timestamp), // now
                 lastValue: SafeCastLib.safeCastTo224(
                     _unmintedRebaseRewards - amount
                 ), // adjusted current
                 targetTimestamp: val.targetTimestamp, // unchanged
                 targetValue: val.targetValue - SafeCastLib.safeCastTo224(amount) // adjusted target

293:         rebasingState[account] = RebasingState({
                 isRebasing: 1,
                 nShares: uint248(shares)

329:         rebasingState[account] = RebasingState({isRebasing: 0, nShares: 0});

369:             __rebasingSharePrice = InterpolatedValue({
                     lastTimestamp: SafeCastLib.safeCastTo32(block.timestamp),
                     lastValue: SafeCastLib.safeCastTo224(_rebasingSharePrice),
                     targetTimestamp: SafeCastLib.safeCastTo32(endTimestamp),
                     targetValue: SafeCastLib.safeCastTo224(newTargetSharePrice)

378:             __unmintedRebaseRewards = InterpolatedValue({
                     lastTimestamp: SafeCastLib.safeCastTo32(block.timestamp),
                     lastValue: SafeCastLib.safeCastTo224(_unmintedRebaseRewards),
                     targetTimestamp: SafeCastLib.safeCastTo32(endTimestamp),
                     targetValue: __unmintedRebaseRewards.targetValue +

496:             rebasingState[account] = RebasingState({
                     isRebasing: 1,
                     nShares: uint248(sharesAfter)

532:             rebasingState[account] = RebasingState({
                     isRebasing: 1,
                     nShares: uint248(sharesAfter)

596:             rebasingState[msg.sender] = RebasingState({
                     isRebasing: 1,
                     nShares: uint248(fromSharesAfter)

620:             rebasingState[to] = RebasingState({
                     isRebasing: 1,
                     nShares: uint248(toSharesAfter)

690:             rebasingState[from] = RebasingState({
                     isRebasing: 1,
                     nShares: uint248(fromSharesAfter)

714:             rebasingState[to] = RebasingState({
                     isRebasing: 1,
                     nShares: uint248(toSharesAfter)

```
*Github:* [[109](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L109), [119](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L119), [190](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L190), [196](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L196), [218](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L218), [231](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L231), [293](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L293), [329](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L329), [369](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L369), [378](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L378), [496](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L496), [532](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L532), [596](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L596), [620](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L620), [690](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L690), [714](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L714)]


</details>


<a name="GAS-2"></a> 
### [GAS-2] Assigning state variables directly with named struct constructors wastes gas
Using named arguments for struct means that the compiler needs to organize the fields in memory before doing the assignment, which wastes gas. Set each field directly in storage (use dot-notation), or use the unnamed version of the constructor.

<details>
<summary>
There are <b>17</b> instances (click to show):
</summary>

```solidity
File: src/governance/ProfitManager.sol

212:         profitSharingConfig = ProfitSharingConfig({
                 surplusBufferSplit: uint32(surplusBufferSplit / 1e9),
                 guildSplit: uint32(guildSplit / 1e9),
                 otherSplit: uint32(otherSplit / 1e9),
                 otherRecipient: otherRecipient

```
*Github:* [[212](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L212)]


```solidity
File: src/loan/AuctionHouse.sol

96:         auctions[loanId] = Auction({
                startTime: block.timestamp,
                endTime: 0,
                lendingTerm: msg.sender,
                collateralAmount: loan.collateralAmount,
                callDebt: callDebt

```
*Github:* [[96](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L96)]


```solidity
File: src/loan/LendingTerm.sol

401:         loans[loanId] = Loan({
                 borrower: borrower,
                 borrowTime: block.timestamp,
                 borrowAmount: borrowAmount,
                 borrowCreditMultiplier: creditMultiplier,
                 collateralAmount: collateralAmount,
                 caller: address(0),
                 callTime: 0,
                 callDebt: 0,
                 closeTime: 0

```
*Github:* [[401](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L401)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

190:             __rebasingSharePrice = InterpolatedValue({
                     lastTimestamp: SafeCastLib.safeCastTo32(block.timestamp), // now
                     lastValue: uint224(START_REBASING_SHARE_PRICE), // safe initial value
                     targetTimestamp: SafeCastLib.safeCastTo32(block.timestamp), // now
                     targetValue: uint224(START_REBASING_SHARE_PRICE) // safe initial value

196:             __unmintedRebaseRewards = InterpolatedValue({
                     lastTimestamp: SafeCastLib.safeCastTo32(block.timestamp),
                     lastValue: 0,
                     targetTimestamp: SafeCastLib.safeCastTo32(block.timestamp),
                     targetValue: 0

218:             __rebasingSharePrice = InterpolatedValue({
                     lastTimestamp: SafeCastLib.safeCastTo32(block.timestamp), // now
                     lastValue: SafeCastLib.safeCastTo224(currentRebasingSharePrice), // current value
                     targetTimestamp: val.targetTimestamp, // unchanged
                     targetValue: SafeCastLib.safeCastTo224(targetNewSharePrice) // adjusted target

231:         __unmintedRebaseRewards = InterpolatedValue({
                 lastTimestamp: SafeCastLib.safeCastTo32(block.timestamp), // now
                 lastValue: SafeCastLib.safeCastTo224(
                     _unmintedRebaseRewards - amount
                 ), // adjusted current
                 targetTimestamp: val.targetTimestamp, // unchanged
                 targetValue: val.targetValue - SafeCastLib.safeCastTo224(amount) // adjusted target

293:         rebasingState[account] = RebasingState({
                 isRebasing: 1,
                 nShares: uint248(shares)

329:         rebasingState[account] = RebasingState({isRebasing: 0, nShares: 0});

369:             __rebasingSharePrice = InterpolatedValue({
                     lastTimestamp: SafeCastLib.safeCastTo32(block.timestamp),
                     lastValue: SafeCastLib.safeCastTo224(_rebasingSharePrice),
                     targetTimestamp: SafeCastLib.safeCastTo32(endTimestamp),
                     targetValue: SafeCastLib.safeCastTo224(newTargetSharePrice)

378:             __unmintedRebaseRewards = InterpolatedValue({
                     lastTimestamp: SafeCastLib.safeCastTo32(block.timestamp),
                     lastValue: SafeCastLib.safeCastTo224(_unmintedRebaseRewards),
                     targetTimestamp: SafeCastLib.safeCastTo32(endTimestamp),
                     targetValue: __unmintedRebaseRewards.targetValue +

496:             rebasingState[account] = RebasingState({
                     isRebasing: 1,
                     nShares: uint248(sharesAfter)

532:             rebasingState[account] = RebasingState({
                     isRebasing: 1,
                     nShares: uint248(sharesAfter)

596:             rebasingState[msg.sender] = RebasingState({
                     isRebasing: 1,
                     nShares: uint248(fromSharesAfter)

620:             rebasingState[to] = RebasingState({
                     isRebasing: 1,
                     nShares: uint248(toSharesAfter)

690:             rebasingState[from] = RebasingState({
                     isRebasing: 1,
                     nShares: uint248(fromSharesAfter)

714:             rebasingState[to] = RebasingState({
                     isRebasing: 1,
                     nShares: uint248(toSharesAfter)

```
*Github:* [[190](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L190), [196](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L196), [218](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L218), [231](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L231), [293](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L293), [329](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L329), [369](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L369), [378](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L378), [496](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L496), [532](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L532), [596](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L596), [620](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L620), [690](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L690), [714](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L714)]


</details>


<a name="GAS-3"></a> 
### [GAS-3] Optimize gas by using do-while loops
Using `do-while` loops instead of `for` loops can be more gas-efficient. Even if you add an `if` condition to account for the case where the loop doesn't execute at all, a `do-while` loop can still be cheaper in terms of gas.

*There are <b>9</b> instances of this issue:*
```solidity
File: src/core/CoreRef.sol

96:         for (uint256 i = 0; i < calls.length; i++) {

```
*Github:* [[96](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L96)]


```solidity
File: src/governance/ProfitManager.sol

443:         for (uint256 i = 0; i < gauges.length; ) {

467:         for (uint256 i = 0; i < gauges.length; ) {

```
*Github:* [[443](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L443), [467](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L467)]


```solidity
File: src/loan/LendingTerm.sol

685:         for (uint256 i = 0; i < loanIds.length; i++) {

```
*Github:* [[685](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L685)]


```solidity
File: src/tokens/ERC20Gauges.sol

134:         for (uint256 i; i < allGauges.length && j < _liveGauges.length; ) {

280:         for (uint256 i = 0; i < size; ) {

352:         for (uint256 i = 0; i < size; ) {

515:         for (

```
*Github:* [[134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L134), [280](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L280), [352](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L352), [515](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L515)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

441:         for (

```
*Github:* [[441](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L441)]



<a name="GAS-4"></a> 
### [GAS-4] Multiple `address`/ID mappings can be combined into a single `mapping` of an `address`/ID to a `struct`, where appropriate
Saves a storage slot for the mapping. Depending on the circumstances and sizes of types, can avoid a Gsset (20000 gas) per mapping combined. Reads and subsequent writes can also be cheaper when a function requires both values and they both fit in the same storage slot. Finally, if both fields are accessed in the same function, can save ~42 gas per access due to not having to [recalculate the key's keccak256 hash](https://gist.github.com/IllIllI000/ec23a57daa30a8f8ca8b9681c8ccefb0) (Gkeccak256 - 30 gas) and that calculation's associated stack operations.

*There are <b>7</b> instances of this issue:*
```solidity
File: src/governance/LendingTermOffboarding.sol

49:     mapping(uint256 => mapping(address => uint256)) public polls;

53:     mapping(address => mapping(uint256 => mapping(address => uint256)))

```
*Github:* [[49](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L49), [53](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L53)]


```solidity
File: src/governance/ProfitManager.sol

44:     mapping(address => mapping(address => uint256)) public userGaugeProfitIndex;

```
*Github:* [[44](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L44)]


```solidity
File: src/loan/SurplusGuildMinter.sol

86:     mapping(address => mapping(address => UserStake)) internal _stakes;

```
*Github:* [[86](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L86)]


```solidity
File: src/tokens/ERC20Gauges.sol

66:     mapping(address => mapping(address => uint256)) public getUserGaugeWeight;

```
*Github:* [[66](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L66)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

203:     mapping(address => mapping(address => uint256))

```
*Github:* [[203](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L203)]


```solidity
File: src/tokens/GuildToken.sol

120:     mapping(address => mapping(address => uint256)) public lastGaugeLossApplied;

```
*Github:* [[120](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L120)]



<a name="GAS-5"></a> 
### [GAS-5] Consider activating via-ir for deploying
By using `--via-ir` or `{"viaIR": true}`, the compiler is able to use more advanced [multi-function optimizations](https://docs.soliditylang.org/en/v0.8.17/ir-breaking-changes.html#solidity-ir-based-codegen-changes), for extra gas savings.

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/)]



<a name="GAS-6"></a> 
### [GAS-6] Divisions can be `unchecked` to save gas
The expression `type(int).min/(-1)` is the only case where division causes an overflow. Therefore, uncheck can be used to [save gas](https://gist.github.com/DadeKuma/3bc597338ae774b8b3bd43280d55271f) in scenarios where it is certain that such an overflow will not occur.

<details>
<summary>
There are <b>49</b> instances (click to show):
</summary>

```solidity
File: src/governance/ProfitManager.sol

152:         return (_minBorrow * 1e18) / creditMultiplier;

213:             surplusBufferSplit: uint32(surplusBufferSplit / 1e9),

214:             guildSplit: uint32(guildSplit / 1e9),

215:             otherSplit: uint32(otherSplit / 1e9),

333:                     (creditTotalSupply - loss)) / creditTotalSupply;

347:                 uint256(_profitSharingConfig.surplusBufferSplit)) / 1e9;

350:                 uint256(_profitSharingConfig.guildSplit)) / 1e9;

353:                 uint256(_profitSharingConfig.otherSplit)) / 1e9;

398:                         (amountForGuild * 1e18) /

429:             creditEarned = (_userGaugeWeight * deltaIndex) / 1e18;

483:                 creditEarned[i] = (_userGaugeWeight * deltaIndex) / 1e18;

```
*Github:* [[152](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L152), [213](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L213), [214](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L214), [215](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L215), [333](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L333), [347](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L347), [350](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L350), [353](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L353), [398](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L398), [429](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L429), [483](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L483)]


```solidity
File: src/loan/AuctionHouse.sol

141:             collateralReceived = (_collateralAmount * elapsed) / midPoint;

152:             creditAsked = _callDebt - (_callDebt * elapsed) / PHASE_2_DURATION;

```
*Github:* [[141](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L141), [152](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L152)]


```solidity
File: src/loan/LendingTerm.sol

220:             (block.timestamp - borrowTime)) /

221:             YEAR /

226:             loanDebt += (borrowAmount * _openingFee) / 1e18;

230:         loanDebt = (loanDebt * loan.borrowCreditMultiplier) / creditMultiplier;

305:         uint256 toleratedGaugeWeight = (gaugeWeight * gaugeWeightTolerance) /

308:             toleratedGaugeWeight) / totalWeight;

320:         uint256 maxBorrow = (remainingDebtCeiling * totalWeight) /

358:             params.maxDebtPerCollateralToken) / creditMultiplier;

387:             ) * gaugeWeightTolerance) / 1e18;

510:         uint256 percentRepaid = (debtToRepay * 1e18) / loanDebt; // [0, 1e18[

514:         uint256 principal = (borrowAmount * loan.borrowCreditMultiplier) /

516:         uint256 principalRepaid = (principal * percentRepaid) / 1e18;

518:         uint256 issuanceDecrease = (borrowAmount * percentRepaid) / 1e18;

524:             debtToRepay >= (loanDebt * params.minPartialRepayPercent) / 1e18,

585:         uint256 principal = (borrowAmount * loan.borrowCreditMultiplier) /

713:             loans[loanId].borrowCreditMultiplier) / creditMultiplier;

755:             loans[loanId].borrowCreditMultiplier) / creditMultiplier;

```
*Github:* [[220](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L220), [221](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L221), [226](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L226), [230](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L230), [305](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L305), [308](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L308), [320](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L320), [358](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L358), [387](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L387), [510](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L510), [514](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L514), [516](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L516), [518](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L518), [524](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L524), [585](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L585), [713](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L713), [755](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L755)]


```solidity
File: src/loan/SimplePSM.sol

83:         return (amountIn * decimalCorrection * 1e18) / creditMultiplier;

92:         return (amountIn * creditMultiplier) / 1e18 / decimalCorrection;

92:         return (amountIn * creditMultiplier) / 1e18 / decimalCorrection;

```
*Github:* [[83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L83), [92](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L92), [92](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L92)]


```solidity
File: src/loan/SurplusGuildMinter.sol

134:         uint256 guildAmount = (_mintRatio * amount) / 1e18;

175:         uint256 userMintRatio = (uint256(userStake.guild) * 1e18) /

177:         uint256 guildAmount = (userMintRatio * amount) / 1e18;

250:             uint256 creditReward = (uint256(userStake.guild) * deltaIndex) /

252:             uint256 guildReward = (creditReward * rewardRatio) / 1e18;

302:         uint256 guildAfter = (mintRatio * uint256(userStake.credit)) / 1e18;

```
*Github:* [[134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L134), [175](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L175), [177](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L177), [250](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L250), [252](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L252), [302](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L302)]


```solidity
File: src/tokens/ERC20Gauges.sol

192:         return (quantity * weight) / total;

```
*Github:* [[192](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L192)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

124:         return (a & b) + (a ^ b) / 2;

```
*Github:* [[124](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L124)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

31:         newSharePrice = oldSharePrice * (rebasingSupply + amount) / rebasingSupply

150:                 (delta * elapsed) /

213:             uint256 percentChange = (sharesAfter * START_REBASING_SHARE_PRICE) /

216:                 (delta * START_REBASING_SHARE_PRICE) /

256:         return (balance * START_REBASING_SHARE_PRICE) / sharePrice;

266:         uint256 rebasedBalance = (shares * sharePrice) /

368:                 _totalRebasingShares) / _totalRebasingShares;

```
*Github:* [[31](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L31), [150](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L150), [213](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L213), [216](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L216), [256](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L256), [266](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L266), [368](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L368)]


```solidity
File: src/tokens/GuildToken.sol

264:                         MINT / BURN

```
*Github:* [[264](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L264)]


</details>


<a name="GAS-7"></a> 
### [GAS-7] Don't transfer with zero amount to save gas
In Solidity, unnecessary operations can waste gas. For example, a transfer function without a zero amount check uses gas even if called with a zero amount, since the contract state remains unchanged. Implementing a zero amount check avoids these unnecessary function calls, saving gas and improving efficiency.

*There are <b>9</b> instances of this issue:*
```solidity
File: src/governance/ProfitManager.sol

273:         CreditToken(credit).transfer(to, amount);

285:         CreditToken(credit).transfer(to, amount);

434:             CreditToken(credit).transfer(user, creditEarned);

```
*Github:* [[273](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L273), [285](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L285), [434](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L434)]


```solidity
File: src/loan/SurplusGuildMinter.sol

263:                 CreditToken(credit).transfer(user, creditReward);

```
*Github:* [[263](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L263)]


```solidity
File: src/tokens/CreditToken.sol

122:         return ERC20RebaseDistributor.transfer(to, amount);

```
*Github:* [[122](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L122)]


```solidity
File: src/tokens/ERC20Gauges.sol

486:         return super.transfer(to, amount);

```
*Github:* [[486](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L486)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

413:         return super.transfer(to, amount);

```
*Github:* [[413](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L413)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

584:         bool success = ERC20.transfer(to, amount);

```
*Github:* [[584](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L584)]


```solidity
File: src/tokens/GuildToken.sol

299:         return ERC20.transfer(to, amount);

```
*Github:* [[299](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L299)]



<a name="GAS-8"></a> 
### [GAS-8] Operator `+=` costs more gas than `<x> = <x> + <y>` for state variables

<details>
<summary>
There are <b>14</b> instances (click to show):
</summary>

```solidity
File: src/loan/LendingTerm.sol

/// @audit `issuance -=`
536:         issuance -= issuanceDecrease;

/// @audit `issuance -=`
615:         issuance -= borrowAmount;

/// @audit `issuance -=`
706:         issuance -= loan.borrowAmount;

/// @audit `issuance -=`
801:         issuance -= borrowAmount;

```
*Github:* [[536](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L536), [615](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L615), [706](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L706), [801](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L801)]


```solidity
File: src/loan/SimplePSM.sol

/// @audit `pegTokenBalance +=`
108:         pegTokenBalance += amountIn;

/// @audit `pegTokenBalance +=`
125:         pegTokenBalance += amountIn;

/// @audit `pegTokenBalance -=`
141:         pegTokenBalance -= amountOut;

```
*Github:* [[108](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L108), [125](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L125), [141](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L141)]


```solidity
File: src/tokens/ERC20Gauges.sol

/// @audit `totalWeight +=`
260:         totalWeight += weight;

/// @audit `totalWeight -=`
309:             totalWeight -= weight;

/// @audit `totalWeight -=`
365:         totalWeight -= weightsSum;

/// @audit `totalWeight +=`
419:             totalWeight += weight;

/// @audit `totalWeight -=`
436:             totalWeight -= weight;

/// @audit `totalWeight -=`
538:         totalWeight -= totalFreed;

```
*Github:* [[260](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L260), [309](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L309), [365](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L365), [419](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L419), [436](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L436), [538](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L538)]


```solidity
File: src/tokens/GuildToken.sol

/// @audit `totalWeight -=`
150:             totalWeight -= _userGaugeWeight;

```
*Github:* [[150](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L150)]


</details>


<a name="GAS-9"></a> 
### [GAS-9] Duplicated `require()`/`revert()` checks should be refactored to a modifier or function to save gas
Saves deployment costs.

*There are <b>9</b> instances of this issue:*
```solidity
File: src/governance/LendingTermOffboarding.sol

/// @audit duplicated on line 176
154:         require(canOffboard[term], "LendingTermOffboarding: quorum not met");

```
*Github:* [[154](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L154)]


```solidity
File: src/loan/LendingTerm.sol

/// @audit duplicated on line 643
458:         require(loan.borrowTime != 0, "LendingTerm: loan not found");

/// @audit duplicated on line 504
459:         require(loan.closeTime == 0, "LendingTerm: loan closed");

/// @audit duplicated on line 505
460:         require(loan.callTime == 0, "LendingTerm: loan called");

/// @audit duplicated on line 572
499:         require(borrowTime != 0, "LendingTerm: loan not found");

/// @audit duplicated on line 646
577:         require(loan.closeTime == 0, "LendingTerm: loan closed");

/// @audit duplicated on line 649
578:         require(loan.callTime == 0, "LendingTerm: loan called");

```
*Github:* [[458](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L458), [459](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L459), [460](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L460), [499](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L499), [577](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L577), [578](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L578)]


```solidity
File: src/tokens/ERC20Gauges.sol

/// @audit duplicated on line 285
223:         require(isGauge(gauge), "ERC20Gauges: invalid gauge");

/// @audit duplicated on line 345
274:         require(weights.length == size, "ERC20Gauges: size mismatch");

```
*Github:* [[223](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L223), [274](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L274)]



<a name="GAS-10"></a> 
### [GAS-10] Events should be emitted outside of loops
Emitting an event has an overhead of 375 gas, which will be incurred on every iteration of the loop. It is cheaper to emit only once after the loop has finished.

*There is one instance of this issue:*
```solidity
File: src/tokens/ERC20MultiVotes.sol

456:                 emit Undelegation(user, delegatee, delegateVotes);

```
*Github:* [[456](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L456)]



<a name="GAS-11"></a> 
### [GAS-11] Increments can be `unchecked` to save gas
Using `unchecked` increments can save gas by bypassing the built-in overflow checks. This can save 30-40 gas per iteration. So it is recommended to use unchecked increments when overflow is not possible.

*There are <b>2</b> instances of this issue:*
```solidity
File: src/core/CoreRef.sol

96:         for (uint256 i = 0; i < calls.length; i++) {

```
*Github:* [[96](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L96)]


```solidity
File: src/loan/LendingTerm.sol

685:         for (uint256 i = 0; i < loanIds.length; i++) {

```
*Github:* [[685](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L685)]



<a name="GAS-12"></a> 
### [GAS-12] Initializers can be marked as payable to save deployment gas
Payable functions cost less gas to execute, because the compiler does not have to add extra checks to ensure that no payment is provided. Initializers can be safely marked as payable, because only the deployer or the factory contract would call the function without carrying any funds.

*There is one instance of this issue:*
```solidity
File: src/loan/LendingTerm.sol

160:     function initialize(

```
*Github:* [[160](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L160)]



<a name="GAS-13"></a> 
### [GAS-13] `internal` functions only called once can be inlined to save gas
If an `internal` function is only used once, there is no need to modularize it, unless the function calling it would otherwise be too long and complex. Not inlining costs 20 to 40 gas because of two extra JUMP instructions and additional stack operations needed for function calls.

<details>
<summary>
There are <b>14</b> instances (click to show):
</summary>

```solidity
File: src/governance/GuildGovernor.sol

/// @audit `_cancel` is used only once
123:     function _cancel(

```
*Github:* [[123](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L123)]


```solidity
File: src/governance/GuildTimelockController.sol

/// @audit `_grantRole` is used only once
41:     function _grantRole(bytes32 role, address account) internal override {}

```
*Github:* [[41](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L41)]


```solidity
File: src/governance/GuildVetoGovernor.sol

/// @audit `_quorumReached` is used only once
172:     function _quorumReached(

```
*Github:* [[172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L172)]


```solidity
File: src/loan/LendingTerm.sol

/// @audit `_borrow` is used only once
339:     function _borrow(

/// @audit `_addCollateral` is used only once
448:     function _addCollateral(

/// @audit `_partialRepay` is used only once
490:     function _partialRepay(

/// @audit `_repay` is used only once
567:     function _repay(address repayer, bytes32 loanId) internal {

```
*Github:* [[339](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L339), [448](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L448), [490](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L490), [567](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L567)]


```solidity
File: src/tokens/ERC20Gauges.sol

/// @audit `_addGauge` is used only once
395:     function _addGauge(

/// @audit `_removeGauge` is used only once
425:     function _removeGauge(address gauge) internal {

/// @audit `_setMaxGauges` is used only once
444:     function _setMaxGauges(uint256 newMax) internal {

/// @audit `_setCanExceedMaxGauges` is used only once
452:     function _setCanExceedMaxGauges(

```
*Github:* [[395](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L395), [425](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L425), [444](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L444), [452](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L452)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

/// @audit `average` is used only once
122:     function average(uint256 a, uint256 b) internal pure returns (uint256) {

```
*Github:* [[122](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L122)]


```solidity
File: src/utils/RateLimitedV2.sol

/// @audit `_depleteBuffer` is used only once
93:     function _depleteBuffer(uint256 amount) internal {

/// @audit `_replenishBuffer` is used only once
111:     function _replenishBuffer(uint256 amount) internal {

```
*Github:* [[93](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L93), [111](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L111)]


</details>


<a name="GAS-14"></a> 
### [GAS-14] `keccak256()` hash of literals should only be computed once
The result of the hash should be stored in an immutable variable, and the variable should be used instead. If the hash is being used as a part of a function selector, the cast to `bytes4` should also only be done once.

<details>
<summary>
There are <b>18</b> instances (click to show):
</summary>

```solidity
File: src/core/CoreRoles.sol

12:     bytes32 internal constant GOVERNOR = keccak256("GOVERNOR_ROLE");

15:     bytes32 internal constant GUARDIAN = keccak256("GUARDIAN_ROLE");

20:     bytes32 internal constant CREDIT_MINTER = keccak256("CREDIT_MINTER_ROLE");

24:         keccak256("RATE_LIMITED_CREDIT_MINTER_ROLE");

27:     bytes32 internal constant GUILD_MINTER = keccak256("GUILD_MINTER_ROLE");

31:         keccak256("RATE_LIMITED_GUILD_MINTER_ROLE");

36:     bytes32 internal constant GAUGE_ADD = keccak256("GAUGE_ADD_ROLE");

39:     bytes32 internal constant GAUGE_REMOVE = keccak256("GAUGE_REMOVE_ROLE");

43:         keccak256("GAUGE_PARAMETERS_ROLE");

47:         keccak256("GAUGE_PNL_NOTIFIER_ROLE");

51:         keccak256("GUILD_GOVERNANCE_PARAMETERS_ROLE");

55:         keccak256("GUILD_SURPLUS_BUFFER_WITHDRAW_ROLE");

61:         keccak256("CREDIT_GOVERNANCE_PARAMETERS_ROLE");

65:         keccak256("CREDIT_REBASE_PARAMETERS_ROLE");

71:     bytes32 internal constant TIMELOCK_PROPOSER = keccak256("PROPOSER_ROLE");

74:     bytes32 internal constant TIMELOCK_EXECUTOR = keccak256("EXECUTOR_ROLE");

77:     bytes32 internal constant TIMELOCK_CANCELLER = keccak256("CANCELLER_ROLE");

```
*Github:* [[12](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L12), [15](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L15), [20](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L20), [24](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L24), [27](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L27), [31](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L31), [36](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L36), [39](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L39), [43](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L43), [47](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L47), [51](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L51), [55](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L55), [61](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L61), [65](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L65), [71](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L71), [74](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L74), [77](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L77)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

468:         keccak256("Delegation(address delegatee,uint256 nonce,uint256 expiry)");

```
*Github:* [[468](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L468)]


</details>


<a name="GAS-15"></a> 
### [GAS-15] Low level `call` can be optimized with assembly
When using low-level calls, the `returnData` is copied to memory even if the variable is not utilized. The proper way to handle this is through a low level assembly call.

*There are <b>2</b> instances of this issue:*
```solidity
File: src/core/CoreRef.sol

101:             (bool success, bytes memory returned) = target.call{value: value}(

```
*Github:* [[101](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L101)]


```solidity
File: src/governance/LendingTermOnboarding.sol

114:         (bool success, bytes memory returned) = params.collateralToken.call(

```
*Github:* [[114](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L114)]



<a name="GAS-16"></a> 
### [GAS-16] Multiple accesses of the same mapping/array key/index should be cached
The instances below point to the second+ access of a value inside a mapping/array, within a function. Caching a mapping's value in a local `storage` or `calldata` variable when the value is accessed [multiple times](https://gist.github.com/IllIllI000/ec23a57daa30a8f8ca8b9681c8ccefb0), saves ~42 gas per access due to not having to recalculate the key's keccak256 hash (Gkeccak256 - 30 gas) and that calculation's associated stack operations. Caching an array's struct avoids recalculating the array offsets into memory/calldata

<details>
<summary>
There are <b>55</b> instances (click to show):
</summary>

```solidity
File: src/governance/LendingTermOffboarding.sol

/// @audit `polls[block.number]` is also accessed on line 91
104:         polls[block.number][term] = 1; // voting power

/// @audit `lastPollBlock[term]` is also accessed on line 95
105:         lastPollBlock[term] = block.number;

/// @audit `userPollVotes[msg.sender]` is also accessed on line 132
136:         userPollVotes[msg.sender][snapshotBlock][term] = userWeight;

/// @audit `polls[snapshotBlock]` is also accessed on line 124
137:         polls[snapshotBlock][term] = _weight + userWeight;

/// @audit `canOffboard[term]` is also accessed on line 176
197:         canOffboard[term] = false;

```
*Github:* [[104](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L104), [105](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L105), [136](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L136), [137](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L137), [197](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L197)]


```solidity
File: src/governance/LendingTermOnboarding.sol

/// @audit `lastProposal[term]` is also accessed on line 189
192:         lastProposal[term] = block.timestamp;

```
*Github:* [[192](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L192)]


```solidity
File: src/governance/ProfitManager.sol

/// @audit `termSurplusBuffer[term]` is also accessed on line 261
262:         termSurplusBuffer[term] = newSurplusBuffer;

/// @audit `termSurplusBuffer[term]` is also accessed on line 283
284:         termSurplusBuffer[term] = newSurplusBuffer;

/// @audit `termSurplusBuffer[gauge]` is also accessed on line 297
310:                 termSurplusBuffer[gauge] = 0;

/// @audit `gaugeProfitIndex[gauge]` is also accessed on line 392
396:                     gaugeProfitIndex[gauge] =

/// @audit `userGaugeProfitIndex[user]` is also accessed on line 420
430:             userGaugeProfitIndex[user][gauge] = _gaugeProfitIndex;

```
*Github:* [[262](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L262), [284](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L284), [310](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L310), [396](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L396), [430](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L430)]


```solidity
File: src/loan/AuctionHouse.sol

/// @audit `auctions[loanId]` is also accessed on line 91
96:         auctions[loanId] = Auction({

/// @audit `auctions[loanId]` is also accessed on line 122
126:         require(auctions[loanId].endTime == 0, "AuctionHouse: auction ended");

/// @audit `auctions[loanId]` is also accessed on line 122
136:             creditAsked = auctions[loanId].callDebt;

/// @audit `auctions[loanId]` is also accessed on line 122
140:             uint256 _collateralAmount = auctions[loanId].collateralAmount; // SLOAD

/// @audit `auctions[loanId]` is also accessed on line 122
146:             collateralReceived = auctions[loanId].collateralAmount;

/// @audit `auctions[loanId]` is also accessed on line 122
151:             uint256 _callDebt = auctions[loanId].callDebt; // SLOAD

/// @audit `auctions[loanId]` is also accessed on line 122
158:             collateralReceived = auctions[loanId].collateralAmount;

/// @audit `auctions[loanId]` is also accessed on line 175
179:         address _lendingTerm = auctions[loanId].lendingTerm;

/// @audit `auctions[loanId]` is also accessed on line 175
183:             auctions[loanId].collateralAmount - collateralReceived, // collateralToBorrower

/// @audit `auctions[loanId]` is also accessed on line 209
213:         address _lendingTerm = auctions[loanId].lendingTerm;

```
*Github:* [[96](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L96), [126](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L126), [136](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L136), [140](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L140), [146](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L146), [151](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L151), [158](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L158), [179](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L179), [183](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L183), [213](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L213)]


```solidity
File: src/loan/LendingTerm.sol

/// @audit `loans[loanId]` is also accessed on line 244
247:         if (loans[loanId].closeTime != 0) return false;

/// @audit `loans[loanId]` is also accessed on line 352
401:         loans[loanId] = Loan({

/// @audit `loans[loanId]` is also accessed on line 455
463:         loans[loanId].collateralAmount += collateralToAdd;

/// @audit `loans[loanId]` is also accessed on line 495
534:         loans[loanId].borrowAmount -= issuanceDecrease;

/// @audit `loans[loanId]` is also accessed on line 639
666:         loans[loanId].callTime = block.timestamp;

/// @audit `loans[loanId]` is also accessed on line 639
667:         loans[loanId].callDebt = loanDebt;

/// @audit `loans[loanId]` is also accessed on line 639
668:         loans[loanId].caller = caller;

/// @audit `loans[loanId]` is also accessed on line 696
705:         loans[loanId].closeTime = block.timestamp;

/// @audit `loans[loanId]` is also accessed on line 696
711:         uint256 borrowAmount = loans[loanId].borrowAmount;

/// @audit `loans[loanId]` is also accessed on line 696
713:             loans[loanId].borrowCreditMultiplier) / creditMultiplier;

/// @audit `loans[loanId]` is also accessed on line 735
738:         require(loans[loanId].closeTime == 0, "LendingTerm: loan closed");

/// @audit `loans[loanId]` is also accessed on line 735
745:             collateralOut == loans[loanId].collateralAmount ||

/// @audit `loans[loanId]` is also accessed on line 735
753:         uint256 borrowAmount = loans[loanId].borrowAmount;

/// @audit `loans[loanId]` is also accessed on line 735
755:             loans[loanId].borrowCreditMultiplier) / creditMultiplier;

/// @audit `loans[loanId]` is also accessed on line 735
771:         loans[loanId].closeTime = block.timestamp;

/// @audit `loans[loanId]` is also accessed on line 735
806:                 loans[loanId].borrower,

```
*Github:* [[247](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L247), [401](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L401), [463](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L463), [534](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L534), [666](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L666), [667](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L667), [668](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L668), [705](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L705), [711](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L711), [713](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L713), [738](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L738), [745](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L745), [753](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L753), [755](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L755), [771](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L771), [806](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L806)]


```solidity
File: src/loan/SurplusGuildMinter.sol

/// @audit `_stakes[user]` is also accessed on line 234
288:             _stakes[user][term] = userStake;

/// @audit `_stakes[user]` is also accessed on line 307
313:             _stakes[user][term].guild = SafeCastLib.safeCastTo128(guildAfter);

```
*Github:* [[288](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L288), [313](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L313)]


```solidity
File: src/tokens/ERC20Gauges.sol

/// @audit `_userGauges[user]` is also accessed on line 235
236:         if (added && _userGauges[user].length() > maxGauges) {

/// @audit `getUserWeight[user]` is also accessed on line 253
258:         getUserWeight[user] = newUserWeight;

/// @audit `getUserGaugeWeight[user]` is also accessed on line 319
321:         getUserGaugeWeight[user][gauge] = oldWeight - weight;

```
*Github:* [[236](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L236), [258](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L258), [321](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L321)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

/// @audit `_checkpoints[account]` is also accessed on line 81
82:         return pos == 0 ? 0 : _checkpoints[account][pos - 1].votes;

/// @audit `_delegatesVotesCount[delegator]` is also accessed on line 349
356:         _delegatesVotesCount[delegator][delegatee] = newDelegates;

/// @audit `_delegates[user]` is also accessed on line 437
451:                 require(_delegates[user].remove(delegatee)); // Remove from set. Should never fail.

/// @audit `_delegatesVotesCount[user]` is also accessed on line 447
453:                 _delegatesVotesCount[user][delegatee] = 0;

```
*Github:* [[82](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L82), [356](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L356), [451](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L451), [453](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L453)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

/// @audit `rebasingState[account]` is also accessed on line 313
329:         rebasingState[account] = RebasingState({isRebasing: 0, nShares: 0});

/// @audit `rebasingState[account]` is also accessed on line 464
496:             rebasingState[account] = RebasingState({

/// @audit `rebasingState[account]` is also accessed on line 514
532:             rebasingState[account] = RebasingState({

/// @audit `rebasingState[msg.sender]` is also accessed on line 559
596:             rebasingState[msg.sender] = RebasingState({

/// @audit `rebasingState[to]` is also accessed on line 560
620:             rebasingState[to] = RebasingState({

/// @audit `rebasingState[from]` is also accessed on line 653
690:             rebasingState[from] = RebasingState({

/// @audit `rebasingState[to]` is also accessed on line 654
714:             rebasingState[to] = RebasingState({

```
*Github:* [[329](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L329), [496](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L496), [532](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L532), [596](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L596), [620](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L620), [690](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L690), [714](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L714)]


```solidity
File: src/tokens/GuildToken.sol

/// @audit `lastGaugeLossApplied[gauge]` is also accessed on line 136
146:         lastGaugeLossApplied[gauge][who] = block.timestamp;

/// @audit `lastGaugeLossApplied[gauge]` is also accessed on line 248
250:             lastGaugeLossApplied[gauge][user] = block.timestamp;

```
*Github:* [[146](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L146), [250](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L250)]


</details>


<a name="GAS-17"></a> 
### [GAS-17] Newer versions of solidity are more gas efficient
The solidity language continues to pursue more efficient gas optimization schemes. Adopting a newer version of solidity can be more gas efficient.

<details>
<summary>
There are <b>20</b> instances (click to show):
</summary>

```solidity
File: src/core/Core.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/Core.sol#L2)]


```solidity
File: src/core/CoreRef.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L2)]


```solidity
File: src/core/CoreRoles.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L2)]


```solidity
File: src/governance/GuildGovernor.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L2)]


```solidity
File: src/governance/GuildTimelockController.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L2)]


```solidity
File: src/governance/GuildVetoGovernor.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L2)]


```solidity
File: src/governance/LendingTermOffboarding.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L2)]


```solidity
File: src/governance/LendingTermOnboarding.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L2)]


```solidity
File: src/governance/ProfitManager.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L2)]


```solidity
File: src/loan/AuctionHouse.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L2)]


```solidity
File: src/loan/LendingTerm.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L2)]


```solidity
File: src/loan/SimplePSM.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L2)]


```solidity
File: src/loan/SurplusGuildMinter.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L2)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L2)]


```solidity
File: src/tokens/CreditToken.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L2)]


```solidity
File: src/tokens/ERC20Gauges.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L2)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

4: pragma solidity 0.8.13;

```
*Github:* [[4](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L4)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L2)]


```solidity
File: src/tokens/GuildToken.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L2)]


```solidity
File: src/utils/RateLimitedV2.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L2)]


</details>


<a name="GAS-18"></a> 
### [GAS-18] Operator `>=`/`<=` costs less gas than operator `>`/`<`
The compiler uses opcodes `GT` and `ISZERO` for code that uses `>`, but only requires `LT` for `>=`. A similar behavior applies for `>`, which uses opcodes `LT` and `ISZERO`, but only requires `GT` for `<=`. It can save 3 gas for each. It should be converted to the `<=`/`>=` equivalent when comparing against integer literals.

<details>
<summary>
There are <b>48</b> instances (click to show):
</summary>

```solidity
File: src/core/CoreRef.sol

96:         for (uint256 i = 0; i < calls.length; i++) {

```
*Github:* [[96](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L96)]


```solidity
File: src/governance/GuildVetoGovernor.sol

283:         if (timelockOperationTimestamp > block.timestamp) {

320:             timelockExecutionTime > 1,

```
*Github:* [[283](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L283), [320](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L320)]


```solidity
File: src/governance/LendingTermOffboarding.sol

95:             block.number > lastPollBlock[term] + POLL_DURATION_BLOCKS,

```
*Github:* [[95](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L95)]


```solidity
File: src/governance/LendingTermOnboarding.sol

128:             params.interestRate < 1e18, // interest rate [0, 100[% APR

134:             params.maxDelayBetweenPartialRepay < 31557601, // periodic payment every [0, 1 year]

139:             params.minPartialRepayPercent < 1e18, // periodic payment sizes [0, 100[%

189:             lastProposal[term] + MIN_DELAY_BETWEEN_PROPOSALS < block.timestamp,

```
*Github:* [[128](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L128), [134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L134), [139](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L139), [189](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L189)]


```solidity
File: src/governance/ProfitManager.sol

271:         uint256 newSurplusBuffer = surplusBuffer - amount; // this would revert due to underflow if withdrawing > surplusBuffer

283:         uint256 newSurplusBuffer = termSurplusBuffer[term] - amount; // this would revert due to underflow if withdrawing > termSurplusBuffer

301:         if (amount < 0) {

315:             if (loss < _surplusBuffer) {

342:         else if (amount > 0) {

443:         for (uint256 i = 0; i < gauges.length; ) {

467:         for (uint256 i = 0; i < gauges.length; ) {

```
*Github:* [[271](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L271), [283](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L283), [301](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L301), [315](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L315), [342](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L342), [443](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L443), [467](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L467)]


```solidity
File: src/loan/AuctionHouse.sol

61:         require(_midPoint < _auctionDuration, "AuctionHouse: invalid params");

134:         if (block.timestamp < _startTime + midPoint) {

144:         else if (block.timestamp < _startTime + auctionDuration) {

```
*Github:* [[61](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L61), [134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L134), [144](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L144)]


```solidity
File: src/loan/LendingTerm.sol

291:                 _hardCap < creditMinterBuffer ? _hardCap : creditMinterBuffer;

303:                 _hardCap < creditMinterBuffer ? _hardCap : creditMinterBuffer;

317:                 _hardCap < creditMinterBuffer ? _hardCap : creditMinterBuffer;

324:         if (creditMinterBuffer < _debtCeiling) {

327:         if (_hardCap < _debtCeiling) {

501:             borrowTime < block.timestamp,

509:         require(debtToRepay < loanDebt, "LendingTerm: full repayment");

574:             borrowTime < block.timestamp,

660:             borrowTime < block.timestamp,

685:         for (uint256 i = 0; i < loanIds.length; i++) {

```
*Github:* [[291](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L291), [303](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L303), [317](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L317), [324](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L324), [327](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L327), [501](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L501), [509](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L509), [574](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L574), [660](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L660), [685](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L685)]


```solidity
File: src/loan/SurplusGuildMinter.sol

229:         if (lastGaugeLoss > uint256(userStake.lastGaugeLoss)) {

303:         if (guildAfter > guildBefore) {

308:         } else if (guildAfter < guildBefore) {

```
*Github:* [[229](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L229), [303](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L303), [308](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L308)]


```solidity
File: src/tokens/ERC20Gauges.sol

134:         for (uint256 i; i < allGauges.length && j < _liveGauges.length; ) {

134:         for (uint256 i; i < allGauges.length && j < _liveGauges.length; ) {

280:         for (uint256 i = 0; i < size; ) {

352:         for (uint256 i = 0; i < size; ) {

517:             i < size && (userFreeWeight + userFreed) < weight;

```
*Github:* [[134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L134), [134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L134), [280](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L280), [352](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L352), [517](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L517)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

96:             blockNumber < block.number,

110:         while (low < high) {

112:             if (ckpts[mid].fromBlock > blockNumber) {

297:         require(count < 2, "ERC20MultiVotes: delegation error");

374:         if (pos > 0 && ckpts[pos - 1].fromBlock == block.number) {

443:             i < size && (userFreeVotes + totalFreed) < votes;

```
*Github:* [[96](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L96), [110](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L110), [112](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L112), [297](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L297), [374](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L374), [443](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L443)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

175:         if (sharesDelta > 0) {

179:             if (shareDecrease < sharesBefore) {

269:         if (rebasedBalance < minBalance) {

406:         if (_rebasingSupply > _totalSupply) {

```
*Github:* [[175](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L175), [179](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L179), [269](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L269), [406](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L406)]


```solidity
File: src/tokens/GuildToken.sol

138:             _lastGaugeLoss != 0 && _lastGaugeLossApplied < _lastGaugeLoss,

```
*Github:* [[138](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L138)]


```solidity
File: src/utils/RateLimitedV2.sol

162:         if (newBufferStored > newBufferCap) {

```
*Github:* [[162](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L162)]


</details>


<a name="GAS-19"></a> 
### [GAS-19] Optimize names to save gas
`public`/`external` function names and `public` member variable names can be optimized to save gas. See this [link](https://gist.github.com/IllIllI000/a5d8b486a8259f9f77891a919febd1a9) for an example of how it works. Below are the interfaces/abstract contracts that can be optimized so that the most frequently-called functions use the least amount of gas possible during method lookup. Method IDs that have two leading zero bytes can save 128 gas each during deployment, and renaming functions to have lower method IDs will save 22 gas per call, [per sorted position shifted](https://medium.com/joyso/solidity-how-does-function-name-affect-gas-consumption-in-smart-contract-47d270d8ac92)

<details>
<summary>
There are <b>14</b> instances (click to show):
</summary>

```solidity
File: src/core/Core.sol

/// @audit `createRole`
10: contract Core is AccessControlEnumerable {

```
*Github:* [[10](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/Core.sol#L10)]


```solidity
File: src/governance/GuildGovernor.sol

/// @audit `quorum`, `setVotingDelay`, `setVotingPeriod`, `setProposalThreshold`, `setQuorum`, `guardianCancel`, `proposalThreshold`, `state`, `supportsInterface`
16: contract GuildGovernor is

```
*Github:* [[16](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L16)]


```solidity
File: src/governance/GuildTimelockController.sol

/// @audit `hasRole`
14: contract GuildTimelockController is TimelockController, CoreRef {

```
*Github:* [[14](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L14)]


```solidity
File: src/governance/GuildVetoGovernor.sol

/// @audit `quorum`, `setQuorum`, `updateTimelock`, `COUNTING_MODE`, `hasVoted`, `proposalVotes`, `votingDelay`, `votingPeriod`, `state`, `propose`, `createVeto`, `executeVeto`
25: contract GuildVetoGovernor is CoreRef, Governor, GovernorVotes {

```
*Github:* [[25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L25)]


```solidity
File: src/governance/LendingTermOffboarding.sol

/// @audit `setQuorum`, `proposeOffboard`, `supportOffboard`, `offboard`, `cleanup`
16: contract LendingTermOffboarding is CoreRef {

```
*Github:* [[16](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L16)]


```solidity
File: src/governance/LendingTermOnboarding.sol

/// @audit `allowImplementation`, `createTerm`, `propose`, `proposeOnboard`, `getOnboardProposeArgs`
23: contract LendingTermOnboarding is GuildGovernor {

```
*Github:* [[23](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L23)]


```solidity
File: src/governance/ProfitManager.sol

/// @audit `minBorrow`, `initializeReferences`, `totalBorrowedCredit`, `setMinBorrow`, `setGaugeWeightTolerance`, `setProfitSharingConfig`, `getProfitSharingConfig`, `donateToSurplusBuffer`, `donateToTermSurplusBuffer`, `withdrawFromSurplusBuffer`, `withdrawFromTermSurplusBuffer`, `notifyPnL`, `claimGaugeRewards`, `claimRewards`, `getPendingRewards`
30: contract ProfitManager is CoreRef {

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L30)]


```solidity
File: src/loan/AuctionHouse.sol

/// @audit `getAuction`, `startAuction`, `getBidDetail`, `bid`, `forgive`
10: contract AuctionHouse is CoreRef {

```
*Github:* [[10](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L10)]


```solidity
File: src/loan/LendingTerm.sol

/// @audit `initialize`, `getReferences`, `getParameters`, `collateralToken`, `getLoan`, `getLoanDebt`, `partialRepayDelayPassed`, `debtCeiling`, `debtCeiling`, `borrow`, `addCollateral`, `partialRepay`, `repay`, `call`, `callMany`, `forgive`, `onBid`, `setAuctionHouse`, `setHardCap`
20: contract LendingTerm is CoreRef {

```
*Github:* [[20](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L20)]


```solidity
File: src/loan/SimplePSM.sol

/// @audit `getMintAmountOut`, `getRedeemAmountOut`, `redeemableCredit`, `mint`, `mintAndEnterRebase`, `redeem`, `setRedemptionsPaused`
25: contract SimplePSM is CoreRef {

```
*Github:* [[25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L25)]


```solidity
File: src/loan/SurplusGuildMinter.sol

/// @audit `getUserStake`, `stake`, `unstake`, `getRewards`, `updateMintRatio`, `setMintRatio`, `setRewardRatio`
24: contract SurplusGuildMinter is CoreRef {

```
*Github:* [[24](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L24)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

/// @audit `mint`, `replenishBuffer`
17: contract RateLimitedMinter is RateLimitedV2 {

```
*Github:* [[17](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L17)]


```solidity
File: src/tokens/CreditToken.sol

/// @audit `mint`, `setMaxDelegates`, `setContractExceedMaxDelegates`, `forceEnterRebase`, `forceExitRebase`, `balanceOf`, `totalSupply`, `transfer`, `transferFrom`
18: contract CreditToken is

```
*Github:* [[18](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L18)]


```solidity
File: src/tokens/GuildToken.sol

/// @audit `setMaxDelegates`, `setContractExceedMaxDelegates`, `addGauge`, `removeGauge`, `setMaxGauges`, `setCanExceedMaxGauges`, `notifyGaugeLoss`, `applyGaugeLoss`, `enableTransfer`, `setProfitManager`, `mint`, `transfer`, `transferFrom`
37: contract GuildToken is CoreRef, ERC20Burnable, ERC20Gauges, ERC20MultiVotes {

```
*Github:* [[37](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L37)]


</details>


<a name="GAS-20"></a> 
### [GAS-20] Reduce gas usage by moving to Solidity 0.8.19 or later
Solidity version 0.8.19 introduced a number of gas optimizations, refer to the [Solidity 0.8.19 Release Announcement](https://soliditylang.org/blog/2023/02/22/solidity-0.8.19-release-announcement/) for details.

<details>
<summary>
There are <b>20</b> instances (click to show):
</summary>

```solidity
File: src/core/Core.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/Core.sol#L2)]


```solidity
File: src/core/CoreRef.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L2)]


```solidity
File: src/core/CoreRoles.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L2)]


```solidity
File: src/governance/GuildGovernor.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L2)]


```solidity
File: src/governance/GuildTimelockController.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L2)]


```solidity
File: src/governance/GuildVetoGovernor.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L2)]


```solidity
File: src/governance/LendingTermOffboarding.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L2)]


```solidity
File: src/governance/LendingTermOnboarding.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L2)]


```solidity
File: src/governance/ProfitManager.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L2)]


```solidity
File: src/loan/AuctionHouse.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L2)]


```solidity
File: src/loan/LendingTerm.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L2)]


```solidity
File: src/loan/SimplePSM.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L2)]


```solidity
File: src/loan/SurplusGuildMinter.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L2)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L2)]


```solidity
File: src/tokens/CreditToken.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L2)]


```solidity
File: src/tokens/ERC20Gauges.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L2)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

4: pragma solidity 0.8.13;

```
*Github:* [[4](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L4)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L2)]


```solidity
File: src/tokens/GuildToken.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L2)]


```solidity
File: src/utils/RateLimitedV2.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L2)]


</details>


<a name="GAS-21"></a> 
### [GAS-21] Redundant state variable getters
Getters for public state variables are automatically generated so there is no need to code them manually and waste gas.

*There are <b>7</b> instances of this issue:*
```solidity
File: src/core/CoreRef.sol

30:     function core() public view returns (Core) {
            return _core;

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L30)]


```solidity
File: src/governance/GuildGovernor.sol

57:     function quorum(
            uint256 /* blockNumber*/
        ) public view override returns (uint256) {
            return _quorum;

57:     function quorum(
            uint256 /* blockNumber*/
        ) public view override returns (uint256) {
            return _quorum;

```
*Github:* [[57](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L57), [57](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L57)]


```solidity
File: src/governance/GuildVetoGovernor.sol

53:     function quorum(
            uint256 /* blockNumber*/
        ) public view override returns (uint256) {
            return _quorum;

53:     function quorum(
            uint256 /* blockNumber*/
        ) public view override returns (uint256) {
            return _quorum;

```
*Github:* [[53](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L53), [53](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L53)]


```solidity
File: src/loan/LendingTerm.sol

176:     function getReferences()
             external
             view
             returns (LendingTermReferences memory)
         {
             return refs;

185:     function getParameters() external view returns (LendingTermParams memory) {
             return params;

```
*Github:* [[176](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L176), [185](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L185)]



<a name="GAS-22"></a> 
### [GAS-22] `require()`/`revert()` strings longer than 32 bytes cost extra gas
Each extra memory word of bytes past the original 32 [incurs an MSTORE](https://gist.github.com/hrkrshnn/ee8fabd532058307229d65dcd5836ddc#consider-having-short-revert-strings) which costs 3 gas

<details>
<summary>
There are <b>48</b> instances (click to show):
</summary>

```solidity
File: src/governance/GuildVetoGovernor.sol

204:         require(
                 !proposalvote.hasVoted[account],
                 "GuildVetoGovernor: vote already cast"

310:         revert("GuildVetoGovernor: cannot propose arbitrary actions");

319:         require(
                 timelockExecutionTime > 1,
                 "GuildVetoGovernor: action must be pending"

```
*Github:* [[204](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L204), [310](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L310), [319](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L319)]


```solidity
File: src/governance/LendingTermOffboarding.sol

90:         require(
                polls[block.number][term] == 0,
                "LendingTermOffboarding: poll exists"

94:         require(
                block.number > lastPollBlock[term] + POLL_DURATION_BLOCKS,
                "LendingTermOffboarding: poll active"

99:         require(
                GuildToken(guildToken).isGauge(term),
                "LendingTermOffboarding: not an active term"

120:         require(
                 block.number <= snapshotBlock + POLL_DURATION_BLOCKS,
                 "LendingTermOffboarding: poll expired"

125:         require(_weight != 0, "LendingTermOffboarding: poll not found");

130:         require(userWeight != 0, "LendingTermOffboarding: zero weight");

131:         require(
                 userPollVotes[msg.sender][snapshotBlock][term] == 0,
                 "LendingTermOffboarding: already voted"

154:         require(canOffboard[term], "LendingTermOffboarding: quorum not met");

176:         require(canOffboard[term], "LendingTermOffboarding: quorum not met");

177:         require(
                 LendingTerm(term).issuance() == 0,
                 "LendingTermOffboarding: not all loans closed"

181:         require(
                 GuildToken(guildToken).isDeprecatedGauge(term),
                 "LendingTermOffboarding: re-onboarded"

```
*Github:* [[90](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L90), [94](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L94), [99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L99), [120](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L120), [125](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L125), [130](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L130), [131](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L131), [154](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L154), [176](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L176), [177](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L177), [181](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L181)]


```solidity
File: src/governance/LendingTermOnboarding.sol

109:         require(
                 implementations[implementation],
                 "LendingTermOnboarding: invalid implementation"

117:         require(
                 success && returned.length == 32,
                 "LendingTermOnboarding: invalid collateralToken"

122:         require(
                 params.maxDebtPerCollateralToken != 0, // must be able to mint non-zero debt
                 "LendingTermOnboarding: invalid maxDebtPerCollateralToken"

127:         require(
                 params.interestRate < 1e18, // interest rate [0, 100[% APR
                 "LendingTermOnboarding: invalid interestRate"

132:         require(
                 // 31557601 comes from the constant LendingTerm.YEAR() + 1
                 params.maxDelayBetweenPartialRepay < 31557601, // periodic payment every [0, 1 year]
                 "LendingTermOnboarding: invalid maxDelayBetweenPartialRepay"

138:         require(
                 params.minPartialRepayPercent < 1e18, // periodic payment sizes [0, 100[%
                 "LendingTermOnboarding: invalid minPartialRepayPercent"

143:         require(
                 params.openingFee <= 0.1e18, // open fee expected [0, 10]%
                 "LendingTermOnboarding: invalid openingFee"

148:         require(
                 params.hardCap != 0, // non-zero hardcap
                 "LendingTermOnboarding: invalid hardCap"

177:         revert("LendingTermOnboarding: cannot propose arbitrary actions");

185:         require(created[term] != 0, "LendingTermOnboarding: invalid term");

188:         require(
                 lastProposal[term] + MIN_DELAY_BETWEEN_PROPOSALS < block.timestamp,
                 "LendingTermOnboarding: recently proposed"

200:         require(!isGauge, "LendingTermOnboarding: active term");

```
*Github:* [[109](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L109), [117](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L117), [122](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L122), [127](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L127), [132](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L132), [138](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L138), [143](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L143), [148](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L148), [177](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L177), [185](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L185), [188](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L188), [200](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L200)]


```solidity
File: src/loan/AuctionHouse.sol

84:         require(
                loan.callTime == block.timestamp,
                "AuctionHouse: loan previously called"

```
*Github:* [[84](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L84)]


```solidity
File: src/loan/LendingTerm.sol

359:         require(
                 borrowAmount <= maxBorrow,
                 "LendingTerm: not enough collateral"

365:         require(
                 borrowAmount >= ProfitManager(refs.profitManager).minBorrow(),
                 "LendingTerm: borrow amount too low"

500:         require(
                 borrowTime < block.timestamp,
                 "LendingTerm: loan opened in same block"

573:         require(
                 borrowTime < block.timestamp,
                 "LendingTerm: loan opened in same block"

659:         require(
                 borrowTime < block.timestamp,
                 "LendingTerm: loan opened in same block"

744:         require(
                 collateralOut == loans[loanId].collateralAmount ||
                     collateralOut == 0,
                 "LendingTerm: invalid collateral movements"

836:         require(
                 AuctionHouse(refs.auctionHouse).nAuctionsInProgress() == 0,
                 "LendingTerm: auctions in progress"

```
*Github:* [[359](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L359), [365](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L365), [500](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L500), [573](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L573), [659](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L659), [744](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L744), [836](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L836)]


```solidity
File: src/loan/SurplusGuildMinter.sol

121:         require(
                 lastGaugeLoss != block.timestamp,
                 "SurplusGuildMinter: loss in block"

169:         require(
                 amount != 0 && userStake.credit >= amount,
                 "SurplusGuildMinter: invalid amount"

```
*Github:* [[121](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L121), [169](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L169)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

95:         require(
                blockNumber < block.number,
                "ERC20MultiVotes: not a past block"

159:         require(
                 !canExceedMax || account.code.length != 0,
                 "ERC20MultiVotes: not a smart contract"

297:         require(count < 2, "ERC20MultiVotes: delegation error");

324:         require(
                 delegatee != address(0) && free >= amount,
                 "ERC20MultiVotes: delegation error"

330:         require(
                 !newDelegate ||
                     delegateCount(delegator) <= maxDelegates ||
                     canContractExceedMaxDelegates[delegator],
                 "ERC20MultiVotes: delegation error"

479:         require(
                 block.timestamp <= expiry,
                 "ERC20MultiVotes: signature expired"

```
*Github:* [[95](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L95), [159](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L159), [297](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L297), [324](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L324), [330](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L330), [479](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L479)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

282:         require(
                 rebasingState[msg.sender].isRebasing == 0,
                 "ERC20RebaseDistributor: already rebasing"

304:         require(
                 rebasingState[msg.sender].isRebasing == 1,
                 "ERC20RebaseDistributor: not rebasing"

339:         require(amount != 0, "ERC20RebaseDistributor: cannot distribute zero");

```
*Github:* [[282](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L282), [304](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L304), [339](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L339)]


```solidity
File: src/utils/RateLimitedV2.sol

50:         require(
                _rateLimitPerSecond <= _maxRateLimitPerSecond,
                "RateLimited: rateLimitPerSecond too high"

64:         require(
                newRateLimitPerSecond <= MAX_RATE_LIMIT_PER_SECOND,
                "RateLimited: rateLimitPerSecond too high"

96:         require(newBuffer != 0, "RateLimited: no rate limit buffer");

```
*Github:* [[50](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L50), [64](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L64), [96](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L96)]


</details>


<a name="GAS-23"></a> 
### [GAS-23] The result of a function call should be cached rather than re-calling the function
The function calls in solidity are expensive. If the same result of the same function calls are to be used several times, the result should be cached to reduce the gas consumption of repeated calls.

*There are <b>4</b> instances of this issue:*
```solidity
File: src/governance/LendingTermOffboarding.sol

/// @audit `core` is called 2 times
175:     function cleanup(address term) external whenNotPaused {

```
*Github:* [[175](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L175)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

/// @audit `mint` is called 2 times
509:     function _mint(address account, uint256 amount) internal virtual override {

/// @audit `balanceOf` is called 2 times
/// @audit `_shares2balance` is called 2 times
/// @audit `mint` is called 2 times
/// @audit `_balance2shares` is called 2 times
553:     function transfer(
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

/// @audit `balanceOf` is called 2 times
/// @audit `_shares2balance` is called 2 times
/// @audit `mint` is called 2 times
/// @audit `_balance2shares` is called 2 times
646:     function transferFrom(
             address from,
             address to,
             uint256 amount
         ) public virtual override returns (bool) {

```
*Github:* [[509](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L509), [553](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L553), [646](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L646)]



<a name="GAS-24"></a> 
### [GAS-24] State variables access within a loop
State variable reads and writes are more expensive than local variable reads and writes. Therefore, it is recommended to replace state variable reads and writes within loops with a local variable. Gas savings should be multiplied by the average loop length.

*There are <b>3</b> instances of this issue:*
```solidity
File: src/tokens/ERC20Gauges.sol

/// @audit `_deprecatedGauges`
135:             if (!_deprecatedGauges.contains(allGauges[i])) {

/// @audit `_deprecatedGauges`
357:             if (!_deprecatedGauges.contains(gauge)) {

/// @audit `_deprecatedGauges`
527:                 if (!_deprecatedGauges.contains(gauge)) {

```
*Github:* [[135](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L135), [357](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L357), [527](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L527)]



<a name="GAS-25"></a> 
### [GAS-25] State variables can be packed into fewer storage slots
Each slot saved can avoid an extra Gsset (20000 gas). Reads and writes (if two variables that occupy the same slot are written by the same function) will have a cheaper gas consumption.

*There are <b>2</b> instances of this issue:*
```solidity
File: src/loan/SimplePSM.sol

/// @audit 6 slots -> 5 slots by new order:
/*
 *	  uint256 pegTokenBalance   (32 Bytes)
 *	  uint256 decimalCorrection (32 Bytes)
 *	  address profitManager     (20 Bytes)
 *	  address credit            (20 Bytes)
 *	  address pegToken          (20 Bytes)
 *	  bool redemptionsPaused      (1 Byte)
 */
25: contract SimplePSM is CoreRef {

```
*Github:* [[25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L25)]


```solidity
File: src/tokens/GuildToken.sol

/// @audit 4 slots -> 3 slots by new order:
/*
 *	  mapping lastGaugeLoss        (32 Bytes)
 *	  mapping lastGaugeLossApplied (32 Bytes)
 *	  address profitManager        (20 Bytes)
 *	  bool transferable              (1 Byte)
 */
37: contract GuildToken is CoreRef, ERC20Burnable, ERC20Gauges, ERC20MultiVotes {

```
*Github:* [[37](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L37)]



<a name="GAS-26"></a> 
### [GAS-26] Unlimited gas consumption risk due to external call recipients
When calling an external function without specifying a gas limit , the called contract may consume all the remaining gas, causing the tx to be reverted. To mitigate this, it is recommended to explicitly set a gas limit when making low level external calls.

*There are <b>2</b> instances of this issue:*
```solidity
File: src/core/CoreRef.sol

101:             (bool success, bytes memory returned) = target.call{value: value}(

```
*Github:* [[101](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L101)]


```solidity
File: src/governance/LendingTermOnboarding.sol

114:         (bool success, bytes memory returned) = params.collateralToken.call(

```
*Github:* [[114](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L114)]



<a name="GAS-27"></a> 
### [GAS-27] Unnecessary event parameters should be removed
Data that can be obtained from off-chain data and event log details should not be added as event parameters to save gas.

<details>
<summary>
There are <b>29</b> instances (click to show):
</summary>

```solidity
File: src/governance/LendingTermOffboarding.sol

169:         emit Offboard(block.timestamp, term);

198:         emit Cleanup(block.timestamp, term);

```
*Github:* [[169](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L169), [198](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L198)]


```solidity
File: src/governance/LendingTermOnboarding.sol

166:         emit TermCreated(block.timestamp, implementation, term, params);

```
*Github:* [[166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L166)]


```solidity
File: src/governance/ProfitManager.sol

107:         emit MinBorrowUpdate(block.timestamp, 100e18);

183:         emit MinBorrowUpdate(block.timestamp, newValue);

191:         emit GaugeWeightToleranceUpdate(block.timestamp, newValue);

255:         emit SurplusBufferUpdate(block.timestamp, newSurplusBuffer);

263:         emit TermSurplusBufferUpdate(block.timestamp, term, newSurplusBuffer);

274:         emit SurplusBufferUpdate(block.timestamp, newSurplusBuffer);

286:         emit TermSurplusBufferUpdate(block.timestamp, term, newSurplusBuffer);

311:                 emit TermSurplusBufferUpdate(block.timestamp, gauge, 0);

328:                 emit SurplusBufferUpdate(block.timestamp, 0);

433:             emit ClaimRewards(block.timestamp, user, gauge, creditEarned);

```
*Github:* [[107](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L107), [183](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L183), [191](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L191), [255](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L255), [263](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L263), [274](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L274), [286](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L286), [311](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L311), [328](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L328), [433](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L433)]


```solidity
File: src/loan/LendingTerm.sol

558:         emit LoanPartialRepay(block.timestamp, loanId, repayer, debtToRepay);

624:         emit LoanClose(block.timestamp, loanId, LoanCloseType.Repay, loanDebt);

674:         emit LoanCall(block.timestamp, loanId);

721:         emit LoanClose(block.timestamp, loanId, LoanCloseType.Forgive, 0);

```
*Github:* [[558](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L558), [624](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L624), [674](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L674), [721](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L721)]


```solidity
File: src/loan/SimplePSM.sol

111:         emit Mint(block.timestamp, to, amountIn, amountOut);

129:         emit Mint(block.timestamp, msg.sender, amountIn, amountOut);

143:         emit Redeem(block.timestamp, to, amountIn, amountOut);

153:         emit RedemptionsPaused(block.timestamp, paused);

```
*Github:* [[111](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L111), [129](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L129), [143](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L143), [153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L153)]


```solidity
File: src/loan/SurplusGuildMinter.sol

154:         emit Stake(block.timestamp, term, amount);

211:         emit Unstake(block.timestamp, term, amount);

260:                 emit GuildReward(block.timestamp, user, guildReward);

275:             emit Unstake(block.timestamp, term, uint256(userStake.credit));

323:         emit MintRatioUpdate(block.timestamp, _mintRatio);

332:         emit RewardRatioUpdate(block.timestamp, _rewardRatio);

```
*Github:* [[154](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L154), [211](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L211), [260](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L260), [275](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L275), [323](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L323), [332](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L332)]


```solidity
File: src/tokens/GuildToken.sol

177:         emit TransfersEnabled(block.number, block.timestamp);

199:         emit ProfitManagerUpdated(block.timestamp, _newProfitManager);

```
*Github:* [[177](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L177), [199](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L199)]


</details>


<a name="GAS-28"></a> 
### [GAS-28] Unused named return variables without optimizer waste gas
Consider changing the variable to be an unnamed one, since the variable is never assigned, nor is it returned by name. If the optimizer is not turned on, leaving the code as it is will also waste gas for the stack variable.

*There are <b>5</b> instances of this issue:*
```solidity
File: src/governance/LendingTermOnboarding.sol

/// @audit `proposalId` not used
181:     function proposeOnboard(
             address term
         ) external whenNotPaused returns (uint256 proposalId) {

```
*Github:* [[181](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L181)]


```solidity
File: src/tokens/ERC20Gauges.sol

/// @audit `newUserWeight` not used
219:     function incrementGauge(
             address gauge,
             uint256 weight
         ) public virtual returns (uint256 newUserWeight) {

/// @audit `newUserWeight` not used
269:     function incrementGauges(
             address[] calldata gaugeList,
             uint256[] calldata weights
         ) public virtual returns (uint256 newUserWeight) {

/// @audit `newUserWeight` not used
301:     function decrementGauge(
             address gauge,
             uint256 weight
         ) public virtual returns (uint256 newUserWeight) {

/// @audit `newUserWeight` not used
340:     function decrementGauges(
             address[] calldata gaugeList,
             uint256[] calldata weights
         ) public virtual returns (uint256 newUserWeight) {

```
*Github:* [[219](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L219), [269](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L269), [301](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L301), [340](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L340)]



<a name="GAS-29"></a> 
### [GAS-29] Optimize external calls with assembly for memory efficiency
Using interfaces to make external contract calls in Solidity is convenient but can be inefficient in terms of memory utilization. Each such call involves creating a new memory location to store the data being passed, thus incurring memory expansion costs.

Inline assembly allows for optimized memory usage by re-using already allocated memory spaces or using the scratch space for smaller datasets. This can result in notable gas savings, especially for contracts that make frequent external calls.

Additionally, using inline assembly enables important safety checks like verifying if the target address has code deployed to it using `extcodesize(addr)` before making the call, mitigating risks associated with contract interactions.

*There are <b>6</b> instances of this issue:*
```solidity
File: src/loan/LendingTerm.sol

/// @audit `.safeTransferFrom(...)`
421:         IERC20(params.collateralToken).safeTransferFrom(

/// @audit `.safeTransferFrom(...)`
466:         IERC20(params.collateralToken).safeTransferFrom(

/// @audit `.safeTransfer(...)`
618:         IERC20(params.collateralToken).safeTransfer(

/// @audit `.safeTransfer(...)`
805:             IERC20(params.collateralToken).safeTransfer(

/// @audit `.safeTransfer(...)`
813:             IERC20(params.collateralToken).safeTransfer(

```
*Github:* [[421](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L421), [466](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L466), [618](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L618), [805](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L805), [813](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L813)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

/// @audit `.mint(...)`
54:         IERC20Mintable(token).mint(to, amount); /// interactions

```
*Github:* [[54](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L54)]



<a name="GAS-30"></a> 
### [GAS-30] Use assembly to compute hashes to save gas
If the arguments to the encode call can fit into the scratch space (two words or fewer), then it's more efficient to use assembly to generate the hash (80 gas):

`keccak256(abi.encodePacked(x, y)) -> assembly {mstore(0x00, a); mstore(0x20, b); let hash := keccak256(0x00, 0x40); }`

<details>
<summary>
There are <b>22</b> instances (click to show):
</summary>

```solidity
File: src/core/CoreRoles.sol

12:     bytes32 internal constant GOVERNOR = keccak256("GOVERNOR_ROLE");

15:     bytes32 internal constant GUARDIAN = keccak256("GUARDIAN_ROLE");

20:     bytes32 internal constant CREDIT_MINTER = keccak256("CREDIT_MINTER_ROLE");

24:         keccak256("RATE_LIMITED_CREDIT_MINTER_ROLE");

27:     bytes32 internal constant GUILD_MINTER = keccak256("GUILD_MINTER_ROLE");

31:         keccak256("RATE_LIMITED_GUILD_MINTER_ROLE");

36:     bytes32 internal constant GAUGE_ADD = keccak256("GAUGE_ADD_ROLE");

39:     bytes32 internal constant GAUGE_REMOVE = keccak256("GAUGE_REMOVE_ROLE");

43:         keccak256("GAUGE_PARAMETERS_ROLE");

47:         keccak256("GAUGE_PNL_NOTIFIER_ROLE");

51:         keccak256("GUILD_GOVERNANCE_PARAMETERS_ROLE");

55:         keccak256("GUILD_SURPLUS_BUFFER_WITHDRAW_ROLE");

61:         keccak256("CREDIT_GOVERNANCE_PARAMETERS_ROLE");

65:         keccak256("CREDIT_REBASE_PARAMETERS_ROLE");

71:     bytes32 internal constant TIMELOCK_PROPOSER = keccak256("PROPOSER_ROLE");

74:     bytes32 internal constant TIMELOCK_EXECUTOR = keccak256("EXECUTOR_ROLE");

77:     bytes32 internal constant TIMELOCK_CANCELLER = keccak256("CANCELLER_ROLE");

```
*Github:* [[12](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L12), [15](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L15), [20](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L20), [24](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L24), [27](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L27), [31](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L31), [36](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L36), [39](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L39), [43](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L43), [47](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L47), [51](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L51), [55](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L55), [61](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L61), [65](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L65), [71](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L71), [74](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L74), [77](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L77)]


```solidity
File: src/governance/GuildVetoGovernor.sol

363:                 keccak256(bytes(description))

```
*Github:* [[363](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L363)]


```solidity
File: src/loan/LendingTerm.sol

347:         loanId = keccak256(

```
*Github:* [[347](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L347)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

468:         keccak256("Delegation(address delegatee,uint256 nonce,uint256 expiry)");

484:             keccak256(

488:                     keccak256(

```
*Github:* [[468](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L468), [484](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L484), [488](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L488)]


</details>


<a name="GAS-31"></a> 
### [GAS-31] Use assembly to emit events
To efficiently emit events, it's possible to utilize assembly by making use of scratch space and the free memory pointer. This approach has the advantage of potentially avoiding the costs associated with memory expansion.

However, it's important to note that in order to safely optimize this process, it is preferable to cache and restore the free memory pointer.

A good example of such practice can be seen in [Solady's](https://github.com/Vectorized/solady/blob/main/src/tokens/ERC1155.sol#L167) codebase.

<details>
<summary>
There are <b>77</b> instances (click to show):
</summary>

```solidity
File: src/core/CoreRef.sol

53:         emit CoreUpdate(oldCore, newCore);

```
*Github:* [[53](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L53)]


```solidity
File: src/governance/GuildGovernor.sol

69:         emit QuorumUpdated(_quorum, newQuorum);

```
*Github:* [[69](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L69)]


```solidity
File: src/governance/GuildVetoGovernor.sol

72:         emit QuorumUpdated(_quorum, newQuorum);

100:         emit TimelockChange(timelock, newTimelock);

```
*Github:* [[72](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L72), [100](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L100)]


```solidity
File: src/governance/LendingTermOffboarding.sol

81:         emit QuorumUpdated(quorum, _quorum);

106:         emit OffboardSupport(

141:         emit OffboardSupport(

169:         emit Offboard(block.timestamp, term);

198:         emit Cleanup(block.timestamp, term);

```
*Github:* [[81](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L81), [106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L106), [141](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L141), [169](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L169), [198](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L198)]


```solidity
File: src/governance/LendingTermOnboarding.sol

97:         emit ImplementationAllowChanged(

166:         emit TermCreated(block.timestamp, implementation, term, params);

```
*Github:* [[97](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L97), [166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L166)]


```solidity
File: src/governance/ProfitManager.sol

107:         emit MinBorrowUpdate(block.timestamp, 100e18);

183:         emit MinBorrowUpdate(block.timestamp, newValue);

191:         emit GaugeWeightToleranceUpdate(block.timestamp, newValue);

219:         emit ProfitSharingConfigUpdate(

255:         emit SurplusBufferUpdate(block.timestamp, newSurplusBuffer);

263:         emit TermSurplusBufferUpdate(block.timestamp, term, newSurplusBuffer);

274:         emit SurplusBufferUpdate(block.timestamp, newSurplusBuffer);

286:         emit TermSurplusBufferUpdate(block.timestamp, term, newSurplusBuffer);

311:                 emit TermSurplusBufferUpdate(block.timestamp, gauge, 0);

318:                 emit SurplusBufferUpdate(

328:                 emit SurplusBufferUpdate(block.timestamp, 0);

335:                 emit CreditMultiplierUpdate(

363:                 emit SurplusBufferUpdate(

404:         emit GaugePnL(gauge, block.timestamp, amount);

433:             emit ClaimRewards(block.timestamp, user, gauge, creditEarned);

```
*Github:* [[107](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L107), [183](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L183), [191](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L191), [219](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L219), [255](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L255), [263](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L263), [274](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L274), [286](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L286), [311](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L311), [318](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L318), [328](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L328), [335](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L335), [363](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L363), [404](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L404), [433](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L433)]


```solidity
File: src/loan/AuctionHouse.sol

106:         emit AuctionStart(

189:         emit AuctionEnd(

223:         emit AuctionEnd(

```
*Github:* [[106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L106), [189](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L189), [223](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L223)]


```solidity
File: src/loan/LendingTerm.sol

428:         emit LoanOpen(

473:         emit LoanAddCollateral(

558:         emit LoanPartialRepay(block.timestamp, loanId, repayer, debtToRepay);

624:         emit LoanClose(block.timestamp, loanId, LoanCloseType.Repay, loanDebt);

674:         emit LoanCall(block.timestamp, loanId);

721:         emit LoanClose(block.timestamp, loanId, LoanCloseType.Forgive, 0);

819:         emit LoanClose(

```
*Github:* [[428](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L428), [473](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L473), [558](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L558), [624](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L624), [674](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L674), [721](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L721), [819](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L819)]


```solidity
File: src/loan/SimplePSM.sol

111:         emit Mint(block.timestamp, to, amountIn, amountOut);

129:         emit Mint(block.timestamp, msg.sender, amountIn, amountOut);

143:         emit Redeem(block.timestamp, to, amountIn, amountOut);

153:         emit RedemptionsPaused(block.timestamp, paused);

```
*Github:* [[111](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L111), [129](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L129), [143](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L143), [153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L153)]


```solidity
File: src/loan/SurplusGuildMinter.sol

154:         emit Stake(block.timestamp, term, amount);

211:         emit Unstake(block.timestamp, term, amount);

260:                 emit GuildReward(block.timestamp, user, guildReward);

275:             emit Unstake(block.timestamp, term, uint256(userStake.credit));

323:         emit MintRatioUpdate(block.timestamp, _mintRatio);

332:         emit RewardRatioUpdate(block.timestamp, _rewardRatio);

```
*Github:* [[154](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L154), [211](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L211), [260](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L260), [275](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L275), [323](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L323), [332](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L332)]


```solidity
File: src/tokens/ERC20Gauges.sol

246:         emit IncrementGaugeWeight(user, gauge, weight);

331:         emit DecrementGaugeWeight(user, gauge, weight);

422:         emit AddGauge(gauge, _type);

439:         emit RemoveGauge(gauge);

448:         emit MaxGaugesUpdate(oldMax, newMax);

465:         emit CanExceedMaxGaugesUpdate(account, canExceedMax);

```
*Github:* [[246](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L246), [331](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L331), [422](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L422), [439](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L439), [448](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L448), [465](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L465)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

151:         emit MaxDelegatesUpdate(oldMax, newMax);

166:         emit CanContractExceedMaxDelegatesUpdate(account, canExceedMax);

314:         emit DelegateChanged(delegator, oldDelegatee, newDelegatee);

340:         emit Delegation(delegator, delegatee, amount);

359:         emit Undelegation(delegator, delegatee, amount);

384:         emit DelegateVotesChanged(delegatee, oldWeight, newWeight);

456:                 emit Undelegation(user, delegatee, delegateVotes);

```
*Github:* [[151](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L151), [166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L166), [314](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L314), [340](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L340), [359](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L359), [384](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L384), [456](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L456)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

298:         emit RebaseEnter(account, block.timestamp);

326:             emit RebaseReward(account, block.timestamp, mintAmount);

332:         emit RebaseExit(account, block.timestamp);

353:         emit RebaseDistribution(

481:                 emit RebaseReward(account, block.timestamp, mintAmount);

546:                 emit RebaseReward(account, block.timestamp, mintAmount);

579:                 emit RebaseReward(msg.sender, block.timestamp, mintAmount);

630:                 emit RebaseReward(to, block.timestamp, mintAmount);

673:                 emit RebaseReward(from, block.timestamp, mintAmount);

724:                 emit RebaseReward(to, block.timestamp, mintAmount);

```
*Github:* [[298](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L298), [326](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L326), [332](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L332), [353](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L353), [481](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L481), [546](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L546), [579](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L579), [630](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L630), [673](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L673), [724](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L724)]


```solidity
File: src/tokens/GuildToken.sol

128:         emit GaugeLoss(gauge, block.timestamp);

155:         emit GaugeLossApply(

177:         emit TransfersEnabled(block.number, block.timestamp);

199:         emit ProfitManagerUpdated(block.timestamp, _newProfitManager);

```
*Github:* [[128](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L128), [155](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L155), [177](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L177), [199](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L199)]


```solidity
File: src/utils/RateLimitedV2.sol

106:         emit BufferUsed(amount, bufferStored);

134:         emit BufferReplenished(amount, bufferStored);

142:         emit RateLimitPerSecondUpdate(

155:         emit BufferCapUpdate(oldBufferCap, newBufferCap);

```
*Github:* [[106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L106), [134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L134), [142](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L142), [155](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L155)]


</details>


<a name="GAS-32"></a> 
### [GAS-32] Use assembly to validate `msg.sender`

*There are <b>2</b> instances of this issue:*
```solidity
File: src/loan/LendingTerm.sol

733:         require(msg.sender == refs.auctionHouse, "LendingTerm: invalid caller");

```
*Github:* [[733](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L733)]


```solidity
File: src/tokens/GuildToken.sol

124:         require(msg.sender == profitManager, "UNAUTHORIZED");

```
*Github:* [[124](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L124)]



<a name="GAS-33"></a> 
### [GAS-33] Use assembly to write address/contract type storage values
Using `assembly { sstore(state.slot, addr)` instead of `state = addr` can save gas.

<details>
<summary>
There are <b>23</b> instances (click to show):
</summary>

```solidity
File: src/core/CoreRef.sol

20:         _core = Core(coreAddress);

51:         _core = Core(newCore);

```
*Github:* [[20](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L20), [51](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L51)]


```solidity
File: src/governance/GuildVetoGovernor.sol

101:         timelock = newTimelock;

```
*Github:* [[101](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L101)]


```solidity
File: src/governance/LendingTermOffboarding.sol

72:         guildToken = _guildToken;

73:         psm = _psm;

```
*Github:* [[72](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L72), [73](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L73)]


```solidity
File: src/governance/LendingTermOnboarding.sol

83:         guildToken = _lendingTermReferences.guildToken;

85:         profitManager = _lendingTermReferences.profitManager;

86:         auctionHouse = _lendingTermReferences.auctionHouse;

87:         creditMinter = _lendingTermReferences.creditMinter;

88:         creditToken = _lendingTermReferences.creditToken;

```
*Github:* [[83](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L83), [85](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L85), [86](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L86), [87](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L87), [88](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L88)]


```solidity
File: src/governance/ProfitManager.sol

164:         credit = _credit;

165:         guild = _guild;

166:         psm = _psm;

```
*Github:* [[164](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L164), [165](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L165), [166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L166)]


```solidity
File: src/loan/SimplePSM.sol

71:         profitManager = _profitManager;

72:         credit = _credit;

73:         pegToken = _pegToken;

```
*Github:* [[71](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L71), [72](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L72), [73](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L73)]


```solidity
File: src/loan/SurplusGuildMinter.sol

97:         profitManager = _profitManager;

98:         credit = _credit;

99:         guild = _guild;

100:         rlgm = _rlgm;

```
*Github:* [[97](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L97), [98](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L98), [99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L99), [100](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L100)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

41:         token = _token;

```
*Github:* [[41](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L41)]


```solidity
File: src/tokens/GuildToken.sol

51:         profitManager = _profitManager;

198:         profitManager = _newProfitManager;

```
*Github:* [[51](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L51), [198](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L198)]


</details>


<a name="GAS-34"></a> 
### [GAS-34] Using a double `if` statement instead of a logical AND (`&&`)
Using a double `if` statement instead of a logical AND (`&&`) can provide similar short-circuiting behavior whereas double if is slightly [more gas efficient](https://gist.github.com/DadeKuma/931ce6794a050201ec6544dbcc31316c).

<details>
<summary>
There are <b>19</b> instances (click to show):
</summary>

```solidity
File: src/governance/LendingTermOffboarding.sol

163:             nOffboardingsInProgress++ == 0 &&

192:             --nOffboardingsInProgress == 0 && SimplePSM(psm).redemptionsPaused()

```
*Github:* [[163](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L163), [192](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L192)]


```solidity
File: src/governance/LendingTermOnboarding.sol

118:             success && returned.length == 32,

```
*Github:* [[118](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L118)]


```solidity
File: src/governance/ProfitManager.sol

162:             credit == address(0) && guild == address(0) && psm == address(0)

162:             credit == address(0) && guild == address(0) && psm == address(0)

```
*Github:* [[162](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L162), [162](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L162)]


```solidity
File: src/loan/LendingTerm.sol

298:         if (totalBorrowedCredit == 0 && gaugeWeight != 0) {

520:             principalRepaid != 0 && interestRepaid != 0,

735:             loans[loanId].callTime != 0 && loans[loanId].callDebt != 0,

```
*Github:* [[298](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L298), [520](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L520), [735](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L735)]


```solidity
File: src/loan/SurplusGuildMinter.sol

170:             amount != 0 && userStake.credit >= amount,

```
*Github:* [[170](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L170)]


```solidity
File: src/tokens/ERC20Gauges.sol

104:         return _gauges.contains(gauge) && !_deprecatedGauges.contains(gauge);

134:         for (uint256 i; i < allGauges.length && j < _liveGauges.length; ) {

236:         if (added && _userGauges[user].length() > maxGauges) {

403:             gauge != address(0) && (newAdd || previouslyDeprecated),

428:             _gauges.contains(gauge) && _deprecatedGauges.add(gauge),

517:             i < size && (userFreeWeight + userFreed) < weight;

```
*Github:* [[104](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L104), [134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L134), [236](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L236), [403](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L403), [428](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L428), [517](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L517)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

325:             delegatee != address(0) && free >= amount,

374:         if (pos > 0 && ckpts[pos - 1].fromBlock == block.number) {

443:             i < size && (userFreeVotes + totalFreed) < votes;

```
*Github:* [[325](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L325), [374](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L374), [443](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L443)]


```solidity
File: src/tokens/GuildToken.sol

138:             _lastGaugeLoss != 0 && _lastGaugeLossApplied < _lastGaugeLoss,

```
*Github:* [[138](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L138)]


</details>


<a name="GAS-35"></a> 
### [GAS-35] Use local variables for emitting
Use the function/modifier's local copy of the state variable, rather than incurring an extra Gwarmaccess (100 gas). In the unlikely event that the state variable hasn't already been used by the function/modifier, consider whether it is really necessary to include it in the event, given the fact that it incurs a Gcoldsload (2100 gas), or whether it can be passed in to or back out of the functions that do use it

*There are <b>6</b> instances of this issue:*
```solidity
File: src/governance/GuildGovernor.sol

/// @audit `_quorum`
69:         emit QuorumUpdated(_quorum, newQuorum);

```
*Github:* [[69](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L69)]


```solidity
File: src/governance/GuildVetoGovernor.sol

/// @audit `_quorum`
72:         emit QuorumUpdated(_quorum, newQuorum);

/// @audit `timelock`
100:         emit TimelockChange(timelock, newTimelock);

```
*Github:* [[72](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L72), [100](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L100)]


```solidity
File: src/governance/LendingTermOffboarding.sol

/// @audit `quorum`
81:         emit QuorumUpdated(quorum, _quorum);

```
*Github:* [[81](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L81)]


```solidity
File: src/utils/RateLimitedV2.sol

/// @audit `bufferStored`
106:         emit BufferUsed(amount, bufferStored);

/// @audit `bufferStored`
134:         emit BufferReplenished(amount, bufferStored);

```
*Github:* [[106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L106), [134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L134)]



<a name="GAS-36"></a> 
### [GAS-36] Use a more recent version of solidity
- Use a solidity version of at least 0.8.2 to get simple compiler automatic inlining.
- Use a solidity version of at least 0.8.3 to get better struct packing and cheaper multiple storage reads.
- Use a solidity version of at least 0.8.4 to get custom errors, which are cheaper at deployment than revert()/require() strings.
- Use a solidity version of at least 0.8.10 to have external calls skip contract existence checks if the external call has a return value.

<details>
<summary>
There are <b>20</b> instances (click to show):
</summary>

```solidity
File: src/core/Core.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/Core.sol#L2)]


```solidity
File: src/core/CoreRef.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L2)]


```solidity
File: src/core/CoreRoles.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRoles.sol#L2)]


```solidity
File: src/governance/GuildGovernor.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L2)]


```solidity
File: src/governance/GuildTimelockController.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildTimelockController.sol#L2)]


```solidity
File: src/governance/GuildVetoGovernor.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L2)]


```solidity
File: src/governance/LendingTermOffboarding.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L2)]


```solidity
File: src/governance/LendingTermOnboarding.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L2)]


```solidity
File: src/governance/ProfitManager.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L2)]


```solidity
File: src/loan/AuctionHouse.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L2)]


```solidity
File: src/loan/LendingTerm.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L2)]


```solidity
File: src/loan/SimplePSM.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L2)]


```solidity
File: src/loan/SurplusGuildMinter.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L2)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L2)]


```solidity
File: src/tokens/CreditToken.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L2)]


```solidity
File: src/tokens/ERC20Gauges.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L2)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

4: pragma solidity 0.8.13;

```
*Github:* [[4](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L4)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L2)]


```solidity
File: src/tokens/GuildToken.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L2)]


```solidity
File: src/utils/RateLimitedV2.sol

2: pragma solidity 0.8.13;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L2)]


</details>


<a name="GAS-37"></a> 
### [GAS-37] Use `require` instead of `assert`
Prior to solc 0.8.0, `assert` used the invalid opcode which used up all the remaining gas while `require` used the revert opcode which refunded the gas and therefore the importance of using `require` instead of `assert` was greater. However, after 0.8.0, `assert` uses revert opcode just like `require` but creates a `Panic(uint256)` error instead of Error(string) created by require. Solidity documentation states: 'The assert function generates an error of type Panic(uint256). Code that works properly should never Panic, even on invalid external input. If this happens, you need to fix it in your contract. there's a mistake.

*There are <b>4</b> instances of this issue:*
```solidity
File: src/governance/GuildVetoGovernor.sol

255:         assert(queueid != bytes32(0));

```
*Github:* [[255](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L255)]


```solidity
File: src/loan/AuctionHouse.sol

131:         assert(block.timestamp >= _startTime);

```
*Github:* [[131](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L131)]


```solidity
File: src/loan/LendingTerm.sol

166:         assert(address(core()) == address(0));

167:         assert(_core != address(0));

```
*Github:* [[166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L166), [167](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L167)]



<a name="GAS-38"></a> 
### [GAS-38] Use `storage` instead of `memory` for structs/arrays
When fetching data from a storage location, assigning the data to a `memory` variable causes all fields of the struct/array to be read from storage, which incurs a Gcoldsload (**2100 gas**) for *each* field of the struct/array. If the fields are read from the new memory variable, they incur an additional `MLOAD` rather than a cheap stack read. Instead of declaring the variable with the `memory` keyword, declaring the variable with the `storage` keyword and caching any fields that need to be re-read in stack variables, will be much cheaper, only incurring the Gcoldsload for the fields actually read. The only time it makes sense to read the whole struct/array into a `memory` variable, is if the full struct/array is being returned by the function, is being passed to a function that requires `memory`, or if the array/struct is being read from another `memory` array/struct.

*There are <b>8</b> instances of this issue:*
```solidity
File: src/tokens/ERC20RebaseDistributor.sol

313:         RebasingState memory _rebasingState = rebasingState[account];

429:         RebasingState memory _rebasingState = rebasingState[account];

464:         RebasingState memory _rebasingState = rebasingState[account];

514:         RebasingState memory _rebasingState = rebasingState[account];

559:         RebasingState memory rebasingStateFrom = rebasingState[msg.sender];

560:         RebasingState memory rebasingStateTo = rebasingState[to];

653:         RebasingState memory rebasingStateFrom = rebasingState[from];

654:         RebasingState memory rebasingStateTo = rebasingState[to];

```
*Github:* [[313](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L313), [429](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L429), [464](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L464), [514](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L514), [559](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L559), [560](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L560), [653](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L653), [654](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L654)]



<a name="GAS-39"></a> 
### [GAS-39] Use `uint256(1)`/`uint256(2)` instead of `true`/`false` to save gas for changes
Avoids a Gsset (20000 gas) when changing from false to true, after having been true in the past. Since most of the bools aren't changed twice in one transaction, I've counted the amount of gas as half of the full amount, for each variable.

*There are <b>7</b> instances of this issue:*
```solidity
File: src/governance/GuildVetoGovernor.sol

121:         mapping(address => bool) hasVoted;

```
*Github:* [[121](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L121)]


```solidity
File: src/governance/LendingTermOffboarding.sol

61:     mapping(address => bool) public canOffboard;

```
*Github:* [[61](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L61)]


```solidity
File: src/governance/LendingTermOnboarding.sol

30:     mapping(address => bool) public implementations;

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L30)]


```solidity
File: src/loan/SimplePSM.sol

46:     bool public redemptionsPaused;

```
*Github:* [[46](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L46)]


```solidity
File: src/tokens/ERC20Gauges.sol

393:     mapping(address => bool) public canExceedMaxGauges;

```
*Github:* [[393](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L393)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

144:     mapping(address => bool) public canContractExceedMaxDelegates;

```
*Github:* [[144](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L144)]


```solidity
File: src/tokens/GuildToken.sol

169:     bool public transferable; // default = false

```
*Github:* [[169](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L169)]



<a name="GAS-40"></a> 
### [GAS-40] Use `unchecked` block for safe subtractions
If it can be confirmed that the subtraction operation will not overflow, using an unchecked block can save gas. For example, `require(x <= y); z = y - x;` can be optimized to `require(x <= y); unchecked { z = y - x; }`

<details>
<summary>
There are <b>13</b> instances (click to show):
</summary>

```solidity
File: src/governance/ProfitManager.sol

/// @audit this subtraction is checked on line 253
271:         uint256 newSurplusBuffer = surplusBuffer - amount; // this would revert due to underflow if withdrawing > surplusBuffer

/// @audit this subtraction is checked on line 315
317:                 surplusBuffer = _surplusBuffer - loss;

/// @audit this subtraction is checked on line 315
320:                     _surplusBuffer - loss

```
*Github:* [[271](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L271), [317](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L317), [320](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L320)]


```solidity
File: src/loan/LendingTerm.sol

/// @audit this subtraction is checked on line 309
312:         uint256 remainingDebtCeiling = debtCeilingBefore - _issuance; // always >0

/// @audit this subtraction is checked on line 313
319:         uint256 otherGaugesWeight = totalWeight - toleratedGaugeWeight; // always >0

/// @audit this subtraction is checked on line 758
759:             interest = creditFromBidder - principal;

```
*Github:* [[312](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L312), [319](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L319), [759](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L759)]


```solidity
File: src/loan/SurplusGuildMinter.sol

/// @audit this subtraction is checked on line 303
304:             uint256 guildAmount = guildAfter - guildBefore;

/// @audit this subtraction is checked on line 303
309:             uint256 guildAmount = guildBefore - guildAfter;

```
*Github:* [[304](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L304), [309](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L309)]


```solidity
File: src/tokens/ERC20Gauges.sol

/// @audit this subtraction is checked on line 322
321:         getUserGaugeWeight[user][gauge] = oldWeight - weight;

```
*Github:* [[321](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L321)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

/// @audit this subtraction is checked on line 124
392:         return a - b;

```
*Github:* [[392](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L392)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

/// @audit this subtraction is checked on line 179
181:                     sharesAfter = sharesBefore - shareDecrease;

/// @audit this subtraction is checked on line 406
409:             return _totalSupply - _rebasingSupply;

```
*Github:* [[181](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L181), [409](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L409)]


```solidity
File: src/utils/RateLimitedV2.sol

/// @audit this subtraction is checked on line 97
100:         uint224 newBufferStored = (newBuffer - amount).safeCastTo224();

```
*Github:* [[100](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L100)]


</details>


<a name="GAS-41"></a> 
### [GAS-41] Using bitmap to store bool states can save gas
Using a bitmap instead of a bool array or a bool mapping to store boolean states can save gas fees. This is because the bitmap can store 256 boolean values in a single slot instead of 256 slots, which can save gas when writing bool values or when reading multiple bool values from the same slot.

*There are <b>5</b> instances of this issue:*
```solidity
File: src/governance/GuildVetoGovernor.sol

121:         mapping(address => bool) hasVoted;

```
*Github:* [[121](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L121)]


```solidity
File: src/governance/LendingTermOffboarding.sol

61:     mapping(address => bool) public canOffboard;

```
*Github:* [[61](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L61)]


```solidity
File: src/governance/LendingTermOnboarding.sol

30:     mapping(address => bool) public implementations;

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L30)]


```solidity
File: src/tokens/ERC20Gauges.sol

393:     mapping(address => bool) public canExceedMaxGauges;

```
*Github:* [[393](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L393)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

144:     mapping(address => bool) public canContractExceedMaxDelegates;

```
*Github:* [[144](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L144)]



<a name="GAS-42"></a> 
### [GAS-42] Using `constant`s directly, rather than caching the value, saves gas

*There is one instance of this issue:*
```solidity
File: src/tokens/ERC20RebaseDistributor.sol

/// @audit `DISTRIBUTION_PERIOD`
364:             uint256 endTimestamp = block.timestamp + DISTRIBUTION_PERIOD;

```
*Github:* [[364](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L364)]



<a name="GAS-43"></a> 
### [GAS-43] `abi.encodePacked` is more gas efficient than `abi.encode`
`abi.encode` pads all elementary types to 32 bytes, whereas `abi.encodePacked` will only use the minimal required memory to encode the data. See [here](https://docs.soliditylang.org/en/v0.8.11/abi-spec.html?highlight=encodepacked#non-standard-packed-mode) for more info.

*There are <b>2</b> instances of this issue:*
```solidity
File: src/loan/LendingTerm.sol

348:             abi.encode(borrower, address(this), block.timestamp)

```
*Github:* [[348](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L348)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

489:                         abi.encode(

```
*Github:* [[489](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L489)]



<a name="GAS-44"></a> 
### [GAS-44] Using bools for storage incurs overhead
Use uint256(1) and uint256(2) for true/false to avoid a Gwarmaccess (100 gas), and to avoid Gsset (20000 gas) when changing from ‘false’ to ‘true’, after having been ‘true’ in the past. See [source](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/58f635312aa21f947cae5f8578638a85aa2519f5/contracts/security/ReentrancyGuard.sol#L23-L27).

*There are <b>7</b> instances of this issue:*
```solidity
File: src/governance/GuildVetoGovernor.sol

121:         mapping(address => bool) hasVoted;

```
*Github:* [[121](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L121)]


```solidity
File: src/governance/LendingTermOffboarding.sol

61:     mapping(address => bool) public canOffboard;

```
*Github:* [[61](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L61)]


```solidity
File: src/governance/LendingTermOnboarding.sol

30:     mapping(address => bool) public implementations;

```
*Github:* [[30](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L30)]


```solidity
File: src/loan/SimplePSM.sol

46:     bool public redemptionsPaused;

```
*Github:* [[46](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L46)]


```solidity
File: src/tokens/ERC20Gauges.sol

393:     mapping(address => bool) public canExceedMaxGauges;

```
*Github:* [[393](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L393)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

144:     mapping(address => bool) public canContractExceedMaxDelegates;

```
*Github:* [[144](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L144)]


```solidity
File: src/tokens/GuildToken.sol

169:     bool public transferable; // default = false

```
*Github:* [[169](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L169)]



<a name="GAS-45"></a> 
### [GAS-45] Cache array length outside of loop
If not cached, the solidity compiler will always read the length of the array during each iteration. That is, if it is a storage array, this is an extra sload operation (100 additional extra gas for each iteration except for the first) and if it is a memory array, this is an extra mload operation (3 additional gas for each iteration except for the first).

*There are <b>5</b> instances of this issue:*
```solidity
File: src/core/CoreRef.sol

96:         for (uint256 i = 0; i < calls.length; i++) {

```
*Github:* [[96](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L96)]


```solidity
File: src/governance/ProfitManager.sol

443:         for (uint256 i = 0; i < gauges.length; ) {

467:         for (uint256 i = 0; i < gauges.length; ) {

```
*Github:* [[443](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L443), [467](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L467)]


```solidity
File: src/loan/LendingTerm.sol

685:         for (uint256 i = 0; i < loanIds.length; i++) {

```
*Github:* [[685](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L685)]


```solidity
File: src/tokens/ERC20Gauges.sol

134:         for (uint256 i; i < allGauges.length && j < _liveGauges.length; ) {

```
*Github:* [[134](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L134)]



<a name="GAS-46"></a> 
### [GAS-46] State variables should be cached in stack variables rather than re-reading them from storage
The instances below point to the second+ access of a state variable within a function. Caching of a state variable replaces each Gwarmaccess (100 gas) with a much cheaper stack read. Other less obvious fixes/optimizations include having local memory caches of state variable structs, or having local caches of state variable contracts/addresses.

<details>
<summary>
There are <b>51</b> instances (click to show):
</summary>

```solidity
File: src/governance/ProfitManager.sol

/// @audit more than 1 read for `credit`, line 164 and 162
164:         credit = _credit;

/// @audit more than 1 read for `guild`, line 165 and 162
165:         guild = _guild;

/// @audit more than 1 read for `psm`, line 166 and 162
166:         psm = _psm;

/// @audit more than 1 read for `surplusBuffer`, line 254 and 253
254:         surplusBuffer = newSurplusBuffer;

/// @audit more than 1 read for `surplusBuffer`, line 272 and 271
272:         surplusBuffer = newSurplusBuffer;

/// @audit more than 1 read for `termSurplusBuffer`, line 309 and 297
309:             if (_termSurplusBuffer != 0) {

/// @audit more than 1 read for `surplusBuffer`, line 312 and 296
312:                 _surplusBuffer += _termSurplusBuffer;

/// @audit more than 1 read for `surplusBuffer`, line 317 and 296
317:                 surplusBuffer = _surplusBuffer - loss;

/// @audit more than 1 read for `surplusBuffer`, line 326 and 296
326:                 surplusBuffer = 0;

/// @audit more than 1 read for `surplusBuffer`, line 362 and 296
362:                 surplusBuffer = _surplusBuffer + amountForSurplusBuffer;

/// @audit more than 1 read for `gaugeProfitIndex`, line 393 and 392
393:                     if (_gaugeProfitIndex == 0) {

/// @audit more than 1 read for `gaugeProfitIndex`, line 394 and 392
394:                         _gaugeProfitIndex = 1e18;

/// @audit more than 1 read for `gaugeProfitIndex`, line 421 and 419
421:         if (_gaugeProfitIndex == 0) {

/// @audit more than 1 read for `gaugeProfitIndex`, line 422 and 419
422:             _gaugeProfitIndex = 1e18;

/// @audit more than 1 read for `userGaugeProfitIndex`, line 424 and 420
424:         if (_userGaugeProfitIndex == 0) {

/// @audit more than 1 read for `userGaugeProfitIndex`, line 425 and 420
425:             _userGaugeProfitIndex = 1e18;

/// @audit more than 1 read for `gaugeProfitIndex`, line 472 and 469
472:             if (_gaugeProfitIndex == 0) {

/// @audit more than 1 read for `gaugeProfitIndex`, line 473 and 469
473:                 _gaugeProfitIndex = 1e18;

/// @audit more than 1 read for `userGaugeProfitIndex`, line 475 and 470
475:             if (_userGaugeProfitIndex == 0) {

/// @audit more than 1 read for `userGaugeProfitIndex`, line 476 and 470
476:                 _userGaugeProfitIndex = 1e18;

```
*Github:* [[164](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L164), [165](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L165), [166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L166), [254](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L254), [272](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L272), [309](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L309), [312](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L312), [317](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L317), [326](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L326), [362](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L362), [393](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L393), [394](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L394), [421](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L421), [422](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L422), [424](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L424), [425](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L425), [472](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L472), [473](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L473), [475](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L475), [476](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L476)]


```solidity
File: src/loan/AuctionHouse.sol

/// @audit more than 1 read for `auctions`, line 136 and 122
136:             creditAsked = auctions[loanId].callDebt;

/// @audit more than 1 read for `auctions`, line 140 and 122
140:             uint256 _collateralAmount = auctions[loanId].collateralAmount; // SLOAD

/// @audit more than 1 read for `auctions`, line 146 and 122
146:             collateralReceived = auctions[loanId].collateralAmount;

/// @audit more than 1 read for `auctions`, line 151 and 122
151:             uint256 _callDebt = auctions[loanId].callDebt; // SLOAD

/// @audit more than 1 read for `auctions`, line 158 and 122
158:             collateralReceived = auctions[loanId].collateralAmount;

```
*Github:* [[136](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L136), [140](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L140), [146](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L146), [151](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L151), [158](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L158)]


```solidity
File: src/loan/LendingTerm.sol

/// @audit more than 1 read for `issuance`, line 309 and 293
309:         if (_issuance >= debtCeilingBefore) {

/// @audit more than 1 read for `issuance`, line 412 and 371
412:         issuance = _postBorrowIssuance;

/// @audit more than 1 read for `issuance`, line 536 and 534
536:         issuance -= issuanceDecrease;

/// @audit more than 1 read for `loans`, line 711 and 696
711:         uint256 borrowAmount = loans[loanId].borrowAmount;

/// @audit more than 1 read for `loans`, line 753 and 745
753:         uint256 borrowAmount = loans[loanId].borrowAmount;

```
*Github:* [[309](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L309), [412](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L412), [536](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L536), [711](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L711), [753](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L753)]


```solidity
File: src/tokens/ERC20Gauges.sol

/// @audit more than 1 read for `maxGauges`, line 446 and 445
446:         maxGauges = newMax;

```
*Github:* [[446](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L446)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

/// @audit more than 1 read for `maxDelegates`, line 149 and 148
149:         maxDelegates = newMax;

/// @audit more than 1 read for `_delegates`, line 447 and 437
447:             uint256 delegateVotes = _delegatesVotesCount[user][delegatee];

```
*Github:* [[149](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L149), [447](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L447)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

/// @audit more than 1 read for `totalRebasingShares`, line 186 and 173
186:         totalRebasingShares = sharesAfter;

/// @audit more than 1 read for `__rebasingSharePrice`, line 210 and 190
210:         InterpolatedValue memory val = __rebasingSharePrice;

/// @audit more than 1 read for `__rebasingSharePrice`, line 218 and 190
218:             __rebasingSharePrice = InterpolatedValue({

/// @audit more than 1 read for `__unmintedRebaseRewards`, line 231 and 229
231:         __unmintedRebaseRewards = InterpolatedValue({

/// @audit more than 1 read for `rebasingState`, line 560 and 559
560:         RebasingState memory rebasingStateTo = rebasingState[to];

/// @audit more than 1 read for `rebasingState`, line 594 and 559
594:             uint256 sharesSpent = rebasingStateFrom.nShares - fromSharesAfter;

/// @audit more than 1 read for `rebasingState`, line 654 and 653
654:         RebasingState memory rebasingStateTo = rebasingState[to];

/// @audit more than 1 read for `rebasingState`, line 688 and 653
688:             uint256 sharesSpent = rebasingStateFrom.nShares - fromSharesAfter;

```
*Github:* [[186](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L186), [210](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L210), [218](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L218), [231](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L231), [560](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L560), [594](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L594), [654](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L654), [688](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L688)]


```solidity
File: src/tokens/GuildToken.sol

/// @audit more than 1 read for `lastGaugeLoss`, line 136 and 135
136:         uint256 _lastGaugeLossApplied = lastGaugeLossApplied[gauge][who];

/// @audit more than 1 read for `lastGaugeLoss`, line 138 and 135
138:             _lastGaugeLoss != 0 && _lastGaugeLossApplied < _lastGaugeLoss,

/// @audit more than 1 read for `lastGaugeLoss`, line 213 and 212
213:         uint256 _lastGaugeLossApplied = lastGaugeLossApplied[gauge][user];

/// @audit more than 1 read for `lastGaugeLossApplied`, line 215 and 213
215:             _lastGaugeLossApplied >= _lastGaugeLoss,

/// @audit more than 1 read for `lastGaugeLoss`, line 248 and 247
248:         uint256 _lastGaugeLossApplied = lastGaugeLossApplied[gauge][user];

/// @audit more than 1 read for `lastGaugeLossApplied`, line 253 and 248
253:                 _lastGaugeLossApplied >= _lastGaugeLoss,

```
*Github:* [[136](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L136), [138](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L138), [213](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L213), [215](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L215), [248](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L248), [253](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L253)]


```solidity
File: src/utils/RateLimitedV2.sol

/// @audit more than 1 read for `rateLimitPerSecond`, line 140 and 139
140:         rateLimitPerSecond = newRateLimitPerSecond;

/// @audit more than 1 read for `bufferCap`, line 153 and 152
153:         bufferCap = newBufferCap;

/// @audit more than 1 read for `bufferStored`, line 166 and 163
166:             bufferStored = newBufferStored;

/// @audit more than 1 read for `lastBufferUsedTime`, line 167 and 164
167:             lastBufferUsedTime = newBlockTimestamp;

```
*Github:* [[140](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L140), [153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L153), [166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L166), [167](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L167)]


</details>


<a name="GAS-47"></a> 
### [GAS-47] Use `calldata` instead of `memory` for function arguments that do not get mutated
Mark data types as `calldata` instead of `memory` where possible. This makes it so that the data is not automatically loaded into memory. If the data passed into the function does not need to be changed (like updating values in an array), it can be passed in as `calldata`. The one exception to this is if the argument must later be passed into another function that takes an argument that specifies `memory` storage.

<details>
<summary>
There are <b>15</b> instances (click to show):
</summary>

```solidity
File: src/governance/GuildGovernor.sol

111:         address[] memory targets,

112:         uint256[] memory values,

113:         bytes[] memory calldatas,

```
*Github:* [[111](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L111), [112](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L112), [113](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildGovernor.sol#L113)]


```solidity
File: src/governance/GuildVetoGovernor.sol

305:         address[] memory /* targets*/,

306:         uint256[] memory /* values*/,

307:         bytes[] memory /* calldatas*/,

308:         string memory /* description*/

```
*Github:* [[305](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L305), [306](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L306), [307](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L307), [308](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L308)]


```solidity
File: src/governance/LendingTermOnboarding.sol

64:         LendingTerm.LendingTermReferences memory _lendingTermReferences,

172:         address[] memory /* targets*/,

173:         uint256[] memory /* values*/,

174:         bytes[] memory /* calldatas*/,

175:         string memory /* description*/

```
*Github:* [[64](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L64), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L172), [173](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L173), [174](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L174), [175](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L175)]


```solidity
File: src/loan/LendingTerm.sol

683:     function callMany(bytes32[] memory loanIds) public {

```
*Github:* [[683](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L683)]


```solidity
File: src/tokens/CreditToken.sol

26:         string memory _name,

27:         string memory _symbol

```
*Github:* [[26](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L26), [27](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L27)]


</details>


<a name="GAS-48"></a> 
### [GAS-48] Use Custom Errors
[Source](https://blog.soliditylang.org/2021/04/21/custom-errors/)
Instead of using error strings, to reduce deployment and runtime cost, you should use Custom Errors. This would save both deployment and runtime cost.

<details>
<summary>
There are <b>55</b> instances (click to show):
</summary>

```solidity
File: src/core/CoreRef.sol

25:         require(_core.hasRole(role, msg.sender), "UNAUTHORIZED");

104:             require(success, "CoreRef: underlying call reverted");

```
*Github:* [[25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L25), [104](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L104)]


```solidity
File: src/governance/GuildVetoGovernor.sol

213:             revert("GuildVetoGovernor: can only vote against in veto proposals");

310:         revert("GuildVetoGovernor: cannot propose arbitrary actions");

```
*Github:* [[213](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L213), [310](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L310)]


```solidity
File: src/governance/LendingTermOffboarding.sol

125:         require(_weight != 0, "LendingTermOffboarding: poll not found");

130:         require(userWeight != 0, "LendingTermOffboarding: zero weight");

154:         require(canOffboard[term], "LendingTermOffboarding: quorum not met");

176:         require(canOffboard[term], "LendingTermOffboarding: quorum not met");

```
*Github:* [[125](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L125), [130](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L130), [154](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L154), [176](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L176)]


```solidity
File: src/governance/LendingTermOnboarding.sol

177:         revert("LendingTermOnboarding: cannot propose arbitrary actions");

185:         require(created[term] != 0, "LendingTermOnboarding: invalid term");

200:         require(!isGauge, "LendingTermOnboarding: active term");

```
*Github:* [[177](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L177), [185](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L185), [200](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L200)]


```solidity
File: src/governance/ProfitManager.sol

203:             require(otherSplit == 0, "GuildToken: invalid config");

205:             require(otherSplit != 0, "GuildToken: invalid config");

```
*Github:* [[203](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L203), [205](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L205)]


```solidity
File: src/loan/AuctionHouse.sol

61:         require(_midPoint < _auctionDuration, "AuctionHouse: invalid params");

123:         require(_startTime != 0, "AuctionHouse: invalid auction");

126:         require(auctions[loanId].endTime == 0, "AuctionHouse: auction ended");

172:         require(creditAsked != 0, "AuctionHouse: cannot bid 0");

206:         require(creditAsked == 0, "AuctionHouse: ongoing auction");

```
*Github:* [[61](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L61), [123](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L123), [126](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L126), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L172), [206](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L206)]


```solidity
File: src/loan/LendingTerm.sol

344:         require(borrowAmount != 0, "LendingTerm: cannot borrow 0");

345:         require(collateralAmount != 0, "LendingTerm: cannot stake 0");

352:         require(loans[loanId].borrowTime == 0, "LendingTerm: loan exists");

392:             require(_debtCeiling != 0, "LendingTerm: debt ceiling reached");

453:         require(collateralToAdd != 0, "LendingTerm: cannot add 0");

458:         require(loan.borrowTime != 0, "LendingTerm: loan not found");

459:         require(loan.closeTime == 0, "LendingTerm: loan closed");

460:         require(loan.callTime == 0, "LendingTerm: loan called");

499:         require(borrowTime != 0, "LendingTerm: loan not found");

504:         require(loan.closeTime == 0, "LendingTerm: loan closed");

505:         require(loan.callTime == 0, "LendingTerm: loan called");

509:         require(debtToRepay < loanDebt, "LendingTerm: full repayment");

572:         require(borrowTime != 0, "LendingTerm: loan not found");

577:         require(loan.closeTime == 0, "LendingTerm: loan closed");

578:         require(loan.callTime == 0, "LendingTerm: loan called");

643:         require(loan.borrowTime != 0, "LendingTerm: loan not found");

646:         require(loan.closeTime == 0, "LendingTerm: loan closed");

649:         require(loan.callTime == 0, "LendingTerm: loan called");

699:         require(loan.borrowTime != 0, "LendingTerm: loan not found");

702:         require(loan.closeTime == 0, "LendingTerm: loan closed");

733:         require(msg.sender == refs.auctionHouse, "LendingTerm: invalid caller");

738:         require(loans[loanId].closeTime == 0, "LendingTerm: loan closed");

```
*Github:* [[344](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L344), [345](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L345), [352](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L352), [392](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L392), [453](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L453), [458](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L458), [459](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L459), [460](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L460), [499](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L499), [504](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L504), [505](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L505), [509](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L509), [572](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L572), [577](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L577), [578](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L578), [643](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L643), [646](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L646), [649](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L649), [699](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L699), [702](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L702), [733](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L733), [738](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L738)]


```solidity
File: src/loan/SimplePSM.sol

138:         require(!redemptionsPaused, "SimplePSM: redemptions paused");

```
*Github:* [[138](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SimplePSM.sol#L138)]


```solidity
File: src/loan/SurplusGuildMinter.sol

125:         require(amount >= MIN_STAKE, "SurplusGuildMinter: min stake");

```
*Github:* [[125](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L125)]


```solidity
File: src/tokens/ERC20Gauges.sol

223:         require(isGauge(gauge), "ERC20Gauges: invalid gauge");

237:             require(canExceedMaxGauges[user], "ERC20Gauges: exceed max gauges");

255:         require(newUserWeight <= balanceOf(user), "ERC20Gauges: overweight");

274:         require(weights.length == size, "ERC20Gauges: size mismatch");

285:             require(isGauge(gauge), "ERC20Gauges: invalid gauge");

345:         require(weights.length == size, "ERC20Gauges: size mismatch");

412:             require(gaugeType[gauge] == _type, "ERC20Gauges: invalid type");

```
*Github:* [[223](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L223), [237](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L237), [255](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L255), [274](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L274), [285](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L285), [345](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L345), [412](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L412)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

297:         require(count < 2, "ERC20MultiVotes: delegation error");

502:         require(nonce == _useNonce(signer), "ERC20MultiVotes: invalid nonce");

```
*Github:* [[297](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L297), [502](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L502)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

339:         require(amount != 0, "ERC20RebaseDistributor: cannot distribute zero");

```
*Github:* [[339](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L339)]


```solidity
File: src/tokens/GuildToken.sol

124:         require(msg.sender == profitManager, "UNAUTHORIZED");

```
*Github:* [[124](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L124)]


```solidity
File: src/utils/RateLimitedV2.sol

96:         require(newBuffer != 0, "RateLimited: no rate limit buffer");

97:         require(amount <= newBuffer, "RateLimited: rate limit hit");

```
*Github:* [[96](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L96), [97](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L97)]


</details>


<a name="GAS-49"></a> 
### [GAS-49] Don't initialize variables with default value

*There are <b>9</b> instances of this issue:*
```solidity
File: src/core/CoreRef.sol

96:         for (uint256 i = 0; i < calls.length; i++) {

```
*Github:* [[96](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L96)]


```solidity
File: src/governance/ProfitManager.sol

443:         for (uint256 i = 0; i < gauges.length; ) {

467:         for (uint256 i = 0; i < gauges.length; ) {

```
*Github:* [[443](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L443), [467](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L467)]


```solidity
File: src/loan/LendingTerm.sol

685:         for (uint256 i = 0; i < loanIds.length; i++) {

```
*Github:* [[685](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L685)]


```solidity
File: src/tokens/ERC20Gauges.sol

280:         for (uint256 i = 0; i < size; ) {

352:         for (uint256 i = 0; i < size; ) {

516:             uint256 i = 0;

```
*Github:* [[280](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L280), [352](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L352), [516](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L516)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

109:         uint256 low = 0;

442:             uint256 i = 0;

```
*Github:* [[109](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L109), [442](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L442)]



<a name="GAS-50"></a> 
### [GAS-50] Usage of `int`s/`uint`s smaller than 32 bytes incurs overhead
Using `int`s/`uint`s smaller than 32 bytes may cost more gas. This is because the EVM operates on 32 bytes at a time, so if an element is smaller than 32 bytes, the EVM must perform more operations to reduce the size of the element from 32 bytes to the desired size.

<details>
<summary>
There are <b>41</b> instances (click to show):
</summary>

```solidity
File: src/governance/GuildVetoGovernor.sol

198:         uint8 support,

210:         if (support == uint8(VoteType.Against)) {

```
*Github:* [[198](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L198), [210](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L210)]


```solidity
File: src/governance/ProfitManager.sol

49:         uint32 surplusBufferSplit; // percentage, with 9 decimals (!) that go to surplus buffer

50:         uint32 guildSplit; // percentage, with 9 decimals (!) that go to GUILD holders

51:         uint32 otherSplit; // percentage, with 9 decimals (!) that go to other address if != address(0)

213:             surplusBufferSplit: uint32(surplusBufferSplit / 1e9),

214:             guildSplit: uint32(guildSplit / 1e9),

215:             otherSplit: uint32(otherSplit / 1e9),

```
*Github:* [[49](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L49), [50](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L50), [51](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L51), [213](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L213), [214](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L214), [215](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L215)]


```solidity
File: src/loan/LendingTerm.sol

62:         uint8 v;

```
*Github:* [[62](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L62)]


```solidity
File: src/loan/SurplusGuildMinter.sol

78:         uint48 stakeTime;

79:         uint48 lastGaugeLoss;

80:         uint160 profitIndex;

81:         uint128 credit;

82:         uint128 guild;

277:                 stakeTime: uint48(0),

278:                 lastGaugeLoss: uint48(0),

279:                 profitIndex: uint160(0),

280:                 credit: uint128(0),

281:                 guild: uint128(0)

```
*Github:* [[78](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L78), [79](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L79), [80](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L80), [81](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L81), [82](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L82), [277](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L277), [278](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L278), [279](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L279), [280](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L280), [281](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L281)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

35:         uint128 _rateLimitPerSecond,

36:         uint128 _bufferCap

```
*Github:* [[35](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L35), [36](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L36)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

44:         uint32 fromBlock;

54:         uint32 pos

62:     ) public view virtual returns (uint32) {

475:         uint8 v,

```
*Github:* [[44](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L44), [54](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L54), [62](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L62), [475](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L475)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

78:         uint8 isRebasing;

100:         uint32 lastTimestamp;

102:         uint32 targetTimestamp;

```
*Github:* [[78](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L78), [100](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L100), [102](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L102)]


```solidity
File: src/utils/RateLimitedV2.sol

23:     uint128 public rateLimitPerSecond;

26:     uint128 public bufferCap;

31:     uint32 public lastBufferUsedTime;

42:         uint128 _rateLimitPerSecond,

43:         uint128 _bufferCap

62:         uint128 newRateLimitPerSecond

76:         uint128 newBufferCap

99:         uint32 blockTimestamp = block.timestamp.safeCastTo32();

124:         uint32 blockTimestamp = block.timestamp.safeCastTo32();

138:     function _setRateLimitPerSecond(uint128 newRateLimitPerSecond) internal {

149:     function _setBufferCap(uint128 newBufferCap) internal {

158:     function _updateBufferStored(uint128 newBufferCap) internal {

160:         uint32 newBlockTimestamp = block.timestamp.safeCastTo32();

```
*Github:* [[23](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L23), [26](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L26), [31](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L31), [42](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L42), [43](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L43), [62](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L62), [76](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L76), [99](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L99), [124](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L124), [138](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L138), [149](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L149), [158](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L158), [160](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L160)]


</details>


<a name="GAS-51"></a> 
### [GAS-51] Constructors can be marked as `payable` to save deployment gas
Payable functions cost less gas to execute, because the compiler does not have to add extra checks to ensure that no payment is provided. A constructor can be safely marked as payable, because only the deployer would be able to pass funds, and the project itself would not pass any funds.

*There are <b>4</b> instances of this issue:*
```solidity
File: src/core/Core.sol

12:     constructor() {

```
*Github:* [[12](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/Core.sol#L12)]


```solidity
File: src/core/CoreRef.sol

19:     constructor(address coreAddress) {

```
*Github:* [[19](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L19)]


```solidity
File: src/governance/ProfitManager.sol

106:     constructor(address _core) CoreRef(_core) {

```
*Github:* [[106](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L106)]


```solidity
File: src/loan/LendingTerm.sol

153:     constructor() CoreRef(address(1)) {

```
*Github:* [[153](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L153)]



<a name="GAS-52"></a> 
### [GAS-52] Functions guaranteed to revert when called by normal users can be marked `payable`
If a function modifier such as `onlyOwner` is used, the function will revert if a normal user tries to pay the function. Marking the function as `payable` will lower the gas cost for legitimate callers because the compiler will not include checks for whether a payment was provided.

*There are <b>6</b> instances of this issue:*
```solidity
File: src/core/CoreRef.sol

57:     function pause() public onlyCoreRole(CoreRoles.GUARDIAN) {

62:     function unpause() public onlyCoreRole(CoreRoles.GUARDIAN) {

```
*Github:* [[57](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L57), [62](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L62)]


```solidity
File: src/loan/LendingTerm.sol

695:     function forgive(bytes32 loanId) external onlyCoreRole(CoreRoles.GOVERNOR) {

```
*Github:* [[695](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L695)]


```solidity
File: src/rate-limits/RateLimitedMinter.sol

60:     function replenishBuffer(uint256 amount) external onlyCoreRole(role) {

```
*Github:* [[60](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/rate-limits/RateLimitedMinter.sol#L60)]


```solidity
File: src/tokens/GuildToken.sol

175:     function enableTransfer() external onlyCoreRole(CoreRoles.GOVERNOR) {

197:     function setProfitManager(address _newProfitManager) external onlyCoreRole(CoreRoles.GOVERNOR) {

```
*Github:* [[175](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L175), [197](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L197)]



<a name="GAS-53"></a> 
### [GAS-53] `++i` costs less gas than `i++`, especially when it's used in `for`-loops (`--i`/`i--` too)
*Saves 5 gas per loop*

*There are <b>2</b> instances of this issue:*
```solidity
File: src/core/CoreRef.sol

96:         for (uint256 i = 0; i < calls.length; i++) {

```
*Github:* [[96](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/core/CoreRef.sol#L96)]


```solidity
File: src/loan/LendingTerm.sol

685:         for (uint256 i = 0; i < loanIds.length; i++) {

```
*Github:* [[685](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L685)]



<a name="GAS-54"></a> 
### [GAS-54] Using `private` rather than `public` for constants, saves gas
If needed, the values can be read from the verified contract source code, or if there are multiple values there can be a single getter function that [returns a tuple](https://github.com/code-423n4/2022-08-frax/blob/90f55a9ce4e25bceed3a74290b854341d8de6afa/src/contracts/FraxlendPair.sol#L156-L178) of the values of all currently-public constants. Saves **3406-3606 gas** in deployment gas due to the compiler not having to create non-payable getter functions for deployment calldata, not having to store the bytes of the value outside of where it's used, and not adding another entry to the method ID table

*There are <b>7</b> instances of this issue:*
```solidity
File: src/governance/LendingTermOffboarding.sol

36:     uint256 public constant POLL_DURATION_BLOCKS = 46523; // ~7 days @ 13s/block

```
*Github:* [[36](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L36)]


```solidity
File: src/governance/LendingTermOnboarding.sol

25:     uint256 public constant MIN_DELAY_BETWEEN_PROPOSALS = 7 days;

```
*Github:* [[25](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L25)]


```solidity
File: src/loan/LendingTerm.sol

68:     uint256 public constant YEAR = 31557600;

```
*Github:* [[68](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L68)]


```solidity
File: src/loan/SurplusGuildMinter.sol

26:     uint256 public constant MIN_STAKE = 1e18;

29:     uint256 public constant YEAR = 31557600;

```
*Github:* [[26](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L26), [29](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L29)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

467:     bytes32 public constant DELEGATION_TYPEHASH =

```
*Github:* [[467](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L467)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

97:     uint256 public constant DISTRIBUTION_PERIOD = 30 days;

```
*Github:* [[97](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L97)]



<a name="GAS-55"></a> 
### [GAS-55] Using assembly to check for zero can save gas
Using assembly to check for zero can save gas by allowing more direct access to the evm and reducing some of the overhead associated with high-level operations in solidity.

<details>
<summary>
There are <b>131</b> instances (click to show):
</summary>

```solidity
File: src/governance/GuildVetoGovernor.sol

255:         assert(queueid != bytes32(0));

274:         if (timelockOperationTimestamp == 0) {

```
*Github:* [[255](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L255), [274](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/GuildVetoGovernor.sol#L274)]


```solidity
File: src/governance/LendingTermOffboarding.sol

91:             polls[block.number][term] == 0,

125:         require(_weight != 0, "LendingTermOffboarding: poll not found");

130:         require(userWeight != 0, "LendingTermOffboarding: zero weight");

132:             userPollVotes[msg.sender][snapshotBlock][term] == 0,

163:             nOffboardingsInProgress++ == 0 &&

178:             LendingTerm(term).issuance() == 0,

192:             --nOffboardingsInProgress == 0 && SimplePSM(psm).redemptionsPaused()

```
*Github:* [[91](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L91), [125](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L125), [130](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L130), [132](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L132), [163](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L163), [178](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L178), [192](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOffboarding.sol#L192)]


```solidity
File: src/governance/LendingTermOnboarding.sol

123:             params.maxDebtPerCollateralToken != 0, // must be able to mint non-zero debt

149:             params.hardCap != 0, // non-zero hardcap

185:         require(created[term] != 0, "LendingTermOnboarding: invalid term");

```
*Github:* [[123](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L123), [149](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L149), [185](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/LendingTermOnboarding.sol#L185)]


```solidity
File: src/governance/ProfitManager.sol

162:             credit == address(0) && guild == address(0) && psm == address(0)

162:             credit == address(0) && guild == address(0) && psm == address(0)

162:             credit == address(0) && guild == address(0) && psm == address(0)

202:         if (otherRecipient == address(0)) {

203:             require(otherSplit == 0, "GuildToken: invalid config");

205:             require(otherSplit != 0, "GuildToken: invalid config");

309:             if (_termSurplusBuffer != 0) {

361:             if (amountForSurplusBuffer != 0) {

370:             if (amountForOther != 0) {

378:             if (amountForCredit != 0) {

383:             if (amountForGuild != 0) {

391:                 if (_gaugeWeight != 0) {

393:                     if (_gaugeProfitIndex == 0) {

416:         if (_userGaugeWeight == 0) {

421:         if (_gaugeProfitIndex == 0) {

424:         if (_userGaugeProfitIndex == 0) {

428:         if (deltaIndex != 0) {

432:         if (creditEarned != 0) {

472:             if (_gaugeProfitIndex == 0) {

475:             if (_userGaugeProfitIndex == 0) {

479:             if (deltaIndex != 0) {

```
*Github:* [[162](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L162), [162](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L162), [162](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L162), [202](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L202), [203](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L203), [205](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L205), [309](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L309), [361](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L361), [370](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L370), [378](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L378), [383](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L383), [391](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L391), [393](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L393), [416](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L416), [421](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L421), [424](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L424), [428](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L428), [432](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L432), [472](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L472), [475](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L475), [479](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/governance/ProfitManager.sol#L479)]


```solidity
File: src/loan/AuctionHouse.sol

91:             auctions[loanId].startTime == 0,

123:         require(_startTime != 0, "AuctionHouse: invalid auction");

126:         require(auctions[loanId].endTime == 0, "AuctionHouse: auction ended");

172:         require(creditAsked != 0, "AuctionHouse: cannot bid 0");

206:         require(creditAsked == 0, "AuctionHouse: ongoing auction");

```
*Github:* [[91](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L91), [123](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L123), [126](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L126), [172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L172), [206](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/AuctionHouse.sol#L206)]


```solidity
File: src/loan/LendingTerm.sol

166:         assert(address(core()) == address(0));

167:         assert(_core != address(0));

204:         if (borrowTime == 0) {

208:         if (loan.closeTime != 0) {

212:         if (loan.callTime != 0) {

225:         if (_openingFee != 0) {

241:         if (params.maxDelayBetweenPartialRepay == 0) return false;

244:         if (loans[loanId].borrowTime == 0) return false;

247:         if (loans[loanId].closeTime != 0) return false;

285:         if (gaugeWeight == 0) {

298:         if (totalBorrowedCredit == 0 && gaugeWeight != 0) {

298:         if (totalBorrowedCredit == 0 && gaugeWeight != 0) {

344:         require(borrowAmount != 0, "LendingTerm: cannot borrow 0");

345:         require(collateralAmount != 0, "LendingTerm: cannot stake 0");

352:         require(loans[loanId].borrowTime == 0, "LendingTerm: loan exists");

388:         if (totalBorrowedCredit == 0) {

392:             require(_debtCeiling != 0, "LendingTerm: debt ceiling reached");

413:         if (params.maxDelayBetweenPartialRepay != 0) {

453:         require(collateralToAdd != 0, "LendingTerm: cannot add 0");

458:         require(loan.borrowTime != 0, "LendingTerm: loan not found");

459:         require(loan.closeTime == 0, "LendingTerm: loan closed");

460:         require(loan.callTime == 0, "LendingTerm: loan called");

499:         require(borrowTime != 0, "LendingTerm: loan not found");

504:         require(loan.closeTime == 0, "LendingTerm: loan closed");

505:         require(loan.callTime == 0, "LendingTerm: loan called");

520:             principalRepaid != 0 && interestRepaid != 0,

520:             principalRepaid != 0 && interestRepaid != 0,

572:         require(borrowTime != 0, "LendingTerm: loan not found");

577:         require(loan.closeTime == 0, "LendingTerm: loan closed");

578:         require(loan.callTime == 0, "LendingTerm: loan called");

595:         if (interest != 0) {

643:         require(loan.borrowTime != 0, "LendingTerm: loan not found");

646:         require(loan.closeTime == 0, "LendingTerm: loan closed");

649:         require(loan.callTime == 0, "LendingTerm: loan called");

699:         require(loan.borrowTime != 0, "LendingTerm: loan not found");

702:         require(loan.closeTime == 0, "LendingTerm: loan closed");

735:             loans[loanId].callTime != 0 && loans[loanId].callDebt != 0,

735:             loans[loanId].callTime != 0 && loans[loanId].callDebt != 0,

738:         require(loans[loanId].closeTime == 0, "LendingTerm: loan closed");

746:                 collateralOut == 0,

765:                 collateralToBorrower == 0,

774:         if (creditFromBidder != 0) {

783:         if (principal != 0) {

789:         if (pnl != 0) {

791:             if (interest != 0) {

804:         if (collateralToBorrower != 0) {

812:         if (collateralToBidder != 0) {

837:             AuctionHouse(refs.auctionHouse).nAuctionsInProgress() == 0,

```
*Github:* [[166](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L166), [167](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L167), [204](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L204), [208](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L208), [212](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L212), [225](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L225), [241](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L241), [244](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L244), [247](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L247), [285](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L285), [298](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L298), [298](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L298), [344](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L344), [345](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L345), [352](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L352), [388](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L388), [392](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L392), [413](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L413), [453](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L453), [458](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L458), [459](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L459), [460](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L460), [499](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L499), [504](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L504), [505](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L505), [520](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L520), [520](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L520), [572](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L572), [577](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L577), [578](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L578), [595](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L595), [643](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L643), [646](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L646), [649](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L649), [699](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L699), [702](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L702), [735](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L735), [735](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L735), [738](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L738), [746](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L746), [765](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L765), [774](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L774), [783](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L783), [789](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L789), [791](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L791), [804](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L804), [812](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L812), [837](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/LendingTerm.sol#L837)]


```solidity
File: src/loan/SurplusGuildMinter.sol

170:             amount != 0 && userStake.credit >= amount,

184:         if (userStake.credit == 0) {

235:         if (userStake.stakeTime == 0)

244:         if (_profitIndex == 0) _profitIndex = 1e18;

245:         if (_userProfitIndex == 0) _userProfitIndex = 1e18;

249:         if (deltaIndex != 0) {

258:             if (guildReward != 0) {

262:             if (creditReward != 0) {

298:         if (userStake.stakeTime == 0 || slashed) return;

```
*Github:* [[170](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L170), [184](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L184), [235](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L235), [244](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L244), [245](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L245), [249](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L249), [258](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L258), [262](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L262), [298](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/loan/SurplusGuildMinter.sol#L298)]


```solidity
File: src/tokens/CreditToken.sol

62:             rebasingState[account].isRebasing == 0,

```
*Github:* [[62](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/CreditToken.sol#L62)]


```solidity
File: src/tokens/ERC20Gauges.sol

189:         if (total == 0) return 0;

403:             gauge != address(0) && (newAdd || previouslyDeprecated),

417:         if (weight != 0) {

434:         if (weight != 0) {

458:                 account.code.length != 0,

522:             if (userGaugeWeight != 0) {

```
*Github:* [[189](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L189), [403](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L403), [417](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L417), [434](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L434), [458](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L458), [522](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L522)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

82:         return pos == 0 ? 0 : _checkpoints[account][pos - 1].votes;

119:         return high == 0 ? 0 : ckpts[high - 1].votes;

160:             !canExceedMax || account.code.length != 0,

311:         if (newDelegatee != address(0)) {

325:             delegatee != address(0) && free >= amount,

352:         if (newDelegates == 0) {

371:         uint256 oldWeight = pos == 0 ? 0 : ckpts[pos - 1].votes;

448:             if (delegateVotes != 0) {

503:         require(signer != address(0));

```
*Github:* [[82](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L82), [119](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L119), [160](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L160), [311](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L311), [325](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L325), [352](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L352), [371](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L371), [448](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L448), [503](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L503)]


```solidity
File: src/tokens/ERC20RebaseDistributor.sol

172:         if (sharesDelta == 0) return;

189:         if (sharesAfter == 0) {

212:         if (delta != 0) {

283:             rebasingState[msg.sender].isRebasing == 0,

323:         if (mintAmount != 0) {

339:         require(amount != 0, "ERC20RebaseDistributor: cannot distribute zero");

362:         if (_rebasingSupply != 0) {

430:         if (_rebasingState.isRebasing == 0) {

477:             if (mintAmount != 0) {

543:             if (mintAmount != 0) {

575:             if (mintAmount != 0) {

627:             if (mintAmount != 0) {

669:             if (mintAmount != 0) {

721:             if (mintAmount != 0) {

```
*Github:* [[172](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L172), [189](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L189), [212](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L212), [283](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L283), [323](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L323), [339](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L339), [362](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L362), [430](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L430), [477](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L477), [543](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L543), [575](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L575), [627](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L627), [669](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L669), [721](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20RebaseDistributor.sol#L721)]


```solidity
File: src/tokens/GuildToken.sol

138:             _lastGaugeLoss != 0 && _lastGaugeLossApplied < _lastGaugeLoss,

188:             transferable || from == address(0) || to == address(0),

188:             transferable || from == address(0) || to == address(0),

225:         if (issuance != 0) {

249:         if (getUserGaugeWeight[user][gauge] == 0) {

```
*Github:* [[138](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L138), [188](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L188), [188](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L188), [225](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L225), [249](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/GuildToken.sol#L249)]


```solidity
File: src/utils/RateLimitedV2.sol

96:         require(newBuffer != 0, "RateLimited: no rate limit buffer");

```
*Github:* [[96](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L96)]


</details>


<a name="GAS-56"></a> 
### [GAS-56] `internal` functions not called by the contract should be removed
If the functions are required by an interface, the contract should inherit from that interface and use the `override` keyword

*There are <b>8</b> instances of this issue:*
```solidity
File: src/tokens/ERC20Gauges.sol

395:     function _addGauge(

425:     function _removeGauge(address gauge) internal {

444:     function _setMaxGauges(uint256 newMax) internal {

452:     function _setCanExceedMaxGauges(

```
*Github:* [[395](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L395), [425](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L425), [444](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L444), [452](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20Gauges.sol#L452)]


```solidity
File: src/tokens/ERC20MultiVotes.sol

147:     function _setMaxDelegates(uint256 newMax) internal {

155:     function _setContractExceedMaxDelegates(

```
*Github:* [[147](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L147), [155](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/tokens/ERC20MultiVotes.sol#L155)]


```solidity
File: src/utils/RateLimitedV2.sol

93:     function _depleteBuffer(uint256 amount) internal {

111:     function _replenishBuffer(uint256 amount) internal {

```
*Github:* [[93](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L93), [111](https://github.com/code-423n4/2023-12-ethereumcreditguild/blob/8f439544b8a634e8f3c3db718416a39752cd471e/src/utils/RateLimitedV2.sol#L111)]



