# Report

Audit report for **2024-02-wise-lending** generated by *ubl4nk_bot*.

## Medium Issues


*Total <b>20</b> instances over <b>4</b> issues:*

|ID|Issue|Instances|
|-|:-|:-:|
| [M-1](#M-1) | No way to retrieve ETH from the contract | 4 |
| [M-2](#M-2) | Unchecked return value of low-level `call()`/`delegatecall()` | 2 |
| [M-3](#M-3) | No check if L2 sequencer is down | 7 |
| [M-4](#M-4) | Chainlink’s latestRoundData might return stale or incorrect results | 7 |

## Low Issues


*Total <b>692</b> instances over <b>22</b> issues:*

|ID|Issue|Instances|
|-|:-|:-:|
| [L-1](#L-1) | Missing zero address check in functions with address parameters | 258 |
| [L-2](#L-2) | Array is `push()`ed but not `pop()`ed | 2 |
| [L-3](#L-3) | Division by zero not prevented | 48 |
| [L-4](#L-4) | Consider implementing two-step procedure for updating protocol addresses | 13 |
| [L-5](#L-5) | Constructor / initialization function lacks parameter validation | 24 |
| [L-6](#L-6) | Code does not follow the best practice of check-effects-interaction | 58 |
| [L-7](#L-7) | External function calls within loops | 37 |
| [L-8](#L-8) | Loss of precision in divisions | 1 |
| [L-9](#L-9) | Missing checks for state variable assignments | 75 |
| [L-10](#L-10) | Missing limits when setting min/max amounts | 10 |
| [L-11](#L-11) | Missing zero address check in constructor | 22 |
| [L-12](#L-12) | Consider some checks for `address(0)` when setting address state variables | 31 |
| [L-13](#L-13) | NFT doesn't handle hard forks | 2 |
| [L-14](#L-14) | `receive()`/`fallback()` function does not authorize requests | 4 |
| [L-15](#L-15) | Unsafe downcast | 9 |
| [L-16](#L-16) | Unsafe addition/multiplication in `unchecked` block | 1 |
| [L-17](#L-17) | Consider using `ERC721A` instead of `ERC721` | 2 |
| [L-18](#L-18) | Using zero as a parameter | 11 |
| [L-19](#L-19) | Missing zero address check in initializer | 1 |
| [L-20](#L-20) | Centralization Risk for trusted owners | 80 |
| [L-21](#L-21) | Initializers could be front-run | 1 |
| [L-22](#L-22) | `_safeMint()` should be used rather than `_mint()` wherever possible | 2 |

## Non Critical Issues


*Total <b>5337</b> instances over <b>94</b> issues:*

|ID|Issue|Instances|
|-|:-|:-:|
| [NC-1](#NC-1) | Assembly blocks should have extensive comments | 2 |
| [NC-2](#NC-2) | `abi.encodePacked()` should be replaced with `bytes.concat()` | 6 |
| [NC-3](#NC-3) | Avoid mutating function parameters | 1 |
| [NC-4](#NC-4) | Avoid the use of sensitive terms | 24 |
| [NC-5](#NC-5) | Multiple `address`/ID mappings can be combined into a single `mapping` of an `address`/ID to a `struct`, for readability | 7 |
| [NC-6](#NC-6) | Complex casting | 1 |
| [NC-7](#NC-7) | Consider adding a block/deny-list | 44 |
| [NC-8](#NC-8) | Consider adding emergency-stop functionality | 31 |
| [NC-9](#NC-9) | Consider adding formal verification proofs | 1 |
| [NC-10](#NC-10) | Consider bounding input array length | 1 |
| [NC-11](#NC-11) | Consider using descriptive `constant`s when passing zero as a function argument | 13 |
| [NC-12](#NC-12) | Consider using SafeTransferLib.safeTransferETH() or Address.sendValue() for clearer semantic meaning | 2 |
| [NC-13](#NC-13) | Constant redefined elsewhere | 12 |
| [NC-14](#NC-14) | Constants should be put on the left side of comparisons | 57 |
| [NC-15](#NC-15) | Variable names for `constant`s should use CONSTANT_CASE | 2 |
| [NC-16](#NC-16) | `Constructor` should emit an event | 25 |
| [NC-17](#NC-17) | Contract does not follow the Solidity Style Guide's suggested layout ordering | 313 |
| [NC-18](#NC-18) | Contract should expose an `interface` | 283 |
| [NC-19](#NC-19) | Contract uses both `require()`/`revert()` as well as custom errors | 2 |
| [NC-20](#NC-20) | Contracts should each be defined in separate files | 2 |
| [NC-21](#NC-21) | Contracts should have full test coverage | 1 |
| [NC-22](#NC-22) | Convert simple `if` statements to ternary expressions | 1 |
| [NC-23](#NC-23) | Custom errors has no error details | 124 |
| [NC-24](#NC-24) | Duplicated `require()`/`revert()` checks should be refactored | 24 |
| [NC-25](#NC-25) | Empty bytes check is missing | 2 |
| [NC-26](#NC-26) | Enable IR-based code generation | 1 |
| [NC-27](#NC-27) | Enum values should be used instead of constant array indexes | 14 |
| [NC-28](#NC-28) | Events are emitted without the sender information | 56 |
| [NC-29](#NC-29) | Events may be emitted out of order due to reentrancy | 23 |
| [NC-30](#NC-30) | Execution at deadlines should be allowed | 2 |
| [NC-31](#NC-31) | External call recipient can consume all remaining gas | 5 |
| [NC-32](#NC-32) |  Function ordering does not follow the Solidity Style Guide | 303 |
| [NC-33](#NC-33) | Functions with array parameters should have length checks in place | 14 |
| [NC-34](#NC-34) | Variable names for `immutable`s should use CONSTANT_CASE | 3 |
| [NC-35](#NC-35) | Import declarations should import specific identifiers, rather than the whole file | 115 |
| [NC-36](#NC-36) | Imports could be organized more systematically | 18 |
| [NC-37](#NC-37) | Incorrect withdraw declaration | 2 |
| [NC-38](#NC-38) | Invalid NatSpec comment style | 3 |
| [NC-39](#NC-39) | It is best practice to use linear inheritance | 14 |
| [NC-40](#NC-40) | Lack of brace spacing | 2 |
| [NC-41](#NC-41) | Large or complicated code bases should implement invariant tests | 1 |
| [NC-42](#NC-42) | Large numeric literals should use underscores for readability | 11 |
| [NC-43](#NC-43) | Long functions should be refactored into multiple, smaller, functions | 38 |
| [NC-44](#NC-44) | Magic numbers should be replaced with constants | 61 |
| [NC-45](#NC-45) | Missing contract existence checks before low-level calls | 5 |
| [NC-46](#NC-46) | Missing disallow list for `ERC721` | 2 |
| [NC-47](#NC-47) | Missing events in initializers | 1 |
| [NC-48](#NC-48) | Named mappings are recommended | 52 |
| [NC-49](#NC-49) | Named imports of parent contracts are missing | 32 |
| [NC-50](#NC-50) | Missing NatSpec from contract/error/event/function/modifier declarations | 521 |
| [NC-51](#NC-51) | Missing NatSpec `@author` from contract declaration | 45 |
| [NC-52](#NC-52) | Missing NatSpec `@dev` from contract/event/function/modifier declarations | 397 |
| [NC-53](#NC-53) | Public variable declarations should have NatSpec descriptions | 162 |
| [NC-54](#NC-54) | Missing NatSpec `@notice` from contract/event/function/modifier declarations | 722 |
| [NC-55](#NC-55) | Missing NatSpec `@param` from event/function/modifier declarations | 576 |
| [NC-56](#NC-56) | Missing NatSpec `@return` from function declaration | 285 |
| [NC-57](#NC-57) | Missing NatSpec `@title` from contract declaration | 45 |
| [NC-58](#NC-58) | There is no need to initialize variables with 0 | 2 |
| [NC-59](#NC-59) | Non-assembly method available | 1 |
| [NC-60](#NC-60) | Put all system-wide constants in one file | 90 |
| [NC-61](#NC-61) | Redundant `return` statement in a function with named return variables | 15 |
| [NC-62](#NC-62) | The remaining ETH may be locked in the contract after call | 3 |
| [NC-63](#NC-63) | Setters should prevent re-setting the same value | 8 |
| [NC-64](#NC-64) | State variables should include comments | 65 |
| [NC-65](#NC-65) | Typos | 50 |
| [NC-66](#NC-66) | Unnecessary cast | 5 |
| [NC-67](#NC-67) | Unsafe conversion from unsigned to signed values | 7 |
| [NC-68](#NC-68) | Unsafe solidity low-level call can cause gas grief attack | 5 |
| [NC-69](#NC-69) | Unused `error` definition | 77 |
| [NC-70](#NC-70) | Unused `event` definition | 59 |
| [NC-71](#NC-71) | Unused arguments should be removed or implemented | 1 |
| [NC-72](#NC-72) | Unused named return | 12 |
| [NC-73](#NC-73) | Unused contract variables | 5 |
| [NC-74](#NC-74) | Use `abi.encodeCall()` instead of `abi.encodeWithSignature()`/`abi.encodeWithSelector()` | 4 |
| [NC-75](#NC-75) | Consider using `delete` rather than assigning zero/false to clear values | 7 |
| [NC-76](#NC-76) | Expressions for constant values should use `immutable` rather than `constant` | 90 |
| [NC-77](#NC-77) | Use the Modern Upgradeable Contract Paradigm | 44 |
| [NC-78](#NC-78) | Consider using modifiers for address control | 19 |
| [NC-79](#NC-79) | Use scientific notation (e.g. `1e18`) rather than exponentiation (e.g. `10**18`) | 1 |
| [NC-80](#NC-80) | Returning a struct instead of a bunch of variables is better | 5 |
| [NC-81](#NC-81) | Use a struct to encapsulate multiple function parameters | 3 |
| [NC-82](#NC-82) | Variable names that consist of all capital letters should be reserved for `constant`/`immutable` variables | 13 |
| [NC-83](#NC-83) | Visibility of state variables is not explicitly defined | 8 |
| [NC-84](#NC-84) | Whitespace in Expressions | 2 |
| [NC-85](#NC-85) | Common functions should be refactored to a common base contract | 8 |
| [NC-86](#NC-86) | Empty body - Consider commenting why | 5 |
| [NC-87](#NC-87) | Names of `private`/`internal` state variables should be prefixed with an underscore | 114 |
| [NC-88](#NC-88) | Internal function calls within for loops | 1 |
| [NC-89](#NC-89) |  `require()` / `revert()` statements should have descriptive reason strings | 1 |
| [NC-90](#NC-90) | Variables should be named in mixedCase style | 13 |
| [NC-91](#NC-91) | `TODO`s left in the code | 3 |
| [NC-92](#NC-92) | Event is missing `indexed` fields | 46 |
| [NC-93](#NC-93) | Functions not used internally could be marked `external` | 27 |
| [NC-94](#NC-94) | Consider moving duplicated strings to constants | 6 |

## Gas Optimizations


*Total <b>1275</b> instances over <b>61</b> issues:*

|ID|Issue|Instances|Gas|
|-|:-|:-:|:-:|
| [GAS-1](#GAS-1) | Assigning to structs can be more efficient | 10 | 60 |
| [GAS-2](#GAS-2) | Assigning state variables directly with named struct constructors wastes gas | 6 | 168 |
| [GAS-3](#GAS-3) | Optimize gas by using do-while loops | 4 | 1020 |
| [GAS-4](#GAS-4) | Multiple `address`/ID mappings can be combined into a single `mapping` of an `address`/ID to a `struct`, where appropriate | 7 | - |
| [GAS-5](#GAS-5) | Consider activating via-ir for deploying | 1 | - |
| [GAS-6](#GAS-6) | Counting down in for statements is more gas efficient | 1 | - |
| [GAS-7](#GAS-7) | Divisions can be `unchecked` to save gas | 108 | 2160 |
| [GAS-8](#GAS-8) | Don't caching global special variables | 3 | 36 |
| [GAS-9](#GAS-9) | Do not calculate constants | 22 | - |
| [GAS-10](#GAS-10) | Operator `+=` costs more gas than `<x> = <x> + <y>` for state variables | 10 | 1130 |
| [GAS-11](#GAS-11) | Duplicated `require()`/`revert()` checks should be refactored to a modifier or function to save gas | 24 | - |
| [GAS-12](#GAS-12) | Events should be emitted outside of loops | 1 | 375 |
| [GAS-13](#GAS-13) | Increments can be `unchecked` to save gas | 1 | 60 |
| [GAS-14](#GAS-14) | Initializers can be marked as payable to save deployment gas | 1 | 21 |
| [GAS-15](#GAS-15) | Inline `modifier`s that are only used once, to save gas | 4 | - |
| [GAS-16](#GAS-16) | `internal` functions only called once can be inlined to save gas | 67 | 2010 |
| [GAS-17](#GAS-17) | Low level `call` can be optimized with assembly | 6 | 1488 |
| [GAS-18](#GAS-18) | Multiple accesses of the same mapping/array key/index should be cached | 3 | 126 |
| [GAS-19](#GAS-19) | Operator `>=`/`<=` costs less gas than operator `>`/`<` | 145 | 435 |
| [GAS-20](#GAS-20) | Optimize Gas by splitting `if() revert` statements | 1 | - |
| [GAS-21](#GAS-21) | Optimize names to save gas | 22 | 484 |
| [GAS-22](#GAS-22) | Redundant state variable getters | 10 | - |
| [GAS-23](#GAS-23) | Remove or replace unused state variables | 5 | - |
| [GAS-24](#GAS-24) | The result of a function call should be cached rather than re-calling the function | 19 | 1900 |
| [GAS-25](#GAS-25) | There are comparisons to boolean literals (true and false), these can be simplified to save gas | 112 | 2016 |
| [GAS-26](#GAS-26) | State variables can be packed into fewer storage slots by new order | 4 | 80000 |
| [GAS-27](#GAS-27) | State variables only set in the constructor should be declared immutable | 13 | 260000 |
| [GAS-28](#GAS-28) | Use smaller sizes for struct variables if possible | 9 | 22500 |
| [GAS-29](#GAS-29) | Unlimited gas consumption risk due to external call recipients | 5 | - |
| [GAS-30](#GAS-30) | Unused named return variables without optimizer waste gas | 12 | 108 |
| [GAS-31](#GAS-31) | Optimize external calls with assembly for memory efficiency | 92 | 20240 |
| [GAS-32](#GAS-32) | Use assembly to compute hashes to save gas | 6 | 480 |
| [GAS-33](#GAS-33) | Use assembly to emit events | 73 | 2774 |
| [GAS-34](#GAS-34) | Use assembly to validate `msg.sender` | 19 | - |
| [GAS-35](#GAS-35) | Use assembly to write address/contract type storage values | 100 | 5000 |
| [GAS-36](#GAS-36) | Using a double `if` statement instead of a logical AND (`&&`) | 8 | 240 |
| [GAS-37](#GAS-37) | Consider using OZ EnumerateSet in place of nested mappings | 7 | 7000 |
| [GAS-38](#GAS-38) | Use != 0 instead of > 0 | 36 | 108 |
| [GAS-39](#GAS-39) | Use `selfbalance()` instead of `address(this).balance` | 2 | - |
| [GAS-40](#GAS-40) | State variables can be packed into fewer storage slots by truncating timestamp bytes | 2 | 5000 |
| [GAS-41](#GAS-41) | Consider Using Solady's Gas Optimized Lib for Math | 76 | - |
| [GAS-42](#GAS-42) | Use `uint256(1)`/`uint256(2)` instead of `true`/`false` to save gas for changes | 20 | 171000 |
| [GAS-43](#GAS-43) | Use `unchecked` block for safe subtractions | 21 | 1785 |
| [GAS-44](#GAS-44) | Using bitmap to store bool states can save gas | 13 | - |
| [GAS-45](#GAS-45) | Using `constant`s directly, rather than caching the value, saves gas | 2 | - |
| [GAS-46](#GAS-46) | Using `this` to access functions results in an external call, wasting gas | 2 | 200 |
| [GAS-47](#GAS-47) | `abi.encodePacked` is more gas efficient than `abi.encode` | 3 | - |
| [GAS-48](#GAS-48) | Use `selfbalance()` instead of `address(this).balance` | 2 | - |
| [GAS-49](#GAS-49) | Using bools for storage incurs overhead | 20 | 2000 |
| [GAS-50](#GAS-50) | Cache array length outside of loop | 3 | - |
| [GAS-51](#GAS-51) | State variables should be cached in stack variables rather than re-reading them from storage | 9 | 873 |
| [GAS-52](#GAS-52) | Use `calldata` instead of `memory` for function arguments that do not get mutated | 21 | - |
| [GAS-53](#GAS-53) | Don't initialize variables with default value | 2 | - |
| [GAS-54](#GAS-54) | Usage of `int`s/`uint`s smaller than 32 bytes incurs overhead | 83 | 4565 |
| [GAS-55](#GAS-55) | Constructors can be marked as `payable` to save deployment gas | 1 | 21 |
| [GAS-56](#GAS-56) | `++i` costs less gas than `i++`, especially when it's used in `for`-loops (`--i`/`i--` too) | 1 | 5 |
| [GAS-57](#GAS-57) | Using `private` rather than `public` for constants, saves gas | 3 | - |
| [GAS-58](#GAS-58) | Use shift Right/Left instead of division/multiplication if possible | 3 | - |
| [GAS-59](#GAS-59) | Use assembly to check for `address(0)` | 1 | 6 |
| [GAS-60](#GAS-60) | `internal` functions not called by the contract should be removed | 7 | - |
| [GAS-61](#GAS-61) | Use `Array.unsafeAccess()` to avoid repeated array length checks | 1 | 2100 |

## Medium Issues

<a name="M-1"></a> 
### [M-1] No way to retrieve ETH from the contract
The following contracts contain at least one `payable` function, yet the function does not utilise forwarded ETH, and the contract is missing functionality to withdraw ETH from the contract. This means that funds may become trapped in the contract indefinitely. Consider adding a withdraw/sweep function to contracts that are capable of receiving ether.

*There are <b>4</b> instances of this issue:*
```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

/// @audit Contract can receive Ether but there is lack of functionality to claim the Ethers from the contract
15: contract PendlePowerManager is OwnableMaster, PendlePowerFarm, MinterReserver {

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L15)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

/// @audit Contract can receive Ether but there is lack of functionality to claim the Ethers from the contract
30: contract PendlePowerFarmControllerBase is

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L30)]


```solidity
File: contracts/WiseLending.sol

/// @audit Contract can receive Ether but there is lack of functionality to claim the Ethers from the contract
43: contract WiseLending is PoolManager {

```
*Github:* [[43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L43)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

/// @audit Contract can receive Ether but there is lack of functionality to claim the Ethers from the contract
25: contract AaveHub is AaveHelper, TransferHelper, ApprovalHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L25)]



<a name="M-2"></a> 
### [M-2] Unchecked return value of low-level `call()`/`delegatecall()`
The function being called may revert, which will be indicated by the return value to `call()`/`delegatecall()`. If the return value is not checked, the code will continue on as if there was no error, rather than reverting with the error encountered.

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

/// @audit `success` is not checked
78:         (bool success, ) = _tokenAggregator.call(

```
*Github:* [[78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L78)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

/// @audit `success` is not checked
208:         (bool success, ) = payable(_recipient).call{

```
*Github:* [[208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L208)]



<a name="M-3"></a> 
### [M-3] No check if L2 sequencer is down
Using Chainlink in L2 chains such as Arbitrum/Optimism/Base/Metis requires to check if the sequencer is down to avoid prices from looking like they are fresh although they are not.

*There are <b>7</b> instances of this issue:*
```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

93:         ) = FEED_ASSET.latestRoundData();

```
*Github:* [[93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L93)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

91:         ) = USD_FEED_ASSET.latestRoundData();

98:         ) = ETH_FEED_ASSET.latestRoundData();

```
*Github:* [[91](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L91), [98](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L98)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

79:         ) = FEED_ASSET.latestRoundData();

```
*Github:* [[79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L79)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

258:         ) = priceFeed[_tokenAddress].latestRoundData();

535:         ) = SEQUENCER.latestRoundData();

714:         ) = priceFeed[_tokenAddress].latestRoundData();

```
*Github:* [[258](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L258), [535](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L535), [714](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L714)]



<a name="M-4"></a> 
### [M-4] Chainlink’s latestRoundData might return stale or incorrect results
There is no check if the return value indicates stale data.

*There are <b>7</b> instances of this issue:*
```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

93:         ) = FEED_ASSET.latestRoundData();

```
*Github:* [[93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L93)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

91:         ) = USD_FEED_ASSET.latestRoundData();

98:         ) = ETH_FEED_ASSET.latestRoundData();

```
*Github:* [[91](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L91), [98](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L98)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

79:         ) = FEED_ASSET.latestRoundData();

```
*Github:* [[79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L79)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

258:         ) = priceFeed[_tokenAddress].latestRoundData();

535:         ) = SEQUENCER.latestRoundData();

714:         ) = priceFeed[_tokenAddress].latestRoundData();

```
*Github:* [[258](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L258), [535](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L535), [714](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L714)]




## Low Issues

<a name="L-1"></a> 
### [L-1] Missing zero address check in functions with address parameters
Adding a zero address check for each address type parameter can prevent errors.

<details>
<summary>
There are <b>258</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

/// @audit missing zero check for `_market`
122:     function _getLpToAssetRateWrapper(
             IPMarket _market,
             uint32 _duration
         )
             internal
             view
             returns (uint256)
         {

```
*Github:* [[122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L122)]


```solidity
File: contracts/FeeManager/FeeManager.sol

/// @audit missing zero check for `_poolToken`
/// @audit missing zero check for `_underlyingToken`
66:     function setAaveFlag(
            address _poolToken,
            address _underlyingToken
        )
            external
            onlyMaster
        {

/// @audit missing zero check for `_poolToken`
108:     function setPoolFee(
             address _poolToken,
             uint256 _newFee
         )
             external
             onlyMaster
         {

/// @audit missing zero check for `_proposedIncentiveMaster`
173:     function proposeIncentiveMaster(
             address _proposedIncentiveMaster
         )
             external
             onlyIncentiveMaster
         {

/// @audit missing zero check for `_feeToken`
284:     function claimIncentives(
             address _feeToken
         )
             public
         {

/// @audit missing zero check for `_newOwner`
315:     function changeIncentiveUSDA(
             address _newOwner
         )
             external
         {

/// @audit missing zero check for `_newOwner`
352:     function changeIncentiveUSDB(
             address _newOwner
         )
             external
         {

/// @audit missing zero check for `_poolToken`
390:     function addPoolTokenAddress(
             address _poolToken
         )
             external
             onlyWiseLending
         {

/// @audit missing zero check for `_poolToken`
412:     function addPoolTokenAddressManual(
             address _poolToken
         )
             external
             onlyMaster
         {

/// @audit missing zero check for `_poolToken`
438:     function removePoolTokenManual(
             address _poolToken
         )
             external
             onlyMaster
         {

/// @audit missing zero check for `_user`
538:     function setBeneficial(
             address _user,
             address[] calldata _feeTokens
         )
             external
             onlyMaster
         {

/// @audit missing zero check for `_user`
571:     function revokeBeneficial(
             address _user,
             address[] memory _feeTokens
         )
             external
             onlyMaster
         {

/// @audit missing zero check for `_poolToken`
628:     function claimWiseFees(
             address _poolToken
         )
             public
         {

/// @audit missing zero check for `_feeToken`
689:     function claimFeesBeneficial(
             address _feeToken,
             uint256 _amount
         )
             external
         {

```
*Github:* [[66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L66), [108](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L108), [173](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L173), [284](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L284), [315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L315), [352](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L352), [390](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L390), [412](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L412), [438](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L438), [538](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L538), [571](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L571), [628](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L628), [689](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L689)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

/// @audit missing zero check for `_feeToken`
195:     function _increaseFeeTokens(
             address _feeToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing zero check for `_feeToken`
208:     function _decreaseFeeTokens(
             address _feeToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing zero check for `_user`
/// @audit missing zero check for `_feeToken`
220:     function _setAllowedTokens(
             address _user,
             address _feeToken,
             bool _state
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
/// @audit missing zero check for `_underlyingToken`
230:     function _setAaveFlag(
             address _poolToken,
             address _underlyingToken
         )
             internal
         {

/// @audit missing zero check for `_paybackToken`
/// @audit missing zero check for `_receivingToken`
244:     function getReceivingToken(
             address _paybackToken,
             address _receivingToken,
             uint256 _paybackAmount
         )
             public
             view
             returns (uint256 receivingAmount)
         {

/// @audit missing zero check for `_poolToken`
/// @audit missing zero check for `_underlyingToken`
292:     function _distributeIncentives(
             uint256 _amount,
             address _poolToken,
             address _underlyingToken
         )
             internal
             returns (uint256)
         {

/// @audit missing zero check for `_underlyingToken`
/// @audit missing zero check for `_incentiveOwner`
330:     function _gatherIncentives(
             address _poolToken,
             address _underlyingToken,
             address _incentiveOwner,
             uint256 _amount
         )
             internal
             returns (uint256)
         {

```
*Github:* [[195](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L195), [208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L208), [220](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L220), [230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L230), [244](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L244), [292](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L292), [330](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L330)]


```solidity
File: contracts/MainHelper.sol

/// @audit missing zero check for `_poolToken`
17:     function calculateLendingShares(
            address _poolToken,
            uint256 _amount,
            bool _maxSharePrice
        )
            public
            view
            returns (uint256)
        {

/// @audit missing zero check for `_poolToken`
55:     function calculateBorrowShares(
            address _poolToken,
            uint256 _amount,
            bool _maxSharePrice
        )
            public
            view
            returns (uint256)
        {

/// @audit missing zero check for `_poolToken`
79:     function cashoutAmount(
            address _poolToken,
            uint256 _shares
        )
            external
            view
            returns (uint256)
        {

/// @audit missing zero check for `_poolToken`
93:     function _cashoutAmount(
            address _poolToken,
            uint256 _shares
        )
            internal
            view
            returns (uint256)
        {

/// @audit missing zero check for `_poolToken`
114:     function paybackAmount(
             address _poolToken,
             uint256 _shares
         )
             public
             view
             returns (uint256)
         {

/// @audit missing zero check for `_caller`
/// @audit missing zero check for `_poolToken`
135:     function _preparationsWithdraw(
             uint256 _nftId,
             address _caller,
             address _poolToken,
             uint256 _amount
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing zero check for `_poolToken`
163:     function _getValueUtilization(
             address _poolToken
         )
             private
             view
             returns (uint256)
         {

/// @audit missing zero check for `_poolToken`
187:     function _updateUtilization(
             address _poolToken
         )
             private
         {

/// @audit missing zero check for `_poolAddress`
217:     function _onlyIsolationPool(
             address _poolAddress
         )
             internal
             view
         {

/// @audit missing zero check for `_caller`
232:     function _validateIsolationPoolLiquidation(
             address _caller,
             uint256 _nftId,
             uint256 _nftIdLiquidator
         )
             internal
             view
         {

/// @audit missing zero check for `_poolToken`
298:     function _cleanUp(
             address _poolToken
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
350:     function _getAllowedDifference(
             address _poolToken
         )
             private
             view
             returns (uint256)
         {

/// @audit missing zero check for `_poolToken`
372:     function _preparePool(
             address _poolToken
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
391:     function _preparationTokens(
             mapping(uint256 => address[]) storage _userTokenData,
             uint256 _nftId,
             address _poolToken
         )
             internal
             returns (address[] memory)
         {

/// @audit missing zero check for `_poolToken`
417:     function _prepareTokens(
             address _poolToken,
             address[] memory _tokens
         )
             private
         {

/// @audit missing zero check for `_poolToken`
500:     function _updatePseudoTotalAmounts(
             address _poolToken
         )
             private
         {

/// @audit missing zero check for `_poolToken`
584:     function _increasePositionLendingDeposit(
             uint256 _nftId,
             address _poolToken,
             uint256 _shares
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
599:     function _decreaseLendingShares(
             uint256 _nftId,
             address _poolToken,
             uint256 _shares
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
614:     function _addPositionTokenData(
             uint256 _nftId,
             address _poolToken,
             mapping(bytes32 => bool) storage hashMap,
             mapping(uint256 => address[]) storage userTokenData
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
647:     function _getHash(
             uint256 _nftId,
             address _poolToken
         )
             private
             pure
             returns (bytes32)
         {

/// @audit missing zero check for `_poolToken`
667:     function _removePositionData(
             uint256 _nftId,
             address _poolToken,
             function(uint256) view returns (uint256) _getPositionTokenLength,
             function(uint256, uint256) view returns (address) _getPositionTokenByIndex,
             function(uint256, address) internal _deleteLastPositionData,
             bool isLending
         )
             private
         {

/// @audit missing zero check for `_poolToken`
733:     function _deleteLastPositionLendingData(
             uint256 _nftId,
             address _poolToken
         )
             private
         {

/// @audit missing zero check for `_poolToken`
752:     function _corePayback(
             uint256 _nftId,
             address _poolToken,
             uint256 _amount,
             uint256 _shares
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
794:     function _deleteLastPositionBorrowData(
             uint256 _nftId,
             address _poolToken
         )
             private
         {

/// @audit missing zero check for `_poolToken`
814:     function isUncollateralized(
             uint256 _nftId,
             address _poolToken
         )
             external
             view
             returns (bool)
         {

/// @audit missing zero check for `_poolToken`
830:     function _checkLendingDataEmpty(
             uint256 _nftId,
             address _poolToken
         )
             private
             view
             returns (bool)
         {

/// @audit missing zero check for `_poolToken`
851:     function _calculateNewBorrowRate(
             address _poolToken
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
877:     function _newBorrowRate(
             address _poolToken
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
896:     function _aboveThreshold(
             address _poolToken
         )
             internal
             view
             returns (bool)
         {

/// @audit missing zero check for `_poolToken`
911:     function _scalingAlgorithm(
             address _poolToken
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
947:     function _newMaxPoolShares(
             address _poolToken,
             uint256 _shareValue
         )
             private
         {

/// @audit missing zero check for `_poolToken`
969:     function _saveUp(
             address _poolToken,
             uint256 _shareValue
         )
             private
         {

/// @audit missing zero check for `_poolToken`
987:     function _resonanceOutcome(
             address _poolToken,
             uint256 _shareValue
         )
             private
             view
             returns (bool)
         {

/// @audit missing zero check for `_poolToken`
1006:     function _resetResonanceFactor(
              address _poolToken,
              uint256 _shareValue
          )
              private
          {

/// @audit missing zero check for `_poolToken`
1030:     function _revertDirectionState(
              address _poolToken
          )
              private
          {

/// @audit missing zero check for `_poolToken`
1094:     function _increaseResonanceFactor(
              address _poolToken
          )
              private
          {

/// @audit missing zero check for `_poolToken`
1125:     function _decreaseResonanceFactor(
              address _poolToken
          )
              private
          {

/// @audit missing zero check for `_poolToken`
1155:     function _removeEmptyLendingData(
              uint256 _nftId,
              address _poolToken
          )
              internal
          {

/// @audit missing zero check for `_poolToken`
1184:     function _updatePoolStorage(
              address _poolToken,
              uint256 _amount,
              uint256 _shares,
              function(address, uint256) functionAmountA,
              function(address, uint256) functionAmountB,
              function(address, uint256) functionSharesA
          )
              internal
          {

```
*Github:* [[17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L17), [55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L55), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L79), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L93), [114](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L114), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L135), [163](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L163), [187](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L187), [217](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L217), [232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L232), [298](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L298), [350](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L350), [372](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L372), [391](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L391), [417](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L417), [500](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L500), [584](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L584), [599](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L599), [614](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L614), [647](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L647), [667](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L667), [733](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L733), [752](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L752), [794](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L794), [814](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L814), [830](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L830), [851](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L851), [877](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L877), [896](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L896), [911](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L911), [947](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L947), [969](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L969), [987](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L987), [1006](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1006), [1030](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1030), [1094](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1094), [1125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1125), [1155](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1155), [1184](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1184)]


```solidity
File: contracts/OwnableMaster.sol

/// @audit missing zero check for `_proposedOwner`
70:     function proposeOwner(
            address _proposedOwner
        )
            external
            onlyMaster
        {

```
*Github:* [[70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L70)]


```solidity
File: contracts/PoolManager.sol

/// @audit missing zero check for `_poolToken`
25:     function setParamsLASA(
            address _poolToken,
            uint256 _poolMulFactor,
            uint256 _upperBoundMaxRate,
            uint256 _lowerBoundMaxRate,
            bool _steppingDirection,
            bool _isFinal
        )
            external
            onlyMaster
        {

/// @audit missing zero check for `_poolToken`
100:     function setPoolParameters(
             address _poolToken,
             uint256 _collateralFactor,
             uint256 _maximumDeposit
         )
             external
             onlyMaster
         {

/// @audit missing zero check for `_isolationPool`
125:     function setVerifiedIsolationPool(
             address _isolationPool,
             bool _state
         )
             external
             onlyMaster
         {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L25), [100](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L100), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L125)]


```solidity
File: contracts/PositionNFTs.sol

/// @audit missing zero check for `_reserverForOthers`
54:     function assignReserveRole(
            address _reserverForOthers,
            bool _state
        )
            external
            onlyMaster
        {

/// @audit missing zero check for `_feeManagerContract`
71:     function forwardFeeManagerNFT(
            address _feeManagerContract
        )
            external
            onlyMaster
        {

/// @audit missing zero check for `_user`
99:     function reservePositionForUser(
            address _user
        )
            onlyReserveRole
            external
            returns (uint256)
        {

/// @audit missing zero check for `_user`
111:     function _reservePositionForUser(
             address _user
         )
             internal
             returns (uint256)
         {

/// @audit missing zero check for `_user`
174:     function mintPositionForUser(
             address _user
         )
             external
             returns (uint256)
         {

/// @audit missing zero check for `_user`
193:     function _mintPositionForUser(
             address _user
         )
             internal
             returns (uint256)
         {

/// @audit missing zero check for `_owner`
222:     function isOwner(
             uint256 _nftId,
             address _owner
         )
             external
             view
             returns (bool)
         {

/// @audit missing zero check for `_spender`
245:     function approveMint(
             address _spender,
             uint256 _nftId
         )
             external
         {

/// @audit missing zero check for `_owner`
271:     function walletOfOwner(
             address _owner
         )
             external
             view
             returns (uint256[] memory)
         {

```
*Github:* [[54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L54), [71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L71), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L99), [111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L111), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L174), [193](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L193), [222](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L222), [245](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L245), [271](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L271)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

/// @audit missing zero check for `_wiseLendingAddress`
274:     function _doApprovals(
             address _wiseLendingAddress
         )
             internal
         {

```
*Github:* [[274](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L274)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

/// @audit missing zero check for `_caller`
134:     function _logicClosePosition(
             uint256 _nftId,
             uint256 _borrowShares,
             uint256 _lendingShares,
             uint256 _totalDebtBalancer,
             uint256 _allowedSpread,
             address _caller,
             bool _ethBack,
             bool _isAave
         )
             private
         {

/// @audit missing zero check for `_tokenIn`
/// @audit missing zero check for `_tokenOut`
264:     function _getTokensUniV3(
             uint256 _amountIn,
             uint256 _minOutAmount,
             address _tokenIn,
             address _tokenOut
         )
             internal
             returns (uint256)
         {

/// @audit missing zero check for `_caller`
354:     function _closingRouteToken(
             uint256 _tokenAmount,
             uint256 _totalDebtBalancer,
             address _caller
         )
             private
         {

/// @audit missing zero check for `_caller`
383:     function _closingRouteETH(
             uint256 _ethAmount,
             uint256 _totalDebtBalancer,
             address _caller
         )
             internal
         {

```
*Github:* [[134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L134), [264](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L264), [354](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L354), [383](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L383)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

/// @audit missing zero check for `_tokenAddress`
244:     function _getTokensInETH(
             address _tokenAddress,
             uint256 _tokenAmount
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing zero check for `_tokenAddress`
258:     function _getEthInTokens(
             address _tokenAddress,
             uint256 _ethAmount
         )
             internal
             view
             returns (uint256)
         {

```
*Github:* [[244](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L244), [258](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L258)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

/// @audit missing zero check for `_to`
32:     function withdrawLp(
            address _pendleMarket,
            address _to,
            uint256 _amount
        )
            external
            onlyChildContract(_pendleMarket)
        {

/// @audit missing zero check for `_rewardToken`
53:     function exchangeRewardsForCompoundingWithIncentive(
            address _pendleMarket,
            address _rewardToken,
            uint256 _rewardAmount
        )
            external
            syncSupply(_pendleMarket)
            returns (uint256)
        {

/// @audit missing zero check for `_pendleMarket`
211:     function addPendleMarket(
             address _pendleMarket,
             string memory _tokenName,
             string memory _symbolName,
             uint16 _maxCardinality
         )
             external
             onlyMaster
         {

/// @audit missing zero check for `_pendleMarket`
334:     function changeMintFee(
             address _pendleMarket,
             uint256 _newFee
         )
             external
             onlyMaster
         {

```
*Github:* [[32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L32), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L53), [211](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L211), [334](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L334)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

/// @audit missing zero check for `_pendleMarket`
245:     function _onlyChildContract(
             address _pendleMarket
         )
             private
             view
         {

/// @audit missing zero check for `_pendleMarket`
256:     function _syncSupply(
             address _pendleMarket
         )
             internal
         {

```
*Github:* [[245](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L245), [256](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L256)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

/// @audit missing zero check for `_value`
9:     function _findIndex(
           address[] memory _array,
           address _value
       )
           internal
           pure
           returns (uint256)
       {

/// @audit missing zero check for `_user`
61:     function _getPositionData(
            address _user
        )
            private
            view
            returns (LockedPosition memory)
        {

/// @audit missing zero check for `_tokenAddress`
73:     function _getAmountToSend(
            address _tokenAddress,
            uint256 _rewardValue
        )
            internal
            view
            returns (uint256)
        {

/// @audit missing zero check for `_pendleMarket`
95:     function pendleChildCompoundInfoReservedForCompound(
            address _pendleMarket
        )
            external
            view
            returns (uint256[] memory)
        {

/// @audit missing zero check for `_pendleMarket`
105:     function pendleChildCompoundInfoLastIndex(
             address _pendleMarket
         )
             external
             view
             returns (uint128[] memory)
         {

/// @audit missing zero check for `_pendleMarket`
115:     function pendleChildCompoundInfoRewardTokens(
             address _pendleMarket
         )
             external
             view
             returns (address[] memory)
         {

/// @audit missing zero check for `_pendleMarket`
144:     function _getRewardTokens(
             address _pendleMarket
         )
             internal
             view
             returns (address[] memory)
         {

/// @audit missing zero check for `_pendleMarket`
/// @audit missing zero check for `_rewardToken`
/// @audit missing zero check for `_user`
156:     function _getUserReward(
             address _pendleMarket,
             address _rewardToken,
             address _user
         )
             internal
             view
             returns (UserReward memory)
         {

/// @audit missing zero check for `_pendleMarket`
/// @audit missing zero check for `_rewardToken`
/// @audit missing zero check for `_user`
173:     function _getUserRewardIndex(
             address _pendleMarket,
             address _rewardToken,
             address _user
         )
             internal
             view
             returns (uint128)
         {

/// @audit missing zero check for `_tokenAddress`
189:     function _getTokensInETH(
             address _tokenAddress,
             uint256 _tokenAmount
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing zero check for `_tokenAddress`
203:     function _getTokensFromETH(
             address _tokenAddress,
             uint256 _ethValue
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing zero check for `_pendleMarket`
217:     function _compareHashes(
             address _pendleMarket,
             address[] memory rewardTokensToCompare
         )
             internal
             view
             returns (bool)
         {

/// @audit missing zero check for `_pendleMarket`
236:     function _setRewardTokens(
             address _pendleMarket,
             address[] memory _rewardTokens
         )
             internal
         {

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L9), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L61), [73](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L73), [95](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L95), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L105), [115](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L115), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L144), [156](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L156), [173](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L173), [189](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L189), [203](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L203), [217](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L217), [236](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L236)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit missing zero check for `_to`
359:     function _withdrawLp(
             address _to,
             uint256 _amount
         )
             internal
         {

/// @audit missing zero check for `_rewardToken`
/// @audit missing zero check for `_user`
372:     function _getUserReward(
             address _rewardToken,
             address _user
         )
             internal
             view
             returns (UserReward memory)
         {

/// @audit missing zero check for `_underlyingPendleMarket`
/// @audit missing zero check for `_pendleController`
682:     function initialize(
             address _underlyingPendleMarket,
             address _pendleController,
             string memory _tokenName,
             string memory _symbolName,
             uint16 _maxCardinality
         )
             external
         {

```
*Github:* [[359](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L359), [372](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L372), [682](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L682)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

/// @audit missing zero check for `_underlyingPendleMarket`
35:     function deploy(
            address _underlyingPendleMarket,
            string memory _tokenName,
            string memory _symbolName,
            uint16 _maxCardinality
        )
            external
            returns (address)
        {

/// @audit missing zero check for `_underlyingPendleMarket`
56:     function _clone(
            address _underlyingPendleMarket,
            string memory _tokenName,
            string memory _symbolName,
            uint16 _maxCardinality
        )
            private
            returns (address pendlePowerFarmTokenAddress)
        {

```
*Github:* [[35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L35), [56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L56)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

/// @audit missing zero check for `_userAddress`
77:     function _reserveKey(
            address _userAddress,
            uint256 _wiseLendingNFT
        )
            internal
            returns (uint256)
        {

/// @audit missing zero check for `_owner`
96:     function isOwner(
            uint256 _keyId,
            address _owner
        )
            public
            view
            returns (bool)
        {

/// @audit missing zero check for `_userAddress`
115:     function _mintKeyForUser(
             uint256 _keyId,
             address _userAddress
         )
             internal
             returns (uint256)
         {

/// @audit missing zero check for `_operator`
/// @audit missing zero check for `_from`
160:     function onERC721Received(
             address _operator,
             address _from,
             uint256 _tokenId,
             bytes calldata _data
         )
             external
             returns (bytes4)
         {

```
*Github:* [[77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L77), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L96), [115](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L115), [160](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L160)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

/// @audit missing zero check for `_owner`
16:     function reservedKeys(

/// @audit missing zero check for `_farmContract`
51:     function setFarmContract(
            address _farmContract
        )
            external
            onlyMaster
        {

/// @audit missing zero check for `_keyOwner`
66:     function mintKey(
            address _keyOwner,
            uint256 _keyId
        )
            external
            onlyFarmContract
        {

/// @audit missing zero check for `_ownerAddress`
93:     function checkOwner(
            uint256 _keyId,
            address _ownerAddress
        )
            external
            view
            returns (bool)
        {

/// @audit missing zero check for `_owner`
109:     function walletOfOwner(
             address _owner
         )
             external
             view
             returns (uint256[] memory)
         {

```
*Github:* [[16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L16), [51](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L51), [66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L66), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L93), [109](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L109)]


```solidity
File: contracts/TransferHub/ApprovalHelper.sol

/// @audit missing zero check for `_token`
/// @audit missing zero check for `_spender`
13:     function _safeApprove(
            address _token,
            address _spender,
            uint256 _value
        )
            internal
        {

```
*Github:* [[13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/ApprovalHelper.sol#L13)]


```solidity
File: contracts/TransferHub/CallOptionalReturn.sol

/// @audit missing zero check for `token`
12:     function _callOptionalReturn(
            address token,
            bytes memory data
        )
            internal
            returns (bool call)
        {

```
*Github:* [[12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/CallOptionalReturn.sol#L12)]


```solidity
File: contracts/TransferHub/TransferHelper.sol

/// @audit missing zero check for `_token`
/// @audit missing zero check for `_to`
13:     function _safeTransfer(
            address _token,
            address _to,
            uint256 _value
        )
            internal
        {

/// @audit missing zero check for `_token`
/// @audit missing zero check for `_from`
/// @audit missing zero check for `_to`
34:     function _safeTransferFrom(
            address _token,
            address _from,
            address _to,
            uint256 _value
        )
            internal
        {

```
*Github:* [[13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/TransferHelper.sol#L13), [34](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/TransferHelper.sol#L34)]


```solidity
File: contracts/WiseCore.sol

/// @audit missing zero check for `_poolTokenLend`
/// @audit missing zero check for `_poolTokenBorrow`
15:     function _prepareAssociatedTokens(
            uint256 _nftId,
            address _poolTokenLend,
            address _poolTokenBorrow
        )
            internal
            returns (
                address[] memory,
                address[] memory
            )
        {

/// @audit missing zero check for `_caller`
/// @audit missing zero check for `_poolToken`
44:     function _coreWithdrawToken(
            address _caller,
            uint256 _nftId,
            address _poolToken,
            uint256 _amount,
            uint256 _shares,
            bool _onBehalf
        )
            internal
        {

/// @audit missing zero check for `_caller`
/// @audit missing zero check for `_poolToken`
106:     function _handleDeposit(
             address _caller,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             internal
             returns (uint256)
         {

/// @audit missing zero check for `_caller`
173:     function checkPositionLocked(
             uint256 _nftId,
             address _caller
         )
             external
             view
         {

/// @audit missing zero check for `_caller`
/// @audit missing zero check for `_poolToken`
215:     function checkDeposit(
             uint256 _nftId,
             address _caller,
             address _poolToken,
             uint256 _amount
         )
             external
             view
         {

/// @audit missing zero check for `_caller`
236:     function _checkDeposit(
             uint256 _nftId,
             address _caller,
             address _poolToken,
             uint256 _amount
         )
             internal
             view
         {

/// @audit missing zero check for `_caller`
271:     function _checkAllowDeposit(
             uint256 _nftId,
             address _caller
         )
             internal
             view
         {

/// @audit missing zero check for `_poolToken`
294:     function _checkMaxDepositValue(
             address _poolToken,
             uint256 _amount
         )
             private
             view
         {

/// @audit missing zero check for `_poolToken`
316:     function _coreWithdrawBare(
             uint256 _nftId,
             address _poolToken,
             uint256 _amount,
             uint256 _shares
         )
             private
         {

/// @audit missing zero check for `_caller`
/// @audit missing zero check for `_poolToken`
349:     function _coreBorrowTokens(
             address _caller,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount,
             uint256 _shares,
             bool _onBehalf
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
428:     function _withdrawPureCollateralLiquidation(
             uint256 _nftId,
             address _poolToken,
             uint256 _percentLiquidation
         )
             private
             returns (uint256 transferAmount)
         {

/// @audit missing zero check for `_poolToken`
460:     function _withdrawOrAllocateSharesLiquidation(
             uint256 _nftId,
             uint256 _nftIdLiquidator,
             address _poolToken,
             uint256 _percentWishCollateral
         )
             private
             returns (uint256)
         {

/// @audit missing zero check for `_receiveTokens`
543:     function _calculateReceiveAmount(
             uint256 _nftId,
             uint256 _nftIdLiquidator,
             address _receiveTokens,
             uint256 _removePercentage
         )
             private
             returns (uint256 receiveAmount)
         {

/// @audit missing zero check for `_poolToken`
604:     function _calculatePotentialPureExtraCashout(
             uint256 _userShares,
             address _poolToken,
             uint256 _removePercentage
         )
             private
             view
             returns (uint256)
         {

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L15), [44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L44), [106](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L106), [173](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L173), [215](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L215), [236](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L236), [271](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L271), [294](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L294), [316](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L316), [349](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L349), [428](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L428), [460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L460), [543](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L543), [604](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L604)]


```solidity
File: contracts/WiseLending.sol

/// @audit missing zero check for `_caller`
/// @audit missing zero check for `_poolToken`
128:     function _emitFundsSolelyWithdrawn(
             address _caller,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             private
         {

/// @audit missing zero check for `_caller`
/// @audit missing zero check for `_poolToken`
145:     function _emitFundsSolelyDeposited(
             address _caller,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             private
         {

/// @audit missing zero check for `_poolToken`
165:     function _getSharePrice(
             address _poolToken
         )
             private
             view
             returns (
                 uint256,
                 uint256
             )
         {

/// @audit missing zero check for `_poolToken`
210:     function _compareSharePrices(
             address _poolToken,
             uint256 _lendSharePriceBefore,
             uint256 _borrowSharePriceBefore
         )
             private
             view
         {

/// @audit missing zero check for `_poolToken`
255:     function _getCurrentSharePriceMax(
             address _poolToken
         )
             private
             view
             returns (uint256)
         {

/// @audit missing zero check for `_poolToken`
308:     function _syncPoolAfterCodeExecution(
             address _poolToken,
             uint256 _lendSharePriceBefore,
             uint256 _borrowSharePriceBefore
         )
             private
         {

/// @audit missing zero check for `_poolToken`
442:     function depositExactAmountMint(
             address _poolToken,
             uint256 _amount
         )
             external
             returns (uint256)
         {

/// @audit missing zero check for `_caller`
/// @audit missing zero check for `_poolToken`
539:     function _handleSolelyDeposit(
             address _caller,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             private
         {

/// @audit missing zero check for `_poolToken`
581:     function solelyDepositMint(
             address _poolToken,
             uint256 _amount
         )
             external
         {

/// @audit missing zero check for `_caller`
/// @audit missing zero check for `_poolToken`
808:     function _coreSolelyWithdraw(
             address _caller,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             private
         {

/// @audit missing zero check for `_caller`
1314:     function coreLiquidationIsolationPools(
              uint256 _nftId,
              uint256 _nftIdLiquidator,
              address _caller,
              address _paybackToken,
              address _receiveToken,
              uint256 _paybackAmount,
              uint256 _shareAmountToPay
          )
              external
              syncPool(_paybackToken)
              syncPool(_receiveToken)
              returns (uint256)
          {

/// @audit missing zero check for `_caller`
/// @audit missing zero check for `_poolToken`
1434:     function _handlePayback(
              address _caller,
              uint256 _nftId,
              address _poolToken,
              uint256 _amount,
              uint256 _shares
          )
              private
          {

/// @audit missing zero check for `_caller`
/// @audit missing zero check for `_poolToken`
1460:     function _handleWithdrawAmount(
              address _caller,
              uint256 _nftId,
              address _poolToken,
              uint256 _amount,
              bool _onBehalf
          )
              private
              returns (uint256 withdrawShares)
          {

/// @audit missing zero check for `_caller`
/// @audit missing zero check for `_poolToken`
1489:     function _handleSolelyWithdraw(
              address _caller,
              uint256 _nftId,
              address _poolToken,
              uint256 _amount
          )
              private
          {

/// @audit missing zero check for `_caller`
/// @audit missing zero check for `_poolToken`
1517:     function _handleWithdrawShares(
              address _caller,
              uint256 _nftId,
              address _poolToken,
              uint256 _shares,
              bool _onBehalf
          )
              private
              returns (uint256)
          {

/// @audit missing zero check for `_poolToken`
1553:     function _handleBorrowExactAmount(
              uint256 _nftId,
              address _poolToken,
              uint256 _amount,
              bool _onBehalf
          )
              private
              returns (uint256)
          {

```
*Github:* [[128](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L128), [145](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L145), [165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L165), [210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L210), [255](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L255), [308](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L308), [442](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L442), [539](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L539), [581](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L581), [808](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L808), [1314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1314), [1434](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1434), [1460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1460), [1489](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1489), [1517](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1517), [1553](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1553)]


```solidity
File: contracts/WiseLendingDeclaration.sol

/// @audit missing zero check for `_wiseSecurity`
140:     function setSecurity(
             address _wiseSecurity
         )
             external
             onlyMaster
         {

```
*Github:* [[140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L140)]


```solidity
File: contracts/WiseLowLevelHelper.sol

/// @audit missing zero check for `_poolToken`
39:     function getTotalPool(
            address _poolToken
        )
            public
            view
            returns (uint256)
        {

/// @audit missing zero check for `_poolToken`
49:     function getPseudoTotalPool(
            address _poolToken
        )
            public
            view
            returns (uint256)
        {

/// @audit missing zero check for `_poolToken`
59:     function getTotalBareToken(
            address _poolToken
        )
            external
            view
            returns (uint256)
        {

/// @audit missing zero check for `_poolToken`
69:     function getPseudoTotalBorrowAmount(
            address _poolToken
        )
            external
            view
            returns (uint256)
        {

/// @audit missing zero check for `_poolToken`
79:     function getTotalDepositShares(
            address _poolToken
        )
            external
            view
            returns (uint256)
        {

/// @audit missing zero check for `_poolToken`
89:     function getTotalBorrowShares(
            address _poolToken
        )
            external
            view
            returns (uint256)
        {

/// @audit missing zero check for `_poolToken`
99:     function getPositionLendingShares(
            uint256 _nftId,
            address _poolToken
        )
            external
            view
            returns (uint256)
        {

/// @audit missing zero check for `_poolToken`
110:     function getPositionBorrowShares(
             uint256 _nftId,
             address _poolToken
         )
             external
             view
             returns (uint256)
         {

/// @audit missing zero check for `_poolToken`
121:     function getPureCollateralAmount(
             uint256 _nftId,
             address _poolToken
         )
             external
             view
             returns (uint256)
         {

/// @audit missing zero check for `_poolToken`
134:     function getTimeStamp(
             address _poolToken
         )
             external
             view
             returns (uint256)
         {

/// @audit missing zero check for `_poolToken`
188:     function _setMaxValue(
             address _poolToken,
             uint256 _value
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
197:     function _setBestPole(
             address _poolToken,
             uint256 _value
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
206:     function _setIncreasePole(
             address _poolToken,
             bool _state
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
215:     function _setPole(
             address _poolToken,
             uint256 _value
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
224:     function _increaseTotalPool(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
233:     function _decreaseTotalPool(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
242:     function _increaseTotalDepositShares(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
251:     function _decreaseTotalDepositShares(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
260:     function _increasePseudoTotalBorrowAmount(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
269:     function _decreasePseudoTotalBorrowAmount(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
278:     function _increaseTotalBorrowShares(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
287:     function _decreaseTotalBorrowShares(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
296:     function _increasePseudoTotalPool(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
305:     function _decreasePseudoTotalPool(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
314:     function _setTimeStamp(
             address _poolToken,
             uint256 _time
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
323:     function _setTimeStampScaling(
             address _poolToken,
             uint256 _time
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
332:     function _increaseTotalBareToken(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
341:     function _decreaseTotalBareToken(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
371:     function _decreasePositionMappingValue(
             mapping(uint256 => mapping(address => uint256)) storage userMapping,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
382:     function _increaseMappingValue(
             mapping(uint256 => mapping(address => uint256)) storage userMapping,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing zero check for `_sender`
393:     function _byPassCase(
             address _sender
         )
             internal
             view
             returns (bool)
         {

/// @audit missing zero check for `_poolToken`
407:     function _increaseTotalAndPseudoTotalPool(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing zero check for `_poolToken`
424:     function setPoolFee(
             address _poolToken,
             uint256 _newFee
         )
             external
             onlyFeeManager
         {

/// @audit missing zero check for `_msgSender`
434:     function _checkOwnerPosition(
             uint256 _nftId,
             address _msgSender
         )
             internal
             view
         {

```
*Github:* [[39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L39), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L49), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L59), [69](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L69), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L79), [89](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L89), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L99), [110](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L110), [121](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L121), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L134), [188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L188), [197](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L197), [206](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L206), [215](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L215), [224](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L224), [233](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L233), [242](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L242), [251](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L251), [260](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L260), [269](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L269), [278](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L278), [287](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L287), [296](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L296), [305](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L305), [314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L314), [323](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L323), [332](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L332), [341](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L341), [371](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L371), [382](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L382), [393](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L393), [407](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L407), [424](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L424), [434](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L434)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

/// @audit missing zero check for `_tokenAddress`
/// @audit missing zero check for `_priceFeedAddress`
12:     function _addOracle(
            address _tokenAddress,
            IPriceFeed _priceFeedAddress,
            address[] calldata _underlyingFeedTokens
        )
            internal
        {

/// @audit missing zero check for `_tokenAddress`
32:     function _addAggregator(
            address _tokenAddress
        )
            internal
        {

/// @audit missing zero check for `_tokenAggregator`
60:     function _checkFunctionExistence(
            address _tokenAggregator
        )
            internal
            returns (bool)
        {

/// @audit missing zero check for `_tokenAggregator`
87:     function _compareMinMax(
            IAggregator _tokenAggregator,
            int192 _answer
        )
            internal
            view
        {

/// @audit missing zero check for `_tokenAddress`
131:     function _validateAnswer(
             address _tokenAddress
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing zero check for `_tokenAddress`
/// @audit missing zero check for `_oracle`
179:     function _writeUniTwapPoolInfoStruct(
             address _tokenAddress,
             address _oracle,
             bool _isUniPool
         )
             internal
         {

/// @audit missing zero check for `_tokenAddress`
/// @audit missing zero check for `_partnerTokenAddress`
/// @audit missing zero check for `_oracleAddress`
/// @audit missing zero check for `_partnerOracleAddress`
195:     function _writeUniTwapPoolInfoStructDerivative(
             address _tokenAddress,
             address _partnerTokenAddress,
             address _oracleAddress,
             address _partnerOracleAddress,
             bool _isUniPool
         )
             internal
         {

/// @audit missing zero check for `_tokenAddress`
246:     function _getChainlinkAnswer(
             address _tokenAddress
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing zero check for `_token0`
/// @audit missing zero check for `_token1`
283:     function _getPool(
             address _token0,
             address _token1,
             uint24 _fee
         )
             internal
             view
             returns (address pool)
         {

/// @audit missing zero check for `_tokenAddress`
/// @audit missing zero check for `_token0`
/// @audit missing zero check for `_token1`
303:     function _validateTokenAddress(
             address _tokenAddress,
             address _token0,
             address _token1
         )
             internal
             pure
         {

/// @audit missing zero check for `_pool`
/// @audit missing zero check for `_expectedPool`
324:     function _validatePoolAddress(
             address _pool,
             address _expectedPool
         )
             internal
             pure
         {

/// @audit missing zero check for `_tokenAddress`
344:     function _validatePriceFeed(
             address _tokenAddress
         )
             internal
             view
         {

/// @audit missing zero check for `_tokenAddress`
359:     function _validateTwapOracle(
             address _tokenAddress
         )
             internal
             view
         {

/// @audit missing zero check for `_tokenAddress`
/// @audit missing zero check for `_oracle`
374:     function _getTwapPrice(
             address _tokenAddress,
             address _oracle
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing zero check for `_tokenAddress`
394:     function _getOneUnit(
             address _tokenAddress
         )
             internal
             view
             returns (uint128)
         {

/// @audit missing zero check for `_tokenAddress`
450:     function decimals(
             address _tokenAddress
         )
             public
             view
             returns (uint8)
         {

/// @audit missing zero check for `_tokenAddress`
460:     function _getTwapDerivatePrice(
             address _tokenAddress,
             UniTwapPoolInfo memory _uniTwapPoolInfo
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing zero check for `_tokenAddress`
507:     function _recalibrate(
             address _tokenAddress
         )
             internal
         {

/// @audit missing zero check for `_tokenAddress`
556:     function _chainLinkIsDead(
             address _tokenAddress
         )
             internal
             view
             returns (bool)
         {

/// @audit missing zero check for `_tokenAddress`
592:     function _recalibratePreview(
             address _tokenAddress
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing zero check for `_tokenAddress`
674:     function _getRoundTimestamp(
             address _tokenAddress,
             uint80 _roundId
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing zero check for `_tokenAddress`
699:     function getLatestRoundId(
             address _tokenAddress
         )
             public
             view
             returns (
                 uint80 roundId
             )
         {

```
*Github:* [[12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L12), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L32), [60](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L60), [87](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L87), [131](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L131), [179](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L179), [195](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L195), [246](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L246), [283](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L283), [303](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L303), [324](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L324), [344](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L344), [359](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L359), [374](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L374), [394](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L394), [450](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L450), [460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L460), [507](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L507), [556](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L556), [592](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L592), [674](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L674), [699](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L699)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

/// @audit missing zero check for `_tokenAddress`
85:     function getTokenDecimals(
            address _tokenAddress
        )
            external
            view
            returns (uint8)
        {

/// @audit missing zero check for `_tokenAddress`
123:     function getTokensPriceInUSD(
             address _tokenAddress,
             uint256 _tokenAmount
         )
             external
             view
             returns (uint256)
         {

/// @audit missing zero check for `_tokenAddress`
198:     function getTokensPriceFromUSD(
             address _tokenAddress,
             uint256 _usdValue
         )
             external
             view
             returns (uint256)
         {

/// @audit missing zero check for `_tokenAddress`
/// @audit missing zero check for `_uniPoolAddress`
/// @audit missing zero check for `_token0`
/// @audit missing zero check for `_token1`
218:     function addTwapOracle(
             address _tokenAddress,
             address _uniPoolAddress,
             address _token0,
             address _token1,
             uint24 _fee
         )
             external
             onlyMaster
         {

/// @audit missing zero check for `_tokenAddress`
/// @audit missing zero check for `_partnerTokenAddress`
266:     function addTwapOracleDerivative(
             address _tokenAddress,
             address _partnerTokenAddress,
             address[2] calldata _uniPools,
             address[2] calldata _token0Array,
             address[2] calldata _token1Array,
             uint24[2] calldata _feeArray
         )
             external
             onlyMaster
         {

/// @audit missing zero check for `_tokenAddress`
/// @audit missing zero check for `_priceFeedAddress`
359:     function addOracle(
             address _tokenAddress,
             IPriceFeed _priceFeedAddress,
             address[] calldata _underlyingFeedTokens
         )
             external
             onlyMaster
         {

/// @audit missing zero check for `_tokenAddress`
403:     function addAggregator(
             address _tokenAddress
         )
             external
             onlyMaster
         {

/// @audit missing zero check for `_tokenAddress`
419:     function recalibratePreview(
             address _tokenAddress
         )
             external
             view
             returns (uint256)
         {

/// @audit missing zero check for `_tokenAddress`
439:     function chainLinkIsDead(
             address _tokenAddress
         )
             public
             view
             returns (bool state)
         {

/// @audit missing zero check for `_tokenAddress`
487:     function recalibrate(
             address _tokenAddress
         )
             external
         {

```
*Github:* [[85](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L85), [123](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L123), [198](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L198), [218](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L218), [266](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L266), [359](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L359), [403](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L403), [419](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L419), [439](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L439), [487](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L487)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

/// @audit missing zero check for `_tokenToPayback`
105:     function checksLiquidation(
             uint256 _nftIdLiquidate,
             address _tokenToPayback,
             uint256 _shareAmountToPay
         )
             external
             view
         {

/// @audit missing zero check for `_poolToken`
142:     function prepareCurvePools(
             address _poolToken,
             CurveSwapStructData calldata _curveSwapStructData,
             CurveSwapStructToken calldata _curveSwapStructToken
         )
             external
             onlyWiseLending
         {

/// @audit missing zero check for `_poolToken`
193:     function curveSecurityCheck(
             address _poolToken
         )
             external
             onlyWiseLending
         {

/// @audit missing zero check for `_poolToken`
306:     function checksBorrow(
             uint256 _nftId,
             address _caller,
             address _poolToken
         )
             external
             view
             returns (bool specialCase)
         {

/// @audit missing zero check for `_caller`
335:     function checksCollateralizeDeposit(
             uint256 _nftId,
             address _caller,
             address _poolAddress
         )
             external
             view
         {

/// @audit missing zero check for `_poolToken`
764:     function maximumWithdrawToken(
             uint256 _nftId,
             address _poolToken,
             uint256 _interval,
             uint256 _solelyWithdrawAmount
         )
             external
             view
             returns (uint256)
         {

/// @audit missing zero check for `_poolToken`
826:     function maximumWithdrawTokenSolely(
             uint256 _nftId,
             address _poolToken,
             uint256 _interval,
             uint256 _poolWithdrawAmount
         )
             external
             view
             returns (uint256)
         {

/// @audit missing zero check for `_poolToken`
868:     function maximumBorrowToken(
             uint256 _nftId,
             address _poolToken,
             uint256 _interval
         )
             external
             view
             returns (uint256 tokenAmount)
         {

/// @audit missing zero check for `_poolToken`
906:     function getExpectedPaybackAmount(
             uint256 _nftId,
             address _poolToken,
             uint256 _interval
         )
             external
             view
             returns (uint256)
         {

/// @audit missing zero check for `_poolToken`
943:     function getExpectedLendingAmount(
             uint256 _nftId,
             address _poolToken,
             uint256 _interval
         )
             public
             view
             returns (uint256)
         {

/// @audit missing zero check for `_tokenAddress`
980:     function setBlacklistToken(
             address _tokenAddress,
             bool _state
         )
             external
             onlyMaster()
         {

/// @audit missing zero check for `_entitiy`
995:     function setSecurityWorker(
             address _entitiy,
             bool _state
         )
             external
             onlyMaster
         {

/// @audit missing zero check for `_token`
1045:     function checkPoolCondition(
              address _token
          )
              external
              view
          {

/// @audit missing zero check for `_token`
1060:     function checkPoolWithMinDeposit(
              address _token,
              uint256 _amount
          )
              external
              view
              returns (bool)
          {

/// @audit missing zero check for `_token`
1078:     function checkMinDepositValue(
              address _token,
              uint256 _amount
          )
              external
              view
              returns (bool)
          {

/// @audit missing zero check for `_token`
1092:     function _checkMinDepositValue(
              address _token,
              uint256 _amount
          )
              private
              view
              returns (bool)
          {

```
*Github:* [[105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L105), [142](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L142), [193](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L193), [306](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L306), [335](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L335), [764](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L764), [826](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L826), [868](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L868), [906](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L906), [943](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L943), [980](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L980), [995](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L995), [1045](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1045), [1060](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1060), [1078](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1078), [1092](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1092)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

/// @audit missing zero check for `_poolToken`
190:     function getFullCollateralETH(
             uint256 _nftId,
             address _poolToken
         )
             public
             view
             returns (uint256 ethCollateral)
         {

/// @audit missing zero check for `_poolToken`
224:     function _isUncollateralized(
             uint256 _nftId,
             address _poolToken
         )
             internal
             view
             returns (bool)
         {

/// @audit missing zero check for `_poolToken`
246:     function _getCollateralOfTokenETHUpdated(
             uint256 _nftId,
             address _poolToken,
             uint256 _interval
         )
             internal
             view
             returns (uint256 ethCollateral)
         {

/// @audit missing zero check for `_poolToken`
281:     function getETHCollateralUpdated(
             uint256 _nftId,
             address _poolToken,
             uint256 _interval
         )
             public
             view
             returns (uint256)
         {

/// @audit missing zero check for `_poolToken`
323:     function getETHCollateral(
             uint256 _nftId,
             address _poolToken
         )
             public
             view
             returns (uint256)
         {

/// @audit missing zero check for `_poolToken`
340:     function _getTokensInEth(
             address _poolToken,
             uint256 _amount
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing zero check for `_poolToken`
470:     function _checkBlacklisted(
             address _poolToken
         )
             internal
             view
             returns (bool)
         {

/// @audit missing zero check for `_poolToken`
530:     function _getUpdatedPseudoBorrow(
             address _poolToken,
             uint256 _interval
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing zero check for `_poolToken`
610:     function _getETHBorrowUpdated(
             uint256 _nftId,
             address _poolToken,
             uint256 _intervall
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing zero check for `_poolToken`
651:     function getETHBorrow(
             uint256 _nftId,
             address _poolToken
         )
             public
             view
             returns (uint256)
         {

/// @audit missing zero check for `_receiveToken`
760:     function calculateWishPercentage(
             uint256 _nftId,
             address _receiveToken,
             uint256 _paybackETH,
             uint256 _maxFeeETH,
             uint256 _baseRewardLiquidation
         )
             external
             view
             returns (uint256)
         {

/// @audit missing zero check for `_caller`
837:     function checksRegister(
             uint256 _nftId,
             address _caller
         )
             public
             view
         {

/// @audit missing zero check for `_tokenToPayback`
876:     function checkMaxShares(
             uint256 _nftId,
             address _tokenToPayback,
             uint256 _borrowETHTotal,
             uint256 _unweightedCollateralETH,
             uint256 _shareAmountToPay
         )
             public
             view
         {

/// @audit missing zero check for `_poolToken`
922:     function getPositionLendingAmount(
             uint256 _nftId,
             address _poolToken
         )
             public
             view
             returns (uint256)
         {

/// @audit missing zero check for `_poolToken`
945:     function getPositionBorrowAmount(
             uint256 _nftId,
             address _poolToken
         )
             public
             view
             returns (uint256)
         {

/// @audit missing zero check for `_caller`
966:     function checkOwnerPosition(
             uint256 _nftId,
             address _caller
         )
             public
             view
         {

```
*Github:* [[190](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L190), [224](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L224), [246](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L246), [281](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L281), [323](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L323), [340](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L340), [470](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L470), [530](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L530), [610](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L610), [651](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L651), [760](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L760), [837](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L837), [876](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L876), [922](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L922), [945](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L945), [966](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L966)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

/// @audit missing zero check for `_underlyingAsset`
56:     function _wrapDepositExactAmount(
            uint256 _nftId,
            address _underlyingAsset,
            uint256 _depositAmount
        )
            internal
            returns (uint256)
        {

/// @audit missing zero check for `_underlyingAsset`
/// @audit missing zero check for `_underlyingAssetRecipient`
83:     function _wrapWithdrawExactAmount(
            uint256 _nftId,
            address _underlyingAsset,
            address _underlyingAssetRecipient,
            uint256 _withdrawAmount
        )
            internal
            returns (
                uint256,
                uint256
            )
        {

/// @audit missing zero check for `_underlyingAsset`
/// @audit missing zero check for `_underlyingAssetRecipient`
113:     function _wrapWithdrawExactShares(
             uint256 _nftId,
             address _underlyingAsset,
             address _underlyingAssetRecipient,
             uint256 _shareAmount
         )
             internal
             returns (uint256)
         {

/// @audit missing zero check for `_underlyingAsset`
/// @audit missing zero check for `_underlyingAssetRecipient`
141:     function _wrapBorrowExactAmount(
             uint256 _nftId,
             address _underlyingAsset,
             address _underlyingAssetRecipient,
             uint256 _borrowAmount
         )
             internal
             returns (uint256)
         {

/// @audit missing zero check for `_underlyingAsset`
/// @audit missing zero check for `_targetAddress`
165:     function _wrapAaveReturnValueDeposit(
             address _underlyingAsset,
             uint256 _depositAmount,
             address _targetAddress
         )
             internal
             returns (uint256 res)
         {

/// @audit missing zero check for `_poolToken`
243:     function _prepareCollaterals(
             uint256 _nftId,
             address _poolToken
         )
             private
         {

/// @audit missing zero check for `_poolToken`
279:     function _prepareBorrows(
             uint256 _nftId,
             address _poolToken
         )
             private
         {

```
*Github:* [[56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L56), [83](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L83), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L113), [141](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L141), [165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L165), [243](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L243), [279](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L279)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

/// @audit missing zero check for `_underlyingAsset`
/// @audit missing zero check for `_aaveToken`
44:     function setAaveTokenAddress(
            address _underlyingAsset,
            address _aaveToken
        )
            external
            onlyMaster
        {

/// @audit missing zero check for `_underlyingAsset`
103:     function depositExactAmountMint(
             address _underlyingAsset,
             uint256 _amount
         )
             external
             returns (uint256)
         {

/// @audit missing zero check for `_underlyingAsset`
635:     function getLendingRate(
             address _underlyingAsset
         )
             external
             view
             returns (uint256)
         {

/// @audit missing zero check for `_underlyingAsset`
/// @audit missing zero check for `_aaveToken`
664:     function _setAaveTokenAddress(
             address _underlyingAsset,
             address _aaveToken
         )
             internal
         {

```
*Github:* [[44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L44), [103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L103), [635](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L635), [664](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L664)]


```solidity
File: contracts/WrapperHub/Declarations.sol

/// @audit missing zero check for `_securityAddress`
105:     function setWiseSecurity(
             address _securityAddress
         )
             external
             onlyMaster
         {

```
*Github:* [[105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L105)]


</details>


<a name="L-2"></a> 
### [L-2] Array is `push()`ed but not `pop()`ed
There is no limit specified on the amount of gas used, so the recipient can use up all of the remaining gas (`gasleft()`), causing it to revert. Therefore, when calling an external contract, it is necessary to specify a limited amount of gas to forward.

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/MainHelper.sol

633:         userTokenData[_nftId].push(

```
*Github:* [[633](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L633)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

283:         activePendleMarkets.push(

```
*Github:* [[283](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L283)]



<a name="L-3"></a> 
### [L-3] Division by zero not prevented
The divisions below take an input parameter that has no zero-value checks, which can cause the functions reverting if zero is passed.

<details>
<summary>
There are <b>48</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

/// @audit `POW_USD_FEED`
122:         return uint256(answerUsdFeed)

```
*Github:* [[122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L122)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

/// @audit `POW_FEED`
103:         return uint256(answerFeed)

```
*Github:* [[103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L103)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

/// @audit `PRECISION_FACTOR_E18`
253:         uint256 increasedAmount = _paybackAmount

```
*Github:* [[253](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L253)]


```solidity
File: contracts/MainHelper.sol

/// @audit `_pseudo`
43:             ? _product / _pseudo + 1

/// @audit `_pseudo`
44:             : _product / _pseudo - 1;

/// @audit `PRECISION_FACTOR_YEAR`
360:         return timeDifference

/// @audit `PRECISION_FACTOR_YEAR`
525:         uint256 amountInterest = bareIncrease

/// @audit `PRECISION_FACTOR_E18`
528:         uint256 feeAmount = amountInterest

/// @audit `PRECISION_FACTOR_E18`
995:         return _shareValue < THRESHOLD_RESET_RESONANCE_FACTOR

/// @audit `PRECISION_FACTOR_E18`
1051:         _shareValues < THRESHOLD_SWITCH_DIRECTION

```
*Github:* [[43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L43), [44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L44), [360](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L360), [525](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L525), [528](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L528), [995](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L995), [1051](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1051)]


```solidity
File: contracts/PoolManager.sol

/// @audit `_poleBoundRate`
287:                 + _poolMulFactor

/// @audit `NORMALISATION_FACTOR`
301:         return (_maxPole - _minPole) / NORMALISATION_FACTOR;

```
*Github:* [[287](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L287), [301](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L301)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

/// @audit `PRECISION_FACTOR_E18`
194:             _getTokensInETH(

/// @audit `PRECISION_FACTOR_E18`
204:         uint256 ethValueAfter = _getTokensInETH(

/// @audit `PRECISION_FACTOR_E18`
431:                 _getEthInTokens(

/// @audit `PRECISION_FACTOR_E18`
497:         uint256 ethValueAfter = _getTokensInETH(

/// @audit `PRECISION_FACTOR_E18`
585:             ? _getPositionBorrowSharesAave(_nftId)

/// @audit `PRECISION_FACTOR_E18`
588:             : _getPositionBorrowShares(_nftId)

```
*Github:* [[194](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L194), [204](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L204), [431](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L431), [497](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L497), [585](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L585), [588](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L588)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

/// @audit `PRECISION_FACTOR_E18`
236:         return _getTokensInETH(

/// @audit `PRECISION_FACTOR_E18`
280:         return _initialAmount

/// @audit `PRECISION_FACTOR_E18`
320:         uint256 leveragedPositivAPY = _wstETHAPY

/// @audit `PRECISION_FACTOR_E18`
324:         uint256 leveragedNegativeAPY = newBorrowRate

```
*Github:* [[236](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L236), [280](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L280), [320](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L320), [324](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L324)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

/// @audit `WEEK`
39:         uint128 startTime = uint128((block.timestamp / WEEK)

/// @audit `PRECISION_FACTOR_E6`
81:         uint256 sendingValue = _rewardValue

```
*Github:* [[39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L39), [81](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L81)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit `_underlyingLpAssetsCurrent`
460:         return _underlyingAssetAmount

/// @audit `_underlyingLpAssetsCurrent`
490:             ? product / _underlyingLpAssetsCurrent

/// @audit `_underlyingLpAssetsCurrent`
491:             : product / _underlyingLpAssetsCurrent + 1;

```
*Github:* [[460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L460), [490](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L490), [491](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L491)]


```solidity
File: contracts/WiseCore.sol

/// @audit `PRECISION_FACTOR_E18`
439:         transferAmount = product / PRECISION_FACTOR_E18;

/// @audit `PRECISION_FACTOR_E18`
472:         uint256 cashoutShares = product / PRECISION_FACTOR_E18 + 1;

/// @audit `PRECISION_FACTOR_E18`
615:             _removePercentage

```
*Github:* [[439](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L439), [472](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L472), [615](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L615)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

/// @audit `_fetchTwapValue`
225:             return _answerUint256

/// @audit `_answerUint256`
230:         return _fetchTwapValue

```
*Github:* [[225](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L225), [230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L230)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

/// @audit `PRECISION_FACTOR_E18`
679:             buffer += WISE_LENDING.lendingPoolData(token).collateralFactor

/// @audit `PRECISION_FACTOR_E18`
686:         return buffer

/// @audit `PRECISION_FACTOR_E18`
877:         uint256 term = _overallETHCollateralsWeighted(_nftId, _interval)

```
*Github:* [[679](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L679), [686](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L686), [877](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L877)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

/// @audit `PRECISION_FACTOR_E18`
44:             weightedTotal += amount

/// @audit `PRECISION_FACTOR_E18`
90:             weightedTotal += WISE_LENDING.lendingPoolData(tokenAddress).collateralFactor

/// @audit `PRECISION_FACTOR_E18`
171:             weightedTotal += WISE_LENDING.lendingPoolData(tokenAddress).collateralFactor

/// @audit `PRECISION_FACTOR_E18`
566:         return _getInterest(_poolToken, _interval)

/// @audit `ONE_YEAR`
594:         uint256 rate = timeInterval

/// @audit `PRECISION_FACTOR_E18`
594:         uint256 rate = timeInterval

/// @audit `PRECISION_FACTOR_E18`
745:         uint256 feeETH = _paybackETH

/// @audit `PRECISION_FACTOR_E18`
826:         return overallCollateral

/// @audit `PRECISION_FACTOR_E18`
893:             : totalSharesUser * MAX_LIQUIDATION_50 / PRECISION_FACTOR_E18;

/// @audit `PRECISION_FACTOR_E18`
1014:         uint256 adjustedRate = getBorrowRate(_poolToken)

/// @audit `BORROW_PERCENTAGE_CAP`
1038:         uint256 term = _overallETHBorrow(_nftId, _interval)

```
*Github:* [[44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L44), [90](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L90), [171](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L171), [566](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L566), [594](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L594), [594](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L594), [745](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L745), [826](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L826), [893](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L893), [1014](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1014), [1038](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1038)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

/// @audit `PRECISION_FACTOR_E9`
322:         return AAVE.getReserveData(_underlyingAsset).currentLiquidityRate

```
*Github:* [[322](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L322)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

/// @audit `PRECISION_FACTOR_E18`
658:         return aaveRate

```
*Github:* [[658](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L658)]


</details>


<a name="L-4"></a> 
### [L-4] Consider implementing two-step procedure for updating protocol addresses
A copy-paste error or a typo may end up bricking protocol functionality, or sending tokens to an address with no known private key. Consider implementing a two-step procedure for updating protocol addresses, where the recipient is set as pending, and must "accept" the assignment by making an affirmative call. A straight forward way of doing this would be to have the target contracts implement [EIP-165](https://eips.ethereum.org/EIPS/eip-165), and to have the "set" functions ensure that the recipient is of the right interface type.

<details>
<summary>
There are <b>13</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

/// @audit `master`
26:     function renounceOwnership()
            external
            onlyOwner
        {

```
*Github:* [[26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L26)]


```solidity
File: contracts/FeeManager/FeeManager.sol

/// @audit `proposedIncentiveMaster`
173:     function proposeIncentiveMaster(
             address _proposedIncentiveMaster
         )
             external
             onlyIncentiveMaster
         {

/// @audit `incentiveMaster`
/// @audit `proposedIncentiveMaster`
194:     function claimOwnershipIncentiveMaster()
             external
         {

/// @audit `incentiveOwnerA`
315:     function changeIncentiveUSDA(
             address _newOwner
         )
             external
         {

/// @audit `incentiveOwnerB`
352:     function changeIncentiveUSDB(
             address _newOwner
         )
             external
         {

```
*Github:* [[173](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L173), [194](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L194), [315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L315), [352](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L352)]


```solidity
File: contracts/OwnableMaster.sol

/// @audit `proposedMaster`
70:     function proposeOwner(
            address _proposedOwner
        )
            external
            onlyMaster
        {

/// @audit `master`
92:     function claimOwnership()
            external
            onlyProposed
        {

/// @audit `master`
/// @audit `proposedMaster`
103:     function renounceOwnership()
             external
             onlyMaster
         {

```
*Github:* [[70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L70), [92](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L92), [103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L103)]


```solidity
File: contracts/PositionNFTs.sol

/// @audit `feeManager`
71:     function forwardFeeManagerNFT(
            address _feeManagerContract
        )
            external
            onlyMaster
        {

```
*Github:* [[71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L71)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

/// @audit `pendleChildAddress`
211:     function addPendleMarket(
             address _pendleMarket,
             string memory _tokenName,
             string memory _symbolName,
             uint16 _maxCardinality
         )
             external
             onlyMaster
         {

```
*Github:* [[211](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L211)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

/// @audit `farmContract`
51:     function setFarmContract(
            address _farmContract
        )
            external
            onlyMaster
        {

```
*Github:* [[51](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L51)]


```solidity
File: contracts/WiseLendingDeclaration.sol

/// @audit `WISE_SECURITY`
/// @audit `FEE_MANAGER`
/// @audit `AAVE_HUB_ADDRESS`
140:     function setSecurity(
             address _wiseSecurity
         )
             external
             onlyMaster
         {

```
*Github:* [[140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L140)]


```solidity
File: contracts/WrapperHub/Declarations.sol

/// @audit `WISE_SECURITY`
105:     function setWiseSecurity(
             address _securityAddress
         )
             external
             onlyMaster
         {

```
*Github:* [[105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L105)]


</details>


<a name="L-5"></a> 
### [L-5] Constructor / initialization function lacks parameter validation
Constructors and initialization functions play a critical role in contracts by setting important initial states when the contract is first deployed before the system starts. The parameters passed to the constructor and initialization functions directly affect the behavior of the contract / protocol. If incorrect parameters are provided, the system may fail to run, behave abnormally, be unstable, or lack security. Therefore, it's crucial to carefully check each parameter in the constructor and initialization functions. If an exception is found, the transaction should be rolled back.

<details>
<summary>
There are <b>24</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

/// @audit `_pendleLpOracle` not validated
/// @audit `_pendleChild` not validated
21:     constructor(

```
*Github:* [[21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L21)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

/// @audit `_pendleMarketAddress` not validated
/// @audit `_priceFeedChainLinkEth` not validated
/// @audit `_oraclePendlePt` not validated
/// @audit `_oracleName` not validated
/// @audit `_twapDuration` not validated
32:     constructor(

```
*Github:* [[32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L32)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

/// @audit `_pendleMarketAddress` not validated
/// @audit `_priceFeedChainLinkUsd` not validated
/// @audit `_priceFeedChainLinkEthUsd` not validated
/// @audit `_oraclePendlePt` not validated
/// @audit `_oracleName` not validated
/// @audit `_twapDuration` not validated
24:     constructor(

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L24)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

/// @audit `_pendleMarketAddress` not validated
/// @audit `_priceFeedChainLinkEth` not validated
/// @audit `_oraclePendlePt` not validated
/// @audit `_oracleName` not validated
/// @audit `_twapDuration` not validated
24:     constructor(

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L24)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

/// @audit `_master` not validated
33:     constructor(

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L33)]


```solidity
File: contracts/FeeManager/FeeManager.sol

/// @audit `_master` not validated
/// @audit `_aaveAddress` not validated
/// @audit `_wiseLendingAddress` not validated
/// @audit `_oracleHubAddress` not validated
/// @audit `_wiseSecurityAddress` not validated
/// @audit `_positionNFTAddress` not validated
27:     constructor(

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L27)]


```solidity
File: contracts/PositionNFTs.sol

/// @audit `_name` not validated
/// @audit `_symbol` not validated
/// @audit `_baseURI` not validated
25:     constructor(

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L25)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

/// @audit `_wiseLendingAddress` not validated
/// @audit `_pendleChilTokenAddress` not validated
/// @audit `_pendleRouter` not validated
/// @audit `_entryAsset` not validated
/// @audit `_pendleSy` not validated
/// @audit `_underlyingMarket` not validated
/// @audit `_routerStatic` not validated
/// @audit `_dexAddress` not validated
/// @audit `_collateralFactor` not validated
159:     constructor(

```
*Github:* [[159](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L159)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

/// @audit `_wiseLendingAddress` not validated
/// @audit `_pendleChilTokenAddress` not validated
/// @audit `_pendleRouter` not validated
/// @audit `_entryAsset` not validated
/// @audit `_pendleSy` not validated
/// @audit `_underlyingMarket` not validated
/// @audit `_routerStatic` not validated
/// @audit `_dexAddress` not validated
/// @audit `_collateralFactor` not validated
/// @audit `_powerFarmNFTs` not validated
31:     constructor(

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L31)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

/// @audit `_vePendle` not validated
/// @audit `_pendleToken` not validated
/// @audit `_voterContract` not validated
/// @audit `_voterRewardsClaimerAddress` not validated
/// @audit `_wiseOracleHub` not validated
12:     constructor(

```
*Github:* [[12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L12)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

/// @audit `_vePendle` not validated
/// @audit `_pendleToken` not validated
/// @audit `_voterContract` not validated
/// @audit `_voterRewardsClaimerAddress` not validated
/// @audit `_wiseOracleHub` not validated
79:     constructor(

```
*Github:* [[79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L79)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit `_underlyingPendleMarket` not validated
/// @audit `_pendleController` not validated
/// @audit `_tokenName` not validated
/// @audit `_symbolName` not validated
/// @audit `_maxCardinality` not validated
682:     function initialize(

```
*Github:* [[682](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L682)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

/// @audit `_pendlePowerFarmController` not validated
16:     constructor(

```
*Github:* [[16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L16)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

/// @audit `_powerFarmNFTs` not validated
55:     constructor(

```
*Github:* [[55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L55)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

/// @audit `_name` not validated
/// @audit `_symbol` not validated
38:     constructor(

```
*Github:* [[38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L38)]


```solidity
File: contracts/TransferHub/WrapperHelper.sol

/// @audit `_wethAddress` not validated
11:     constructor(

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L11)]


```solidity
File: contracts/WiseLending.sol

/// @audit `_master` not validated
/// @audit `_wiseOracleHubAddress` not validated
/// @audit `_nftContract` not validated
116:     constructor(

```
*Github:* [[116](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L116)]


```solidity
File: contracts/WiseLendingDeclaration.sol

/// @audit `_master` not validated
105:     constructor(

```
*Github:* [[105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L105)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

/// @audit `_wethAddress` not validated
/// @audit `_ethPriceFeed` not validated
/// @audit `_uniswapV3Factory` not validated
45:     constructor(

```
*Github:* [[45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L45)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

/// @audit `_wethAddrss` not validated
/// @audit `_ethPricingFeed` not validated
/// @audit `_uniswapFactoryV3` not validated
33:     constructor(

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L33)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

/// @audit `_master` not validated
/// @audit `_wiseLendingAddress` not validated
/// @audit `_aaveHubAddress` not validated
42:     constructor(

```
*Github:* [[42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L42)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

/// @audit `_master` not validated
52:     constructor(

```
*Github:* [[52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L52)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

/// @audit `_master` not validated
/// @audit `_aaveAddress` not validated
/// @audit `_lendingAddress` not validated
27:     constructor(

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L27)]


```solidity
File: contracts/WrapperHub/Declarations.sol

/// @audit `_master` not validated
43:     constructor(

```
*Github:* [[43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L43)]


</details>


<a name="L-6"></a> 
### [L-6] Code does not follow the best practice of check-effects-interaction
Code should follow the best-practice of [check-effects-interaction](https://blockchain-academy.hs-mittweida.de/courses/solidity-coding-beginners-to-intermediate/lessons/solidity-11-coding-patterns/topic/checks-effects-interactions/), where state variables are updated before any external calls are made. Doing so prevents a large class of reentrancy bugs.

<details>
<summary>
There are <b>58</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

/// @audit `.decimals(...)` is called on line 44
48:         TWAP_DURATION = _twapDuration;

/// @audit `.decimals(...)` is called on line 44
49:         ORACLE_PENDLE_PT = _oraclePendlePt;

/// @audit `.decimals(...)` is called on line 44
51:         PENDLE_MARKET = IPendleMarket(

/// @audit `.decimals(...)` is called on line 44
55:         name = _oracleName;

```
*Github:* [[48](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L48), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L49), [51](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L51), [55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L55)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

/// @audit `.decimals(...)` is called on line 38
39:         POW_ETH_USD_FEED = 10 ** ETH_FEED_ASSET.decimals();

/// @audit `.decimals(...)` is called on line 38
/// @audit `.decimals(...)` is called on line 39
41:         ORACLE_PENDLE_PT = _oraclePendlePt;

/// @audit `.decimals(...)` is called on line 38
/// @audit `.decimals(...)` is called on line 39
42:         TWAP_DURATION = _twapDuration;

/// @audit `.decimals(...)` is called on line 38
/// @audit `.decimals(...)` is called on line 39
43:         name = _oracleName;

```
*Github:* [[39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L39), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L41), [42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L42), [43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L43)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

/// @audit `.decimals(...)` is called on line 35
37:         DURATION = _twapDuration;

/// @audit `.decimals(...)` is called on line 35
38:         ORACLE_PENDLE_PT = _oraclePendlePt;

/// @audit `.decimals(...)` is called on line 35
40:         name = _oracleName;

```
*Github:* [[37](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L37), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L38), [40](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L40)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

/// @audit `.FEE_MANAGER_NFT(...)` is called on line 85
87:         incentiveMaster = _master;

/// @audit `.FEE_MANAGER_NFT(...)` is called on line 85
88:         paybackIncentive = 5 * PRECISION_FACTOR_E16;

/// @audit `.FEE_MANAGER_NFT(...)` is called on line 85
90:         incentiveOwnerA = 0xf69A0e276664997357BF987df83f32a1a3F80944;

/// @audit `.FEE_MANAGER_NFT(...)` is called on line 85
91:         incentiveOwnerB = 0x8f741ea9C9ba34B5B8Afc08891bDf53faf4B3FE7;

/// @audit `.FEE_MANAGER_NFT(...)` is called on line 85
93:         incentiveUSD[incentiveOwnerA] = 98000 * PRECISION_FACTOR_E18;

/// @audit `.FEE_MANAGER_NFT(...)` is called on line 85
94:         incentiveUSD[incentiveOwnerB] = 106500 * PRECISION_FACTOR_E18;

```
*Github:* [[87](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L87), [88](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L88), [90](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L90), [91](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L91), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L93), [94](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L94)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

/// @audit `.globalPoolData(...)` is called on line 341
/// @audit `.getTokensPriceInUSD(...)` is called on line 343
354:             incentiveUSD[_incentiveOwner] -= usdEquivalent;

/// @audit `.globalPoolData(...)` is called on line 341
/// @audit `.getTokensPriceInUSD(...)` is called on line 343
356:             gatheredIncentiveToken

/// @audit `.globalPoolData(...)` is called on line 341
/// @audit `.getTokensPriceInUSD(...)` is called on line 343
/// @audit `.getTokensPriceFromUSD(...)` is called on line 363
372:         gatheredIncentiveToken

```
*Github:* [[354](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L354), [356](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L356), [372](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L372)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

/// @audit `.WISE_ORACLE(...)` is called on line 212
215:         BALANCER_VAULT = IBalancerVault(

/// @audit `.WISE_ORACLE(...)` is called on line 212
219:         WISE_SECURITY = IWiseSecurity(

/// @audit `.WISE_ORACLE(...)` is called on line 212
/// @audit `.WISE_SECURITY(...)` is called on line 220
223:         WETH_ADDRESS = WISE_LENDING.WETH_ADDRESS();

/// @audit `.WISE_ORACLE(...)` is called on line 212
/// @audit `.WISE_SECURITY(...)` is called on line 220
/// @audit `.WETH_ADDRESS(...)` is called on line 223
225:         AAVE_HUB = IAaveHub(

/// @audit `.WISE_ORACLE(...)` is called on line 212
/// @audit `.WISE_SECURITY(...)` is called on line 220
/// @audit `.WETH_ADDRESS(...)` is called on line 223
/// @audit `.AAVE_HUB(...)` is called on line 226
229:         AAVE_ADDRESS = AAVE_HUB.AAVE_ADDRESS();

/// @audit `.WISE_ORACLE(...)` is called on line 212
/// @audit `.WISE_SECURITY(...)` is called on line 220
/// @audit `.WETH_ADDRESS(...)` is called on line 223
/// @audit `.AAVE_HUB(...)` is called on line 226
/// @audit `.AAVE_ADDRESS(...)` is called on line 229
231:         AAVE = IAave(

/// @audit `.WISE_ORACLE(...)` is called on line 212
/// @audit `.WISE_SECURITY(...)` is called on line 220
/// @audit `.WETH_ADDRESS(...)` is called on line 223
/// @audit `.AAVE_HUB(...)` is called on line 226
/// @audit `.AAVE_ADDRESS(...)` is called on line 229
235:         AAVE_HUB_ADDRESS = address(

/// @audit `.WISE_ORACLE(...)` is called on line 212
/// @audit `.WISE_SECURITY(...)` is called on line 220
/// @audit `.WETH_ADDRESS(...)` is called on line 223
/// @audit `.AAVE_HUB(...)` is called on line 226
/// @audit `.AAVE_ADDRESS(...)` is called on line 229
239:         POSITION_NFT = IPositionNFTs(

/// @audit `.WISE_ORACLE(...)` is called on line 212
/// @audit `.WISE_SECURITY(...)` is called on line 220
/// @audit `.WETH_ADDRESS(...)` is called on line 223
/// @audit `.AAVE_HUB(...)` is called on line 226
/// @audit `.AAVE_ADDRESS(...)` is called on line 229
/// @audit `.POSITION_NFT(...)` is called on line 240
247:         collateralFactor = _collateralFactor;

/// @audit `.WISE_ORACLE(...)` is called on line 212
/// @audit `.WISE_SECURITY(...)` is called on line 220
/// @audit `.WETH_ADDRESS(...)` is called on line 223
/// @audit `.AAVE_HUB(...)` is called on line 226
/// @audit `.AAVE_ADDRESS(...)` is called on line 229
/// @audit `.POSITION_NFT(...)` is called on line 240
248:         borrowTokenAddresses = AAVE_HUB.WETH_ADDRESS();

/// @audit `.WISE_ORACLE(...)` is called on line 212
/// @audit `.WISE_SECURITY(...)` is called on line 220
/// @audit `.WETH_ADDRESS(...)` is called on line 223
/// @audit `.AAVE_HUB(...)` is called on line 226
/// @audit `.AAVE_ADDRESS(...)` is called on line 229
/// @audit `.POSITION_NFT(...)` is called on line 240
/// @audit `.WETH_ADDRESS(...)` is called on line 248
249:         aaveTokenAddresses = AAVE_HUB.aaveTokenAddress(

/// @audit `.WISE_ORACLE(...)` is called on line 212
/// @audit `.WISE_SECURITY(...)` is called on line 220
/// @audit `.WETH_ADDRESS(...)` is called on line 223
/// @audit `.AAVE_HUB(...)` is called on line 226
/// @audit `.AAVE_ADDRESS(...)` is called on line 229
/// @audit `.POSITION_NFT(...)` is called on line 240
/// @audit `.WETH_ADDRESS(...)` is called on line 248
/// @audit `.aaveTokenAddress(...)` is called on line 249
253:         AAVE_WETH_ADDRESS = aaveTokenAddresses;

/// @audit `.WISE_ORACLE(...)` is called on line 212
/// @audit `.WISE_SECURITY(...)` is called on line 220
/// @audit `.WETH_ADDRESS(...)` is called on line 223
/// @audit `.AAVE_HUB(...)` is called on line 226
/// @audit `.AAVE_ADDRESS(...)` is called on line 229
/// @audit `.POSITION_NFT(...)` is called on line 240
/// @audit `.WETH_ADDRESS(...)` is called on line 248
/// @audit `.aaveTokenAddress(...)` is called on line 249
260:             minDepositEthAmount = 3 ether;

/// @audit `.WISE_ORACLE(...)` is called on line 212
/// @audit `.WISE_SECURITY(...)` is called on line 220
/// @audit `.WETH_ADDRESS(...)` is called on line 223
/// @audit `.AAVE_HUB(...)` is called on line 226
/// @audit `.AAVE_ADDRESS(...)` is called on line 229
/// @audit `.POSITION_NFT(...)` is called on line 240
/// @audit `.WETH_ADDRESS(...)` is called on line 248
/// @audit `.aaveTokenAddress(...)` is called on line 249
262:             minDepositEthAmount = 0.03 ether;

```
*Github:* [[215](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L215), [219](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L219), [223](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L223), [225](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L225), [229](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L229), [231](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L231), [235](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L235), [239](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L239), [247](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L247), [248](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L248), [249](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L249), [253](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L253), [260](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L260), [262](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L262)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

/// @audit `.burnKey(...)` is called on line 230
235:         availableNFTs[

```
*Github:* [[235](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L235)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

/// @audit `.deploy(...)` is called on line 224
231:         pendleChildAddress[_pendleMarket] = pendleChild;

/// @audit `.increaseLockPosition(...)` is called on line 406
418:             reservedPendleForLocking -= _amount;

```
*Github:* [[231](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L231), [418](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L418)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit `.isExpired(...)` is called on line 699
703:         PENDLE_CONTROLLER = IPendleController(

/// @audit `.isExpired(...)` is called on line 699
707:         MAX_CARDINALITY = _maxCardinality;

/// @audit `.isExpired(...)` is called on line 699
712:         PENDLE_POWER_FARM_CONTROLLER = _pendleController;

/// @audit `.isExpired(...)` is called on line 699
713:         UNDERLYING_PENDLE_MARKET = _underlyingPendleMarket;

/// @audit `.isExpired(...)` is called on line 699
/// @audit `.readTokens(...)` is called on line 718
720:         PENDLE_SY = IPendleSy(

/// @audit `.isExpired(...)` is called on line 699
/// @audit `.readTokens(...)` is called on line 718
/// @audit `.decimals(...)` is called on line 724
726:         lastInteraction = block.timestamp;

/// @audit `.isExpired(...)` is called on line 699
/// @audit `.readTokens(...)` is called on line 718
/// @audit `.decimals(...)` is called on line 724
729:         underlyingLpAssetsCurrent = 1;

/// @audit `.isExpired(...)` is called on line 699
/// @audit `.readTokens(...)` is called on line 718
/// @audit `.decimals(...)` is called on line 724
730:         mintFee = 3000;

/// @audit `.isExpired(...)` is called on line 699
/// @audit `.readTokens(...)` is called on line 718
/// @audit `.decimals(...)` is called on line 724
731:         INITIAL_TIME_STAMP = block.timestamp;

```
*Github:* [[703](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L703), [707](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L707), [712](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L712), [713](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L713), [720](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L720), [726](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L726), [729](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L729), [730](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L730), [731](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L731)]


```solidity
File: contracts/WiseLending.sol

/// @audit `.overallETHCollateralsBare(...)` is called on line 1397
/// @audit `.overallETHBorrowBare(...)` is called on line 1401
1404:         positionLocked[_nftId] = _registerState;

```
*Github:* [[1404](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1404)]


```solidity
File: contracts/WiseLendingDeclaration.sol

/// @audit `.WETH_ADDRESS(...)` is called on line 131
133:         POSITION_NFT = IPositionNFTs(

/// @audit `.WETH_ADDRESS(...)` is called on line 131
137:         FEE_MANAGER_NFT = POSITION_NFT.FEE_MANAGER_NFT();

/// @audit `.FEE_MANAGER(...)` is called on line 155
158:         AAVE_HUB_ADDRESS = WISE_SECURITY.AAVE_HUB();

```
*Github:* [[133](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L133), [137](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L137), [158](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L158)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

/// @audit `.master(...)` is called on line 77
/// @audit `.WISE_ORACLE(...)` is called on line 78
/// @audit `.POSITION_NFT(...)` is called on line 79
/// @audit `.AAVE_ADDRESS(...)` is called on line 83
90:         WISE_ORACLE = IWiseOracleHub(

/// @audit `.master(...)` is called on line 77
/// @audit `.WISE_ORACLE(...)` is called on line 78
/// @audit `.POSITION_NFT(...)` is called on line 79
/// @audit `.AAVE_ADDRESS(...)` is called on line 83
94:         FEE_MANAGER = IFeeManager(

/// @audit `.master(...)` is called on line 77
/// @audit `.WISE_ORACLE(...)` is called on line 78
/// @audit `.POSITION_NFT(...)` is called on line 79
/// @audit `.AAVE_ADDRESS(...)` is called on line 83
98:         WISE_LIQUIDATION = IWiseLiquidation(

/// @audit `.master(...)` is called on line 77
/// @audit `.WISE_ORACLE(...)` is called on line 78
/// @audit `.POSITION_NFT(...)` is called on line 79
/// @audit `.AAVE_ADDRESS(...)` is called on line 83
102:         POSITION_NFTS = IPositionNFTs(

/// @audit `.master(...)` is called on line 77
/// @audit `.WISE_ORACLE(...)` is called on line 78
/// @audit `.POSITION_NFT(...)` is called on line 79
/// @audit `.AAVE_ADDRESS(...)` is called on line 83
106:         IS_ETH_MAINNET = block.chainid == 1;

```
*Github:* [[90](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L90), [94](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L94), [98](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L98), [102](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L102), [106](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L106)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

/// @audit `.getPoolTokenAddressesLength(...)` is called on line 1063
1067:             wasBlacklisted[

```
*Github:* [[1067](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1067)]


```solidity
File: contracts/WrapperHub/Declarations.sol

/// @audit `.WETH_ADDRESS(...)` is called on line 70
72:         AAVE = IAave(

/// @audit `.WETH_ADDRESS(...)` is called on line 70
76:         POSITION_NFT = IPositionNFTs(

```
*Github:* [[72](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L72), [76](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L76)]


</details>


<a name="L-7"></a> 
### [L-7] External function calls within loops
Calling external functions within loops can easily result in insufficient gas. This greatly increases the likelihood of transaction failures, DOS attacks, and other unexpected actions. It is recommended to limit the number of loops within loops that call external functions, and to limit the gas line for each external call.

<details>
<summary>
There are <b>37</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/FeeManager.sol

/// @audit `.setPoolFee(...)`
151:             WISE_LENDING.setPoolFee(

/// @audit `.syncManually(...)`
905:             WISE_LENDING.syncManually(

```
*Github:* [[151](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L151), [905](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L905)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

/// @audit `.getPositionBorrowTokenByIndex(...)`
27:             address currentAddress = WISE_LENDING.getPositionBorrowTokenByIndex(

/// @audit `.syncManually(...)`
32:             WISE_LENDING.syncManually(

/// @audit `.getPositionLendingTokenByIndex(...)`
59:             address currentAddress = WISE_LENDING.getPositionLendingTokenByIndex(

/// @audit `.syncManually(...)`
64:             WISE_LENDING.syncManually(

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L27), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L32), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L59), [64](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L64)]


```solidity
File: contracts/MainHelper.sol

/// @audit `.curveSecurityCheck(...)`
483:             WISE_SECURITY.curveSecurityCheck(

```
*Github:* [[483](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L483)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit `.increaseReservedForCompound(...)`
206:                 PENDLE_CONTROLLER.increaseReservedForCompound(

/// @audit `.redeemRewards(...)`
243:                 PENDLE_MARKET.redeemRewards(

```
*Github:* [[206](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L206), [243](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L243)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

/// @audit `.getPositionLendingTokenByIndex(...)`
466:             token = WISE_LENDING.getPositionLendingTokenByIndex(

/// @audit `.getTokensInETH(...)`
476:             ethValue = WISE_ORACLE.getTokensInETH(

/// @audit `.getPositionBorrowTokenByIndex(...)`
523:             token = WISE_LENDING.getPositionBorrowTokenByIndex(

/// @audit `.getTokensInETH(...)`
533:             ethValue = WISE_ORACLE.getTokensInETH(

/// @audit `.getPositionBorrowTokenByIndex(...)`
582:             token = WISE_LENDING.getPositionBorrowTokenByIndex(

/// @audit `.getPositionLendingTokenByIndex(...)`
604:             token = WISE_LENDING.getPositionLendingTokenByIndex(

/// @audit `.getPositionLendingTokenByIndex(...)`
662:             token = WISE_LENDING.getPositionLendingTokenByIndex(

/// @audit `.lendingPoolData(...)`
679:             buffer += WISE_LENDING.lendingPoolData(token).collateralFactor

/// @audit `.getPositionLendingTokenByIndex(...)`
711:             token = WISE_LENDING.getPositionLendingTokenByIndex(

/// @audit `.getPositionBorrowTokenByIndex(...)`
736:             token = WISE_LENDING.getPositionBorrowTokenByIndex(

```
*Github:* [[466](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L466), [476](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L476), [523](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L523), [533](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L533), [582](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L582), [604](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L604), [662](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L662), [679](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L679), [711](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L711), [736](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L736)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

/// @audit `.getPositionLendingTokenByIndex(...)`
34:             tokenAddress = WISE_LENDING.getPositionLendingTokenByIndex(

/// @audit `.lendingPoolData(...)`
45:                 * WISE_LENDING.lendingPoolData(tokenAddress).collateralFactor

/// @audit `.getPositionLendingTokenByIndex(...)`
81:             tokenAddress = WISE_LENDING.getPositionLendingTokenByIndex(

/// @audit `.lendingPoolData(...)`
90:             weightedTotal += WISE_LENDING.lendingPoolData(tokenAddress).collateralFactor

/// @audit `.getPositionLendingTokenByIndex(...)`
123:             tokenAddress = WISE_LENDING.getPositionLendingTokenByIndex(

/// @audit `.getPositionLendingTokenByIndex(...)`
162:             tokenAddress = WISE_LENDING.getPositionLendingTokenByIndex(

/// @audit `.lendingPoolData(...)`
171:             weightedTotal += WISE_LENDING.lendingPoolData(tokenAddress).collateralFactor

/// @audit `.getPositionBorrowTokenByIndex(...)`
376:                 WISE_LENDING.getPositionBorrowTokenByIndex(

/// @audit `.getPositionBorrowTokenByIndex(...)`
410:             tokenAddress = WISE_LENDING.getPositionBorrowTokenByIndex(

/// @audit `.getPositionBorrowTokenByIndex(...)`
446:             tokenAddress = WISE_LENDING.getPositionBorrowTokenByIndex(

/// @audit `.getPositionBorrowTokenByIndex(...)`
503:             tokenAddress = WISE_LENDING.getPositionBorrowTokenByIndex(

/// @audit `.getPoolTokenAdressesByIndex(...)`
1068:                 FEE_MANAGER.getPoolTokenAdressesByIndex(i)

```
*Github:* [[34](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L34), [45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L45), [81](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L81), [90](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L90), [123](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L123), [162](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L162), [171](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L171), [376](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L376), [410](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L410), [446](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L446), [503](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L503), [1068](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1068)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

/// @audit `.getPositionLendingTokenByIndex(...)`
256:             address currentAddress = WISE_LENDING.getPositionLendingTokenByIndex(

/// @audit `.preparePool(...)`
269:             WISE_LENDING.preparePool(

/// @audit `.newBorrowRate(...)`
273:             WISE_LENDING.newBorrowRate(

/// @audit `.getPositionBorrowTokenByIndex(...)`
292:             address currentAddress = WISE_LENDING.getPositionBorrowTokenByIndex(

/// @audit `.preparePool(...)`
305:             WISE_LENDING.preparePool(

/// @audit `.newBorrowRate(...)`
309:             WISE_LENDING.newBorrowRate(

```
*Github:* [[256](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L256), [269](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L269), [273](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L273), [292](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L292), [305](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L305), [309](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L309)]


</details>


<a name="L-8"></a> 
### [L-8] Loss of precision in divisions
Division by large numbers may result in the result being zero, due to solidity not supporting fractions. Consider requiring a minimum amount for the numerator to ensure that it is always larger than the denominator.

*There is one instance of this issue:*
```solidity
File: contracts/PoolManager.sol

301:         return (_maxPole - _minPole) / NORMALISATION_FACTOR;

```
*Github:* [[301](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L301)]



<a name="L-9"></a> 
### [L-9] Missing checks for state variable assignments
There are some missing checks in these functions, and this could lead to unexpected scenarios. Consider always adding a sanity check for state variables.

<details>
<summary>
There are <b>75</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

/// @audit `_time`
39:         lastUpdateGlobal = _time;

/// @audit `_updateTime`
49:         timeStampByRoundId[_roundId] = _updateTime;

/// @audit `_aggregatorRoundId`
58:         globalRoundId = _aggregatorRoundId;

```
*Github:* [[39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L39), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L49), [58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L58)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

/// @audit `_pendleMarketAddress`
40:         PENDLE_MARKET_ADDRESS = _pendleMarketAddress;

/// @audit `_priceFeedChainLinkEth`
42:         FEED_ASSET = _priceFeedChainLinkEth;

/// @audit `_twapDuration`
48:         TWAP_DURATION = _twapDuration;

/// @audit `_oraclePendlePt`
49:         ORACLE_PENDLE_PT = _oraclePendlePt;

/// @audit `_oracleName`
55:         name = _oracleName;

```
*Github:* [[40](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L40), [42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L42), [48](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L48), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L49), [55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L55)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

/// @audit `_pendleMarketAddress`
33:         PENDLE_MARKET_ADDRESS = _pendleMarketAddress;

/// @audit `_priceFeedChainLinkUsd`
35:         USD_FEED_ASSET = _priceFeedChainLinkUsd;

/// @audit `_priceFeedChainLinkEthUsd`
36:         ETH_FEED_ASSET = _priceFeedChainLinkEthUsd;

/// @audit `_oraclePendlePt`
41:         ORACLE_PENDLE_PT = _oraclePendlePt;

/// @audit `_twapDuration`
42:         TWAP_DURATION = _twapDuration;

/// @audit `_oracleName`
43:         name = _oracleName;

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L33), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L35), [36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L36), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L41), [42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L42), [43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L43)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

/// @audit `_pendleMarketAddress`
32:         PENDLE_MARKET_ADDRESS = _pendleMarketAddress;

/// @audit `_priceFeedChainLinkEth`
34:         FEED_ASSET = _priceFeedChainLinkEth;

/// @audit `_twapDuration`
37:         DURATION = _twapDuration;

/// @audit `_oraclePendlePt`
38:         ORACLE_PENDLE_PT = _oraclePendlePt;

/// @audit `_oracleName`
40:         name = _oracleName;

```
*Github:* [[32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L32), [34](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L34), [37](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L37), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L38), [40](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L40)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

/// @audit `_master`
87:         incentiveMaster = _master;

```
*Github:* [[87](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L87)]


```solidity
File: contracts/FeeManager/FeeManager.sol

/// @audit `_percent`
59:         paybackIncentive = _percent;

/// @audit `_proposedIncentiveMaster`
183:         proposedIncentiveMaster = _proposedIncentiveMaster;

/// @audit `_newOwner`
340:         incentiveOwnerA = _newOwner;

/// @audit `_newOwner`
377:         incentiveOwnerB = _newOwner;

```
*Github:* [[59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L59), [183](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L183), [340](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L340), [377](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L377)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

/// @audit `_amount`
83:         badDebtPosition[_nftId] = _amount;

/// @audit `_underlyingToken`
237:         underlyingToken[_poolToken] = _underlyingToken;

```
*Github:* [[83](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L83), [237](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L237)]


```solidity
File: contracts/OwnableMaster.sol

/// @audit `_master`
63:         master = _master;

/// @audit `_proposedOwner`
80:         proposedMaster = _proposedOwner;

```
*Github:* [[63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L63), [80](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L80)]


```solidity
File: contracts/PoolManager.sol

/// @audit `_isFinal`
40:         parametersLocked[_poolToken] = _isFinal;

/// @audit `_maximumDeposit`
109:             maxDepositValueToken[_poolToken] = _maximumDeposit;

/// @audit `_state`
132:         verifiedIsolationPool[_isolationPool] = _state;

```
*Github:* [[40](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L40), [109](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L109), [132](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L132)]


```solidity
File: contracts/PositionNFTs.sol

/// @audit `_baseURI`
38:         baseURI = _baseURI;

/// @audit `_state`
61:         reserveRole[_reserverForOthers] = _state;

/// @audit `_feeManagerContract`
81:         feeManager = _feeManagerContract;

/// @audit `_newBaseURI`
325:         baseURI = _newBaseURI;

/// @audit `_newBaseExtension`
334:         baseExtension = _newBaseExtension;

```
*Github:* [[38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L38), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L61), [81](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L81), [325](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L325), [334](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L334)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

/// @audit `_entryAsset`
204:         ENTRY_ASSET = _entryAsset;

/// @audit `_pendleChilTokenAddress`
205:         PENDLE_CHILD = _pendleChilTokenAddress;

/// @audit `_collateralFactor`
247:         collateralFactor = _collateralFactor;

```
*Github:* [[204](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L204), [205](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L205), [247](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L247)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

/// @audit `_newMinDeposit`
69:         minDepositEthAmount = _newMinDeposit;

/// @audit `_state`
88:         isShutdown = _state;

/// @audit `_isAave`
129:         isAave[keyId] = _isAave;

/// @audit `_isAave`
172:         isAave[keyId] = _isAave;

```
*Github:* [[69](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L69), [88](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L88), [129](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L129), [172](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L172)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

/// @audit `_newExchangeIncentive`
327:         exchangeIncentive = _newExchangeIncentive;

```
*Github:* [[327](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L327)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

/// @audit `_pendleToken`
94:         PENDLE_TOKEN_ADDRESS = _pendleToken;

/// @audit `_voterContract`
96:         VOTER_CONTRACT_ADDRESS = _voterContract;

/// @audit `_voterRewardsClaimerAddress`
97:         VOTER_REWARDS_CLAIMER_ADDRESS = _voterRewardsClaimerAddress;

/// @audit `_wiseOracleHub`
99:         WISE_ORACLE_HUB_ADDRESS = _wiseOracleHub;

/// @audit `_vePendle`
100:         VE_PENDLE_CONTRACT_ADDRESS = _vePendle;

```
*Github:* [[94](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L94), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L96), [97](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L97), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L99), [100](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L100)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit `_newFee`
602:         mintFee = _newFee;

/// @audit `_maxCardinality`
707:         MAX_CARDINALITY = _maxCardinality;

/// @audit `_pendleController`
712:         PENDLE_POWER_FARM_CONTROLLER = _pendleController;

/// @audit `_underlyingPendleMarket`
713:         UNDERLYING_PENDLE_MARKET = _underlyingPendleMarket;

```
*Github:* [[602](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L602), [707](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L707), [712](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L712), [713](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L713)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

/// @audit `_pendlePowerFarmController`
20:         PENDLE_POWER_FARM_CONTROLLER = _pendlePowerFarmController;

```
*Github:* [[20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L20)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

/// @audit `_wiseLendingNFT`
91:         farmingKeys[keyId] = _wiseLendingNFT;

```
*Github:* [[91](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L91)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

/// @audit `_farmContract`
58:             farmContract = _farmContract;

/// @audit `_newBaseURI`
167:         baseURI = _newBaseURI;

/// @audit `_newBaseExtension`
176:         baseExtension = _newBaseExtension;

```
*Github:* [[58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L58), [167](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L167), [176](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L176)]


```solidity
File: contracts/WiseLending.sol

/// @audit `_registerState`
1404:         positionLocked[_nftId] = _registerState;

```
*Github:* [[1404](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1404)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

/// @audit `_wethAddress`
54:         WETH_ADDRESS = _wethAddress;

```
*Github:* [[54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L54)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

/// @audit `_priceFeedAddress`
23:         priceFeed[_tokenAddress] = _priceFeedAddress;

/// @audit `_underlyingFeedTokens`
29:         underlyingFeedTokens[_tokenAddress] = _underlyingFeedTokens;

```
*Github:* [[23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L23), [29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L29)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

/// @audit `_curveSwapStructData`
150:         curveSwapInfoData[_poolToken] = _curveSwapStructData;

/// @audit `_curveSwapStructToken`
151:         curveSwapInfoToken[_poolToken] = _curveSwapStructToken;

/// @audit `_state`
987:         wasBlacklisted[_tokenAddress] = _state;

/// @audit `_state`
1002:         securityWorker[_entitiy] = _state;

/// @audit `_newMinDepositValue`
1121:         minDepositEthValue = _newMinDepositValue;

```
*Github:* [[150](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L150), [151](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L151), [987](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L987), [1002](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1002), [1121](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1121)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

/// @audit `_aaveHubAddress`
75:         AAVE_HUB = _aaveHubAddress;

/// @audit `_baseReward`
134:         baseRewardLiquidation = _baseReward;

/// @audit `_baseRewardFarm`
144:         baseRewardLiquidationFarm = _baseRewardFarm;

/// @audit `_newMaxFeeETH`
162:         maxFeeETH = _newMaxFeeETH;

/// @audit `_newMaxFeeFarmETH`
180:         maxFeeFarmETH = _newMaxFeeFarmETH;

```
*Github:* [[75](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L75), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L134), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L144), [162](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L162), [180](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L180)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

/// @audit `_state`
1067:             wasBlacklisted[

```
*Github:* [[1067](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1067)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

/// @audit `_aaveToken`
674:         aaveTokenAddress[_underlyingAsset] = _aaveToken;

```
*Github:* [[674](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L674)]


```solidity
File: contracts/WrapperHub/Declarations.sol

/// @audit `_aaveAddress`
65:         AAVE_ADDRESS = _aaveAddress;

```
*Github:* [[65](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L65)]


</details>


<a name="L-10"></a> 
### [L-10] Missing limits when setting min/max amounts
There are some missing limits in these functions, and this could lead to unexpected scenarios. Consider adding a min/max limit for the following values, when appropriate.

*There are <b>10</b> instances of this issue:*
```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

/// @audit `_time`
33:     function setLastUpdateGlobal(
            uint256 _time
        )
            external
            onlyOwner
        {

/// @audit `_updateTime`
42:     function setRoundData(
            uint80 _roundId,
            uint256 _updateTime
        )
            external
            onlyOwner
        {

/// @audit `_aggregatorRoundId`
52:     function setGlobalAggregatorRoundId(
            uint80 _aggregatorRoundId
        )
            external
            onlyOwner
        {

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L33), [42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L42), [52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L52)]


```solidity
File: contracts/FeeManager/FeeManager.sol

/// @audit `_percent`
49:     function setRepayBadDebtIncentive(
            uint256 _percent
        )
            external
            onlyMaster
        {

```
*Github:* [[49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L49)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

/// @audit `_amount`
77:     function _setBadDebtPosition(
            uint256 _nftId,
            uint256 _amount
        )
            internal
        {

```
*Github:* [[77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L77)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

/// @audit `_newMinDeposit`
63:     function changeMinDeposit(
            uint256 _newMinDeposit
        )
            external
            onlyMaster
        {

```
*Github:* [[63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L63)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

/// @audit `_newExchangeIncentive`
321:     function changeExchangeIncentive(
             uint256 _newExchangeIncentive
         )
             external
             onlyMaster
         {

```
*Github:* [[321](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L321)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit `_maxCardinality`
682:     function initialize(
             address _underlyingPendleMarket,
             address _pendleController,
             string memory _tokenName,
             string memory _symbolName,
             uint16 _maxCardinality
         )
             external
         {

```
*Github:* [[682](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L682)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

/// @audit `_wiseLendingNFT`
77:     function _reserveKey(
            address _userAddress,
            uint256 _wiseLendingNFT
        )
            internal
            returns (uint256)
        {

```
*Github:* [[77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L77)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

/// @audit `_newMinDepositValue`
1111:     function changeMinDepositValue(
              uint256 _newMinDepositValue
          )
              external
              onlyMaster
          {

```
*Github:* [[1111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1111)]



<a name="L-11"></a> 
### [L-11] Missing zero address check in constructor
Constructors often take address parameters to initialize important components of a contract, such as owner or linked contracts. However, without a checking, there's a risk that an address parameter could be mistakenly set to the zero address (0x0). This could be due to an error or oversight during contract deployment. A zero address in a crucial role can cause serious issues, as it cannot perform actions like a normal address, and any funds sent to it will be irretrievable. It's therefore crucial to include a zero address check in constructors to prevent such potential problems. If a zero address is detected, the constructor should revert the transaction.

<details>
<summary>
There are <b>22</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

/// @audit missing zero check for `_pendleLpOracle`
/// @audit missing zero check for `_pendleChild`
21:     constructor(
            address _pendleLpOracle,
            address _pendleChild
        )
            CustomOracleSetup()
        {

```
*Github:* [[21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L21)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

/// @audit missing zero check for `_pendleMarketAddress`
/// @audit missing zero check for `_priceFeedChainLinkEth`
/// @audit missing zero check for `_oraclePendlePt`
32:     constructor(
            address _pendleMarketAddress,
            IPriceFeed _priceFeedChainLinkEth,
            IOraclePendle _oraclePendlePt,
            string memory _oracleName,
            uint32 _twapDuration
        )
        {

```
*Github:* [[32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L32)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

/// @audit missing zero check for `_pendleMarketAddress`
/// @audit missing zero check for `_priceFeedChainLinkUsd`
/// @audit missing zero check for `_priceFeedChainLinkEthUsd`
/// @audit missing zero check for `_oraclePendlePt`
24:     constructor(
            address _pendleMarketAddress,
            IPriceFeed _priceFeedChainLinkUsd,
            IPriceFeed _priceFeedChainLinkEthUsd,
            IOraclePendle _oraclePendlePt,
            string memory _oracleName,
            uint32 _twapDuration
        )
        {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L24)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

/// @audit missing zero check for `_pendleMarketAddress`
/// @audit missing zero check for `_priceFeedChainLinkEth`
/// @audit missing zero check for `_oraclePendlePt`
24:     constructor(
            address _pendleMarketAddress,
            IPriceFeed _priceFeedChainLinkEth,
            IOraclePendle _oraclePendlePt,
            string memory _oracleName,
            uint32 _twapDuration
        )
        {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L24)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

/// @audit missing zero check for `_master`
/// @audit missing zero check for `_aaveAddress`
/// @audit missing zero check for `_wiseLendingAddress`
/// @audit missing zero check for `_oracleHubAddress`
/// @audit missing zero check for `_wiseSecurityAddress`
/// @audit missing zero check for `_positionNFTAddress`
33:     constructor(
            address _master,
            address _aaveAddress,
            address _wiseLendingAddress,
            address _oracleHubAddress,
            address _wiseSecurityAddress,
            address _positionNFTAddress
        )
            OwnableMaster(
                _master
            )
        {

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L33)]


```solidity
File: contracts/FeeManager/FeeManager.sol

/// @audit missing zero check for `_master`
/// @audit missing zero check for `_aaveAddress`
/// @audit missing zero check for `_wiseLendingAddress`
/// @audit missing zero check for `_oracleHubAddress`
/// @audit missing zero check for `_wiseSecurityAddress`
/// @audit missing zero check for `_positionNFTAddress`
27:     constructor(
            address _master,
            address _aaveAddress,
            address _wiseLendingAddress,
            address _oracleHubAddress,
            address _wiseSecurityAddress,
            address _positionNFTAddress
        )
            DeclarationsFeeManager(
                _master,
                _aaveAddress,
                _wiseLendingAddress,
                _oracleHubAddress,
                _wiseSecurityAddress,
                _positionNFTAddress
            )
        {}

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L27)]


```solidity
File: contracts/OwnableMaster.sol

/// @audit missing zero check for `_master`
57:     constructor(
            address _master
        ) {

```
*Github:* [[57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L57)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

/// @audit missing zero check for `_wiseLendingAddress`
/// @audit missing zero check for `_pendleChilTokenAddress`
/// @audit missing zero check for `_pendleRouter`
/// @audit missing zero check for `_entryAsset`
/// @audit missing zero check for `_pendleSy`
/// @audit missing zero check for `_underlyingMarket`
/// @audit missing zero check for `_routerStatic`
/// @audit missing zero check for `_dexAddress`
159:     constructor(
             address _wiseLendingAddress,
             address _pendleChilTokenAddress,
             address _pendleRouter,
             address _entryAsset,
             address _pendleSy,
             address _underlyingMarket,
             address _routerStatic,
             address _dexAddress,
             uint256 _collateralFactor
         )
             WrapperHelper(
                 IWiseLending(
                     _wiseLendingAddress
                 ).WETH_ADDRESS()
             )
         {

```
*Github:* [[159](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L159)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

/// @audit missing zero check for `_wiseLendingAddress`
/// @audit missing zero check for `_pendleChilTokenAddress`
/// @audit missing zero check for `_pendleRouter`
/// @audit missing zero check for `_entryAsset`
/// @audit missing zero check for `_pendleSy`
/// @audit missing zero check for `_underlyingMarket`
/// @audit missing zero check for `_routerStatic`
/// @audit missing zero check for `_dexAddress`
/// @audit missing zero check for `_powerFarmNFTs`
31:     constructor(
            address _wiseLendingAddress,
            address _pendleChilTokenAddress,
            address _pendleRouter,
            address _entryAsset,
            address _pendleSy,
            address _underlyingMarket,
            address _routerStatic,
            address _dexAddress,
            uint256 _collateralFactor,
            address _powerFarmNFTs
        )
            OwnableMaster(
                msg.sender
            )
            MinterReserver(
                _powerFarmNFTs
            )
            PendlePowerFarmDeclarations(
                _wiseLendingAddress,
                _pendleChilTokenAddress,
                _pendleRouter,
                _entryAsset,
                _pendleSy,
                _underlyingMarket,
                _routerStatic,
                _dexAddress,
                _collateralFactor
            )
        {

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L31)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

/// @audit missing zero check for `_vePendle`
/// @audit missing zero check for `_pendleToken`
/// @audit missing zero check for `_voterContract`
/// @audit missing zero check for `_voterRewardsClaimerAddress`
/// @audit missing zero check for `_wiseOracleHub`
12:     constructor(
            address _vePendle,
            address _pendleToken,
            address _voterContract,
            address _voterRewardsClaimerAddress,
            address _wiseOracleHub
        )
            PendlePowerFarmControllerBase(
                _vePendle,
                _pendleToken,
                _voterContract,
                _voterRewardsClaimerAddress,
                _wiseOracleHub
            )
        {

```
*Github:* [[12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L12)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

/// @audit missing zero check for `_vePendle`
/// @audit missing zero check for `_pendleToken`
/// @audit missing zero check for `_voterContract`
/// @audit missing zero check for `_voterRewardsClaimerAddress`
/// @audit missing zero check for `_wiseOracleHub`
79:     constructor(
            address _vePendle,
            address _pendleToken,
            address _voterContract,
            address _voterRewardsClaimerAddress,
            address _wiseOracleHub
        )
            OwnableMaster(
                msg.sender
            )
        {

```
*Github:* [[79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L79)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

/// @audit missing zero check for `_pendlePowerFarmController`
16:     constructor(
            address _pendlePowerFarmController
        )
        {

```
*Github:* [[16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L16)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

/// @audit missing zero check for `_powerFarmNFTs`
55:     constructor(
            address _powerFarmNFTs
        ) {

```
*Github:* [[55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L55)]


```solidity
File: contracts/TransferHub/WrapperHelper.sol

/// @audit missing zero check for `_wethAddress`
11:     constructor(
            address _wethAddress
        )
        {

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L11)]


```solidity
File: contracts/WiseLending.sol

/// @audit missing zero check for `_master`
/// @audit missing zero check for `_wiseOracleHubAddress`
/// @audit missing zero check for `_nftContract`
116:     constructor(
             address _master,
             address _wiseOracleHubAddress,
             address _nftContract
         )
             WiseLendingDeclaration(
                 _master,
                 _wiseOracleHubAddress,
                 _nftContract
             )
         {}

```
*Github:* [[116](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L116)]


```solidity
File: contracts/WiseLendingDeclaration.sol

/// @audit missing zero check for `_master`
/// @audit missing zero check for `_wiseOracleHub`
/// @audit missing zero check for `_nftContract`
105:     constructor(
             address _master,
             address _wiseOracleHub,
             address _nftContract
         )
             OwnableMaster(
                 _master
             )
             WrapperHelper(
                 IWiseOracleHub(
                     _wiseOracleHub
                 ).WETH_ADDRESS()
             )
         {

```
*Github:* [[105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L105)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

/// @audit missing zero check for `_wethAddress`
/// @audit missing zero check for `_ethPriceFeed`
/// @audit missing zero check for `_uniswapV3Factory`
45:     constructor(
            address _wethAddress,
            address _ethPriceFeed,
            address _uniswapV3Factory
        )
            OwnableMaster(
                msg.sender
            )
        {

```
*Github:* [[45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L45)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

/// @audit missing zero check for `_wethAddrss`
/// @audit missing zero check for `_ethPricingFeed`
/// @audit missing zero check for `_uniswapFactoryV3`
33:     constructor(
            address _wethAddrss,
            address _ethPricingFeed,
            address _uniswapFactoryV3
        )
            Declarations(
                _wethAddrss,
                _ethPricingFeed,
                _uniswapFactoryV3
            )
        {

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L33)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

/// @audit missing zero check for `_master`
/// @audit missing zero check for `_wiseLendingAddress`
/// @audit missing zero check for `_aaveHubAddress`
42:     constructor(
            address _master,
            address _wiseLendingAddress,
            address _aaveHubAddress
        )
            WiseSecurityDeclarations(
                _master,
                _wiseLendingAddress,
                _aaveHubAddress
            )
        {}

```
*Github:* [[42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L42)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

/// @audit missing zero check for `_master`
/// @audit missing zero check for `_wiseLendingAddress`
/// @audit missing zero check for `_aaveHubAddress`
52:     constructor(
            address _master,
            address _wiseLendingAddress,
            address _aaveHubAddress
        )
            OwnableMaster(
                _master
            )
        {

```
*Github:* [[52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L52)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

/// @audit missing zero check for `_master`
/// @audit missing zero check for `_aaveAddress`
/// @audit missing zero check for `_lendingAddress`
27:     constructor(
            address _master,
            address _aaveAddress,
            address _lendingAddress
        )
            Declarations(
                _master,
                _aaveAddress,
                _lendingAddress
            )
        {}

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L27)]


```solidity
File: contracts/WrapperHub/Declarations.sol

/// @audit missing zero check for `_master`
/// @audit missing zero check for `_aaveAddress`
/// @audit missing zero check for `_lendingAddress`
43:     constructor(
            address _master,
            address _aaveAddress,
            address _lendingAddress
        )
            OwnableMaster(
                _master
            )
            WrapperHelper(
                IWiseLending(
                    _lendingAddress
                ).WETH_ADDRESS()
            )
        {

```
*Github:* [[43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L43)]


</details>


<a name="L-12"></a> 
### [L-12] Consider some checks for `address(0)` when setting address state variables
Check for zero-address to avoid the risk of setting `address(0)` for state variables after an update.

<details>
<summary>
There are <b>31</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

/// @audit `_pendleMarketAddress`
40:         PENDLE_MARKET_ADDRESS = _pendleMarketAddress;

/// @audit `_priceFeedChainLinkEth`
42:         FEED_ASSET = _priceFeedChainLinkEth;

/// @audit `_oraclePendlePt`
49:         ORACLE_PENDLE_PT = _oraclePendlePt;

```
*Github:* [[40](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L40), [42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L42), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L49)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

/// @audit `_pendleMarketAddress`
33:         PENDLE_MARKET_ADDRESS = _pendleMarketAddress;

/// @audit `_priceFeedChainLinkUsd`
35:         USD_FEED_ASSET = _priceFeedChainLinkUsd;

/// @audit `_priceFeedChainLinkEthUsd`
36:         ETH_FEED_ASSET = _priceFeedChainLinkEthUsd;

/// @audit `_oraclePendlePt`
41:         ORACLE_PENDLE_PT = _oraclePendlePt;

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L33), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L35), [36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L36), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L41)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

/// @audit `_pendleMarketAddress`
32:         PENDLE_MARKET_ADDRESS = _pendleMarketAddress;

/// @audit `_priceFeedChainLinkEth`
34:         FEED_ASSET = _priceFeedChainLinkEth;

/// @audit `_oraclePendlePt`
38:         ORACLE_PENDLE_PT = _oraclePendlePt;

```
*Github:* [[32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L32), [34](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L34), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L38)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

/// @audit `_master`
87:         incentiveMaster = _master;

```
*Github:* [[87](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L87)]


```solidity
File: contracts/FeeManager/FeeManager.sol

/// @audit `_proposedIncentiveMaster`
183:         proposedIncentiveMaster = _proposedIncentiveMaster;

/// @audit `_newOwner`
340:         incentiveOwnerA = _newOwner;

/// @audit `_newOwner`
377:         incentiveOwnerB = _newOwner;

```
*Github:* [[183](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L183), [340](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L340), [377](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L377)]


```solidity
File: contracts/OwnableMaster.sol

/// @audit `_master`
63:         master = _master;

/// @audit `_proposedOwner`
80:         proposedMaster = _proposedOwner;

```
*Github:* [[63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L63), [80](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L80)]


```solidity
File: contracts/PositionNFTs.sol

/// @audit `_feeManagerContract`
81:         feeManager = _feeManagerContract;

```
*Github:* [[81](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L81)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

/// @audit `_entryAsset`
204:         ENTRY_ASSET = _entryAsset;

/// @audit `_pendleChilTokenAddress`
205:         PENDLE_CHILD = _pendleChilTokenAddress;

```
*Github:* [[204](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L204), [205](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L205)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

/// @audit `_pendleToken`
94:         PENDLE_TOKEN_ADDRESS = _pendleToken;

/// @audit `_voterContract`
96:         VOTER_CONTRACT_ADDRESS = _voterContract;

/// @audit `_voterRewardsClaimerAddress`
97:         VOTER_REWARDS_CLAIMER_ADDRESS = _voterRewardsClaimerAddress;

/// @audit `_wiseOracleHub`
99:         WISE_ORACLE_HUB_ADDRESS = _wiseOracleHub;

/// @audit `_vePendle`
100:         VE_PENDLE_CONTRACT_ADDRESS = _vePendle;

```
*Github:* [[94](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L94), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L96), [97](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L97), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L99), [100](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L100)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit `_pendleController`
712:         PENDLE_POWER_FARM_CONTROLLER = _pendleController;

/// @audit `_underlyingPendleMarket`
713:         UNDERLYING_PENDLE_MARKET = _underlyingPendleMarket;

```
*Github:* [[712](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L712), [713](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L713)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

/// @audit `_pendlePowerFarmController`
20:         PENDLE_POWER_FARM_CONTROLLER = _pendlePowerFarmController;

```
*Github:* [[20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L20)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

/// @audit `_farmContract`
58:             farmContract = _farmContract;

```
*Github:* [[58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L58)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

/// @audit `_wethAddress`
54:         WETH_ADDRESS = _wethAddress;

```
*Github:* [[54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L54)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

/// @audit `_aaveHubAddress`
75:         AAVE_HUB = _aaveHubAddress;

```
*Github:* [[75](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L75)]


```solidity
File: contracts/WrapperHub/Declarations.sol

/// @audit `_aaveAddress`
65:         AAVE_ADDRESS = _aaveAddress;

```
*Github:* [[65](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L65)]


</details>


<a name="L-13"></a> 
### [L-13] NFT doesn't handle hard forks
To ensure clarity regarding the ownership of the NFT on a specific chain, it is recommended to add `require(block.chainid == 1, "Invalid Chain")` or the desired chain ID in the functions below.

Alternatively, consider including the chain ID in the URI itself. By doing so, any confusion regarding the chain responsible for owning the NFT will be eliminated.

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/PositionNFTs.sol

340:     function tokenURI(
             uint256 _tokenId
         )
             public
             view
             override
             returns (string memory)
         {

```
*Github:* [[340](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L340)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

182:     function tokenURI(
             uint256 _tokenId
         )
             public
             view
             override
             returns (string memory)
         {

```
*Github:* [[182](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L182)]



<a name="L-14"></a> 
### [L-14] `receive()`/`fallback()` function does not authorize requests
Having no access control on the function (e.g. `require(msg.sender == address(weth))`) means that someone may send Ether to the contract, and have no way to get anything back out, which is a loss of funds. If the concern is having to spend a small amount of gas to check the sender against an immutable address, the code should at least have a function to rescue mistakenly-sent Ether.

*There are <b>4</b> instances of this issue:*
```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

21:     receive()

```
*Github:* [[21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L21)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

125:     receive()

```
*Github:* [[125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L125)]


```solidity
File: contracts/WiseLending.sol

49:     receive()

```
*Github:* [[49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L49)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

83:     receive()

```
*Github:* [[83](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L83)]



<a name="L-15"></a> 
### [L-15] Unsafe downcast
When a type is downcast to a smaller type, the higher order bits are truncated, effectively applying a modulo to the original value. Without any other checks, this wrapping will lead to unexpected behavior and bugs.

*There are <b>9</b> instances of this issue:*
```solidity
File: contracts/PositionNFTs.sol

/// @audit uint256 -> uint8
399:                 uint8(

```
*Github:* [[399](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L399)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

/// @audit uint256 -> uint128
379:             ? uint128(currentExpiry)

/// @audit uint256 -> uint128
407:             uint128(_amount),

```
*Github:* [[379](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L379), [407](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L407)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

/// @audit uint256 -> uint128
39:         uint128 startTime = uint128((block.timestamp / WEEK)

```
*Github:* [[39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L39)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

/// @audit uint256 -> uint8
241:                 uint8(

```
*Github:* [[241](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L241)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

/// @audit uint256 -> uint192
157:                 int192(uint192(answer))

/// @audit uint256 -> uint128
401:         return uint128(

/// @audit int56 -> int24
434:         int24 tick = int24(

```
*Github:* [[157](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L157), [401](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L401), [434](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L434)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

/// @audit uint256 -> uint160
45:             uint160(

```
*Github:* [[45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L45)]



<a name="L-16"></a> 
### [L-16] Unsafe addition/multiplication in `unchecked` block
These additions/multiplications may silently overflow because they're in unchecked blocks with no preceding value checks, which may lead to unexpected results.

*There is one instance of this issue:*
```solidity
File: contracts/MainHelper.sol

321:                 totalPool + bareToken

```
*Github:* [[321](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L321)]



<a name="L-17"></a> 
### [L-17] Consider using `ERC721A` instead of `ERC721`
[ERC721A](https://www.erc721a.org/) is an implementation of IERC721 with significant gas savings for minting multiple NFTs in a single transaction.

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/PositionNFTs.sol

11: contract PositionNFTs is ERC721Enumerable, OwnableMaster {

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L11)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

24: contract PowerFarmNFTs is ERC721Enumerable, OwnableMaster {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L24)]



<a name="L-18"></a> 
### [L-18] Using zero as a parameter
Taking `0` as a valid argument in Solidity without checks can lead to severe security issues. A historical example is the infamous `0x0` address bug where numerous tokens were lost. This happens because 0 can be interpreted as an uninitialized `address`, leading to transfers to the 0x0 address, effectively burning tokens. Moreover, `0` as a denominator in division operations would cause a runtime exception. It's also often indicative of a logical error in the caller's code. It's important to always validate input and handle edge cases like `0` appropriately. Use `require()` statements to enforce conditions and provide clear error messages to facilitate debugging and safer code.

<details>
<summary>
There are <b>11</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

161:             emit UpdateBadDebtPosition(

```
*Github:* [[161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L161)]


```solidity
File: contracts/PoolManager.sol

169:         _validateParameter(

208:         globalPoolData[_params.poolToken] = GlobalPoolEntry({

231:         borrowPoolData[_params.poolToken] = BorrowPoolEntry({

239:         algorithmData[_params.poolToken] = AlgorithmEntry({

```
*Github:* [[169](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L169), [208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L208), [231](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L231), [239](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L239)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

207:         _executeBalancerFlashLoan(

254:         _executeBalancerFlashLoan(

```
*Github:* [[207](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L207), [254](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L254)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

473:                 _guessPtReceivedFromSy: ApproxParams(

```
*Github:* [[473](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L473)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

143:         _withdrawLp(

```
*Github:* [[143](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L143)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

156:         _safeApprove(

176:         _safeApprove(

```
*Github:* [[156](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L156), [176](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L176)]


</details>


<a name="L-19"></a> 
### [L-19] Missing zero address check in initializer

*There is one instance of this issue:*
```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit missing zero check for `_underlyingPendleMarket`
/// @audit missing zero check for `_pendleController`
682:     function initialize(
             address _underlyingPendleMarket,
             address _pendleController,
             string memory _tokenName,
             string memory _symbolName,
             uint16 _maxCardinality
         )
             external
         {

```
*Github:* [[682](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L682)]



<a name="L-20"></a> 
### [L-20] Centralization Risk for trusted owners
Contracts have owners with privileged rights to perform admin tasks and need to be trusted to not perform malicious updates or drain funds.

<details>
<summary>
There are <b>80</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

26:     function renounceOwnership()
            external
            onlyOwner

33:     function setLastUpdateGlobal(
            uint256 _time
        )
            external
            onlyOwner

42:     function setRoundData(
            uint80 _roundId,
            uint256 _updateTime
        )
            external
            onlyOwner

52:     function setGlobalAggregatorRoundId(
            uint80 _aggregatorRoundId
        )
            external
            onlyOwner

```
*Github:* [[26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L26), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L33), [42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L42), [52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L52)]


```solidity
File: contracts/FeeManager/FeeManager.sol

49:     function setRepayBadDebtIncentive(
            uint256 _percent
        )
            external
            onlyMaster

66:     function setAaveFlag(
            address _poolToken,
            address _underlyingToken
        )
            external
            onlyMaster

82:     function setAaveFlagBulk(
            address[] calldata _poolTokens,
            address[] calldata _underlyingTokens
        )
            external
            onlyMaster

108:     function setPoolFee(
             address _poolToken,
             uint256 _newFee
         )
             external
             onlyMaster

135:     function setPoolFeeBulk(
             address[] calldata _poolTokens,
             uint256[] calldata _newFees
         )
             external
             onlyMaster

173:     function proposeIncentiveMaster(
             address _proposedIncentiveMaster
         )
             external
             onlyIncentiveMaster

214:     function increaseIncentiveA(
             uint256 _value
         )
             external
             onlyIncentiveMaster

232:     function increaseIncentiveB(
             uint256 _value
         )
             external
             onlyIncentiveMaster

390:     function addPoolTokenAddress(
             address _poolToken
         )
             external
             onlyWiseLending

412:     function addPoolTokenAddressManual(
             address _poolToken
         )
             external
             onlyMaster

438:     function removePoolTokenManual(
             address _poolToken
         )
             external
             onlyMaster

494:     function increaseTotalBadDebtLiquidation(
             uint256 _amount
         )
             external
             onlyWiseSecurity

514:     function setBadDebtUserLiquidation(
             uint256 _nftId,
             uint256 _amount
         )
             external
             onlyWiseSecurity

538:     function setBeneficial(
             address _user,
             address[] calldata _feeTokens
         )
             external
             onlyMaster

571:     function revokeBeneficial(
             address _user,
             address[] memory _feeTokens
         )
             external
             onlyMaster

```
*Github:* [[49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L49), [66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L66), [82](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L82), [108](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L108), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L135), [173](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L173), [214](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L214), [232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L232), [390](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L390), [412](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L412), [438](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L438), [494](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L494), [514](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L514), [538](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L538), [571](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L571)]


```solidity
File: contracts/OwnableMaster.sol

70:     function proposeOwner(
            address _proposedOwner
        )
            external
            onlyMaster

92:     function claimOwnership()
            external
            onlyProposed

103:     function renounceOwnership()
             external
             onlyMaster

```
*Github:* [[70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L70), [92](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L92), [103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L103)]


```solidity
File: contracts/PoolManager.sol

25:     function setParamsLASA(
            address _poolToken,
            uint256 _poolMulFactor,
            uint256 _upperBoundMaxRate,
            uint256 _lowerBoundMaxRate,
            bool _steppingDirection,
            bool _isFinal
        )
            external
            onlyMaster

100:     function setPoolParameters(
             address _poolToken,
             uint256 _collateralFactor,
             uint256 _maximumDeposit
         )
             external
             onlyMaster

125:     function setVerifiedIsolationPool(
             address _isolationPool,
             bool _state
         )
             external
             onlyMaster

135:     function createPool(
             CreatePool calldata _params
         )
             external
             onlyMaster

146:     function createCurvePool(
             CreatePool calldata _params,
             CurvePoolSettings calldata _settings
         )
             external
             onlyMaster

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L25), [100](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L100), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L125), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L135), [146](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L146)]


```solidity
File: contracts/PositionNFTs.sol

54:     function assignReserveRole(
            address _reserverForOthers,
            bool _state
        )
            external
            onlyMaster

64:     function blockReservePublic()
            external
            onlyMaster

71:     function forwardFeeManagerNFT(
            address _feeManagerContract
        )
            external
            onlyMaster

99:     function reservePositionForUser(
            address _user
        )
            onlyReserveRole

319:     function setBaseURI(
             string memory _newBaseURI
         )
             external
             onlyMaster

328:     function setBaseExtension(
             string memory _newBaseExtension
         )
             external
             onlyMaster

```
*Github:* [[54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L54), [64](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L64), [71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L71), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L99), [319](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L319), [328](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L328)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

63:     function changeMinDeposit(
            uint256 _newMinDeposit
        )
            external
            onlyMaster

82:     function shutDownFarm(
            bool _state
        )
            external
            onlyMaster

210:     function exitFarm(
             uint256 _keyId,
             uint256 _allowedSpread,
             bool _ethBack
         )
             external
             updatePools
             onlyKeyOwner(_keyId)

274:     function manuallyWithdrawShares(
             uint256 _keyId,
             uint256 _withdrawShares
         )
             external
             updatePools
             onlyKeyOwner(_keyId)

```
*Github:* [[63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L63), [82](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L82), [210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L210), [274](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L274)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

32:     function withdrawLp(
            address _pendleMarket,
            address _to,
            uint256 _amount
        )
            external
            onlyChildContract(_pendleMarket)

211:     function addPendleMarket(
             address _pendleMarket,
             string memory _tokenName,
             string memory _symbolName,
             uint16 _maxCardinality
         )
             external
             onlyMaster

293:     function updateRewardTokens(
             address _pendleMarket
         )
             external
             onlyChildContract(_pendleMarket)

321:     function changeExchangeIncentive(
             uint256 _newExchangeIncentive
         )
             external
             onlyMaster

334:     function changeMintFee(
             address _pendleMarket,
             uint256 _newFee
         )
             external
             onlyMaster

364:     function lockPendle(
             uint256 _amount,
             uint128 _weeks,
             bool _fromInside,
             bool _sameExpiry
         )
             external
             onlyMaster

431:     function claimArb(
             uint256 _accrued,
             bytes32[] calldata _proof
         )
             external
             onlyArbitrum

451:     function withdrawLock()
             external
             onlyMaster

497:     function increaseReservedForCompound(
             address _pendleMarket,
             uint256[] calldata _amounts
         )
             external
             onlyChildContract(_pendleMarket)

526:     function overWriteIndex(
             address _pendleMarket,
             uint256 _tokenIndex
         )
             public
             onlyChildContract(_pendleMarket)

544:     function overWriteIndexAll(
             address _pendleMarket
         )
             external
             onlyChildContract(_pendleMarket)

566:     function overWriteAmounts(
             address _pendleMarket
         )
             external
             onlyChildContract(_pendleMarket)

600:     function forwardETH(
             address _to,
             uint256 _amount
         )
             external
             onlyMaster

612:     function vote(
             address[] calldata _pools,
             uint64[] calldata _weights
         )
             external
             onlyMaster

```
*Github:* [[32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L32), [211](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L211), [293](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L293), [321](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L321), [334](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L334), [364](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L364), [431](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L431), [451](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L451), [497](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L497), [526](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L526), [544](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L544), [566](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L566), [600](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L600), [612](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L612)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

592:     function changeMintFee(
             uint256 _newFee
         )
             external
             onlyController

```
*Github:* [[592](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L592)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

51:     function setFarmContract(
            address _farmContract
        )
            external
            onlyMaster

66:     function mintKey(
            address _keyOwner,
            uint256 _keyId
        )
            external
            onlyFarmContract

82:     function burnKey(
            uint256 _keyId
        )
            external
            onlyFarmContract

161:     function setBaseURI(
             string calldata _newBaseURI
         )
             external
             onlyMaster

170:     function setBaseExtension(
             string calldata _newBaseExtension
         )
             external
             onlyMaster

```
*Github:* [[51](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L51), [66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L66), [82](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L82), [161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L161), [170](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L170)]


```solidity
File: contracts/WiseLending.sol

859:     function withdrawOnBehalfExactAmount(
             uint256 _nftId,
             address _poolToken,
             uint256 _withdrawAmount
         )
             external
             onlyAaveHub

939:     function withdrawOnBehalfExactShares(
             uint256 _nftId,
             address _poolToken,
             uint256 _shares
         )
             external
             onlyAaveHub

1055:     function borrowOnBehalfExactAmount(
              uint256 _nftId,
              address _poolToken,
              uint256 _amount
          )
              external
              onlyAaveHub

1412:     function corePaybackFeeManager(
              address _poolToken,
              uint256 _nftId,
              uint256 _amount,
              uint256 _shares
          )
              external
              onlyFeeManager

```
*Github:* [[859](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L859), [939](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L939), [1055](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1055), [1412](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1412)]


```solidity
File: contracts/WiseLendingDeclaration.sol

140:     function setSecurity(
             address _wiseSecurity
         )
             external
             onlyMaster

```
*Github:* [[140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L140)]


```solidity
File: contracts/WiseLowLevelHelper.sol

424:     function setPoolFee(
             address _poolToken,
             uint256 _newFee
         )
             external
             onlyFeeManager

```
*Github:* [[424](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L424)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

218:     function addTwapOracle(
             address _tokenAddress,
             address _uniPoolAddress,
             address _token0,
             address _token1,
             uint24 _fee
         )
             external
             onlyMaster

266:     function addTwapOracleDerivative(
             address _tokenAddress,
             address _partnerTokenAddress,
             address[2] calldata _uniPools,
             address[2] calldata _token0Array,
             address[2] calldata _token1Array,
             uint24[2] calldata _feeArray
         )
             external
             onlyMaster

359:     function addOracle(
             address _tokenAddress,
             IPriceFeed _priceFeedAddress,
             address[] calldata _underlyingFeedTokens
         )
             external
             onlyMaster

379:     function addOracleBulk(
             address[] calldata _tokenAddresses,
             IPriceFeed[] calldata _priceFeedAddresses,
             address[][] calldata _underlyingFeedTokens
         )
             external
             onlyMaster

403:     function addAggregator(
             address _tokenAddress
         )
             external
             onlyMaster

```
*Github:* [[218](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L218), [266](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L266), [359](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L359), [379](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L379), [403](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L403)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

85:     function setLiquidationSettings(
            uint256 _baseReward,
            uint256 _baseRewardFarm,
            uint256 _newMaxFeeETH,
            uint256 _newMaxFeeFarmETH
        )
            external
            onlyMaster

142:     function prepareCurvePools(
             address _poolToken,
             CurveSwapStructData calldata _curveSwapStructData,
             CurveSwapStructToken calldata _curveSwapStructToken
         )
             external
             onlyWiseLending

193:     function curveSecurityCheck(
             address _poolToken
         )
             external
             onlyWiseLending

405:     function checkBadDebtLiquidation(
             uint256 _nftId
         )
             external
             onlyWiseLending

980:     function setBlacklistToken(
             address _tokenAddress,
             bool _state
         )
             external
             onlyMaster()

995:     function setSecurityWorker(
             address _entitiy,
             bool _state
         )
             external
             onlyMaster

1032:     function revokeShutdown()
              external
              onlyMaster

1111:     function changeMinDepositValue(
              uint256 _newMinDepositValue
          )
              external
              onlyMaster

```
*Github:* [[85](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L85), [142](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L142), [193](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L193), [405](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L405), [980](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L980), [995](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L995), [1032](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1032), [1111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1111)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

44:     function setAaveTokenAddress(
            address _underlyingAsset,
            address _aaveToken
        )
            external
            onlyMaster

64:     function setAaveTokenAddressBulk(
            address[] calldata _underlyingAssets,
            address[] calldata _aaveTokens
        )
            external
            onlyMaster

611:     function skimAave(
             address _underlyingAsset,
             bool _isAave
         )
             external
             validToken(_underlyingAsset)
             onlyMaster

```
*Github:* [[44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L44), [64](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L64), [611](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L611)]


```solidity
File: contracts/WrapperHub/Declarations.sol

105:     function setWiseSecurity(
             address _securityAddress
         )
             external
             onlyMaster

```
*Github:* [[105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L105)]


</details>


<a name="L-21"></a> 
### [L-21] Initializers could be front-run
Initializers could be front-run, allowing an attacker to either set their own values, take ownership of the contract, and in the best case forcing a re-deployment

*There is one instance of this issue:*
```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

682:     function initialize(

```
*Github:* [[682](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L682)]



<a name="L-22"></a> 
### [L-22] `_safeMint()` should be used rather than `_mint()` wherever possible
`_mint()` is [discouraged](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/d4d8d2ed9798cc3383912a23b5e8d5cb602f7d4b/contracts/token/ERC721/ERC721.sol#L271) in favor of `_safeMint()` which ensures that the recipient is either an EOA or implements `IERC721Receiver`.

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/PositionNFTs.sol

214:         _mint(

```
*Github:* [[214](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L214)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

73:         _mint(

```
*Github:* [[73](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L73)]




## Non Critical Issues

<a name="NC-1"></a> 
### [NC-1] Assembly blocks should have extensive comments
Assembly blocks take a lot more time to audit than normal Solidity code, and often have gotchas and side-effects that the Solidity versions of the same code do not. Consider adding more comments explaining what is being done in every step of the assembly code, and describe why assembly is being used instead of Solidity.

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

75:         assembly {

```
*Github:* [[75](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L75)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

68:         assembly {

```
*Github:* [[68](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L68)]



<a name="NC-2"></a> 
### [NC-2] `abi.encodePacked()` should be replaced with `bytes.concat()`
Solidity version 0.8.4 introduces `bytes.concat()`, which can be used to replace `abi.encodePacked()` on bytes/strings. It can make the intended operation clearer, leading to less reviewer confusion.

*There are <b>6</b> instances of this issue:*
```solidity
File: contracts/MainHelper.sol

656:             abi.encodePacked(

```
*Github:* [[656](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L656)]


```solidity
File: contracts/PositionNFTs.sol

360:             abi.encodePacked(

```
*Github:* [[360](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L360)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

24:                 abi.encodePacked(

66:             abi.encodePacked(

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L24), [66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L66)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

202:             abi.encodePacked(

```
*Github:* [[202](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L202)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

48:                         abi.encodePacked(

```
*Github:* [[48](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L48)]



<a name="NC-3"></a> 
### [NC-3] Avoid mutating function parameters
Function parameters in Solidity are passed by value, meaning they are essentially local copies. Mutating them can lead to confusion and errors because the changes don't persist outside the function. By keeping function parameters immutable, you ensure clarity in code behavior, preventing unintended side-effects. If you need to modify a value based on a parameter, use a local variable inside the function, leaving the original parameter unaltered. By adhering to this practice, you maintain a clear distinction between input data and the internal processing logic, improving code readability and reducing the potential for bugs.

*There is one instance of this issue:*
```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

/// @audit `_depositAmount`
414:     function _logicOpenPosition(
             bool _isAave,
             uint256 _nftId,
             uint256 _depositAmount,
             uint256 _totalDebtBalancer,
             uint256 _allowedSpread
         )
             internal
         {
             uint256 reverseAllowedSpread = 2
                 * PRECISION_FACTOR_E18
                 - _allowedSpread;
     
             if (block.chainid == ARB_CHAIN_ID) {
     
                 _depositAmount = _getTokensUniV3(

```
*Github:* [[414](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L414)]



<a name="NC-4"></a> 
### [NC-4] Avoid the use of sensitive terms
Use [alternative variants](https://www.zdnet.com/article/mysql-drops-master-slave-and-blacklist-whitelist-terminology/), e.g. allowlist/denylist instead of whitelist/blacklist

<details>
<summary>
There are <b>24</b> instances (click to show):
</summary>

```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

246:         if (_checkBlacklisted(_poolToken) == true) {

284:         if (_checkBlacklisted(_poolToken) == true) {

367:         if (_checkBlacklisted(_poolToken) == true) {

675:             if (wasBlacklisted[token] == true) {

693:      * locked due to blacklisted token.

695:     function positionBlackListToken(

716:             if (_checkBlacklisted(token) == true) {

741:             if (_checkBlacklisted(token) == true) {

976:      * @dev Set function for blacklisting token.

980:     function setBlacklistToken(

987:         wasBlacklisted[_tokenAddress] = _state;

```
*Github:* [[246](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L246), [284](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L284), [367](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L367), [675](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L675), [693](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L693), [695](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L695), [716](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L716), [741](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L741), [976](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L976), [980](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L980), [987](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L987)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

21: error TokenBlackListed();

33: error Blacklisted();

237:     // Mapping pool token to blacklist bool

238:     mapping(address => bool) public wasBlacklisted;

```
*Github:* [[21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L21), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L33), [237](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L237), [238](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L238)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

357:      * No heartbeat or blacklisted checks are

391:      * No blacklisted check is included

468:      * and blacklisted checks.

470:     function _checkBlacklisted(

477:         return wasBlacklisted[_poolToken] == true;

1067:             wasBlacklisted[

1078:      * @dev Wrapper for {_checkBlacklisted}.

1086:         if (_checkBlacklisted(_poolToken) == true) {

1087:             revert TokenBlackListed();

```
*Github:* [[357](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L357), [391](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L391), [468](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L468), [470](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L470), [477](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L477), [1067](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1067), [1078](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1078), [1086](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1086), [1087](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1087)]


</details>


<a name="NC-5"></a> 
### [NC-5] Multiple `address`/ID mappings can be combined into a single `mapping` of an `address`/ID to a `struct`, for readability
Well-organized data structures make code reviews easier, which may lead to fewer bugs. Consider combining related mappings into mappings to structs, so it's clear what data is related

*There are <b>7</b> instances of this issue:*
```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

158:     mapping(address => mapping(address => bool)) public allowedTokens;

161:     mapping(address => mapping(address => uint256)) public gatheredIncentiveToken;

```
*Github:* [[158](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L158), [161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L161)]


```solidity
File: contracts/WiseLendingDeclaration.sol

273:     mapping(uint256 => mapping(address => uint256)) public userBorrowShares;

274:     mapping(uint256 => mapping(address => uint256)) public pureCollateralAmount;

275:     mapping(uint256 => mapping(address => LendingEntry)) public userLendingData;

```
*Github:* [[273](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L273), [274](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L274), [275](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L275)]


```solidity
File: contracts/WiseLowLevelHelper.sol

372:         mapping(uint256 => mapping(address => uint256)) storage userMapping,

383:         mapping(uint256 => mapping(address => uint256)) storage userMapping,

```
*Github:* [[372](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L372), [383](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L383)]



<a name="NC-6"></a> 
### [NC-6] Complex casting
Consider whether the number of casts is really necessary, or whether using a different type would be more appropriate. Alternatively, add comments to explain in detail why the casts are necessary, and any implicit reasons why the cast does not introduce an overflow.

*There is one instance of this issue:*
```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

157:                 int192(uint192(answer))

```
*Github:* [[157](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L157)]



<a name="NC-7"></a> 
### [NC-7] Consider adding a block/deny-list
Doing so will significantly increase centralization, but will help to prevent hackers from using stolen tokens.

<details>
<summary>
There are <b>44</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

5: contract CustomOracleSetup {

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L5)]


```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

13: contract PendleChildLpOracle is CustomOracleSetup  {

```
*Github:* [[13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L13)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

28: contract PendleLpOracle {

```
*Github:* [[28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L28)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

22: contract PtOracleDerivative {

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L22)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

22: contract PtOraclePure {

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L22)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

31: contract DeclarationsFeeManager is FeeManagerEvents, OwnableMaster {

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L31)]


```solidity
File: contracts/FeeManager/FeeManager.sol

25: contract FeeManager is FeeManagerHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L25)]


```solidity
File: contracts/FeeManager/FeeManagerEvents.sol

5: contract FeeManagerEvents {

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L5)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

8: abstract contract FeeManagerHelper is DeclarationsFeeManager, TransferHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L8)]


```solidity
File: contracts/MainHelper.sol

7: abstract contract MainHelper is WiseLowLevelHelper {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L7)]


```solidity
File: contracts/OwnableMaster.sol

9: contract OwnableMaster {

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L9)]


```solidity
File: contracts/PoolManager.sol

8: abstract contract PoolManager is WiseCore {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L8)]


```solidity
File: contracts/PositionNFTs.sol

11: contract PositionNFTs is ERC721Enumerable, OwnableMaster {

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L11)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

7: abstract contract PendlePowerFarm is PendlePowerFarmLeverageLogic {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

36: contract PendlePowerFarmDeclarations is
        WrapperHelper,
        TransferHelper,
        ApprovalHelper,
        SendValueHelper
    {

```
*Github:* [[36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L36)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

7: abstract contract PendlePowerFarmLeverageLogic is
       PendlePowerFarmMathLogic,
       IFlashLoanRecipient
   {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

7: abstract contract PendlePowerFarmMathLogic is PendlePowerFarmDeclarations {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

15: contract PendlePowerManager is OwnableMaster, PendlePowerFarm, MinterReserver {

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L15)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

8: contract PendlePowerFarmController is PendlePowerFarmControllerHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L8)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

30: contract PendlePowerFarmControllerBase is
        OwnableMaster,
        TransferHelper,
        ApprovalHelper
    {

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L30)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

7: abstract contract PendlePowerFarmControllerHelper is PendlePowerFarmControllerBase {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

25: contract PendlePowerFarmToken is SimpleERC20, TransferHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L25)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

9: contract PendlePowerFarmTokenFactory {

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L9)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

10: contract MinterReserver {

```
*Github:* [[10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L10)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

24: contract PowerFarmNFTs is ERC721Enumerable, OwnableMaster {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L24)]


```solidity
File: contracts/TransferHub/ApprovalHelper.sol

7: contract ApprovalHelper is CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/ApprovalHelper.sol#L7)]


```solidity
File: contracts/TransferHub/CallOptionalReturn.sol

7: contract CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/CallOptionalReturn.sol#L7)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

8: contract SendValueHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L8)]


```solidity
File: contracts/TransferHub/TransferHelper.sol

7: contract TransferHelper is CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/TransferHelper.sol#L7)]


```solidity
File: contracts/TransferHub/WrapperHelper.sol

7: contract WrapperHelper {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L7)]


```solidity
File: contracts/WiseCore.sol

8: abstract contract WiseCore is MainHelper, TransferHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L8)]


```solidity
File: contracts/WiseLending.sol

43: contract WiseLending is PoolManager {

```
*Github:* [[43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L43)]


```solidity
File: contracts/WiseLendingDeclaration.sol

30: contract WiseLendingDeclaration is
        OwnableMaster,
        WrapperHelper,
        SendValueHelper
    {

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L30)]


```solidity
File: contracts/WiseLowLevelHelper.sol

7: abstract contract WiseLowLevelHelper is WiseLendingDeclaration {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L7)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

33: abstract contract Declarations is OwnableMaster {

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L33)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

7: abstract contract OracleHelper is Declarations {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L7)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

31: contract WiseOracleHub is OracleHelper {

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L31)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

24: contract WiseSecurity is WiseSecurityHelper, ApprovalHelper {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L24)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

45: contract WiseSecurityDeclarations is OwnableMaster {

```
*Github:* [[45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L45)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

7: abstract contract WiseSecurityHelper is WiseSecurityDeclarations {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L7)]


```solidity
File: contracts/WrapperHub/AaveEvents.sol

5: contract AaveEvents {

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L5)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

7: abstract contract AaveHelper is Declarations {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L7)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

25: contract AaveHub is AaveHelper, TransferHelper, ApprovalHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L25)]


```solidity
File: contracts/WrapperHub/Declarations.sol

21: contract Declarations is OwnableMaster, AaveEvents, WrapperHelper {

```
*Github:* [[21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L21)]


</details>


<a name="NC-8"></a> 
### [NC-8] Consider adding emergency-stop functionality
Consider adding `Pausable` to the following contracts so it's possible to stop them in case of an emergency.

<details>
<summary>
There are <b>31</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

5: contract CustomOracleSetup {

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L5)]


```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

13: contract PendleChildLpOracle is CustomOracleSetup  {

```
*Github:* [[13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L13)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

28: contract PendleLpOracle {

```
*Github:* [[28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L28)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

22: contract PtOracleDerivative {

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L22)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

22: contract PtOraclePure {

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L22)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

31: contract DeclarationsFeeManager is FeeManagerEvents, OwnableMaster {

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L31)]


```solidity
File: contracts/FeeManager/FeeManager.sol

25: contract FeeManager is FeeManagerHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L25)]


```solidity
File: contracts/FeeManager/FeeManagerEvents.sol

5: contract FeeManagerEvents {

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L5)]


```solidity
File: contracts/OwnableMaster.sol

9: contract OwnableMaster {

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L9)]


```solidity
File: contracts/PositionNFTs.sol

11: contract PositionNFTs is ERC721Enumerable, OwnableMaster {

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L11)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

36: contract PendlePowerFarmDeclarations is

```
*Github:* [[36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L36)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

15: contract PendlePowerManager is OwnableMaster, PendlePowerFarm, MinterReserver {

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L15)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

8: contract PendlePowerFarmController is PendlePowerFarmControllerHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L8)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

30: contract PendlePowerFarmControllerBase is

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L30)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

25: contract PendlePowerFarmToken is SimpleERC20, TransferHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L25)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

9: contract PendlePowerFarmTokenFactory {

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L9)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

10: contract MinterReserver {

```
*Github:* [[10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L10)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

24: contract PowerFarmNFTs is ERC721Enumerable, OwnableMaster {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L24)]


```solidity
File: contracts/TransferHub/ApprovalHelper.sol

7: contract ApprovalHelper is CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/ApprovalHelper.sol#L7)]


```solidity
File: contracts/TransferHub/CallOptionalReturn.sol

7: contract CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/CallOptionalReturn.sol#L7)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

8: contract SendValueHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L8)]


```solidity
File: contracts/TransferHub/TransferHelper.sol

7: contract TransferHelper is CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/TransferHelper.sol#L7)]


```solidity
File: contracts/TransferHub/WrapperHelper.sol

7: contract WrapperHelper {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L7)]


```solidity
File: contracts/WiseLending.sol

43: contract WiseLending is PoolManager {

```
*Github:* [[43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L43)]


```solidity
File: contracts/WiseLendingDeclaration.sol

30: contract WiseLendingDeclaration is

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L30)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

31: contract WiseOracleHub is OracleHelper {

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L31)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

24: contract WiseSecurity is WiseSecurityHelper, ApprovalHelper {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L24)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

45: contract WiseSecurityDeclarations is OwnableMaster {

```
*Github:* [[45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L45)]


```solidity
File: contracts/WrapperHub/AaveEvents.sol

5: contract AaveEvents {

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L5)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

25: contract AaveHub is AaveHelper, TransferHelper, ApprovalHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L25)]


```solidity
File: contracts/WrapperHub/Declarations.sol

21: contract Declarations is OwnableMaster, AaveEvents, WrapperHelper {

```
*Github:* [[21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L21)]


</details>


<a name="NC-9"></a> 
### [NC-9] Consider adding formal verification proofs
Formal verification is the act of proving or disproving the correctness of intended algorithms underlying a system with respect to a certain formal specification/property/invariant, using formal methods of mathematics.

Some tools that are currently available to perform these tests on smart contracts are [SMTChecker](https://docs.soliditylang.org/en/latest/smtchecker.html) and [Certora Prover](https://www.certora.com/).

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/)]



<a name="NC-10"></a> 
### [NC-10] Consider bounding input array length
The functions below take in an unbounded array, and make function calls for entries in the array. While the function will revert if it eventually runs out of gas, it may be a nicer user experience to require() that the length of the array is below some reasonable maximum, so that the user doesn't have to use up a full transaction's gas only to see that the transaction reverts.

*There is one instance of this issue:*
```solidity
File: contracts/WrapperHub/AaveHub.sol

/// @audit consider length check for `_underlyingAssets`
71:         for (uint256 i = 0; i < _underlyingAssets.length; i++) {

```
*Github:* [[71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L71)]



<a name="NC-11"></a> 
### [NC-11] Consider using descriptive `constant`s when passing zero as a function argument
Passing zero as a function argument can sometimes result in a security issue (e.g. passing zero as the slippage parameter). Consider using a `constant` variable with a descriptive name, so it's clear that the argument is intentionally being used, and for the right reasons.

<details>
<summary>
There are <b>13</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

161:             emit UpdateBadDebtPosition(
                     _nftId,
                     0,

```
*Github:* [[161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L161)]


```solidity
File: contracts/PoolManager.sol

169:         _validateParameter(
                 timestampsPoolData[_params.poolToken].timeStamp,
                 0

```
*Github:* [[169](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L169)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

207:         _executeBalancerFlashLoan(
                 {
                     _nftId: _nftId,
                     _flashAmount: leveragedAmount - _initialAmount,
                     _initialAmount: _initialAmount,
                     _lendingShares: 0,

254:         _executeBalancerFlashLoan(
                 {
                     _nftId: _nftId,
                     _flashAmount: borrowTokenAmount,
                     _initialAmount: 0,

```
*Github:* [[207](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L207), [254](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L254)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

165:         ) = PENDLE_ROUTER.removeLiquiditySingleSy(
                 {
                     _receiver: address(this),
                     _market: address(PENDLE_MARKET),
                     _netLpToRemove: withdrawnLpsAmount,
                     _minSyOut: 0

178:         uint256 tokenOutAmount = PENDLE_SY.redeem(
                 {
                     _receiver: address(this),
                     _amountSharesToRedeem: netSyOut,
                     _tokenOut: tokenOut,
                     _minTokenOut: 0,

300:         return CURVE.exchange(
                 {
                     fromIndex: 1,
                     toIndex: 0,

467:         ) = PENDLE_ROUTER.addLiquiditySingleSy(
                 {
                     _receiver: address(this),
                     _market: address(PENDLE_MARKET),
                     _netSyIn: syReceived,
                     _minLpOut: 0,

```
*Github:* [[165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L165), [178](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L178), [300](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L300), [467](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L467)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

143:         _withdrawLp(
                 UNDERLYING_PENDLE_MARKET,
                 0

```
*Github:* [[143](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L143)]


```solidity
File: contracts/WiseLending.sol

1377:             new address[](0),

```
*Github:* [[1377](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1377)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

58:         underlyingFeedTokens[ETH_USD_PLACEHOLDER] = new address[](0);

```
*Github:* [[58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L58)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

156:         _safeApprove(
                 ICurve(curvePool).coins(tokenIndexForApprove),
                 curvePool,
                 0

176:         _safeApprove(
                 ICurve(curveMetaPool).coins(tokenIndexForApprove),
                 curveMetaPool,
                 0

```
*Github:* [[156](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L156), [176](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L176)]


</details>


<a name="NC-12"></a> 
### [NC-12] Consider using SafeTransferLib.safeTransferETH() or Address.sendValue() for clearer semantic meaning
For improved code readability and better semantic understanding, it's recommended to use OpenZeppelin's SafeTransferLib.safeTransferETH() or Address.sendValue(). These functions explicitly describe their operation with their naming convention, increasing the comprehensibility of the code. Their usage over lower-level calls enhances the maintainability of your smart contract code by clearly indicating the purpose of the function.

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

208:         ) = curvePool.call{value: 0} (

225:         ) = curveMeta.call{value: 0} (

```
*Github:* [[208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L208), [225](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L225)]



<a name="NC-13"></a> 
### [NC-13] Constant redefined elsewhere
Consider defining in only one contract so that values cannot become out of sync when only one location is updated. A [cheap way](https://medium.com/coinmonks/gas-cost-of-solidity-library-functions-dbe0cedd4678) to store constants in a single location is to create an `internal constant` in a `library`. If the variable is a local cache of another contract's value, consider making the cache variable internal or private, which will require external users to query the contract with the source of truth, so that callers don't get out of sync.

<details>
<summary>
There are <b>12</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

/// @audit also seen in contracts/DerivativeOracles/PtOracleDerivative.sol, contracts/DerivativeOracles/PtOraclePure.sol
66:     uint8 internal constant FEED_DECIMALS = 18;

```
*Github:* [[66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L66)]


```solidity
File: contracts/OwnableMaster.sol

/// @audit also seen in contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol
14:     address internal constant ZERO_ADDRESS = address(0x0);

```
*Github:* [[14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L14)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

/// @audit also seen in contracts/WrapperHub/Declarations.sol
98:     uint256 internal constant MAX_AMOUNT = type(uint256).max;

```
*Github:* [[98](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L98)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

/// @audit also seen in contracts/WiseOracleHub/Declarations.sol
54:     uint256 internal constant ARBITRUM_CHAIN_ID = 42161;

```
*Github:* [[54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L54)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit also seen in contracts/WiseLendingDeclaration.sol, contracts/WiseSecurity/WiseSecurityDeclarations.sol
53:     uint256 internal constant ONE_YEAR = 365 days;

/// @audit also seen in contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol
56:     uint256 private constant PRECISION_FACTOR_E6 = 1E6;

/// @audit also seen in contracts/WiseLendingDeclaration.sol, contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol, contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol, contracts/WiseSecurity/WiseSecurityDeclarations.sol, contracts/FeeManager/DeclarationsFeeManager.sol, contracts/DerivativeOracles/PendleLpOracle.sol, contracts/DerivativeOracles/PtOracleDerivative.sol, contracts/WrapperHub/Declarations.sol, contracts/DerivativeOracles/PtOraclePure.sol, contracts/DerivativeOracles/PendleChildLpOracle.sol
57:     uint256 private constant PRECISION_FACTOR_E18 = 1E18;

/// @audit also seen in contracts/WiseLendingDeclaration.sol
58:     uint256 internal constant PRECISION_FACTOR_E36 = PRECISION_FACTOR_E18 * PRECISION_FACTOR_E18;

/// @audit also seen in contracts/WiseLendingDeclaration.sol
59:     uint256 internal constant PRECISION_FACTOR_YEAR = PRECISION_FACTOR_E18 * ONE_YEAR;

/// @audit also seen in contracts/WiseLendingDeclaration.sol
63:     uint256 internal constant RESTRICTION_FACTOR = 10

```
*Github:* [[53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L53), [56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L56), [57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L57), [58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L58), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L59), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L63)]


```solidity
File: contracts/WiseLendingDeclaration.sol

/// @audit also seen in contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol, contracts/WiseSecurity/WiseSecurityDeclarations.sol, contracts/FeeManager/DeclarationsFeeManager.sol
295:     uint256 internal constant PRECISION_FACTOR_E16 = 1E16;

/// @audit also seen in contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol
319:     uint256 internal constant MAX_COLLATERAL_FACTOR = 85 * PRECISION_FACTOR_E16;

```
*Github:* [[295](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L295), [319](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L319)]


</details>


<a name="NC-14"></a> 
### [NC-14] Constants should be put on the left side of comparisons
Putting constants on the left side of comparison statements is a best practice known as [Yoda conditions](https://en.wikipedia.org/wiki/Yoda_conditions). Although solidity's static typing system prevents accidental assignments within conditionals, adopting this practice can improve code readability and consistency, especially when working across multiple languages.

<details>
<summary>
There are <b>57</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/FeeManager.sol

291:         if (amount == 0) {

640:         if (shares == 0) {

663:         if (totalBadDebtETH == 0) {

746:         if (badDebtPosition[_nftId] == 0) {

753:         if (WISE_LENDING.getTotalDepositShares(_receivingToken) == 0) {

757:         if (WISE_LENDING.getTotalDepositShares(_paybackToken) == 0) {

828:         if (badDebtPosition[_nftId] == 0) {

832:         if (WISE_LENDING.getTotalDepositShares(_paybackToken) == 0) {

```
*Github:* [[291](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L291), [640](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L640), [663](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L663), [746](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L746), [753](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L753), [757](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L757), [828](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L828), [832](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L832)]


```solidity
File: contracts/MainHelper.sol

542:         if (feeAmount == 0) {

554:         if (feeShares == 0) {

1161:         if (_nftId == 0) {

```
*Github:* [[542](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L542), [554](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L554), [1161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1161)]


```solidity
File: contracts/PositionNFTs.sol

355:         if (bytes(currentBaseURI).length == 0) {

378:         if (_tokenId == 0) {

385:         while (j != 0) {

397:         while (j != 0) {

```
*Github:* [[355](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L355), [378](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L378), [385](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L385), [397](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L397)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

72:         if (borrowShares == 0) {

80:         if (totalCollateral == 0) {

```
*Github:* [[72](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L72), [80](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L80)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

73:         if (_flashloanToken.length == 0) {

```
*Github:* [[73](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L73)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

213:         if (borrowTokenAmountAave == 0) {

404:         if (borrowShares == 0) {

```
*Github:* [[213](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L213), [404](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L404)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

189:         if (availableNFTCount == 0) {

```
*Github:* [[189](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L189)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

124:         if (_pendleChildShares == 0) {

```
*Github:* [[124](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L124)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

255:             if (lastIndex[i] == 0 && index > 0) {

339:         if (additonalAssets == 0) {

391:         if (totalLpAssetsToDistribute == 0) {

508:         if (_amount == 0) {

539:         if (_underlyingLpAssetAmount == 0) {

548:         if (shares == 0) {

559:         if (feeShares == 0) {

615:         if (_shares == 0) {

654:         if (_underlyingLpAssetAmount == 0) {

691:         if (address(PENDLE_MARKET) != address(0)) {

```
*Github:* [[255](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L255), [339](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L339), [391](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L391), [508](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L508), [539](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L539), [548](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L548), [559](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L559), [615](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L615), [654](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L654), [691](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L691)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

122:         if (_keyId == 0) {

```
*Github:* [[122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L122)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

197:         if (bytes(currentBaseURI).length == 0) {

220:         if (_tokenId == 0) {

227:         while (j != 0) {

239:         while (j != 0) {

```
*Github:* [[197](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L197), [220](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L220), [227](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L227), [239](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L239)]


```solidity
File: contracts/WiseCore.sol

588:         if (userShares == 0) {

```
*Github:* [[588](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L588)]


```solidity
File: contracts/WiseLowLevelHelper.sol

453:         if (_value == 0) {

```
*Github:* [[453](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L453)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

74:         if (size == 0) {

439:         if (tickCumulativesDelta < 0 && (tickCumulativesDelta % twapPeriodInt56 != 0)) {

566:         if (heartBeat[_tokenAddress] == 0) {

```
*Github:* [[74](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L74), [439](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L439), [566](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L566)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

455:         if (length == 0) {

```
*Github:* [[455](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L455)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

70:         if (overallCollateral == 0) {

267:         if (WISE_LENDING.getPositionBorrowTokenLength(_nftId) == 0) {

453:         if (len == 0) {

510:         if (len == 0) {

652:         if (len == 0) {

924:         if (currentTotalBorrowShares == 0) {

961:         if (currentTotalLendingShares == 0) {

1117:         if (_newMinDepositValue == 0) {

```
*Github:* [[70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L70), [267](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L267), [453](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L453), [510](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L510), [652](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L652), [924](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L924), [961](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L961), [1117](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1117)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

210:         if (WISE_LENDING.getPositionLendingShares(_nftId, _poolToken) == 0) {

295:         if (lendingShares == 0) {

624:         if (borrowShares == 0) {

818:         if (borrowAmount == 0) {

1010:         if (pseudoTotalPool == 0) {

```
*Github:* [[210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L210), [295](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L295), [624](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L624), [818](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L818), [1010](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1010)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

29:         if (WISE_LENDING.getTotalDepositShares(_poolToken) == 0) {

```
*Github:* [[29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L29)]


</details>


<a name="NC-15"></a> 
### [NC-15] Variable names for `constant`s should use CONSTANT_CASE
For `constant` variable names, each word should use all capital letters, with underscores separating each word (CONSTANT_CASE)

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/WiseOracleHub/Declarations.sol

97:     uint8 internal constant _decimalsUSD = 8;

100:     uint8 internal constant _decimalsETH = 18;

```
*Github:* [[97](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L97), [100](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L100)]



<a name="NC-16"></a> 
### [NC-16] `Constructor` should emit an event
Use events to signal significant changes to off-chain monitoring tools.

<details>
<summary>
There are <b>25</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

22:     constructor() {

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L22)]


```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

21:     constructor(

```
*Github:* [[21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L21)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

32:     constructor(

```
*Github:* [[32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L32)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

24:     constructor(

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L24)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

24:     constructor(

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L24)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

33:     constructor(

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L33)]


```solidity
File: contracts/FeeManager/FeeManager.sol

27:     constructor(

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L27)]


```solidity
File: contracts/OwnableMaster.sol

57:     constructor(

```
*Github:* [[57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L57)]


```solidity
File: contracts/PositionNFTs.sol

25:     constructor(

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L25)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

159:     constructor(

```
*Github:* [[159](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L159)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

31:     constructor(

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L31)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

12:     constructor(

```
*Github:* [[12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L12)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

79:     constructor(

```
*Github:* [[79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L79)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

16:     constructor(

```
*Github:* [[16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L16)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

55:     constructor(

```
*Github:* [[55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L55)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

38:     constructor(

```
*Github:* [[38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L38)]


```solidity
File: contracts/TransferHub/WrapperHelper.sol

11:     constructor(

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L11)]


```solidity
File: contracts/WiseLending.sol

116:     constructor(

```
*Github:* [[116](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L116)]


```solidity
File: contracts/WiseLendingDeclaration.sol

105:     constructor(

```
*Github:* [[105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L105)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

45:     constructor(

```
*Github:* [[45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L45)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

33:     constructor(

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L33)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

42:     constructor(

```
*Github:* [[42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L42)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

52:     constructor(

```
*Github:* [[52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L52)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

27:     constructor(

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L27)]


```solidity
File: contracts/WrapperHub/Declarations.sol

43:     constructor(

```
*Github:* [[43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L43)]


</details>


<a name="NC-17"></a> 
### [NC-17] Contract does not follow the Solidity Style Guide's suggested layout ordering
The [style guide](https://docs.soliditylang.org/en/v0.8.16/style-guide.html#order-of-layout) says that, within a contract, the ordering should be `1) Type declarations`, `2) State variables`, `3) Events`, `4) Modifiers`, and `5) Functions`, but the contract(s) below do not follow this ordering

<details>
<summary>
There are <b>313</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

/// @audit event/error `InvalidDecimals` came earlier
/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
30:     uint256 internal constant DEFAULT_DECIMALS = 18;

/// @audit event/error `InvalidDecimals` came earlier
/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
58:     address public immutable PENDLE_MARKET_ADDRESS;

/// @audit event/error `InvalidDecimals` came earlier
/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
59:     IPendleMarket public immutable PENDLE_MARKET;

/// @audit event/error `InvalidDecimals` came earlier
/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
62:     IPendleSy public immutable PENDLE_SY;

/// @audit event/error `InvalidDecimals` came earlier
/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
63:     IPriceFeed public immutable FEED_ASSET;

/// @audit event/error `InvalidDecimals` came earlier
/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
64:     IOraclePendle public immutable ORACLE_PENDLE_PT;

/// @audit event/error `InvalidDecimals` came earlier
/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
66:     uint8 internal constant FEED_DECIMALS = 18;

/// @audit event/error `InvalidDecimals` came earlier
/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
67:     uint256 internal constant POW_FEED_DECIMALS = 10 ** 18;

/// @audit event/error `InvalidDecimals` came earlier
/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
70:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

/// @audit event/error `InvalidDecimals` came earlier
/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
73:     uint32 public immutable TWAP_DURATION;

/// @audit event/error `InvalidDecimals` came earlier
/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
76:     string public name;

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L30), [58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L58), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L59), [62](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L62), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L63), [64](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L64), [66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L66), [67](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L67), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L70), [73](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L73), [76](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L76)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
47:     address immutable PENDLE_MARKET_ADDRESS;

/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
50:     IPriceFeed public immutable USD_FEED_ASSET;

/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
53:     IPriceFeed public immutable ETH_FEED_ASSET;

/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
56:     IOraclePendle public immutable ORACLE_PENDLE_PT;

/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
59:     uint256 public immutable POW_USD_FEED;

/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
62:     uint256 public immutable POW_ETH_USD_FEED;

/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
65:     uint8 internal constant FEED_DECIMALS = 18;

/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
68:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
71:     uint32 public immutable TWAP_DURATION;

/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
74:     string public name;

```
*Github:* [[47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L47), [50](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L50), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L53), [56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L56), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L59), [62](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L62), [65](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L65), [68](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L68), [71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L71), [74](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L74)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
44:     address public immutable PENDLE_MARKET_ADDRESS;

/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
47:     IPriceFeed public immutable FEED_ASSET;

/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
48:     IOraclePendle public immutable ORACLE_PENDLE_PT;

/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
50:     uint256 internal immutable POW_FEED;

/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
51:     uint8 internal constant FEED_DECIMALS = 18;

/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
54:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
57:     uint32 public immutable DURATION;

/// @audit event/error `CardinalityNotSatisfied` came earlier
/// @audit event/error `OldestObservationNotSatisfied` came earlier
/// @audit function `constructor` came earlier
60:     string public name;

```
*Github:* [[44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L44), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L47), [48](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L48), [50](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L50), [51](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L51), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L54), [57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L57), [60](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L60)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
100:     IAave public immutable AAVE;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
103:     IWiseLending public immutable WISE_LENDING;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
106:     IPositionNFTs public immutable POSITION_NFTS;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
109:     IWiseSecurity public immutable WISE_SECURITY;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
112:     IWiseOracleHub public immutable ORACLE_HUB;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
117:     uint256 public totalBadDebtETH;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
120:     uint256 public paybackIncentive;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
123:     address[] public poolTokenAddresses;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
126:     address public incentiveMaster;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
129:     address public proposedIncentiveMaster;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
132:     address public incentiveOwnerA;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
135:     address public incentiveOwnerB;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
140:     mapping(uint256 => uint256) public badDebtPosition;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
143:     mapping(address => uint256) public feeTokens;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
146:     mapping(address => uint256) public incentiveUSD;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
149:     mapping(address => bool) public poolTokenAdded;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
152:     mapping(address => bool) public isAaveToken;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
155:     mapping(address => address) public underlyingToken;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
158:     mapping(address => mapping(address => bool)) public allowedTokens;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
161:     mapping(address => mapping(address => uint256)) public gatheredIncentiveToken;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
164:     uint256 public immutable FEE_MANAGER_NFT;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
167:     uint256 internal constant PRECISION_FACTOR_E15 = 1E15;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
168:     uint256 internal constant PRECISION_FACTOR_E16 = 1E16;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
169:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

/// @audit event/error `NotWiseLiquidation` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `ExistingBadDebt` came earlier
/// @audit event/error `NotWiseLending` came earlier
/// @audit event/error `NotIncentiveMaster` came earlier
/// @audit event/error `PoolAlreadyAdded` came earlier
/// @audit event/error `TooHighValue` came earlier
/// @audit event/error `TooLowValue` came earlier
/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `PoolNotPresent` came earlier
/// @audit event/error `ZeroAddress` came earlier
/// @audit event/error `NoIncentive` came earlier
/// @audit event/error `Reentered` came earlier
/// @audit event/error `PoolNotActive` came earlier
/// @audit function `constructor` came earlier
172:     uint256 public constant INCENTIVE_PORTION = 5 * PRECISION_FACTOR_E15;

/// @audit function `constructor` came earlier
176:     modifier onlyWiseSecurity() {

/// @audit function `constructor` came earlier
181:     modifier onlyWiseLending() {

/// @audit function `constructor` came earlier
186:     modifier onlyIncentiveMaster() {

```
*Github:* [[100](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L100), [103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L103), [106](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L106), [109](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L109), [112](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L112), [117](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L117), [120](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L120), [123](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L123), [126](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L126), [129](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L129), [132](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L132), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L135), [140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L140), [143](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L143), [146](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L146), [149](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L149), [152](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L152), [155](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L155), [158](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L158), [161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L161), [164](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L164), [167](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L167), [168](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L168), [169](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L169), [172](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L172), [176](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L176), [181](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L181), [186](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L186)]


```solidity
File: contracts/OwnableMaster.sol

/// @audit event/error `NoValue` came earlier
/// @audit event/error `NotMaster` came earlier
/// @audit event/error `NotProposed` came earlier
11:     address public master;

/// @audit event/error `NoValue` came earlier
/// @audit event/error `NotMaster` came earlier
/// @audit event/error `NotProposed` came earlier
12:     address public proposedMaster;

/// @audit event/error `NoValue` came earlier
/// @audit event/error `NotMaster` came earlier
/// @audit event/error `NotProposed` came earlier
14:     address internal constant ZERO_ADDRESS = address(0x0);

/// @audit function `_onlyMaster` came earlier
32:     modifier onlyMaster() {

/// @audit modifier `onlyProposed` came earlier
/// @audit modifier `onlyMaster` came earlier
/// @audit function `_onlyMaster` came earlier
/// @audit function `_onlyProposed` came earlier
48:     event MasterProposed(

/// @audit modifier `onlyProposed` came earlier
/// @audit modifier `onlyMaster` came earlier
/// @audit function `_onlyMaster` came earlier
/// @audit function `_onlyProposed` came earlier
53:     event RenouncedOwnership(

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L11), [12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L12), [14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L14), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L32), [48](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L48), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L53)]


```solidity
File: contracts/PositionNFTs.sol

/// @audit event/error `NotPermitted` came earlier
13:     string public baseURI;

/// @audit event/error `NotPermitted` came earlier
14:     string public baseExtension;

/// @audit event/error `NotPermitted` came earlier
16:     address public feeManager;

/// @audit event/error `NotPermitted` came earlier
17:     uint256 public totalReserved;

/// @audit event/error `NotPermitted` came earlier
18:     uint256 public immutable FEE_MANAGER_NFT;

/// @audit event/error `NotPermitted` came earlier
20:     mapping(address => uint256) public reserved;

/// @audit event/error `NotPermitted` came earlier
21:     mapping(address => bool) public reserveRole;

/// @audit event/error `NotPermitted` came earlier
23:     bool public reservePublicBlocked;

/// @audit function `constructor` came earlier
45:     modifier onlyReserveRole() {

```
*Github:* [[13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L13), [14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L14), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L17), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L18), [20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L20), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L21), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L23), [45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L45)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
43:     bool public isShutdown;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
46:     bool public allowEnter;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
49:     uint256 public collateralFactor;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
52:     uint256 public minDepositEthAmount;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
54:     address public immutable aaveTokenAddresses;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
55:     address public immutable borrowTokenAddresses;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
57:     address public immutable ENTRY_ASSET;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
58:     address public immutable PENDLE_CHILD;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
62:     uint256 internal constant MAX_COLLATERAL_FACTOR = 95 * PRECISION_FACTOR_E16;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
66:     IAave public immutable AAVE;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
67:     IAaveHub public immutable AAVE_HUB;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
68:     IWiseLending public immutable WISE_LENDING;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
69:     IWiseOracleHub public immutable ORACLE_HUB;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
70:     IWiseSecurity public immutable WISE_SECURITY;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
71:     IBalancerVault public immutable BALANCER_VAULT;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
72:     IPositionNFTs public immutable POSITION_NFT;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
73:     IStETH public immutable ST_ETH;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
74:     ICurve public immutable CURVE;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
75:     IUniswapV3 public immutable UNISWAP_V3_ROUTER;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
77:     IPendleSy public immutable PENDLE_SY;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
78:     IPendleRouter public immutable PENDLE_ROUTER;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
79:     IPendleMarket public immutable PENDLE_MARKET;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
80:     IPendleRouterStatic public immutable PENDLE_ROUTER_STATIC;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
82:     address internal immutable WETH_ADDRESS;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
84:     address immutable AAVE_ADDRESS;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
86:     address internal constant BALANCER_ADDRESS = 0xBA12222222228d8Ba445958a75a0704d566BF2C8;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
88:     address immutable AAVE_HUB_ADDRESS;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
90:     address immutable AAVE_WETH_ADDRESS;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
92:     address internal constant ST_ETH_ADDRESS = 0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
95:     uint24 internal constant UNISWAP_V3_FEE = 100;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
98:     uint256 internal constant MAX_AMOUNT = type(uint256).max;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
99:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
100:     uint256 internal constant PRECISION_FACTOR_E16 = 1E16;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
101:     uint256 internal constant MAX_LEVERAGE = 15 * PRECISION_FACTOR_E18;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
102:     uint256 internal constant FIVTY_PERCENT = 0.5 ether;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
104:     uint256 internal constant ETH_CHAIN_ID = 1;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
105:     uint256 internal constant ARB_CHAIN_ID = 42161;

/// @audit event/error `Deactivated` came earlier
/// @audit event/error `InvalidParam` came earlier
/// @audit event/error `AccessDenied` came earlier
/// @audit event/error `LeverageTooHigh` came earlier
/// @audit event/error `DebtRatioTooLow` came earlier
/// @audit event/error `NotBalancerVault` came earlier
/// @audit event/error `DebtRatioTooHigh` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `TooMuchValueLost` came earlier
/// @audit event/error `CollateralFactorTooHigh` came earlier
/// @audit event/error `TooMuchShares` came earlier
/// @audit event/error `WrongChainId` came earlier
108:     mapping(uint256 => bool) public isAave;

/// @audit function `constructor` came earlier
/// @audit function `doApprovals` came earlier
/// @audit function `_doApprovals` came earlier
356:     modifier isActive() {

```
*Github:* [[43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L43), [46](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L46), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L49), [52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L52), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L54), [55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L55), [57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L57), [58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L58), [62](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L62), [66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L66), [67](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L67), [68](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L68), [69](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L69), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L70), [71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L71), [72](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L72), [73](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L73), [74](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L74), [75](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L75), [77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L77), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L78), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L79), [80](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L80), [82](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L82), [84](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L84), [86](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L86), [88](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L88), [90](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L90), [92](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L92), [95](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L95), [98](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L98), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L99), [100](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L100), [101](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L101), [102](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L102), [104](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L104), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L105), [108](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L108), [356](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L356)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
35:     struct CompoundStruct {

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
41:     address internal immutable PENDLE_TOKEN_ADDRESS;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
43:     address internal immutable VOTER_CONTRACT_ADDRESS;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
44:     address internal immutable VOTER_REWARDS_CLAIMER_ADDRESS;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
46:     address internal immutable WISE_ORACLE_HUB_ADDRESS;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
47:     address internal immutable VE_PENDLE_CONTRACT_ADDRESS;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
49:     uint256 internal constant PRECISION_FACTOR_E6 = 1E6;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
50:     uint256 internal constant PRECISION_FACTOR_E10 = 1E10;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
51:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
53:     uint256 internal constant MAINNET_CHAIN_ID = 1;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
54:     uint256 internal constant ARBITRUM_CHAIN_ID = 42161;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
56:     uint256 public reservedPendleForLocking;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
58:     mapping(address => address) public pendleChildAddress;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
59:     mapping(address => CompoundStruct) pendleChildCompoundInfo;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
61:     address[] public activePendleMarkets;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
63:     bool immutable IS_ETH_MAIN;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
65:     uint128 internal constant WEEK = 7 days;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
66:     uint256 public exchangeIncentive;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
68:     IPendleLock immutable public PENDLE_LOCK;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
69:     IPendleVoter immutable public PENDLE_VOTER;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
70:     IPendleVoteRewards immutable public PENDLE_VOTE_REWARDS;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
72:     IArbRewardsClaimer public ARB_REWARDS;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
74:     address internal constant ARB_REWARDS_ADDRESS = 0x23a102e78D1FF1645a3666691495174764a5FCAF;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
75:     address internal constant ARB_TOKEN_ADDRESS = 0x912CE59144191C1204E64559FE8253a0e49E6548;

/// @audit event/error `NotAllowed` came earlier
/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `NotExpired` came earlier
/// @audit event/error `LockTimeTooShort` came earlier
/// @audit event/error `ZeroShares` came earlier
/// @audit event/error `ValueTooSmall` came earlier
/// @audit event/error `InvalidLength` came earlier
/// @audit event/error `InvalidWeightSum` came earlier
/// @audit event/error `WrongAddress` came earlier
/// @audit event/error `NothingToSkim` came earlier
/// @audit event/error `NotFound` came earlier
/// @audit event/error `NotEnoughCompound` came earlier
/// @audit event/error `NotArbitrum` came earlier
77:     IWiseOracleHub immutable internal ORACLE_HUB;

/// @audit function `constructor` came earlier
/// @audit function `receive` came earlier
135:     event ETHReceived(

/// @audit function `constructor` came earlier
/// @audit function `receive` came earlier
140:     event ChangeExchangeIncentive(

/// @audit function `constructor` came earlier
/// @audit function `receive` came earlier
144:     event WithdrawLp(

/// @audit function `constructor` came earlier
/// @audit function `receive` came earlier
150:     event ExchangeRewardsForCompounding(

/// @audit function `constructor` came earlier
/// @audit function `receive` came earlier
157:     event ExchangeLpFeesForPendle(

/// @audit function `constructor` came earlier
/// @audit function `receive` came earlier
164:     event AddPendleMarket(

/// @audit function `constructor` came earlier
/// @audit function `receive` came earlier
169:     event UpdateRewardTokens(

/// @audit function `constructor` came earlier
/// @audit function `receive` came earlier
174:     event ChangeMintFee(

/// @audit function `constructor` came earlier
/// @audit function `receive` came earlier
179:     event LockPendle(

/// @audit function `constructor` came earlier
/// @audit function `receive` came earlier
188:     event ClaimArb(

/// @audit function `constructor` came earlier
/// @audit function `receive` came earlier
194:     event IncreaseReservedForCompound(

/// @audit function `constructor` came earlier
/// @audit function `receive` came earlier
199:     event ClaimVoteRewards(

/// @audit function `constructor` came earlier
/// @audit function `receive` came earlier
205:     event WithdrawLock(

/// @audit function `constructor` came earlier
/// @audit function `receive` came earlier
210:     modifier syncSupply(

/// @audit function `constructor` came earlier
/// @audit function `receive` came earlier
220:     modifier onlyChildContract(

/// @audit function `constructor` came earlier
/// @audit function `receive` came earlier
230:     modifier onlyArbitrum()

```
*Github:* [[35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L35), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L41), [43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L43), [44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L44), [46](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L46), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L47), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L49), [50](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L50), [51](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L51), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L53), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L54), [56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L56), [58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L58), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L59), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L61), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L63), [65](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L65), [66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L66), [68](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L68), [69](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L69), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L70), [72](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L72), [74](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L74), [75](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L75), [77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L77), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L135), [140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L140), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L144), [150](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L150), [157](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L157), [164](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L164), [169](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L169), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L174), [179](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L179), [188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L188), [194](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L194), [199](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L199), [205](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L205), [210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L210), [220](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L220), [230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L230)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit event/error `MarketExpired` came earlier
/// @audit event/error `NotController` came earlier
/// @audit event/error `ZeroFee` came earlier
/// @audit event/error `TooMuchFee` came earlier
/// @audit event/error `NotEnoughLpAssetsTransferred` came earlier
/// @audit event/error `InsufficientShares` came earlier
/// @audit event/error `ZeroAmount` came earlier
/// @audit event/error `FeeTooHigh` came earlier
/// @audit event/error `NotEnoughShares` came earlier
/// @audit event/error `InvalidSharePriceGrowth` came earlier
/// @audit event/error `InvalidSharePrice` came earlier
/// @audit event/error `AlreadyInitialized` came earlier
28:     address public UNDERLYING_PENDLE_MARKET;

/// @audit event/error `MarketExpired` came earlier
/// @audit event/error `NotController` came earlier
/// @audit event/error `ZeroFee` came earlier
/// @audit event/error `TooMuchFee` came earlier
/// @audit event/error `NotEnoughLpAssetsTransferred` came earlier
/// @audit event/error `InsufficientShares` came earlier
/// @audit event/error `ZeroAmount` came earlier
/// @audit event/error `FeeTooHigh` came earlier
/// @audit event/error `NotEnoughShares` came earlier
/// @audit event/error `InvalidSharePriceGrowth` came earlier
/// @audit event/error `InvalidSharePrice` came earlier
/// @audit event/error `AlreadyInitialized` came earlier
29:     address public PENDLE_POWER_FARM_CONTROLLER;

/// @audit event/error `MarketExpired` came earlier
/// @audit event/error `NotController` came earlier
/// @audit event/error `ZeroFee` came earlier
/// @audit event/error `TooMuchFee` came earlier
/// @audit event/error `NotEnoughLpAssetsTransferred` came earlier
/// @audit event/error `InsufficientShares` came earlier
/// @audit event/error `ZeroAmount` came earlier
/// @audit event/error `FeeTooHigh` came earlier
/// @audit event/error `NotEnoughShares` came earlier
/// @audit event/error `InvalidSharePriceGrowth` came earlier
/// @audit event/error `InvalidSharePrice` came earlier
/// @audit event/error `AlreadyInitialized` came earlier
32:     uint256 public underlyingLpAssetsCurrent;

/// @audit event/error `MarketExpired` came earlier
/// @audit event/error `NotController` came earlier
/// @audit event/error `ZeroFee` came earlier
/// @audit event/error `TooMuchFee` came earlier
/// @audit event/error `NotEnoughLpAssetsTransferred` came earlier
/// @audit event/error `InsufficientShares` came earlier
/// @audit event/error `ZeroAmount` came earlier
/// @audit event/error `FeeTooHigh` came earlier
/// @audit event/error `NotEnoughShares` came earlier
/// @audit event/error `InvalidSharePriceGrowth` came earlier
/// @audit event/error `InvalidSharePrice` came earlier
/// @audit event/error `AlreadyInitialized` came earlier
35:     uint256 public totalLpAssetsToDistribute;

/// @audit event/error `MarketExpired` came earlier
/// @audit event/error `NotController` came earlier
/// @audit event/error `ZeroFee` came earlier
/// @audit event/error `TooMuchFee` came earlier
/// @audit event/error `NotEnoughLpAssetsTransferred` came earlier
/// @audit event/error `InsufficientShares` came earlier
/// @audit event/error `ZeroAmount` came earlier
/// @audit event/error `FeeTooHigh` came earlier
/// @audit event/error `NotEnoughShares` came earlier
/// @audit event/error `InvalidSharePriceGrowth` came earlier
/// @audit event/error `InvalidSharePrice` came earlier
/// @audit event/error `AlreadyInitialized` came earlier
38:     IPendleMarket public PENDLE_MARKET;

/// @audit event/error `MarketExpired` came earlier
/// @audit event/error `NotController` came earlier
/// @audit event/error `ZeroFee` came earlier
/// @audit event/error `TooMuchFee` came earlier
/// @audit event/error `NotEnoughLpAssetsTransferred` came earlier
/// @audit event/error `InsufficientShares` came earlier
/// @audit event/error `ZeroAmount` came earlier
/// @audit event/error `FeeTooHigh` came earlier
/// @audit event/error `NotEnoughShares` came earlier
/// @audit event/error `InvalidSharePriceGrowth` came earlier
/// @audit event/error `InvalidSharePrice` came earlier
/// @audit event/error `AlreadyInitialized` came earlier
41:     IPendleSy public PENDLE_SY;

/// @audit event/error `MarketExpired` came earlier
/// @audit event/error `NotController` came earlier
/// @audit event/error `ZeroFee` came earlier
/// @audit event/error `TooMuchFee` came earlier
/// @audit event/error `NotEnoughLpAssetsTransferred` came earlier
/// @audit event/error `InsufficientShares` came earlier
/// @audit event/error `ZeroAmount` came earlier
/// @audit event/error `FeeTooHigh` came earlier
/// @audit event/error `NotEnoughShares` came earlier
/// @audit event/error `InvalidSharePriceGrowth` came earlier
/// @audit event/error `InvalidSharePrice` came earlier
/// @audit event/error `AlreadyInitialized` came earlier
44:     IPendleController public PENDLE_CONTROLLER;

/// @audit event/error `MarketExpired` came earlier
/// @audit event/error `NotController` came earlier
/// @audit event/error `ZeroFee` came earlier
/// @audit event/error `TooMuchFee` came earlier
/// @audit event/error `NotEnoughLpAssetsTransferred` came earlier
/// @audit event/error `InsufficientShares` came earlier
/// @audit event/error `ZeroAmount` came earlier
/// @audit event/error `FeeTooHigh` came earlier
/// @audit event/error `NotEnoughShares` came earlier
/// @audit event/error `InvalidSharePriceGrowth` came earlier
/// @audit event/error `InvalidSharePrice` came earlier
/// @audit event/error `AlreadyInitialized` came earlier
47:     uint16 public MAX_CARDINALITY;

/// @audit event/error `MarketExpired` came earlier
/// @audit event/error `NotController` came earlier
/// @audit event/error `ZeroFee` came earlier
/// @audit event/error `TooMuchFee` came earlier
/// @audit event/error `NotEnoughLpAssetsTransferred` came earlier
/// @audit event/error `InsufficientShares` came earlier
/// @audit event/error `ZeroAmount` came earlier
/// @audit event/error `FeeTooHigh` came earlier
/// @audit event/error `NotEnoughShares` came earlier
/// @audit event/error `InvalidSharePriceGrowth` came earlier
/// @audit event/error `InvalidSharePrice` came earlier
/// @audit event/error `AlreadyInitialized` came earlier
49:     uint256 public mintFee;

/// @audit event/error `MarketExpired` came earlier
/// @audit event/error `NotController` came earlier
/// @audit event/error `ZeroFee` came earlier
/// @audit event/error `TooMuchFee` came earlier
/// @audit event/error `NotEnoughLpAssetsTransferred` came earlier
/// @audit event/error `InsufficientShares` came earlier
/// @audit event/error `ZeroAmount` came earlier
/// @audit event/error `FeeTooHigh` came earlier
/// @audit event/error `NotEnoughShares` came earlier
/// @audit event/error `InvalidSharePriceGrowth` came earlier
/// @audit event/error `InvalidSharePrice` came earlier
/// @audit event/error `AlreadyInitialized` came earlier
50:     uint256 public lastInteraction;

/// @audit event/error `MarketExpired` came earlier
/// @audit event/error `NotController` came earlier
/// @audit event/error `ZeroFee` came earlier
/// @audit event/error `TooMuchFee` came earlier
/// @audit event/error `NotEnoughLpAssetsTransferred` came earlier
/// @audit event/error `InsufficientShares` came earlier
/// @audit event/error `ZeroAmount` came earlier
/// @audit event/error `FeeTooHigh` came earlier
/// @audit event/error `NotEnoughShares` came earlier
/// @audit event/error `InvalidSharePriceGrowth` came earlier
/// @audit event/error `InvalidSharePrice` came earlier
/// @audit event/error `AlreadyInitialized` came earlier
52:     uint256 private constant ONE_WEEK = 7 days;

/// @audit event/error `MarketExpired` came earlier
/// @audit event/error `NotController` came earlier
/// @audit event/error `ZeroFee` came earlier
/// @audit event/error `TooMuchFee` came earlier
/// @audit event/error `NotEnoughLpAssetsTransferred` came earlier
/// @audit event/error `InsufficientShares` came earlier
/// @audit event/error `ZeroAmount` came earlier
/// @audit event/error `FeeTooHigh` came earlier
/// @audit event/error `NotEnoughShares` came earlier
/// @audit event/error `InvalidSharePriceGrowth` came earlier
/// @audit event/error `InvalidSharePrice` came earlier
/// @audit event/error `AlreadyInitialized` came earlier
53:     uint256 internal constant ONE_YEAR = 365 days;

/// @audit event/error `MarketExpired` came earlier
/// @audit event/error `NotController` came earlier
/// @audit event/error `ZeroFee` came earlier
/// @audit event/error `TooMuchFee` came earlier
/// @audit event/error `NotEnoughLpAssetsTransferred` came earlier
/// @audit event/error `InsufficientShares` came earlier
/// @audit event/error `ZeroAmount` came earlier
/// @audit event/error `FeeTooHigh` came earlier
/// @audit event/error `NotEnoughShares` came earlier
/// @audit event/error `InvalidSharePriceGrowth` came earlier
/// @audit event/error `InvalidSharePrice` came earlier
/// @audit event/error `AlreadyInitialized` came earlier
54:     uint256 private constant MAX_MINT_FEE = 10000;

/// @audit event/error `MarketExpired` came earlier
/// @audit event/error `NotController` came earlier
/// @audit event/error `ZeroFee` came earlier
/// @audit event/error `TooMuchFee` came earlier
/// @audit event/error `NotEnoughLpAssetsTransferred` came earlier
/// @audit event/error `InsufficientShares` came earlier
/// @audit event/error `ZeroAmount` came earlier
/// @audit event/error `FeeTooHigh` came earlier
/// @audit event/error `NotEnoughShares` came earlier
/// @audit event/error `InvalidSharePriceGrowth` came earlier
/// @audit event/error `InvalidSharePrice` came earlier
/// @audit event/error `AlreadyInitialized` came earlier
56:     uint256 private constant PRECISION_FACTOR_E6 = 1E6;

/// @audit event/error `MarketExpired` came earlier
/// @audit event/error `NotController` came earlier
/// @audit event/error `ZeroFee` came earlier
/// @audit event/error `TooMuchFee` came earlier
/// @audit event/error `NotEnoughLpAssetsTransferred` came earlier
/// @audit event/error `InsufficientShares` came earlier
/// @audit event/error `ZeroAmount` came earlier
/// @audit event/error `FeeTooHigh` came earlier
/// @audit event/error `NotEnoughShares` came earlier
/// @audit event/error `InvalidSharePriceGrowth` came earlier
/// @audit event/error `InvalidSharePrice` came earlier
/// @audit event/error `AlreadyInitialized` came earlier
57:     uint256 private constant PRECISION_FACTOR_E18 = 1E18;

/// @audit event/error `MarketExpired` came earlier
/// @audit event/error `NotController` came earlier
/// @audit event/error `ZeroFee` came earlier
/// @audit event/error `TooMuchFee` came earlier
/// @audit event/error `NotEnoughLpAssetsTransferred` came earlier
/// @audit event/error `InsufficientShares` came earlier
/// @audit event/error `ZeroAmount` came earlier
/// @audit event/error `FeeTooHigh` came earlier
/// @audit event/error `NotEnoughShares` came earlier
/// @audit event/error `InvalidSharePriceGrowth` came earlier
/// @audit event/error `InvalidSharePrice` came earlier
/// @audit event/error `AlreadyInitialized` came earlier
58:     uint256 internal constant PRECISION_FACTOR_E36 = PRECISION_FACTOR_E18 * PRECISION_FACTOR_E18;

/// @audit event/error `MarketExpired` came earlier
/// @audit event/error `NotController` came earlier
/// @audit event/error `ZeroFee` came earlier
/// @audit event/error `TooMuchFee` came earlier
/// @audit event/error `NotEnoughLpAssetsTransferred` came earlier
/// @audit event/error `InsufficientShares` came earlier
/// @audit event/error `ZeroAmount` came earlier
/// @audit event/error `FeeTooHigh` came earlier
/// @audit event/error `NotEnoughShares` came earlier
/// @audit event/error `InvalidSharePriceGrowth` came earlier
/// @audit event/error `InvalidSharePrice` came earlier
/// @audit event/error `AlreadyInitialized` came earlier
59:     uint256 internal constant PRECISION_FACTOR_YEAR = PRECISION_FACTOR_E18 * ONE_YEAR;

/// @audit event/error `MarketExpired` came earlier
/// @audit event/error `NotController` came earlier
/// @audit event/error `ZeroFee` came earlier
/// @audit event/error `TooMuchFee` came earlier
/// @audit event/error `NotEnoughLpAssetsTransferred` came earlier
/// @audit event/error `InsufficientShares` came earlier
/// @audit event/error `ZeroAmount` came earlier
/// @audit event/error `FeeTooHigh` came earlier
/// @audit event/error `NotEnoughShares` came earlier
/// @audit event/error `InvalidSharePriceGrowth` came earlier
/// @audit event/error `InvalidSharePrice` came earlier
/// @audit event/error `AlreadyInitialized` came earlier
61:     uint256 private INITIAL_TIME_STAMP;

/// @audit event/error `MarketExpired` came earlier
/// @audit event/error `NotController` came earlier
/// @audit event/error `ZeroFee` came earlier
/// @audit event/error `TooMuchFee` came earlier
/// @audit event/error `NotEnoughLpAssetsTransferred` came earlier
/// @audit event/error `InsufficientShares` came earlier
/// @audit event/error `ZeroAmount` came earlier
/// @audit event/error `FeeTooHigh` came earlier
/// @audit event/error `NotEnoughShares` came earlier
/// @audit event/error `InvalidSharePriceGrowth` came earlier
/// @audit event/error `InvalidSharePrice` came earlier
/// @audit event/error `AlreadyInitialized` came earlier
63:     uint256 internal constant RESTRICTION_FACTOR = 10

/// @audit function `_onlyController` came earlier
81:     modifier syncSupply()

```
*Github:* [[28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L28), [29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L29), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L32), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L35), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L38), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L41), [44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L44), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L47), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L49), [50](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L50), [52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L52), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L53), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L54), [56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L56), [57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L57), [58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L58), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L59), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L61), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L63), [81](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L81)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

/// @audit event/error `DeployForbidden` came earlier
11:     address internal constant ZERO_ADDRESS = address(0x0);

/// @audit event/error `DeployForbidden` came earlier
13:     address public immutable IMPLEMENTATION_TARGET;

/// @audit event/error `DeployForbidden` came earlier
14:     address public immutable PENDLE_POWER_FARM_CONTROLLER;

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L11), [13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L13), [14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L14)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

/// @audit event/error `InvalidKey` came earlier
/// @audit event/error `AlreadyReserved` came earlier
12:     IPowerFarmsNFTs immutable FARMS_NFTS;

/// @audit event/error `InvalidKey` came earlier
/// @audit event/error `AlreadyReserved` came earlier
15:     uint256 public totalMinted;

/// @audit event/error `InvalidKey` came earlier
/// @audit event/error `AlreadyReserved` came earlier
18:     uint256 public totalReserved;

/// @audit event/error `InvalidKey` came earlier
/// @audit event/error `AlreadyReserved` came earlier
21:     uint256 public availableNFTCount;

/// @audit event/error `InvalidKey` came earlier
/// @audit event/error `AlreadyReserved` came earlier
24:     mapping(uint256 => uint256) public farmingKeys;

/// @audit event/error `InvalidKey` came earlier
/// @audit event/error `AlreadyReserved` came earlier
27:     mapping(address => uint256) public reservedKeys;

/// @audit event/error `InvalidKey` came earlier
/// @audit event/error `AlreadyReserved` came earlier
30:     mapping(uint256 => uint256) public availableNFTs;

/// @audit modifier `onlyKeyOwner` came earlier
/// @audit function `_onlyKeyOwner` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_incrementReserved` came earlier
/// @audit function `_getNextReserveKey` came earlier
/// @audit function `_reserveKey` came earlier
/// @audit function `isOwner` came earlier
/// @audit function `_mintKeyForUser` came earlier
/// @audit function `mintReserved` came earlier
153:     event ERC721Received(

```
*Github:* [[12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L12), [15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L15), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L18), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L21), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L24), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L27), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L30), [153](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L153)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

/// @audit function `reservedKeys` came earlier
26:     string public baseURI;

/// @audit function `reservedKeys` came earlier
27:     string public baseExtension;

/// @audit function `reservedKeys` came earlier
28:     address public farmContract;

/// @audit function `reservedKeys` came earlier
30:     modifier onlyFarmContract() {

```
*Github:* [[26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L26), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L27), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L28), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L30)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

/// @audit event/error `AmountTooSmall` came earlier
/// @audit event/error `SendValueFailed` came earlier
10:     bool public sendingProgress;

```
*Github:* [[10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L10)]


```solidity
File: contracts/WiseLending.sol

/// @audit function `receive` came earlier
67:     modifier healthStateCheck(

/// @audit function `receive` came earlier
/// @audit function `_healthStateCheck` came earlier
97:     modifier syncPool(

```
*Github:* [[67](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L67), [97](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L97)]


```solidity
File: contracts/WiseLendingDeclaration.sol

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
162:     address internal AAVE_HUB_ADDRESS;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
165:     address public immutable WETH_ADDRESS;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
168:     uint256 immutable FEE_MANAGER_NFT;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
170:     uint256 internal constant MIN_BORROW_SHARE_PRICE = 5 * PRECISION_FACTOR_E18

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
174:     IWiseSecurity public WISE_SECURITY;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
177:     IFeeManagerLight internal FEE_MANAGER;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
180:     IPositionNFTs public immutable POSITION_NFT;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
183:     IWiseOracleHub public immutable WISE_ORACLE;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
186:     bool internal powerFarmCheck;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
188:     uint256 internal constant GHOST_AMOUNT = 1E3;

/// @audit state variable `AAVE_HUB_ADDRESS` came earlier
/// @audit state variable `WETH_ADDRESS` came earlier
/// @audit state variable `FEE_MANAGER_NFT` came earlier
/// @audit state variable `MIN_BORROW_SHARE_PRICE` came earlier
/// @audit state variable `WISE_SECURITY` came earlier
/// @audit state variable `FEE_MANAGER` came earlier
/// @audit state variable `POSITION_NFT` came earlier
/// @audit state variable `WISE_ORACLE` came earlier
/// @audit state variable `powerFarmCheck` came earlier
/// @audit state variable `GHOST_AMOUNT` came earlier
/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
192:     struct LendingEntry {

/// @audit state variable `AAVE_HUB_ADDRESS` came earlier
/// @audit state variable `WETH_ADDRESS` came earlier
/// @audit state variable `FEE_MANAGER_NFT` came earlier
/// @audit state variable `MIN_BORROW_SHARE_PRICE` came earlier
/// @audit state variable `WISE_SECURITY` came earlier
/// @audit state variable `FEE_MANAGER` came earlier
/// @audit state variable `POSITION_NFT` came earlier
/// @audit state variable `WISE_ORACLE` came earlier
/// @audit state variable `powerFarmCheck` came earlier
/// @audit state variable `GHOST_AMOUNT` came earlier
/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
197:     struct BorrowRatesEntry {

/// @audit state variable `AAVE_HUB_ADDRESS` came earlier
/// @audit state variable `WETH_ADDRESS` came earlier
/// @audit state variable `FEE_MANAGER_NFT` came earlier
/// @audit state variable `MIN_BORROW_SHARE_PRICE` came earlier
/// @audit state variable `WISE_SECURITY` came earlier
/// @audit state variable `FEE_MANAGER` came earlier
/// @audit state variable `POSITION_NFT` came earlier
/// @audit state variable `WISE_ORACLE` came earlier
/// @audit state variable `powerFarmCheck` came earlier
/// @audit state variable `GHOST_AMOUNT` came earlier
/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
205:     struct AlgorithmEntry {

/// @audit state variable `AAVE_HUB_ADDRESS` came earlier
/// @audit state variable `WETH_ADDRESS` came earlier
/// @audit state variable `FEE_MANAGER_NFT` came earlier
/// @audit state variable `MIN_BORROW_SHARE_PRICE` came earlier
/// @audit state variable `WISE_SECURITY` came earlier
/// @audit state variable `FEE_MANAGER` came earlier
/// @audit state variable `POSITION_NFT` came earlier
/// @audit state variable `WISE_ORACLE` came earlier
/// @audit state variable `powerFarmCheck` came earlier
/// @audit state variable `GHOST_AMOUNT` came earlier
/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
212:     struct GlobalPoolEntry {

/// @audit state variable `AAVE_HUB_ADDRESS` came earlier
/// @audit state variable `WETH_ADDRESS` came earlier
/// @audit state variable `FEE_MANAGER_NFT` came earlier
/// @audit state variable `MIN_BORROW_SHARE_PRICE` came earlier
/// @audit state variable `WISE_SECURITY` came earlier
/// @audit state variable `FEE_MANAGER` came earlier
/// @audit state variable `POSITION_NFT` came earlier
/// @audit state variable `WISE_ORACLE` came earlier
/// @audit state variable `powerFarmCheck` came earlier
/// @audit state variable `GHOST_AMOUNT` came earlier
/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
219:     struct LendingPoolEntry {

/// @audit state variable `AAVE_HUB_ADDRESS` came earlier
/// @audit state variable `WETH_ADDRESS` came earlier
/// @audit state variable `FEE_MANAGER_NFT` came earlier
/// @audit state variable `MIN_BORROW_SHARE_PRICE` came earlier
/// @audit state variable `WISE_SECURITY` came earlier
/// @audit state variable `FEE_MANAGER` came earlier
/// @audit state variable `POSITION_NFT` came earlier
/// @audit state variable `WISE_ORACLE` came earlier
/// @audit state variable `powerFarmCheck` came earlier
/// @audit state variable `GHOST_AMOUNT` came earlier
/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
225:     struct BorrowPoolEntry {

/// @audit state variable `AAVE_HUB_ADDRESS` came earlier
/// @audit state variable `WETH_ADDRESS` came earlier
/// @audit state variable `FEE_MANAGER_NFT` came earlier
/// @audit state variable `MIN_BORROW_SHARE_PRICE` came earlier
/// @audit state variable `WISE_SECURITY` came earlier
/// @audit state variable `FEE_MANAGER` came earlier
/// @audit state variable `POSITION_NFT` came earlier
/// @audit state variable `WISE_ORACLE` came earlier
/// @audit state variable `powerFarmCheck` came earlier
/// @audit state variable `GHOST_AMOUNT` came earlier
/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
232:     struct TimestampsPoolEntry {

/// @audit state variable `AAVE_HUB_ADDRESS` came earlier
/// @audit state variable `WETH_ADDRESS` came earlier
/// @audit state variable `FEE_MANAGER_NFT` came earlier
/// @audit state variable `MIN_BORROW_SHARE_PRICE` came earlier
/// @audit state variable `WISE_SECURITY` came earlier
/// @audit state variable `FEE_MANAGER` came earlier
/// @audit state variable `POSITION_NFT` came earlier
/// @audit state variable `WISE_ORACLE` came earlier
/// @audit state variable `powerFarmCheck` came earlier
/// @audit state variable `GHOST_AMOUNT` came earlier
/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
238:     struct CoreLiquidationStruct {

/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
252:     modifier onlyAaveHub() {

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
267:     mapping(address => uint256) internal bufferIncrease;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
268:     mapping(address => uint256) public maxDepositValueToken;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
270:     mapping(uint256 => address[]) public positionLendTokenData;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
271:     mapping(uint256 => address[]) public positionBorrowTokenData;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
273:     mapping(uint256 => mapping(address => uint256)) public userBorrowShares;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
274:     mapping(uint256 => mapping(address => uint256)) public pureCollateralAmount;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
275:     mapping(uint256 => mapping(address => LendingEntry)) public userLendingData;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
278:     mapping(address => BorrowRatesEntry) public borrowRatesData;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
279:     mapping(address => AlgorithmEntry) public algorithmData;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
280:     mapping(address => GlobalPoolEntry) public globalPoolData;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
281:     mapping(address => LendingPoolEntry) public lendingPoolData;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
282:     mapping(address => BorrowPoolEntry) public borrowPoolData;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
283:     mapping(address => TimestampsPoolEntry) public timestampsPoolData;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
286:     mapping(uint256 => bool) public positionLocked;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
287:     mapping(address => bool) internal parametersLocked;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
288:     mapping(address => bool) public verifiedIsolationPool;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
291:     mapping(bytes32 => bool) internal hashMapPositionBorrow;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
292:     mapping(bytes32 => bool) internal hashMapPositionLending;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
295:     uint256 internal constant PRECISION_FACTOR_E16 = 1E16;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
296:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
297:     uint256 internal constant PRECISION_FACTOR_E36 = PRECISION_FACTOR_E18 * PRECISION_FACTOR_E18;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
300:     uint256 internal constant ONE_YEAR = 365 days;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
301:     uint256 internal constant THREE_HOURS = 3 hours;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
302:     uint256 internal constant PRECISION_FACTOR_YEAR = PRECISION_FACTOR_E18 * ONE_YEAR;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
307:     uint256 internal constant NORMALISATION_FACTOR = 4838400;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
310:     uint256 internal constant LOWER_BOUND_MAX_RATE = 100 * PRECISION_FACTOR_E16;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
311:     uint256 internal constant UPPER_BOUND_MAX_RATE = 300 * PRECISION_FACTOR_E16;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
314:     uint256 internal constant THRESHOLD_SWITCH_DIRECTION = 90 * PRECISION_FACTOR_E16;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
315:     uint256 internal constant THRESHOLD_RESET_RESONANCE_FACTOR = 75 * PRECISION_FACTOR_E16;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
319:     uint256 internal constant MAX_COLLATERAL_FACTOR = 85 * PRECISION_FACTOR_E16;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
320:     uint256 internal constant MAX_TOTAL_TOKEN_NUMBER = 8;

/// @audit event/error `FundsDeposited` came earlier
/// @audit event/error `FundsSolelyDeposited` came earlier
/// @audit event/error `FundsWithdrawn` came earlier
/// @audit event/error `FundsWithdrawnOnBehalf` came earlier
/// @audit event/error `FundsSolelyWithdrawn` came earlier
/// @audit event/error `FundsBorrowed` came earlier
/// @audit event/error `FundsBorrowedOnBehalf` came earlier
/// @audit event/error `FundsReturned` came earlier
/// @audit event/error `DeadOracle` came earlier
/// @audit event/error `NotPowerFarm` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `InvalidCaller` came earlier
/// @audit event/error `PositionLocked` came earlier
/// @audit event/error `LiquidatorIsInPowerFarm` came earlier
/// @audit event/error `PositionHasCollateral` came earlier
/// @audit event/error `PositionHasBorrow` came earlier
/// @audit event/error `InvalidAddress` came earlier
/// @audit event/error `InvalidLiquidator` came earlier
/// @audit event/error `ValueIsZero` came earlier
/// @audit event/error `ValueNotZero` came earlier
/// @audit event/error `TooManyTokens` came earlier
/// @audit modifier `onlyAaveHub` came earlier
/// @audit function `constructor` came earlier
/// @audit function `setSecurity` came earlier
/// @audit function `_onlyAaveHub` came earlier
323:     uint256 internal constant RESTRICTION_FACTOR = 10

```
*Github:* [[162](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L162), [165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L165), [168](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L168), [170](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L170), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L174), [177](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L177), [180](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L180), [183](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L183), [186](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L186), [188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L188), [192](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L192), [197](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L197), [205](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L205), [212](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L212), [219](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L219), [225](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L225), [232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L232), [238](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L238), [252](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L252), [267](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L267), [268](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L268), [270](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L270), [271](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L271), [273](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L273), [274](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L274), [275](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L275), [278](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L278), [279](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L279), [280](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L280), [281](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L281), [282](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L282), [283](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L283), [286](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L286), [287](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L287), [288](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L288), [291](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L291), [292](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L292), [295](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L295), [296](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L296), [297](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L297), [300](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L300), [301](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L301), [302](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L302), [307](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L307), [310](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L310), [311](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L311), [314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L314), [315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L315), [319](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L319), [320](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L320), [323](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L323)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
35:     struct UniTwapPoolInfo {

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
40:     struct DerivativePartnerInfo {

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
76:     address public immutable WETH_ADDRESS;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
79:     address public constant SEQUENCER_ADDRESS = 0xFdB631F5EE196F0ed6FAa767959853A9F217697D;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
82:     address public immutable ETH_USD_PLACEHOLDER;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
85:     uint8 internal immutable _decimalsWETH;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
88:     IPriceFeed public immutable ETH_PRICE_FEED;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
91:     IPriceFeed public immutable SEQUENCER;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
94:     IUniswapV3Factory public immutable UNI_V3_FACTORY;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
97:     uint8 internal constant _decimalsUSD = 8;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
100:     uint8 internal constant _decimalsETH = 18;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
103:     uint80 internal constant MAX_ROUND_COUNT = 50;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
106:     uint32 internal constant SECONDS_IN_MINUTE = 60;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
109:     uint32 internal constant TWAP_PERIOD = 30 * SECONDS_IN_MINUTE;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
112:     uint256 internal ALLOWED_DIFFERENCE = 10250;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
115:     uint256 internal constant MIN_ITERATION_COUNT = 3;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
118:     uint256 internal constant PRECISION_FACTOR_E4 = 1E4;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
121:     uint256 internal constant GRACE_PEROID = 3600;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
124:     IPriceFeed internal constant ZERO_FEED = IPriceFeed(

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
129:     IAggregator internal constant ZERO_AGGREGATOR = IAggregator(

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
133:     bool internal immutable IS_ARBITRUM_CHAIN;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
134:     uint256 internal constant ARBITRUM_CHAIN_ID = 42161;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
139:     mapping(address => uint8) _tokenDecimals;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
142:     mapping(address => IPriceFeed) public priceFeed;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
145:     mapping(address => uint256) public heartBeat;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
148:     mapping(address => IAggregator) public tokenAggregatorFromTokenAddress;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
151:     mapping(address => address[]) public underlyingFeedTokens;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
154:     mapping(address => UniTwapPoolInfo) public uniTwapPoolInfo;

/// @audit event/error `OracleIsDead` came earlier
/// @audit event/error `OraclesDeviate` came earlier
/// @audit event/error `OracleAlreadySet` came earlier
/// @audit event/error `ChainLinkOracleNotSet` came earlier
/// @audit event/error `SampleTooSmall` came earlier
/// @audit event/error `HeartBeatNotSet` came earlier
/// @audit event/error `PoolDoesNotExist` came earlier
/// @audit event/error `PoolAddressMismatch` came earlier
/// @audit event/error `TokenAddressMismatch` came earlier
/// @audit event/error `TwapOracleAlreadySet` came earlier
/// @audit event/error `ZeroAddressNotAllowed` came earlier
/// @audit event/error `FunctionDoesntExist` came earlier
/// @audit event/error `AggregatorNotNecessary` came earlier
/// @audit event/error `AggregatorAlreadySet` came earlier
/// @audit function `constructor` came earlier
157:     mapping(address => DerivativePartnerInfo) public derivativePartnerTwap;

```
*Github:* [[35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L35), [40](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L40), [76](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L76), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L79), [82](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L82), [85](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L85), [88](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L88), [91](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L91), [94](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L94), [97](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L97), [100](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L100), [103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L103), [106](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L106), [109](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L109), [112](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L112), [115](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L115), [118](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L118), [121](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L121), [124](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L124), [129](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L129), [133](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L133), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L134), [139](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L139), [142](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L142), [145](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L145), [148](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L148), [151](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L151), [154](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L154), [157](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L157)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
185:     uint256 public constant BORROW_PERCENTAGE_CAP = 95 * PRECISION_FACTOR_E16;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
186:     address public immutable AAVE_HUB;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
191:     IFeeManager public immutable FEE_MANAGER;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
194:     IWiseLending public immutable WISE_LENDING;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
197:     IPositionNFTs public immutable POSITION_NFTS;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
200:     IWiseOracleHub public immutable WISE_ORACLE;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
203:     IWiseLiquidation public immutable WISE_LIQUIDATION;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
206:     uint256 internal constant MAX_LIQUIDATION_50 = 50E16;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
207:     uint256 internal constant BAD_DEBT_THRESHOLD = 89E16;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
209:     uint256 internal constant UINT256_MAX = type(uint256).max;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
210:     uint256 internal constant ONE_YEAR = 365 days;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
214:     uint256 public minDepositEthValue = 1; // in wei?

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
217:     uint256 internal constant PRECISION_FACTOR_E16 = 1E16;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
218:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
219:     uint256 internal constant ONE_WEI = 1;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
222:     bool immutable IS_ETH_MAINNET;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
225:     uint256 internal constant LIQUIDATION_INCENTIVE_MAX = 11 * PRECISION_FACTOR_E16;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
226:     uint256 internal constant LIQUIDATION_INCENTIVE_MIN = 2 * PRECISION_FACTOR_E16;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
227:     uint256 internal constant LIQUIDATION_INCENTIVE_POWERFARM_MAX = 4 * PRECISION_FACTOR_E16;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
230:     uint256 internal constant LIQUIDATION_FEE_MIN_ETH = 3 * PRECISION_FACTOR_E18;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
231:     uint256 internal constant LIQUIDATION_FEE_MAX_ETH = 100 * PRECISION_FACTOR_E18;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
232:     uint256 internal constant LIQUIDATION_FEE_MAX_NON_ETH = 10 * PRECISION_FACTOR_E18;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
233:     uint256 internal constant LIQUIDATION_FEE_MIN_NON_ETH = 30 * PRECISION_FACTOR_E16;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
238:     mapping(address => bool) public wasBlacklisted;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
241:     mapping(address => CurveSwapStructData) public curveSwapInfoData;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
244:     mapping(address => CurveSwapStructToken) public curveSwapInfoToken;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
247:     mapping(address => bool) public securityWorker;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
252:     uint256 public maxFeeETH;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
255:     uint256 public maxFeeFarmETH;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
258:     uint256 public baseRewardLiquidation;

/// @audit event/error `SecurityShutdown` came earlier
/// @audit event/error `NotAllowedEntity` came earlier
/// @audit event/error `ChainlinkDead` came earlier
/// @audit event/error `TokenBlackListed` came earlier
/// @audit event/error `NotAllowedWiseSecurity` came earlier
/// @audit event/error `PositionLockedWiseSecurity` came earlier
/// @audit event/error `ResultsInBadDebt` came earlier
/// @audit event/error `NotEnoughCollateral` came earlier
/// @audit event/error `NotAllowedToBorrow` came earlier
/// @audit event/error `OpenBorrowPosition` came earlier
/// @audit event/error `NonVerifiedPool` came earlier
/// @audit event/error `NotOwner` came earlier
/// @audit event/error `LiquidationDenied` came earlier
/// @audit event/error `TooManyShares` came earlier
/// @audit event/error `NotRegistered` came earlier
/// @audit event/error `Blacklisted` came earlier
/// @audit event/error `SecuritySwapFailed` came earlier
/// @audit event/error `BaseRewardTooHigh` came earlier
/// @audit event/error `BaseRewardTooLow` came earlier
/// @audit event/error `BaseRewardFarmTooHigh` came earlier
/// @audit event/error `BaseRewardFarmTooLow` came earlier
/// @audit event/error `MaxFeeEthTooHigh` came earlier
/// @audit event/error `MaxFeeEthTooLow` came earlier
/// @audit event/error `MaxFeeFarmEthTooHigh` came earlier
/// @audit event/error `MaxFeeFarmEthTooLow` came earlier
/// @audit event/error `DepositAmountTooSmall` came earlier
/// @audit function `constructor` came earlier
/// @audit function `_setLiquidationSettings` came earlier
261:     uint256 public baseRewardLiquidationFarm;

```
*Github:* [[185](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L185), [186](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L186), [191](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L191), [194](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L194), [197](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L197), [200](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L200), [203](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L203), [206](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L206), [207](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L207), [209](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L209), [210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L210), [214](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L214), [217](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L217), [218](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L218), [219](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L219), [222](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L222), [225](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L225), [226](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L226), [227](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L227), [230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L230), [231](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L231), [232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L232), [233](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L233), [238](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L238), [241](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L241), [244](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L244), [247](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L247), [252](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L252), [255](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L255), [258](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L258), [261](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L261)]


```solidity
File: contracts/WrapperHub/Declarations.sol

/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `InvalidValue` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `FailedInnerCall` came earlier
/// @audit event/error `InvalidToken` came earlier
23:     IAave internal immutable AAVE;

/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `InvalidValue` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `FailedInnerCall` came earlier
/// @audit event/error `InvalidToken` came earlier
25:     bool public sendingProgressAaveHub;

/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `InvalidValue` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `FailedInnerCall` came earlier
/// @audit event/error `InvalidToken` came earlier
27:     uint16 internal constant REF_CODE = 0;

/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `InvalidValue` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `FailedInnerCall` came earlier
/// @audit event/error `InvalidToken` came earlier
29:     IWiseLending immutable public WISE_LENDING;

/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `InvalidValue` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `FailedInnerCall` came earlier
/// @audit event/error `InvalidToken` came earlier
30:     IPositionNFTs immutable public POSITION_NFT;

/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `InvalidValue` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `FailedInnerCall` came earlier
/// @audit event/error `InvalidToken` came earlier
32:     IWiseSecurity public WISE_SECURITY;

/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `InvalidValue` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `FailedInnerCall` came earlier
/// @audit event/error `InvalidToken` came earlier
34:     address immutable public WETH_ADDRESS;

/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `InvalidValue` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `FailedInnerCall` came earlier
/// @audit event/error `InvalidToken` came earlier
35:     address immutable public AAVE_ADDRESS;

/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `InvalidValue` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `FailedInnerCall` came earlier
/// @audit event/error `InvalidToken` came earlier
37:     uint256 internal constant PRECISION_FACTOR_E9 = 1E9;

/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `InvalidValue` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `FailedInnerCall` came earlier
/// @audit event/error `InvalidToken` came earlier
38:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `InvalidValue` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `FailedInnerCall` came earlier
/// @audit event/error `InvalidToken` came earlier
39:     uint256 internal constant MAX_AMOUNT = type(uint256).max;

/// @audit event/error `AlreadySet` came earlier
/// @audit event/error `InvalidValue` came earlier
/// @audit event/error `InvalidAction` came earlier
/// @audit event/error `FailedInnerCall` came earlier
/// @audit event/error `InvalidToken` came earlier
41:     mapping(address => address) public aaveTokenAddress;

```
*Github:* [[23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L23), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L25), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L27), [29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L29), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L30), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L32), [34](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L34), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L35), [37](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L37), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L38), [39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L39), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L41)]


</details>


<a name="NC-18"></a> 
### [NC-18] Contract should expose an `interface`
All `external`/`public` functions should extend an `interface`. This is useful to make sure that the whole API is extracted.

*Note:* It is possible that the interface is out-of-scope and has not been seen by the bot.

<details>
<summary>
There are <b>283</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

26:     function renounceOwnership()

33:     function setLastUpdateGlobal(

42:     function setRoundData(

52:     function setGlobalAggregatorRoundId(

61:     function getTimeStamp()

```
*Github:* [[26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L26), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L33), [42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L42), [52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L52), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L61)]


```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

35:     function latestAnswer()

47:     function decimals()

55:     function latestRoundData()

78:     function getRoundData(

```
*Github:* [[35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L35), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L47), [55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L55), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L78)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

83:     function latestAnswer()

139:     function decimals()

151:     function latestRoundData()

```
*Github:* [[83](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L83), [139](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L139), [151](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L151)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

81:     function latestAnswer()

134:     function decimals()

146:     function latestRoundData()

```
*Github:* [[81](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L81), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L134), [146](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L146)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

68:     function latestAnswer()

113:     function decimals()

125:     function latestRoundData()

```
*Github:* [[68](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L68), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L113), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L125)]


```solidity
File: contracts/FeeManager/FeeManager.sol

49:     function setRepayBadDebtIncentive(

66:     function setAaveFlag(

82:     function setAaveFlagBulk(

108:     function setPoolFee(

135:     function setPoolFeeBulk(

173:     function proposeIncentiveMaster(

194:     function claimOwnershipIncentiveMaster()

214:     function increaseIncentiveA(

232:     function increaseIncentiveB(

249:     function claimIncentivesBulk()

284:     function claimIncentives(

315:     function changeIncentiveUSDA(

352:     function changeIncentiveUSDB(

390:     function addPoolTokenAddress(

412:     function addPoolTokenAddressManual(

438:     function removePoolTokenManual(

494:     function increaseTotalBadDebtLiquidation(

514:     function setBadDebtUserLiquidation(

538:     function setBeneficial(

571:     function revokeBeneficial(

603:     function claimWiseFeesBulk()

628:     function claimWiseFees(

689:     function claimFeesBeneficial(

730:     function paybackBadDebtForToken(

816:     function paybackBadDebtNoReward(

872:     function getPoolTokenAddressesLength()

884:     function getPoolTokenAdressesByIndex(

898:     function syncAllPools()

```
*Github:* [[49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L49), [66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L66), [82](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L82), [108](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L108), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L135), [173](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L173), [194](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L194), [214](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L214), [232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L232), [249](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L249), [284](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L284), [315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L315), [352](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L352), [390](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L390), [412](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L412), [438](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L438), [494](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L494), [514](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L514), [538](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L538), [571](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L571), [603](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L603), [628](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L628), [689](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L689), [730](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L730), [816](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L816), [872](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L872), [884](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L884), [898](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L898)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

244:     function getReceivingToken(

270:     function updatePositionCurrentBadDebt(

```
*Github:* [[244](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L244), [270](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L270)]


```solidity
File: contracts/MainHelper.sol

17:     function calculateLendingShares(

55:     function calculateBorrowShares(

79:     function cashoutAmount(

114:     function paybackAmount(

814:     function isUncollateralized(

```
*Github:* [[17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L17), [55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L55), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L79), [114](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L114), [814](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L814)]


```solidity
File: contracts/OwnableMaster.sol

70:     function proposeOwner(

92:     function claimOwnership()

103:     function renounceOwnership()

```
*Github:* [[70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L70), [92](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L92), [103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L103)]


```solidity
File: contracts/PoolManager.sol

25:     function setParamsLASA(

100:     function setPoolParameters(

125:     function setVerifiedIsolationPool(

135:     function createPool(

146:     function createCurvePool(

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L25), [100](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L100), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L125), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L135), [146](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L146)]


```solidity
File: contracts/PositionNFTs.sol

54:     function assignReserveRole(

64:     function blockReservePublic()

71:     function forwardFeeManagerNFT(

90:     function reservePosition()

99:     function reservePositionForUser(

130:     function getNextExpectedId()

142:     function mintPosition()

154:     function getApprovedSoft(

174:     function mintPositionForUser(

222:     function isOwner(

245:     function approveMint(

271:     function walletOfOwner(

319:     function setBaseURI(

328:     function setBaseExtension(

340:     function tokenURI(

```
*Github:* [[54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L54), [64](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L64), [71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L71), [90](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L90), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L99), [130](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L130), [142](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L142), [154](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L154), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L174), [222](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L222), [245](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L245), [271](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L271), [319](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L319), [328](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L328), [340](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L340)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

15:     function getApproxNetAPY(

41:     function getNewBorrowRate(

57:     function getLiveDebtRatio(

93:     function liquidatePartiallyFromToken(

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L15), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L41), [57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L57), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L93)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

266:     function doApprovals()

```
*Github:* [[266](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L266)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

59:     function receiveFlashLoan(

```
*Github:* [[59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L59)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

174:     function getPositionBorrowETH(

229:     function getTotalWeightedCollateralETH(

272:     function getLeverageAmount(

```
*Github:* [[174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L174), [229](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L229), [272](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L272)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

63:     function changeMinDeposit(

82:     function shutDownFarm(

96:     function enterFarm(

142:     function enterFarmETH(

210:     function exitFarm(

254:     function manuallyPaybackShares(

274:     function manuallyWithdrawShares(

```
*Github:* [[63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L63), [82](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L82), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L96), [142](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L142), [210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L210), [254](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L254), [274](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L274)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

32:     function withdrawLp(

53:     function exchangeRewardsForCompoundingWithIncentive(

113:     function exchangeLpFeesForPendleWithIncentive(

172:     function skim(

211:     function addPendleMarket(

293:     function updateRewardTokens(

321:     function changeExchangeIncentive(

334:     function changeMintFee(

364:     function lockPendle(

431:     function claimArb(

451:     function withdrawLock()

497:     function increaseReservedForCompound(

526:     function overWriteIndex(

544:     function overWriteIndexAll(

566:     function overWriteAmounts(

581:     function claimVoteRewards(

600:     function forwardETH(

612:     function vote(

```
*Github:* [[32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L32), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L53), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L113), [172](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L172), [211](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L211), [293](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L293), [321](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L321), [334](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L334), [364](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L364), [431](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L431), [451](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L451), [497](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L497), [526](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L526), [544](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L544), [566](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L566), [581](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L581), [600](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L600), [612](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L612)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

272:     function syncAllSupply()

```
*Github:* [[272](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L272)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

95:     function pendleChildCompoundInfoReservedForCompound(

105:     function pendleChildCompoundInfoLastIndex(

115:     function pendleChildCompoundInfoRewardTokens(

125:     function activePendleMarketsLength()

245:     function getExpiry()

253:     function getLockAmount()

```
*Github:* [[95](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L95), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L105), [115](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L115), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L125), [245](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L245), [253](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L253)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

386:     function previewDistribution()

434:     function totalLpAssets()

443:     function previewUnderlyingLpAssets()

452:     function previewMintShares(

465:     function previewAmountWithdrawShares(

478:     function previewBurnShares(

494:     function manualSync()

502:     function addCompoundRewards(

529:     function depositExactAmount(

592:     function changeMintFee(

608:     function withdrawExactShares(

647:     function withdrawExactAmount(

682:     function initialize(

```
*Github:* [[386](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L386), [434](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L434), [443](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L443), [452](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L452), [465](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L465), [478](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L478), [494](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L494), [502](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L502), [529](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L529), [592](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L592), [608](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L608), [647](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L647), [682](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L682)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

35:     function deploy(

```
*Github:* [[35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L35)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

96:     function isOwner(

141:     function mintReserved()

160:     function onERC721Received(

```
*Github:* [[96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L96), [141](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L141), [160](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L160)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

51:     function setFarmContract(

66:     function mintKey(

82:     function burnKey(

93:     function checkOwner(

109:     function walletOfOwner(

161:     function setBaseURI(

170:     function setBaseExtension(

182:     function tokenURI(

```
*Github:* [[51](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L51), [66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L66), [82](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L82), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L93), [109](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L109), [161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L161), [170](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L170), [182](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L182)]


```solidity
File: contracts/WiseCore.sol

173:     function checkPositionLocked(

215:     function checkDeposit(

```
*Github:* [[173](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L173), [215](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L215)]


```solidity
File: contracts/WiseLending.sol

329:     function collateralizeDeposit(

348:     function unCollateralizeDeposit(

388:     function depositExactAmountETH(

426:     function depositExactAmountETHMint()

442:     function depositExactAmountMint(

460:     function depositExactAmount(

493:     function solelyDepositETHMint()

508:     function solelyDepositETH(

581:     function solelyDepositMint(

600:     function solelyDeposit(

636:     function withdrawExactAmountETH(

675:     function withdrawExactSharesETH(

714:     function withdrawExactAmount(

751:     function solelyWithdrawETH(

780:     function solelyWithdraw(

859:     function withdrawOnBehalfExactAmount(

902:     function withdrawExactShares(

939:     function withdrawOnBehalfExactShares(

975:     function borrowExactAmountETH(

1016:     function borrowExactAmount(

1055:     function borrowOnBehalfExactAmount(

1088:     function paybackExactAmountETH(

1161:     function paybackExactAmount(

1204:     function paybackExactShares(

1250:     function liquidatePartiallyFromTokens(

1314:     function coreLiquidationIsolationPools(

1367:     function syncManually(

1386:     function setRegistrationIsolationPool(

1412:     function corePaybackFeeManager(

```
*Github:* [[329](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L329), [348](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L348), [388](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L388), [426](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L426), [442](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L442), [460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L460), [493](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L493), [508](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L508), [581](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L581), [600](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L600), [636](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L636), [675](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L675), [714](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L714), [751](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L751), [780](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L780), [859](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L859), [902](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L902), [939](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L939), [975](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L975), [1016](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1016), [1055](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1055), [1088](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1088), [1161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1161), [1204](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1204), [1250](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1250), [1314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1314), [1367](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1367), [1386](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1386), [1412](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1412)]


```solidity
File: contracts/WiseLendingDeclaration.sol

140:     function setSecurity(

```
*Github:* [[140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L140)]


```solidity
File: contracts/WiseLowLevelHelper.sol

39:     function getTotalPool(

49:     function getPseudoTotalPool(

59:     function getTotalBareToken(

69:     function getPseudoTotalBorrowAmount(

79:     function getTotalDepositShares(

89:     function getTotalBorrowShares(

99:     function getPositionLendingShares(

110:     function getPositionBorrowShares(

121:     function getPureCollateralAmount(

134:     function getTimeStamp(

144:     function getPositionLendingTokenByIndex(

155:     function getPositionLendingTokenLength(

165:     function getPositionBorrowTokenByIndex(

176:     function getPositionBorrowTokenLength(

424:     function setPoolFee(

```
*Github:* [[39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L39), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L49), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L59), [69](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L69), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L79), [89](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L89), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L99), [110](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L110), [121](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L121), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L134), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L144), [155](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L155), [165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L165), [176](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L176), [424](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L424)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

106:     function latestResolverTwap(

265:     function getETHPriceInUSD()

450:     function decimals(

521:     function sequencerIsDead()

699:     function getLatestRoundId(

```
*Github:* [[106](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L106), [265](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L265), [450](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L450), [521](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L521), [699](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L699)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

69:     function latestResolver(

85:     function getTokenDecimals(

96:     function getTokensInUSD(

123:     function getTokensPriceInUSD(

143:     function getTokensInETH(

171:     function getTokensFromUSD(

198:     function getTokensPriceFromUSD(

218:     function addTwapOracle(

266:     function addTwapOracleDerivative(

327:     function getTokensFromETH(

359:     function addOracle(

379:     function addOracleBulk(

403:     function addAggregator(

419:     function recalibratePreview(

439:     function chainLinkIsDead(

487:     function recalibrate(

501:     function recalibrateBulk(

```
*Github:* [[69](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L69), [85](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L85), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L96), [123](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L123), [143](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L143), [171](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L171), [198](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L198), [218](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L218), [266](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L266), [327](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L327), [359](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L359), [379](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L379), [403](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L403), [419](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L419), [439](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L439), [487](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L487), [501](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L501)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

59:     function getLiveDebtRatio(

85:     function setLiquidationSettings(

105:     function checksLiquidation(

142:     function prepareCurvePools(

193:     function curveSecurityCheck(

237:     function checksWithdraw(

275:     function checksSolelyWithdraw(

306:     function checksBorrow(

335:     function checksCollateralizeDeposit(

360:     function checkUncollateralizedDeposit(

388:     function checkHealthState(

405:     function checkBadDebtLiquidation(

442:     function overallLendingAPY(

499:     function overallBorrowAPY(

556:     function overallNetAPY(

641:     function safeLimitPosition(

695:     function positionBlackListToken(

764:     function maximumWithdrawToken(

826:     function maximumWithdrawTokenSolely(

868:     function maximumBorrowToken(

906:     function getExpectedPaybackAmount(

943:     function getExpectedLendingAmount(

980:     function setBlacklistToken(

995:     function setSecurityWorker(

1011:     function securityShutdown()

1032:     function revokeShutdown()

1045:     function checkPoolCondition(

1060:     function checkPoolWithMinDeposit(

1078:     function checkMinDepositValue(

1111:     function changeMinDepositValue(

```
*Github:* [[59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L59), [85](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L85), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L105), [142](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L142), [193](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L193), [237](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L237), [275](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L275), [306](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L306), [335](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L335), [360](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L360), [388](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L388), [405](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L405), [442](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L442), [499](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L499), [556](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L556), [641](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L641), [695](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L695), [764](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L764), [826](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L826), [868](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L868), [906](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L906), [943](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L943), [980](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L980), [995](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L995), [1011](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1011), [1032](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1032), [1045](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1045), [1060](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1060), [1078](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1078), [1111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1111)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

15:     function overallETHCollateralsBoth(

65:     function overallETHCollateralsWeighted(

107:     function overallETHCollateralsBare(

190:     function getFullCollateralETH(

281:     function getETHCollateralUpdated(

323:     function getETHCollateral(

360:     function overallETHBorrowBare(

394:     function overallETHBorrowHeartbeat(

430:     function overallETHBorrow(

651:     function getETHBorrow(

672:     function checkTokenAllowed(

687:     function checkHeartbeat(

716:     function checkMaxFee(

760:     function calculateWishPercentage(

837:     function checksRegister(

859:     function canLiquidate(

876:     function checkMaxShares(

906:     function checkBadDebtThreshold(

922:     function getPositionLendingAmount(

945:     function getPositionBorrowAmount(

966:     function checkOwnerPosition(

985:     function getBorrowRate(

999:     function getLendingRate(

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L15), [65](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L65), [107](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L107), [190](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L190), [281](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L281), [323](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L323), [360](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L360), [394](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L394), [430](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L430), [651](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L651), [672](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L672), [687](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L687), [716](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L716), [760](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L760), [837](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L837), [859](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L859), [876](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L876), [906](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L906), [922](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L922), [945](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L945), [966](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L966), [985](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L985), [999](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L999)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

315:     function getAavePoolAPY(

```
*Github:* [[315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L315)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

44:     function setAaveTokenAddress(

64:     function setAaveTokenAddressBulk(

103:     function depositExactAmountMint(

122:     function depositExactAmount(

158:     function depositExactAmountETHMint()

172:     function depositExactAmountETH(

202:     function withdrawExactAmount(

238:     function withdrawExactAmountETH(

281:     function withdrawExactShares(

314:     function withdrawExactSharesETH(

357:     function borrowExactAmount(

393:     function borrowExactAmountETH(

433:     function paybackExactAmount(

482:     function paybackExactAmountETH(

556:     function paybackExactShares(

611:     function skimAave(

635:     function getLendingRate(

```
*Github:* [[44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L44), [64](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L64), [103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L103), [122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L122), [158](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L158), [172](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L172), [202](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L202), [238](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L238), [281](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L281), [314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L314), [357](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L357), [393](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L393), [433](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L433), [482](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L482), [556](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L556), [611](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L611), [635](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L635)]


```solidity
File: contracts/WrapperHub/Declarations.sol

105:     function setWiseSecurity(

```
*Github:* [[105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L105)]


</details>


<a name="NC-19"></a> 
### [NC-19] Contract uses both `require()`/`revert()` as well as custom errors
Consider using just one method in a single file.

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/PositionNFTs.sol

11: contract PositionNFTs is ERC721Enumerable, OwnableMaster {

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L11)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

10: contract MinterReserver {

```
*Github:* [[10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L10)]



<a name="NC-20"></a> 
### [NC-20] Contracts should each be defined in separate files
Keeping each contract in a separate file makes it easier to work with multiple people, makes the code easier to maintain, and is a common practice on most projects. The following files each contains more than one contract/library/interface.

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

/// @audit another contract/library/interface is defined in this file
14: interface IFarmContract {

/// @audit another contract/library/interface is defined in this file
24: contract PowerFarmNFTs is ERC721Enumerable, OwnableMaster {

```
*Github:* [[14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L14), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L24)]



<a name="NC-21"></a> 
### [NC-21] Contracts should have full test coverage
While 100% code coverage does not guarantee that there are no bugs, it often will catch easy-to-find bugs, and will ensure that there are fewer regressions when the code invariably has to be modified. Furthermore, in order to get full coverage, code authors will often have to re-organize their code so that it is more modular, so that each component can be tested separately, which reduces interdependencies between modules and layers, and makes for code that is easier to reason about and audit.

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/)]



<a name="NC-22"></a> 
### [NC-22] Convert simple `if` statements to ternary expressions
Converting some if statements to ternaries (such as `z = (a < b) ? x : y`) can make the code more concise and easier to read.

*There is one instance of this issue:*
```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

259:         if (block.chainid == ETH_CHAIN_ID) {
                 minDepositEthAmount = 3 ether;
             } else {
                 minDepositEthAmount = 0.03 ether;

```
*Github:* [[259](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L259)]



<a name="NC-23"></a> 
### [NC-23] Custom errors has no error details
Consider adding parameters to the error to indicate which user or values caused the failure.

<details>
<summary>
There are <b>124</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

24: error InvalidDecimals();

25: error CardinalityNotSatisfied();

26: error OldestObservationNotSatisfied();

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L24), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L25), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L26)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

19: error CardinalityNotSatisfied();

20: error OldestObservationNotSatisfied();

```
*Github:* [[19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L19), [20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L20)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

19: error CardinalityNotSatisfied();

20: error OldestObservationNotSatisfied();

```
*Github:* [[19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L19), [20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L20)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

16: error NotWiseLiquidation();

17: error AlreadySet();

18: error ExistingBadDebt();

19: error NotWiseLending();

20: error NotIncentiveMaster();

21: error PoolAlreadyAdded();

22: error TooHighValue();

23: error TooLowValue();

24: error NotAllowed();

25: error PoolNotPresent();

26: error ZeroAddress();

27: error NoIncentive();

28: error Reentered();

29: error PoolNotActive();

```
*Github:* [[16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L17), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L18), [19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L19), [20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L20), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L21), [22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L22), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L23), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L24), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L25), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L26), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L27), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L28), [29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L29)]


```solidity
File: contracts/OwnableMaster.sol

5: error NoValue();

6: error NotMaster();

7: error NotProposed();

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L5), [6](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L6), [7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L7)]


```solidity
File: contracts/PositionNFTs.sol

9: error NotPermitted();

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L9)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

23: error Deactivated();

24: error InvalidParam();

25: error AccessDenied();

26: error LeverageTooHigh();

27: error DebtRatioTooLow();

28: error NotBalancerVault();

29: error DebtRatioTooHigh();

30: error ResultsInBadDebt();

31: error TooMuchValueLost();

32: error CollateralFactorTooHigh();

33: error TooMuchShares();

34: error WrongChainId();

```
*Github:* [[23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L23), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L24), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L25), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L26), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L27), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L28), [29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L29), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L30), [31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L31), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L32), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L33), [34](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L34)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

16: error NotAllowed();

17: error AlreadySet();

18: error NotExpired();

19: error LockTimeTooShort();

20: error ZeroShares();

21: error ValueTooSmall();

22: error InvalidLength();

23: error InvalidWeightSum();

24: error WrongAddress();

25: error NothingToSkim();

26: error NotFound();

27: error NotEnoughCompound();

28: error NotArbitrum();

```
*Github:* [[16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L17), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L18), [19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L19), [20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L20), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L21), [22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L22), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L23), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L24), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L25), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L26), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L27), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L28)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

12: error MarketExpired();

13: error NotController();

14: error ZeroFee();

15: error TooMuchFee();

16: error NotEnoughLpAssetsTransferred();

17: error InsufficientShares();

18: error ZeroAmount();

19: error FeeTooHigh();

20: error NotEnoughShares();

21: error InvalidSharePriceGrowth();

22: error InvalidSharePrice();

23: error AlreadyInitialized();

```
*Github:* [[12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L12), [13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L13), [14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L14), [15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L15), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L17), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L18), [19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L19), [20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L20), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L21), [22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L22), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L23)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

7: error DeployForbidden();

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L7)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

7: error InvalidKey();

8: error AlreadyReserved();

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L7), [8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L8)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

5: error AmountTooSmall();

6: error SendValueFailed();

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L5), [6](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L6)]


```solidity
File: contracts/WiseLendingDeclaration.sol

16: error DeadOracle();

17: error NotPowerFarm();

18: error InvalidAction();

19: error InvalidCaller();

20: error PositionLocked();

21: error LiquidatorIsInPowerFarm();

22: error PositionHasCollateral();

23: error PositionHasBorrow();

24: error InvalidAddress();

25: error InvalidLiquidator();

26: error ValueIsZero();

27: error ValueNotZero();

28: error TooManyTokens();

```
*Github:* [[16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L17), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L18), [19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L19), [20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L20), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L21), [22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L22), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L23), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L24), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L25), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L26), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L27), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L28)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

14: error OracleIsDead();

15: error OraclesDeviate();

16: error OracleAlreadySet();

17: error ChainLinkOracleNotSet();

23: error HeartBeatNotSet();

24: error PoolDoesNotExist();

25: error PoolAddressMismatch();

26: error TokenAddressMismatch();

27: error TwapOracleAlreadySet();

28: error ZeroAddressNotAllowed();

29: error FunctionDoesntExist();

30: error AggregatorNotNecessary();

31: error AggregatorAlreadySet();

```
*Github:* [[14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L14), [15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L15), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L17), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L23), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L24), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L25), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L26), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L27), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L28), [29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L29), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L30), [31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L31)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

22: error NotWiseLendingSecurity();

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L22)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

19: error NotAllowedEntity();

20: error ChainlinkDead();

21: error TokenBlackListed();

22: error NotAllowedWiseSecurity();

23: error PositionLockedWiseSecurity();

24: error ResultsInBadDebt();

25: error NotEnoughCollateral();

26: error NotAllowedToBorrow();

27: error OpenBorrowPosition();

28: error NonVerifiedPool();

29: error NotOwner();

30: error LiquidationDenied();

31: error TooManyShares();

32: error NotRegistered();

33: error Blacklisted();

34: error SecuritySwapFailed();

35: error BaseRewardTooHigh();

36: error BaseRewardTooLow();

37: error BaseRewardFarmTooHigh();

38: error BaseRewardFarmTooLow();

39: error MaxFeeEthTooHigh();

40: error MaxFeeEthTooLow();

41: error MaxFeeFarmEthTooHigh();

42: error MaxFeeFarmEthTooLow();

43: error DepositAmountTooSmall();

```
*Github:* [[19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L19), [20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L20), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L21), [22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L22), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L23), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L24), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L25), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L26), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L27), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L28), [29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L29), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L30), [31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L31), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L32), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L33), [34](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L34), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L35), [36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L36), [37](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L37), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L38), [39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L39), [40](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L40), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L41), [42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L42), [43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L43)]


```solidity
File: contracts/WrapperHub/Declarations.sol

15: error AlreadySet();

16: error InvalidValue();

17: error InvalidAction();

18: error FailedInnerCall();

19: error InvalidToken();

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L15), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L17), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L18), [19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L19)]


</details>


<a name="NC-24"></a> 
### [NC-24] Duplicated `require()`/`revert()` checks should be refactored
Refactoring duplicate `require()`/`revert()` checks into a modifier or function can make the code more concise, readable and maintainable, and less likely to make errors or omissions when modifying the `require()` or `revert()`.

<details>
<summary>
There are <b>24</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

/// @audit duplicated on line 50
46:             revert NoValue();

/// @audit duplicated on line 58
54:             revert NoValue();

```
*Github:* [[46](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L46), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L54)]


```solidity
File: contracts/FeeManager/FeeManager.sol

/// @audit duplicated on line 321
198:             revert NotAllowed();

/// @audit duplicated on line 329
325:             revert NotAllowed();

/// @audit duplicated on line 362
358:             revert NotAllowed();

/// @audit duplicated on line 702
366:             revert NotAllowed();

/// @audit duplicated on line 450
486:         revert PoolNotPresent();

/// @audit duplicated on line 758
754:             revert PoolNotActive();

```
*Github:* [[198](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L198), [325](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L325), [358](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L358), [366](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L366), [486](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L486), [754](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L754)]


```solidity
File: contracts/MainHelper.sol

/// @audit duplicated on line 274
270:             revert InvalidLiquidator();

```
*Github:* [[270](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L270)]


```solidity
File: contracts/OwnableMaster.sol

/// @audit duplicated on line 77
61:             revert NoValue();

```
*Github:* [[61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L61)]


```solidity
File: contracts/PositionNFTs.sol

/// @audit duplicated on line 48
78:             revert NotPermitted();

```
*Github:* [[78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L78)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

/// @audit duplicated on line 505
212:             revert TooMuchValueLost();

```
*Github:* [[212](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L212)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

/// @audit duplicated on line 44
40:             revert AccessDenied();

```
*Github:* [[40](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L40)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

/// @audit duplicated on line 346
183:             revert WrongAddress();

```
*Github:* [[183](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L183)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit duplicated on line 540
509:             revert ZeroAmount();

/// @audit duplicated on line 655
616:             revert ZeroAmount();

```
*Github:* [[509](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L509), [616](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L616)]


```solidity
File: contracts/WiseCore.sol

/// @audit duplicated on line 307
286:         revert InvalidAction();

```
*Github:* [[286](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L286)]


```solidity
File: contracts/WiseLendingDeclaration.sol

/// @audit duplicated on line 124
120:             revert NoValue();

```
*Github:* [[120](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L120)]


```solidity
File: contracts/WiseLowLevelHelper.sol

/// @audit duplicated on line 355
33:             revert InvalidAction();

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L33)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

/// @audit duplicated on line 271
98:             revert OracleIsDead();

```
*Github:* [[98](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L98)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

/// @audit duplicated on line 287
249:                 revert OpenBorrowPosition();

```
*Github:* [[249](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L249)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

/// @audit duplicated on line 66
62:             revert NoValue();

```
*Github:* [[62](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L62)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

/// @audit duplicated on line 43
39:             revert InvalidAction();

```
*Github:* [[39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L39)]


```solidity
File: contracts/WrapperHub/Declarations.sol

/// @audit duplicated on line 62
58:             revert NoValue();

```
*Github:* [[58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L58)]


</details>


<a name="NC-25"></a> 
### [NC-25] Empty bytes check is missing
Passing empty bytes to a function can cause unexpected behavior, such as certain operations failing, producing incorrect results, or wasting gas. It is recommended to check that all byte parameters are not empty.

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

/// @audit missing empty check for `_userData`
59:     function receiveFlashLoan(
            IERC20[] memory _flashloanToken,
            uint256[] memory _flashloanAmounts,
            uint256[] memory _feeAmounts,
            bytes memory _userData
        )
            external
        {

```
*Github:* [[59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L59)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

/// @audit missing empty check for `_data`
160:     function onERC721Received(
             address _operator,
             address _from,
             uint256 _tokenId,
             bytes calldata _data
         )
             external
             returns (bytes4)
         {

```
*Github:* [[160](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L160)]



<a name="NC-26"></a> 
### [NC-26] Enable IR-based code generation
The IR-based code generator was introduced with an aim to not only allow code generation to be more transparent and auditable but also to enable more powerful optimization passes that span across functions. You can enable it on the command line using `--via-ir` or with the option `{"viaIR": true}`. This will take longer to compile, but you can just simple test it before deploying and if you got a better benchmark then you can add --via-ir to your deploy command More on: https://docs.soliditylang.org/en/v0.8.17/ir-breaking-changes.html

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/)]



<a name="NC-27"></a> 
### [NC-27] Enum values should be used instead of constant array indexes
Create a commented enum value to use instead of constant array indexes, this makes the code far easier to understand.

<details>
<summary>
There are <b>14</b> instances (click to show):
</summary>

```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

32:         tokens[0] = IERC20(flashAsset);

33:         amount[0] = _flashAmount;

81:         uint256 totalDebtBalancer = _flashloanAmounts[0]

82:             + _feeAmounts[0];

111:                 _flashloanAmounts[0] + initialAmount,

```
*Github:* [[32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L32), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L33), [81](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L81), [82](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L82), [111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L111)]


```solidity
File: contracts/WiseLending.sol

1374:         tokens[0] = _poolToken;

```
*Github:* [[1374](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1374)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

417:         secondsAgo[0] = TWAP_PERIOD;

418:         secondsAgo[1] = 0;

431:         int56 tickCumulativesDelta = tickCumulatives[1]

432:             - tickCumulatives[0];

```
*Github:* [[417](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L417), [418](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L418), [431](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L431), [432](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L432)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

287:             _token0Array[1],

288:             _token1Array[1]

316:                 _oracleAddress: _uniPools[0],

317:                 _partnerOracleAddress: _uniPools[1],

```
*Github:* [[287](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L287), [288](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L288), [316](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L316), [317](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L317)]


</details>


<a name="NC-28"></a> 
### [NC-28] Events are emitted without the sender information
When an action is triggered based on a user's action, not being able to filter based on who triggered the action makes event processing a lot more cumbersome. Including the `msg.sender` the events of these types of action will make events much more useful to end users, especially when `msg.sender` is not `tx.origin`.

<details>
<summary>
There are <b>56</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/FeeManager.sol

124:         emit PoolFeeChanged(

185:         emit IncentiveMasterProposed(

204:         emit ClaimedOwnershipIncentiveMaster(

222:         emit IncentiveIncreasedA(

240:         emit IncentiveIncreasedB(

276:         emit ClaimedIncentivesBulk(

342:         emit IncentiveOwnerAChanged(

379:         emit IncentiveOwnerBChanged(

402:         emit PoolTokenAdded(

428:         emit PoolTokenAdded(

504:         emit BadDebtIncreasedLiquidation(

526:         emit SetBadDebtPosition(

560:         emit SetBeneficial(

593:         emit RevokeBeneficial(

619:         emit ClaimedFeesWiseBulk(

677:         emit ClaimedFeesWise(

716:         emit ClaimedFeesBeneficial(

```
*Github:* [[124](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L124), [185](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L185), [204](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L204), [222](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L222), [240](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L240), [276](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L276), [342](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L342), [379](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L379), [402](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L402), [428](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L428), [504](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L504), [526](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L526), [560](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L560), [593](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L593), [619](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L619), [677](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L677), [716](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L716)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

96:         emit TotalBadDebtIncreased(

112:         emit TotalBadDebtDecreased(

```
*Github:* [[96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L96), [112](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L112)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

284:         emit RegistrationFarm(

```
*Github:* [[284](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L284)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

71:         emit MinDepositChange(

90:         emit FarmStatus(

131:         emit FarmEntry(

174:         emit FarmEntry(

246:         emit FarmExit(

266:         emit ManualPaybackShares(

295:         emit ManualWithdrawShares(

```
*Github:* [[71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L71), [90](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L90), [131](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L131), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L174), [246](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L246), [266](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L266), [295](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L295)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

46:         emit WithdrawLp(

103:         emit ExchangeRewardsForCompounding(

159:         emit ExchangeLpFeesForPendle(

287:         emit AddPendleMarket(

313:         emit UpdateRewardTokens(

329:         emit ChangeExchangeIncentive(

355:         emit ChangeMintFee(

421:         emit LockPendle(

444:         emit ClaimArb(

491:         emit WithdrawLock(

520:         emit IncreaseReservedForCompound(

593:         emit ClaimVoteRewards(

```
*Github:* [[46](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L46), [103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L103), [159](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L159), [287](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L287), [313](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L313), [329](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L329), [355](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L355), [421](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L421), [444](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L444), [491](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L491), [520](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L520), [593](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L593)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

169:         emit ERC721Received(

```
*Github:* [[169](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L169)]


```solidity
File: contracts/WiseCore.sol

156:         emit FundsDeposited(

```
*Github:* [[156](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L156)]


```solidity
File: contracts/WiseLending.sol

136:         emit FundsSolelyWithdrawn(

153:         emit FundsSolelyDeposited(

1450:         emit FundsReturned(

```
*Github:* [[136](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L136), [153](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L153), [1450](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1450)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

145:         emit IsDepositAave(

190:         emit IsDepositAave(

226:         emit IsWithdrawAave(

269:         emit IsWithdrawAave(

302:         emit IsWithdrawAave(

342:         emit IsWithdrawAave(

378:         emit IsBorrowAave(

421:         emit IsBorrowAave(

470:         emit IsPaybackAave(

544:         emit IsPaybackAave(

603:         emit IsPaybackAave(

688:         emit SetAaveTokenAddress(

```
*Github:* [[145](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L145), [190](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L190), [226](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L226), [269](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L269), [302](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L302), [342](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L342), [378](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L378), [421](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L421), [470](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L470), [544](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L544), [603](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L603), [688](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L688)]


</details>


<a name="NC-29"></a> 
### [NC-29] Events may be emitted out of order due to reentrancy
Ensure that events follow the best practice of check-effects-interaction, and are emitted before external calls.

<details>
<summary>
There are <b>23</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/FeeManager.sol

/// @audit `.setPoolFee(...)` is called on line 119
124:         emit PoolFeeChanged(

/// @audit `.setPoolFee(...)` is called on line 151
156:             emit PoolFeeChanged(

/// @audit `.getPositionLendingShares(...)` is called on line 635
/// @audit `.withdrawExactShares(...)` is called on line 644
/// @audit `.withdraw(...)` is called on line 656
677:         emit ClaimedFeesWise(

/// @audit `.getTotalDepositShares(...)` is called on line 753
/// @audit `.getTotalDepositShares(...)` is called on line 757
/// @audit `.paybackAmount(...)` is called on line 761
/// @audit `.corePaybackFeeManager(...)` is called on line 766
801:         emit PayedBackBadDebt(

/// @audit `.getTotalDepositShares(...)` is called on line 832
/// @audit `.paybackAmount(...)` is called on line 836
/// @audit `.corePaybackFeeManager(...)` is called on line 841
852:         emit PayedBackBadDebtFree(

```
*Github:* [[124](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L124), [156](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L156), [677](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L677), [801](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L801), [852](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L852)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

/// @audit `.overallETHBorrowHeartbeat(...)` is called on line 139
/// @audit `.overallETHCollateralsBare(...)` is called on line 143
161:             emit UpdateBadDebtPosition(

/// @audit `.overallETHBorrowHeartbeat(...)` is called on line 139
/// @audit `.overallETHCollateralsBare(...)` is called on line 143
183:             emit UpdateBadDebtPosition(

```
*Github:* [[161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L161), [183](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L183)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

/// @audit `.setRegistrationIsolationPool(...)` is called on line 279
284:         emit RegistrationFarm(

```
*Github:* [[284](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L284)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

/// @audit `.burnKey(...)` is called on line 230
246:         emit FarmExit(

```
*Github:* [[246](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L246)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

/// @audit `.addCompoundRewards(...)` is called on line 93
103:         emit ExchangeRewardsForCompounding(

/// @audit `.withdrawExactShares(...)` is called on line 149
159:         emit ExchangeLpFeesForPendle(

/// @audit `.deploy(...)` is called on line 224
287:         emit AddPendleMarket(

/// @audit `.increaseLockPosition(...)` is called on line 406
421:         emit LockPendle(

/// @audit `.claim(...)` is called on line 438
444:         emit ClaimArb(

/// @audit `.withdraw(...)` is called on line 481
491:         emit WithdrawLock(

/// @audit `.claimRetail(...)` is called on line 587
593:         emit ClaimVoteRewards(

```
*Github:* [[103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L103), [159](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L159), [287](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L287), [421](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L421), [444](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L444), [491](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L491), [593](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L593)]


```solidity
File: contracts/WiseCore.sol

/// @audit `.checksWithdraw(...)` is called on line 63
77:             emit FundsWithdrawnOnBehalf(

/// @audit `.checksWithdraw(...)` is called on line 63
86:             emit FundsWithdrawn(

/// @audit `.checksBorrow(...)` is called on line 368
398:             emit FundsBorrowedOnBehalf(

/// @audit `.checksBorrow(...)` is called on line 368
407:             emit FundsBorrowed(

```
*Github:* [[77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L77), [86](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L86), [398](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L398), [407](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L407)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

/// @audit `.paybackExactAmount(...)` is called on line 464
470:         emit IsPaybackAave(

/// @audit `.getPositionBorrowShares(...)` is called on line 498
/// @audit `.syncManually(...)` is called on line 503
/// @audit `.paybackAmount(...)` is called on line 507
/// @audit `.paybackExactAmount(...)` is called on line 531
544:         emit IsPaybackAave(

/// @audit `.syncManually(...)` is called on line 574
/// @audit `.paybackAmount(...)` is called on line 578
/// @audit `.supply(...)` is called on line 590
/// @audit `.paybackExactShares(...)` is called on line 597
603:         emit IsPaybackAave(

```
*Github:* [[470](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L470), [544](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L544), [603](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L603)]


</details>


<a name="NC-30"></a> 
### [NC-30] Execution at deadlines should be allowed
The condition may be wrong in these cases, as when `block.timestamp` is equal to the compared `>` or `<` variable these blocks will not be executed.

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

475:         if (_getExpiry() > block.timestamp) {

```
*Github:* [[475](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L475)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

580:             upd = block.timestamp < upd

```
*Github:* [[580](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L580)]



<a name="NC-31"></a> 
### [NC-31] External call recipient can consume all remaining gas
There is no limit specified on the amount of gas used, so the recipient can use up all of the remaining gas (`gasleft()`), causing it to revert. Therefore, when calling an external contract, it is necessary to specify a limited amount of gas to forward.

*There are <b>5</b> instances of this issue:*
```solidity
File: contracts/TransferHub/CallOptionalReturn.sol

22:         ) = token.call(

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/CallOptionalReturn.sol#L22)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

27:         ) = payable(_recipient).call{

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L27)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

78:         (bool success, ) = _tokenAggregator.call(

```
*Github:* [[78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L78)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

208:         ) = curvePool.call{value: 0} (

```
*Github:* [[208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L208)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

208:         (bool success, ) = payable(_recipient).call{

```
*Github:* [[208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L208)]



<a name="NC-32"></a> 
### [NC-32]  Function ordering does not follow the Solidity Style Guide
According to the [solidity style guide](https://docs.soliditylang.org/en/v0.8.17/style-guide.html#order-of-functions), functions should be laid out in the following order: `constructor()`, `receive()`, `fallback()`, `external`, `public`, `internal`, `private`, but the cases below do not follow this pattern

<details>
<summary>
There are <b>303</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

/// @audit public function `latestAnswer` came earlier from this external function
47:     function decimals()

/// @audit public function `latestAnswer` came earlier from this external function
55:     function latestRoundData()

/// @audit public function `latestAnswer` came earlier from this external function
78:     function getRoundData(

```
*Github:* [[47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L47), [55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L55), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L78)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

/// @audit public function `latestAnswer` came earlier from this external function
/// @audit internal function `_getLpToAssetRateWrapper` came earlier from this external function
139:     function decimals()

/// @audit public function `latestAnswer` came earlier from this external function
/// @audit internal function `_getLpToAssetRateWrapper` came earlier from this external function
151:     function latestRoundData()

```
*Github:* [[139](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L139), [151](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L151)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

/// @audit public function `latestAnswer` came earlier from this external function
134:     function decimals()

```
*Github:* [[134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L134)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

/// @audit public function `latestAnswer` came earlier from this external function
113:     function decimals()

```
*Github:* [[113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L113)]


```solidity
File: contracts/FeeManager/FeeManager.sol

/// @audit public function `claimIncentives` came earlier from this external function
315:     function changeIncentiveUSDA(

/// @audit public function `claimIncentives` came earlier from this external function
352:     function changeIncentiveUSDB(

/// @audit public function `claimIncentives` came earlier from this external function
390:     function addPoolTokenAddress(

/// @audit public function `claimIncentives` came earlier from this external function
412:     function addPoolTokenAddressManual(

/// @audit public function `claimIncentives` came earlier from this external function
438:     function removePoolTokenManual(

/// @audit public function `claimIncentives` came earlier from this external function
494:     function increaseTotalBadDebtLiquidation(

/// @audit public function `claimIncentives` came earlier from this external function
514:     function setBadDebtUserLiquidation(

/// @audit public function `claimIncentives` came earlier from this external function
538:     function setBeneficial(

/// @audit public function `claimIncentives` came earlier from this external function
571:     function revokeBeneficial(

/// @audit public function `claimIncentives` came earlier from this external function
603:     function claimWiseFeesBulk()

/// @audit public function `claimIncentives` came earlier from this external function
/// @audit public function `claimWiseFees` came earlier from this external function
689:     function claimFeesBeneficial(

/// @audit public function `claimIncentives` came earlier from this external function
/// @audit public function `claimWiseFees` came earlier from this external function
730:     function paybackBadDebtForToken(

/// @audit public function `claimIncentives` came earlier from this external function
/// @audit public function `claimWiseFees` came earlier from this external function
816:     function paybackBadDebtNoReward(

/// @audit public function `claimIncentives` came earlier from this external function
/// @audit public function `claimWiseFees` came earlier from this external function
/// @audit public function `getPoolTokenAddressesLength` came earlier from this external function
884:     function getPoolTokenAdressesByIndex(

/// @audit public function `claimIncentives` came earlier from this external function
/// @audit public function `claimWiseFees` came earlier from this external function
/// @audit public function `getPoolTokenAddressesLength` came earlier from this external function
898:     function syncAllPools()

```
*Github:* [[315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L315), [352](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L352), [390](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L390), [412](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L412), [438](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L438), [494](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L494), [514](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L514), [538](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L538), [571](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L571), [603](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L603), [689](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L689), [730](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L730), [816](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L816), [884](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L884), [898](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L898)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

/// @audit internal function `_prepareBorrows` came earlier from this public function
/// @audit internal function `_prepareCollaterals` came earlier from this public function
/// @audit internal function `_setBadDebtPosition` came earlier from this public function
/// @audit internal function `_increaseTotalBadDebt` came earlier from this public function
/// @audit internal function `_decreaseTotalBadDebt` came earlier from this public function
/// @audit internal function `_eraseBadDebtUser` came earlier from this public function
/// @audit internal function `_updateUserBadDebt` came earlier from this public function
/// @audit internal function `_increaseFeeTokens` came earlier from this public function
/// @audit internal function `_decreaseFeeTokens` came earlier from this public function
/// @audit internal function `_setAllowedTokens` came earlier from this public function
/// @audit internal function `_setAaveFlag` came earlier from this public function
244:     function getReceivingToken(

/// @audit internal function `_prepareBorrows` came earlier from this public function
/// @audit internal function `_prepareCollaterals` came earlier from this public function
/// @audit internal function `_setBadDebtPosition` came earlier from this public function
/// @audit internal function `_increaseTotalBadDebt` came earlier from this public function
/// @audit internal function `_decreaseTotalBadDebt` came earlier from this public function
/// @audit internal function `_eraseBadDebtUser` came earlier from this public function
/// @audit internal function `_updateUserBadDebt` came earlier from this public function
/// @audit internal function `_increaseFeeTokens` came earlier from this public function
/// @audit internal function `_decreaseFeeTokens` came earlier from this public function
/// @audit internal function `_setAllowedTokens` came earlier from this public function
/// @audit internal function `_setAaveFlag` came earlier from this public function
270:     function updatePositionCurrentBadDebt(

```
*Github:* [[244](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L244), [270](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L270)]


```solidity
File: contracts/MainHelper.sol

/// @audit private function `_calculateShares` came earlier from this public function
55:     function calculateBorrowShares(

/// @audit public function `calculateLendingShares` came earlier from this external function
/// @audit private function `_calculateShares` came earlier from this external function
/// @audit public function `calculateBorrowShares` came earlier from this external function
79:     function cashoutAmount(

/// @audit private function `_calculateShares` came earlier from this internal function
93:     function _cashoutAmount(

/// @audit private function `_calculateShares` came earlier from this public function
/// @audit internal function `_cashoutAmount` came earlier from this public function
114:     function paybackAmount(

/// @audit private function `_calculateShares` came earlier from this internal function
135:     function _preparationsWithdraw(

/// @audit private function `_calculateShares` came earlier from this internal function
/// @audit private function `_getValueUtilization` came earlier from this internal function
/// @audit private function `_updateUtilization` came earlier from this internal function
/// @audit private function `_checkCleanUp` came earlier from this internal function
217:     function _onlyIsolationPool(

/// @audit private function `_calculateShares` came earlier from this internal function
/// @audit private function `_getValueUtilization` came earlier from this internal function
/// @audit private function `_updateUtilization` came earlier from this internal function
/// @audit private function `_checkCleanUp` came earlier from this internal function
232:     function _validateIsolationPoolLiquidation(

/// @audit private function `_calculateShares` came earlier from this internal function
/// @audit private function `_getValueUtilization` came earlier from this internal function
/// @audit private function `_updateUtilization` came earlier from this internal function
/// @audit private function `_checkCleanUp` came earlier from this internal function
258:     function _checkLiquidatorNft(

/// @audit private function `_calculateShares` came earlier from this internal function
/// @audit private function `_getValueUtilization` came earlier from this internal function
/// @audit private function `_updateUtilization` came earlier from this internal function
/// @audit private function `_checkCleanUp` came earlier from this internal function
278:     function _getBalance(

/// @audit private function `_calculateShares` came earlier from this internal function
/// @audit private function `_getValueUtilization` came earlier from this internal function
/// @audit private function `_updateUtilization` came earlier from this internal function
/// @audit private function `_checkCleanUp` came earlier from this internal function
298:     function _cleanUp(

/// @audit private function `_calculateShares` came earlier from this internal function
/// @audit private function `_getValueUtilization` came earlier from this internal function
/// @audit private function `_updateUtilization` came earlier from this internal function
/// @audit private function `_checkCleanUp` came earlier from this internal function
/// @audit private function `_getAllowedDifference` came earlier from this internal function
372:     function _preparePool(

/// @audit private function `_calculateShares` came earlier from this internal function
/// @audit private function `_getValueUtilization` came earlier from this internal function
/// @audit private function `_updateUtilization` came earlier from this internal function
/// @audit private function `_checkCleanUp` came earlier from this internal function
/// @audit private function `_getAllowedDifference` came earlier from this internal function
391:     function _preparationTokens(

/// @audit private function `_calculateShares` came earlier from this internal function
/// @audit private function `_getValueUtilization` came earlier from this internal function
/// @audit private function `_updateUtilization` came earlier from this internal function
/// @audit private function `_checkCleanUp` came earlier from this internal function
/// @audit private function `_getAllowedDifference` came earlier from this internal function
/// @audit private function `_prepareTokens` came earlier from this internal function
454:     function _curveSecurityChecks(

/// @audit private function `_calculateShares` came earlier from this internal function
/// @audit private function `_getValueUtilization` came earlier from this internal function
/// @audit private function `_updateUtilization` came earlier from this internal function
/// @audit private function `_checkCleanUp` came earlier from this internal function
/// @audit private function `_getAllowedDifference` came earlier from this internal function
/// @audit private function `_prepareTokens` came earlier from this internal function
/// @audit private function `_whileLoopCurveSecurity` came earlier from this internal function
/// @audit private function `_updatePseudoTotalAmounts` came earlier from this internal function
584:     function _increasePositionLendingDeposit(

/// @audit private function `_calculateShares` came earlier from this internal function
/// @audit private function `_getValueUtilization` came earlier from this internal function
/// @audit private function `_updateUtilization` came earlier from this internal function
/// @audit private function `_checkCleanUp` came earlier from this internal function
/// @audit private function `_getAllowedDifference` came earlier from this internal function
/// @audit private function `_prepareTokens` came earlier from this internal function
/// @audit private function `_whileLoopCurveSecurity` came earlier from this internal function
/// @audit private function `_updatePseudoTotalAmounts` came earlier from this internal function
599:     function _decreaseLendingShares(

/// @audit private function `_calculateShares` came earlier from this internal function
/// @audit private function `_getValueUtilization` came earlier from this internal function
/// @audit private function `_updateUtilization` came earlier from this internal function
/// @audit private function `_checkCleanUp` came earlier from this internal function
/// @audit private function `_getAllowedDifference` came earlier from this internal function
/// @audit private function `_prepareTokens` came earlier from this internal function
/// @audit private function `_whileLoopCurveSecurity` came earlier from this internal function
/// @audit private function `_updatePseudoTotalAmounts` came earlier from this internal function
614:     function _addPositionTokenData(

/// @audit private function `_calculateShares` came earlier from this internal function
/// @audit private function `_getValueUtilization` came earlier from this internal function
/// @audit private function `_updateUtilization` came earlier from this internal function
/// @audit private function `_checkCleanUp` came earlier from this internal function
/// @audit private function `_getAllowedDifference` came earlier from this internal function
/// @audit private function `_prepareTokens` came earlier from this internal function
/// @audit private function `_whileLoopCurveSecurity` came earlier from this internal function
/// @audit private function `_updatePseudoTotalAmounts` came earlier from this internal function
/// @audit private function `_getHash` came earlier from this internal function
/// @audit private function `_removePositionData` came earlier from this internal function
/// @audit private function `_deleteLastPositionLendingData` came earlier from this internal function
752:     function _corePayback(

/// @audit public function `calculateLendingShares` came earlier from this external function
/// @audit private function `_calculateShares` came earlier from this external function
/// @audit public function `calculateBorrowShares` came earlier from this external function
/// @audit internal function `_cashoutAmount` came earlier from this external function
/// @audit public function `paybackAmount` came earlier from this external function
/// @audit internal function `_preparationsWithdraw` came earlier from this external function
/// @audit private function `_getValueUtilization` came earlier from this external function
/// @audit private function `_updateUtilization` came earlier from this external function
/// @audit private function `_checkCleanUp` came earlier from this external function
/// @audit internal function `_onlyIsolationPool` came earlier from this external function
/// @audit internal function `_validateIsolationPoolLiquidation` came earlier from this external function
/// @audit internal function `_checkLiquidatorNft` came earlier from this external function
/// @audit internal function `_getBalance` came earlier from this external function
/// @audit internal function `_cleanUp` came earlier from this external function
/// @audit private function `_getAllowedDifference` came earlier from this external function
/// @audit internal function `_preparePool` came earlier from this external function
/// @audit internal function `_preparationTokens` came earlier from this external function
/// @audit private function `_prepareTokens` came earlier from this external function
/// @audit internal function `_curveSecurityChecks` came earlier from this external function
/// @audit private function `_whileLoopCurveSecurity` came earlier from this external function
/// @audit private function `_updatePseudoTotalAmounts` came earlier from this external function
/// @audit internal function `_increasePositionLendingDeposit` came earlier from this external function
/// @audit internal function `_decreaseLendingShares` came earlier from this external function
/// @audit internal function `_addPositionTokenData` came earlier from this external function
/// @audit private function `_getHash` came earlier from this external function
/// @audit private function `_removePositionData` came earlier from this external function
/// @audit private function `_deleteLastPositionLendingData` came earlier from this external function
/// @audit internal function `_corePayback` came earlier from this external function
/// @audit private function `_deleteLastPositionBorrowData` came earlier from this external function
814:     function isUncollateralized(

/// @audit private function `_calculateShares` came earlier from this internal function
/// @audit private function `_getValueUtilization` came earlier from this internal function
/// @audit private function `_updateUtilization` came earlier from this internal function
/// @audit private function `_checkCleanUp` came earlier from this internal function
/// @audit private function `_getAllowedDifference` came earlier from this internal function
/// @audit private function `_prepareTokens` came earlier from this internal function
/// @audit private function `_whileLoopCurveSecurity` came earlier from this internal function
/// @audit private function `_updatePseudoTotalAmounts` came earlier from this internal function
/// @audit private function `_getHash` came earlier from this internal function
/// @audit private function `_removePositionData` came earlier from this internal function
/// @audit private function `_deleteLastPositionLendingData` came earlier from this internal function
/// @audit private function `_deleteLastPositionBorrowData` came earlier from this internal function
/// @audit private function `_checkLendingDataEmpty` came earlier from this internal function
851:     function _calculateNewBorrowRate(

/// @audit private function `_calculateShares` came earlier from this internal function
/// @audit private function `_getValueUtilization` came earlier from this internal function
/// @audit private function `_updateUtilization` came earlier from this internal function
/// @audit private function `_checkCleanUp` came earlier from this internal function
/// @audit private function `_getAllowedDifference` came earlier from this internal function
/// @audit private function `_prepareTokens` came earlier from this internal function
/// @audit private function `_whileLoopCurveSecurity` came earlier from this internal function
/// @audit private function `_updatePseudoTotalAmounts` came earlier from this internal function
/// @audit private function `_getHash` came earlier from this internal function
/// @audit private function `_removePositionData` came earlier from this internal function
/// @audit private function `_deleteLastPositionLendingData` came earlier from this internal function
/// @audit private function `_deleteLastPositionBorrowData` came earlier from this internal function
/// @audit private function `_checkLendingDataEmpty` came earlier from this internal function
877:     function _newBorrowRate(

/// @audit private function `_calculateShares` came earlier from this internal function
/// @audit private function `_getValueUtilization` came earlier from this internal function
/// @audit private function `_updateUtilization` came earlier from this internal function
/// @audit private function `_checkCleanUp` came earlier from this internal function
/// @audit private function `_getAllowedDifference` came earlier from this internal function
/// @audit private function `_prepareTokens` came earlier from this internal function
/// @audit private function `_whileLoopCurveSecurity` came earlier from this internal function
/// @audit private function `_updatePseudoTotalAmounts` came earlier from this internal function
/// @audit private function `_getHash` came earlier from this internal function
/// @audit private function `_removePositionData` came earlier from this internal function
/// @audit private function `_deleteLastPositionLendingData` came earlier from this internal function
/// @audit private function `_deleteLastPositionBorrowData` came earlier from this internal function
/// @audit private function `_checkLendingDataEmpty` came earlier from this internal function
896:     function _aboveThreshold(

/// @audit private function `_calculateShares` came earlier from this internal function
/// @audit private function `_getValueUtilization` came earlier from this internal function
/// @audit private function `_updateUtilization` came earlier from this internal function
/// @audit private function `_checkCleanUp` came earlier from this internal function
/// @audit private function `_getAllowedDifference` came earlier from this internal function
/// @audit private function `_prepareTokens` came earlier from this internal function
/// @audit private function `_whileLoopCurveSecurity` came earlier from this internal function
/// @audit private function `_updatePseudoTotalAmounts` came earlier from this internal function
/// @audit private function `_getHash` came earlier from this internal function
/// @audit private function `_removePositionData` came earlier from this internal function
/// @audit private function `_deleteLastPositionLendingData` came earlier from this internal function
/// @audit private function `_deleteLastPositionBorrowData` came earlier from this internal function
/// @audit private function `_checkLendingDataEmpty` came earlier from this internal function
911:     function _scalingAlgorithm(

/// @audit private function `_calculateShares` came earlier from this internal function
/// @audit private function `_getValueUtilization` came earlier from this internal function
/// @audit private function `_updateUtilization` came earlier from this internal function
/// @audit private function `_checkCleanUp` came earlier from this internal function
/// @audit private function `_getAllowedDifference` came earlier from this internal function
/// @audit private function `_prepareTokens` came earlier from this internal function
/// @audit private function `_whileLoopCurveSecurity` came earlier from this internal function
/// @audit private function `_updatePseudoTotalAmounts` came earlier from this internal function
/// @audit private function `_getHash` came earlier from this internal function
/// @audit private function `_removePositionData` came earlier from this internal function
/// @audit private function `_deleteLastPositionLendingData` came earlier from this internal function
/// @audit private function `_deleteLastPositionBorrowData` came earlier from this internal function
/// @audit private function `_checkLendingDataEmpty` came earlier from this internal function
/// @audit private function `_newMaxPoolShares` came earlier from this internal function
/// @audit private function `_saveUp` came earlier from this internal function
/// @audit private function `_resonanceOutcome` came earlier from this internal function
/// @audit private function `_resetResonanceFactor` came earlier from this internal function
/// @audit private function `_revertDirectionState` came earlier from this internal function
/// @audit private function `_updateResonanceFactor` came earlier from this internal function
/// @audit private function `_reversedResonanceFactor` came earlier from this internal function
/// @audit private function `_changingResonanceFactor` came earlier from this internal function
/// @audit private function `_increaseResonanceFactor` came earlier from this internal function
/// @audit private function `_decreaseResonanceFactor` came earlier from this internal function
1155:     function _removeEmptyLendingData(

/// @audit private function `_calculateShares` came earlier from this internal function
/// @audit private function `_getValueUtilization` came earlier from this internal function
/// @audit private function `_updateUtilization` came earlier from this internal function
/// @audit private function `_checkCleanUp` came earlier from this internal function
/// @audit private function `_getAllowedDifference` came earlier from this internal function
/// @audit private function `_prepareTokens` came earlier from this internal function
/// @audit private function `_whileLoopCurveSecurity` came earlier from this internal function
/// @audit private function `_updatePseudoTotalAmounts` came earlier from this internal function
/// @audit private function `_getHash` came earlier from this internal function
/// @audit private function `_removePositionData` came earlier from this internal function
/// @audit private function `_deleteLastPositionLendingData` came earlier from this internal function
/// @audit private function `_deleteLastPositionBorrowData` came earlier from this internal function
/// @audit private function `_checkLendingDataEmpty` came earlier from this internal function
/// @audit private function `_newMaxPoolShares` came earlier from this internal function
/// @audit private function `_saveUp` came earlier from this internal function
/// @audit private function `_resonanceOutcome` came earlier from this internal function
/// @audit private function `_resetResonanceFactor` came earlier from this internal function
/// @audit private function `_revertDirectionState` came earlier from this internal function
/// @audit private function `_updateResonanceFactor` came earlier from this internal function
/// @audit private function `_reversedResonanceFactor` came earlier from this internal function
/// @audit private function `_changingResonanceFactor` came earlier from this internal function
/// @audit private function `_increaseResonanceFactor` came earlier from this internal function
/// @audit private function `_decreaseResonanceFactor` came earlier from this internal function
1184:     function _updatePoolStorage(

```
*Github:* [[55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L55), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L79), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L93), [114](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L114), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L135), [217](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L217), [232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L232), [258](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L258), [278](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L278), [298](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L298), [372](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L372), [391](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L391), [454](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L454), [584](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L584), [599](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L599), [614](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L614), [752](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L752), [814](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L814), [851](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L851), [877](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L877), [896](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L896), [911](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L911), [1155](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1155), [1184](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1184)]


```solidity
File: contracts/OwnableMaster.sol

/// @audit a function was seen before constructor
/// @audit a function was seen before constructor
57:     constructor(

/// @audit private function `_onlyMaster` came earlier from this external function
/// @audit private function `_onlyProposed` came earlier from this external function
70:     function proposeOwner(

/// @audit private function `_onlyMaster` came earlier from this external function
/// @audit private function `_onlyProposed` came earlier from this external function
92:     function claimOwnership()

/// @audit private function `_onlyMaster` came earlier from this external function
/// @audit private function `_onlyProposed` came earlier from this external function
103:     function renounceOwnership()

```
*Github:* [[57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L57), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L70), [92](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L92), [103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L103)]


```solidity
File: contracts/PositionNFTs.sol

/// @audit internal function `_reservePositionForUser` came earlier from this public function
130:     function getNextExpectedId()

/// @audit internal function `_reservePositionForUser` came earlier from this external function
/// @audit public function `getNextExpectedId` came earlier from this external function
142:     function mintPosition()

/// @audit internal function `_reservePositionForUser` came earlier from this external function
/// @audit public function `getNextExpectedId` came earlier from this external function
154:     function getApprovedSoft(

/// @audit internal function `_reservePositionForUser` came earlier from this external function
/// @audit public function `getNextExpectedId` came earlier from this external function
174:     function mintPositionForUser(

/// @audit internal function `_reservePositionForUser` came earlier from this external function
/// @audit public function `getNextExpectedId` came earlier from this external function
/// @audit internal function `_mintPositionForUser` came earlier from this external function
222:     function isOwner(

/// @audit internal function `_reservePositionForUser` came earlier from this external function
/// @audit public function `getNextExpectedId` came earlier from this external function
/// @audit internal function `_mintPositionForUser` came earlier from this external function
245:     function approveMint(

/// @audit internal function `_reservePositionForUser` came earlier from this external function
/// @audit public function `getNextExpectedId` came earlier from this external function
/// @audit internal function `_mintPositionForUser` came earlier from this external function
271:     function walletOfOwner(

/// @audit internal function `_reservePositionForUser` came earlier from this external function
/// @audit public function `getNextExpectedId` came earlier from this external function
/// @audit internal function `_mintPositionForUser` came earlier from this external function
319:     function setBaseURI(

/// @audit internal function `_reservePositionForUser` came earlier from this external function
/// @audit public function `getNextExpectedId` came earlier from this external function
/// @audit internal function `_mintPositionForUser` came earlier from this external function
328:     function setBaseExtension(

/// @audit internal function `_reservePositionForUser` came earlier from this public function
/// @audit internal function `_mintPositionForUser` came earlier from this public function
340:     function tokenURI(

```
*Github:* [[130](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L130), [142](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L142), [154](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L154), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L174), [222](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L222), [245](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L245), [271](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L271), [319](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L319), [328](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L328), [340](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L340)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

/// @audit internal function `_executeBalancerFlashLoan` came earlier from this external function
59:     function receiveFlashLoan(

/// @audit private function `_logicClosePosition` came earlier from this internal function
232:     function _getEthBack(

/// @audit private function `_logicClosePosition` came earlier from this internal function
264:     function _getTokensUniV3(

/// @audit private function `_logicClosePosition` came earlier from this internal function
293:     function _swapStETHintoETH(

/// @audit private function `_logicClosePosition` came earlier from this internal function
/// @audit private function `_withdrawPendleLPs` came earlier from this internal function
326:     function _paybackExactShares(

/// @audit private function `_logicClosePosition` came earlier from this internal function
/// @audit private function `_withdrawPendleLPs` came earlier from this internal function
/// @audit private function `_closingRouteToken` came earlier from this internal function
383:     function _closingRouteETH(

/// @audit private function `_logicClosePosition` came earlier from this internal function
/// @audit private function `_withdrawPendleLPs` came earlier from this internal function
/// @audit private function `_closingRouteToken` came earlier from this internal function
414:     function _logicOpenPosition(

/// @audit private function `_logicClosePosition` came earlier from this internal function
/// @audit private function `_withdrawPendleLPs` came earlier from this internal function
/// @audit private function `_closingRouteToken` came earlier from this internal function
531:     function _borrowExactAmount(

/// @audit private function `_logicClosePosition` came earlier from this internal function
/// @audit private function `_withdrawPendleLPs` came earlier from this internal function
/// @audit private function `_closingRouteToken` came earlier from this internal function
560:     function _coreLiquidation(

```
*Github:* [[59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L59), [232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L232), [264](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L264), [293](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L293), [326](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L326), [383](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L383), [414](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L414), [531](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L531), [560](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L560)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

/// @audit private function `_updatePools` came earlier from this internal function
/// @audit private function `_checkReentrancy` came earlier from this internal function
57:     function _getPositionBorrowShares(

/// @audit private function `_updatePools` came earlier from this internal function
/// @audit private function `_checkReentrancy` came earlier from this internal function
75:     function _getPositionBorrowSharesAave(

/// @audit private function `_updatePools` came earlier from this internal function
/// @audit private function `_checkReentrancy` came earlier from this internal function
92:     function _getPositionBorrowTokenAmount(

/// @audit private function `_updatePools` came earlier from this internal function
/// @audit private function `_checkReentrancy` came earlier from this internal function
111:     function _getPositionBorrowTokenAmountAave(

/// @audit private function `_updatePools` came earlier from this internal function
/// @audit private function `_checkReentrancy` came earlier from this internal function
136:     function _getPositionLendingShares(

/// @audit private function `_updatePools` came earlier from this internal function
/// @audit private function `_checkReentrancy` came earlier from this internal function
153:     function _getPostionCollateralTokenAmount(

/// @audit private function `_updatePools` came earlier from this public function
/// @audit private function `_checkReentrancy` came earlier from this public function
/// @audit internal function `_getPositionBorrowShares` came earlier from this public function
/// @audit internal function `_getPositionBorrowSharesAave` came earlier from this public function
/// @audit internal function `_getPositionBorrowTokenAmount` came earlier from this public function
/// @audit internal function `_getPositionBorrowTokenAmountAave` came earlier from this public function
/// @audit internal function `_getPositionLendingShares` came earlier from this public function
/// @audit internal function `_getPostionCollateralTokenAmount` came earlier from this public function
174:     function getPositionBorrowETH(

/// @audit private function `_updatePools` came earlier from this public function
/// @audit private function `_checkReentrancy` came earlier from this public function
/// @audit internal function `_getPositionBorrowShares` came earlier from this public function
/// @audit internal function `_getPositionBorrowSharesAave` came earlier from this public function
/// @audit internal function `_getPositionBorrowTokenAmount` came earlier from this public function
/// @audit internal function `_getPositionBorrowTokenAmountAave` came earlier from this public function
/// @audit internal function `_getPositionLendingShares` came earlier from this public function
/// @audit internal function `_getPostionCollateralTokenAmount` came earlier from this public function
229:     function getTotalWeightedCollateralETH(

/// @audit private function `_updatePools` came earlier from this internal function
/// @audit private function `_checkReentrancy` came earlier from this internal function
244:     function _getTokensInETH(

/// @audit private function `_updatePools` came earlier from this internal function
/// @audit private function `_checkReentrancy` came earlier from this internal function
258:     function _getEthInTokens(

/// @audit private function `_updatePools` came earlier from this public function
/// @audit private function `_checkReentrancy` came earlier from this public function
/// @audit internal function `_getPositionBorrowShares` came earlier from this public function
/// @audit internal function `_getPositionBorrowSharesAave` came earlier from this public function
/// @audit internal function `_getPositionBorrowTokenAmount` came earlier from this public function
/// @audit internal function `_getPositionBorrowTokenAmountAave` came earlier from this public function
/// @audit internal function `_getPositionLendingShares` came earlier from this public function
/// @audit internal function `_getPostionCollateralTokenAmount` came earlier from this public function
/// @audit internal function `_getTokensInETH` came earlier from this public function
/// @audit internal function `_getEthInTokens` came earlier from this public function
272:     function getLeverageAmount(

/// @audit private function `_updatePools` came earlier from this internal function
/// @audit private function `_checkReentrancy` came earlier from this internal function
289:     function _getApproxNetAPY(

/// @audit private function `_updatePools` came earlier from this internal function
/// @audit private function `_checkReentrancy` came earlier from this internal function
344:     function _getNewBorrowRate(

/// @audit private function `_updatePools` came earlier from this internal function
/// @audit private function `_checkReentrancy` came earlier from this internal function
389:     function _checkDebtRatio(

/// @audit private function `_updatePools` came earlier from this internal function
/// @audit private function `_checkReentrancy` came earlier from this internal function
416:     function _notBelowMinDepositAmount(

```
*Github:* [[57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L57), [75](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L75), [92](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L92), [111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L111), [136](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L136), [153](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L153), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L174), [229](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L229), [244](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L244), [258](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L258), [272](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L272), [289](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L289), [344](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L344), [389](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L389), [416](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L416)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

/// @audit receive() was seen before constructor
31:     constructor(

/// @audit internal function `_getWiseLendingNFT` came earlier from this external function
210:     function exitFarm(

/// @audit internal function `_getWiseLendingNFT` came earlier from this external function
254:     function manuallyPaybackShares(

/// @audit internal function `_getWiseLendingNFT` came earlier from this external function
274:     function manuallyWithdrawShares(

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L31), [210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L210), [254](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L254), [274](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L274)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

/// @audit public function `overWriteIndex` came earlier from this external function
544:     function overWriteIndexAll(

/// @audit public function `overWriteIndex` came earlier from this external function
566:     function overWriteAmounts(

/// @audit public function `overWriteIndex` came earlier from this external function
581:     function claimVoteRewards(

/// @audit public function `overWriteIndex` came earlier from this external function
600:     function forwardETH(

/// @audit public function `overWriteIndex` came earlier from this external function
612:     function vote(

```
*Github:* [[544](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L544), [566](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L566), [581](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L581), [600](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L600), [612](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L612)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

/// @audit private function `_onlyArbitrum` came earlier from this internal function
/// @audit private function `_onlyChildContract` came earlier from this internal function
256:     function _syncSupply(

/// @audit private function `_onlyArbitrum` came earlier from this public function
/// @audit private function `_onlyChildContract` came earlier from this public function
/// @audit internal function `_syncSupply` came earlier from this public function
272:     function syncAllSupply()

```
*Github:* [[256](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L256), [272](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L272)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

/// @audit private function `_getPositionData` came earlier from this internal function
73:     function _getAmountToSend(

/// @audit internal function `_findIndex` came earlier from this external function
/// @audit internal function `_calcExpiry` came earlier from this external function
/// @audit internal function `_getExpiry` came earlier from this external function
/// @audit internal function `_getLockAmount` came earlier from this external function
/// @audit private function `_getPositionData` came earlier from this external function
/// @audit internal function `_getAmountToSend` came earlier from this external function
95:     function pendleChildCompoundInfoReservedForCompound(

/// @audit internal function `_findIndex` came earlier from this external function
/// @audit internal function `_calcExpiry` came earlier from this external function
/// @audit internal function `_getExpiry` came earlier from this external function
/// @audit internal function `_getLockAmount` came earlier from this external function
/// @audit private function `_getPositionData` came earlier from this external function
/// @audit internal function `_getAmountToSend` came earlier from this external function
105:     function pendleChildCompoundInfoLastIndex(

/// @audit internal function `_findIndex` came earlier from this external function
/// @audit internal function `_calcExpiry` came earlier from this external function
/// @audit internal function `_getExpiry` came earlier from this external function
/// @audit internal function `_getLockAmount` came earlier from this external function
/// @audit private function `_getPositionData` came earlier from this external function
/// @audit internal function `_getAmountToSend` came earlier from this external function
115:     function pendleChildCompoundInfoRewardTokens(

/// @audit internal function `_findIndex` came earlier from this external function
/// @audit internal function `_calcExpiry` came earlier from this external function
/// @audit internal function `_getExpiry` came earlier from this external function
/// @audit internal function `_getLockAmount` came earlier from this external function
/// @audit private function `_getPositionData` came earlier from this external function
/// @audit internal function `_getAmountToSend` came earlier from this external function
125:     function activePendleMarketsLength()

/// @audit private function `_getPositionData` came earlier from this internal function
133:     function _checkFeed(

/// @audit private function `_getPositionData` came earlier from this internal function
144:     function _getRewardTokens(

/// @audit private function `_getPositionData` came earlier from this internal function
156:     function _getUserReward(

/// @audit private function `_getPositionData` came earlier from this internal function
173:     function _getUserRewardIndex(

/// @audit private function `_getPositionData` came earlier from this internal function
189:     function _getTokensInETH(

/// @audit private function `_getPositionData` came earlier from this internal function
203:     function _getTokensFromETH(

/// @audit private function `_getPositionData` came earlier from this internal function
217:     function _compareHashes(

/// @audit private function `_getPositionData` came earlier from this internal function
236:     function _setRewardTokens(

/// @audit internal function `_findIndex` came earlier from this external function
/// @audit internal function `_calcExpiry` came earlier from this external function
/// @audit internal function `_getExpiry` came earlier from this external function
/// @audit internal function `_getLockAmount` came earlier from this external function
/// @audit private function `_getPositionData` came earlier from this external function
/// @audit internal function `_getAmountToSend` came earlier from this external function
/// @audit internal function `_checkFeed` came earlier from this external function
/// @audit internal function `_getRewardTokens` came earlier from this external function
/// @audit internal function `_getUserReward` came earlier from this external function
/// @audit internal function `_getUserRewardIndex` came earlier from this external function
/// @audit internal function `_getTokensInETH` came earlier from this external function
/// @audit internal function `_getTokensFromETH` came earlier from this external function
/// @audit internal function `_compareHashes` came earlier from this external function
/// @audit internal function `_setRewardTokens` came earlier from this external function
245:     function getExpiry()

/// @audit internal function `_findIndex` came earlier from this external function
/// @audit internal function `_calcExpiry` came earlier from this external function
/// @audit internal function `_getExpiry` came earlier from this external function
/// @audit internal function `_getLockAmount` came earlier from this external function
/// @audit private function `_getPositionData` came earlier from this external function
/// @audit internal function `_getAmountToSend` came earlier from this external function
/// @audit internal function `_checkFeed` came earlier from this external function
/// @audit internal function `_getRewardTokens` came earlier from this external function
/// @audit internal function `_getUserReward` came earlier from this external function
/// @audit internal function `_getUserRewardIndex` came earlier from this external function
/// @audit internal function `_getTokensInETH` came earlier from this external function
/// @audit internal function `_getTokensFromETH` came earlier from this external function
/// @audit internal function `_compareHashes` came earlier from this external function
/// @audit internal function `_setRewardTokens` came earlier from this external function
253:     function getLockAmount()

```
*Github:* [[73](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L73), [95](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L95), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L105), [115](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L115), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L125), [133](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L133), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L144), [156](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L156), [173](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L173), [189](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L189), [203](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L203), [217](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L217), [236](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L236), [245](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L245), [253](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L253)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit private function `_onlyController` came earlier from this internal function
/// @audit private function `_validateSharePrice` came earlier from this internal function
/// @audit private function `_validateSharePriceGrowth` came earlier from this internal function
132:     function _overWriteCheck()

/// @audit private function `_onlyController` came earlier from this internal function
/// @audit private function `_validateSharePrice` came earlier from this internal function
/// @audit private function `_validateSharePriceGrowth` came earlier from this internal function
140:     function _triggerIndexUpdate()

/// @audit private function `_onlyController` came earlier from this internal function
/// @audit private function `_validateSharePrice` came earlier from this internal function
/// @audit private function `_validateSharePriceGrowth` came earlier from this internal function
149:     function _wrapOverWrites(

/// @audit private function `_onlyController` came earlier from this internal function
/// @audit private function `_validateSharePrice` came earlier from this internal function
/// @audit private function `_validateSharePriceGrowth` came earlier from this internal function
/// @audit private function `_updateRewardTokens` came earlier from this internal function
/// @audit private function `_overWriteIndexAll` came earlier from this internal function
/// @audit private function `_overWriteIndex` came earlier from this internal function
/// @audit private function `_overWriteAmounts` came earlier from this internal function
/// @audit private function `_updateRewards` came earlier from this internal function
218:     function _calculateRewardsClaimedOutside()

/// @audit private function `_onlyController` came earlier from this internal function
/// @audit private function `_validateSharePrice` came earlier from this internal function
/// @audit private function `_validateSharePriceGrowth` came earlier from this internal function
/// @audit private function `_updateRewardTokens` came earlier from this internal function
/// @audit private function `_overWriteIndexAll` came earlier from this internal function
/// @audit private function `_overWriteIndex` came earlier from this internal function
/// @audit private function `_overWriteAmounts` came earlier from this internal function
/// @audit private function `_updateRewards` came earlier from this internal function
/// @audit private function `_getBalanceLpBalanceController` came earlier from this internal function
/// @audit private function `_getActiveBalance` came earlier from this internal function
/// @audit private function `_getSharePrice` came earlier from this internal function
/// @audit private function `_syncSupply` came earlier from this internal function
347:     function _increaseCardinalityNext()

/// @audit private function `_onlyController` came earlier from this internal function
/// @audit private function `_validateSharePrice` came earlier from this internal function
/// @audit private function `_validateSharePriceGrowth` came earlier from this internal function
/// @audit private function `_updateRewardTokens` came earlier from this internal function
/// @audit private function `_overWriteIndexAll` came earlier from this internal function
/// @audit private function `_overWriteIndex` came earlier from this internal function
/// @audit private function `_overWriteAmounts` came earlier from this internal function
/// @audit private function `_updateRewards` came earlier from this internal function
/// @audit private function `_getBalanceLpBalanceController` came earlier from this internal function
/// @audit private function `_getActiveBalance` came earlier from this internal function
/// @audit private function `_getSharePrice` came earlier from this internal function
/// @audit private function `_syncSupply` came earlier from this internal function
359:     function _withdrawLp(

/// @audit private function `_onlyController` came earlier from this internal function
/// @audit private function `_validateSharePrice` came earlier from this internal function
/// @audit private function `_validateSharePriceGrowth` came earlier from this internal function
/// @audit private function `_updateRewardTokens` came earlier from this internal function
/// @audit private function `_overWriteIndexAll` came earlier from this internal function
/// @audit private function `_overWriteIndex` came earlier from this internal function
/// @audit private function `_overWriteAmounts` came earlier from this internal function
/// @audit private function `_updateRewards` came earlier from this internal function
/// @audit private function `_getBalanceLpBalanceController` came earlier from this internal function
/// @audit private function `_getActiveBalance` came earlier from this internal function
/// @audit private function `_getSharePrice` came earlier from this internal function
/// @audit private function `_syncSupply` came earlier from this internal function
372:     function _getUserReward(

/// @audit private function `_onlyController` came earlier from this public function
/// @audit private function `_validateSharePrice` came earlier from this public function
/// @audit private function `_validateSharePriceGrowth` came earlier from this public function
/// @audit internal function `_overWriteCheck` came earlier from this public function
/// @audit internal function `_triggerIndexUpdate` came earlier from this public function
/// @audit internal function `_wrapOverWrites` came earlier from this public function
/// @audit private function `_updateRewardTokens` came earlier from this public function
/// @audit private function `_overWriteIndexAll` came earlier from this public function
/// @audit private function `_overWriteIndex` came earlier from this public function
/// @audit private function `_overWriteAmounts` came earlier from this public function
/// @audit private function `_updateRewards` came earlier from this public function
/// @audit internal function `_calculateRewardsClaimedOutside` came earlier from this public function
/// @audit private function `_getBalanceLpBalanceController` came earlier from this public function
/// @audit private function `_getActiveBalance` came earlier from this public function
/// @audit private function `_getSharePrice` came earlier from this public function
/// @audit private function `_syncSupply` came earlier from this public function
/// @audit internal function `_increaseCardinalityNext` came earlier from this public function
/// @audit internal function `_withdrawLp` came earlier from this public function
/// @audit internal function `_getUserReward` came earlier from this public function
386:     function previewDistribution()

/// @audit private function `_onlyController` came earlier from this internal function
/// @audit private function `_validateSharePrice` came earlier from this internal function
/// @audit private function `_validateSharePriceGrowth` came earlier from this internal function
/// @audit private function `_updateRewardTokens` came earlier from this internal function
/// @audit private function `_overWriteIndexAll` came earlier from this internal function
/// @audit private function `_overWriteIndex` came earlier from this internal function
/// @audit private function `_overWriteAmounts` came earlier from this internal function
/// @audit private function `_updateRewards` came earlier from this internal function
/// @audit private function `_getBalanceLpBalanceController` came earlier from this internal function
/// @audit private function `_getActiveBalance` came earlier from this internal function
/// @audit private function `_getSharePrice` came earlier from this internal function
/// @audit private function `_syncSupply` came earlier from this internal function
/// @audit private function `_setLastInteraction` came earlier from this internal function
422:     function _applyMintFee(

/// @audit private function `_onlyController` came earlier from this public function
/// @audit private function `_validateSharePrice` came earlier from this public function
/// @audit private function `_validateSharePriceGrowth` came earlier from this public function
/// @audit internal function `_overWriteCheck` came earlier from this public function
/// @audit internal function `_triggerIndexUpdate` came earlier from this public function
/// @audit internal function `_wrapOverWrites` came earlier from this public function
/// @audit private function `_updateRewardTokens` came earlier from this public function
/// @audit private function `_overWriteIndexAll` came earlier from this public function
/// @audit private function `_overWriteIndex` came earlier from this public function
/// @audit private function `_overWriteAmounts` came earlier from this public function
/// @audit private function `_updateRewards` came earlier from this public function
/// @audit internal function `_calculateRewardsClaimedOutside` came earlier from this public function
/// @audit private function `_getBalanceLpBalanceController` came earlier from this public function
/// @audit private function `_getActiveBalance` came earlier from this public function
/// @audit private function `_getSharePrice` came earlier from this public function
/// @audit private function `_syncSupply` came earlier from this public function
/// @audit internal function `_increaseCardinalityNext` came earlier from this public function
/// @audit internal function `_withdrawLp` came earlier from this public function
/// @audit internal function `_getUserReward` came earlier from this public function
/// @audit private function `_setLastInteraction` came earlier from this public function
/// @audit internal function `_applyMintFee` came earlier from this public function
434:     function totalLpAssets()

/// @audit private function `_onlyController` came earlier from this public function
/// @audit private function `_validateSharePrice` came earlier from this public function
/// @audit private function `_validateSharePriceGrowth` came earlier from this public function
/// @audit internal function `_overWriteCheck` came earlier from this public function
/// @audit internal function `_triggerIndexUpdate` came earlier from this public function
/// @audit internal function `_wrapOverWrites` came earlier from this public function
/// @audit private function `_updateRewardTokens` came earlier from this public function
/// @audit private function `_overWriteIndexAll` came earlier from this public function
/// @audit private function `_overWriteIndex` came earlier from this public function
/// @audit private function `_overWriteAmounts` came earlier from this public function
/// @audit private function `_updateRewards` came earlier from this public function
/// @audit internal function `_calculateRewardsClaimedOutside` came earlier from this public function
/// @audit private function `_getBalanceLpBalanceController` came earlier from this public function
/// @audit private function `_getActiveBalance` came earlier from this public function
/// @audit private function `_getSharePrice` came earlier from this public function
/// @audit private function `_syncSupply` came earlier from this public function
/// @audit internal function `_increaseCardinalityNext` came earlier from this public function
/// @audit internal function `_withdrawLp` came earlier from this public function
/// @audit internal function `_getUserReward` came earlier from this public function
/// @audit private function `_setLastInteraction` came earlier from this public function
/// @audit internal function `_applyMintFee` came earlier from this public function
443:     function previewUnderlyingLpAssets()

/// @audit private function `_onlyController` came earlier from this public function
/// @audit private function `_validateSharePrice` came earlier from this public function
/// @audit private function `_validateSharePriceGrowth` came earlier from this public function
/// @audit internal function `_overWriteCheck` came earlier from this public function
/// @audit internal function `_triggerIndexUpdate` came earlier from this public function
/// @audit internal function `_wrapOverWrites` came earlier from this public function
/// @audit private function `_updateRewardTokens` came earlier from this public function
/// @audit private function `_overWriteIndexAll` came earlier from this public function
/// @audit private function `_overWriteIndex` came earlier from this public function
/// @audit private function `_overWriteAmounts` came earlier from this public function
/// @audit private function `_updateRewards` came earlier from this public function
/// @audit internal function `_calculateRewardsClaimedOutside` came earlier from this public function
/// @audit private function `_getBalanceLpBalanceController` came earlier from this public function
/// @audit private function `_getActiveBalance` came earlier from this public function
/// @audit private function `_getSharePrice` came earlier from this public function
/// @audit private function `_syncSupply` came earlier from this public function
/// @audit internal function `_increaseCardinalityNext` came earlier from this public function
/// @audit internal function `_withdrawLp` came earlier from this public function
/// @audit internal function `_getUserReward` came earlier from this public function
/// @audit private function `_setLastInteraction` came earlier from this public function
/// @audit internal function `_applyMintFee` came earlier from this public function
452:     function previewMintShares(

/// @audit private function `_onlyController` came earlier from this public function
/// @audit private function `_validateSharePrice` came earlier from this public function
/// @audit private function `_validateSharePriceGrowth` came earlier from this public function
/// @audit internal function `_overWriteCheck` came earlier from this public function
/// @audit internal function `_triggerIndexUpdate` came earlier from this public function
/// @audit internal function `_wrapOverWrites` came earlier from this public function
/// @audit private function `_updateRewardTokens` came earlier from this public function
/// @audit private function `_overWriteIndexAll` came earlier from this public function
/// @audit private function `_overWriteIndex` came earlier from this public function
/// @audit private function `_overWriteAmounts` came earlier from this public function
/// @audit private function `_updateRewards` came earlier from this public function
/// @audit internal function `_calculateRewardsClaimedOutside` came earlier from this public function
/// @audit private function `_getBalanceLpBalanceController` came earlier from this public function
/// @audit private function `_getActiveBalance` came earlier from this public function
/// @audit private function `_getSharePrice` came earlier from this public function
/// @audit private function `_syncSupply` came earlier from this public function
/// @audit internal function `_increaseCardinalityNext` came earlier from this public function
/// @audit internal function `_withdrawLp` came earlier from this public function
/// @audit internal function `_getUserReward` came earlier from this public function
/// @audit private function `_setLastInteraction` came earlier from this public function
/// @audit internal function `_applyMintFee` came earlier from this public function
465:     function previewAmountWithdrawShares(

/// @audit private function `_onlyController` came earlier from this public function
/// @audit private function `_validateSharePrice` came earlier from this public function
/// @audit private function `_validateSharePriceGrowth` came earlier from this public function
/// @audit internal function `_overWriteCheck` came earlier from this public function
/// @audit internal function `_triggerIndexUpdate` came earlier from this public function
/// @audit internal function `_wrapOverWrites` came earlier from this public function
/// @audit private function `_updateRewardTokens` came earlier from this public function
/// @audit private function `_overWriteIndexAll` came earlier from this public function
/// @audit private function `_overWriteIndex` came earlier from this public function
/// @audit private function `_overWriteAmounts` came earlier from this public function
/// @audit private function `_updateRewards` came earlier from this public function
/// @audit internal function `_calculateRewardsClaimedOutside` came earlier from this public function
/// @audit private function `_getBalanceLpBalanceController` came earlier from this public function
/// @audit private function `_getActiveBalance` came earlier from this public function
/// @audit private function `_getSharePrice` came earlier from this public function
/// @audit private function `_syncSupply` came earlier from this public function
/// @audit internal function `_increaseCardinalityNext` came earlier from this public function
/// @audit internal function `_withdrawLp` came earlier from this public function
/// @audit internal function `_getUserReward` came earlier from this public function
/// @audit private function `_setLastInteraction` came earlier from this public function
/// @audit internal function `_applyMintFee` came earlier from this public function
478:     function previewBurnShares(

/// @audit private function `_onlyController` came earlier from this external function
/// @audit private function `_validateSharePrice` came earlier from this external function
/// @audit private function `_validateSharePriceGrowth` came earlier from this external function
/// @audit internal function `_overWriteCheck` came earlier from this external function
/// @audit internal function `_triggerIndexUpdate` came earlier from this external function
/// @audit internal function `_wrapOverWrites` came earlier from this external function
/// @audit private function `_updateRewardTokens` came earlier from this external function
/// @audit private function `_overWriteIndexAll` came earlier from this external function
/// @audit private function `_overWriteIndex` came earlier from this external function
/// @audit private function `_overWriteAmounts` came earlier from this external function
/// @audit private function `_updateRewards` came earlier from this external function
/// @audit internal function `_calculateRewardsClaimedOutside` came earlier from this external function
/// @audit private function `_getBalanceLpBalanceController` came earlier from this external function
/// @audit private function `_getActiveBalance` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit private function `_syncSupply` came earlier from this external function
/// @audit internal function `_increaseCardinalityNext` came earlier from this external function
/// @audit internal function `_withdrawLp` came earlier from this external function
/// @audit internal function `_getUserReward` came earlier from this external function
/// @audit public function `previewDistribution` came earlier from this external function
/// @audit private function `_setLastInteraction` came earlier from this external function
/// @audit internal function `_applyMintFee` came earlier from this external function
/// @audit public function `totalLpAssets` came earlier from this external function
/// @audit public function `previewUnderlyingLpAssets` came earlier from this external function
/// @audit public function `previewMintShares` came earlier from this external function
/// @audit public function `previewAmountWithdrawShares` came earlier from this external function
/// @audit public function `previewBurnShares` came earlier from this external function
494:     function manualSync()

/// @audit private function `_onlyController` came earlier from this external function
/// @audit private function `_validateSharePrice` came earlier from this external function
/// @audit private function `_validateSharePriceGrowth` came earlier from this external function
/// @audit internal function `_overWriteCheck` came earlier from this external function
/// @audit internal function `_triggerIndexUpdate` came earlier from this external function
/// @audit internal function `_wrapOverWrites` came earlier from this external function
/// @audit private function `_updateRewardTokens` came earlier from this external function
/// @audit private function `_overWriteIndexAll` came earlier from this external function
/// @audit private function `_overWriteIndex` came earlier from this external function
/// @audit private function `_overWriteAmounts` came earlier from this external function
/// @audit private function `_updateRewards` came earlier from this external function
/// @audit internal function `_calculateRewardsClaimedOutside` came earlier from this external function
/// @audit private function `_getBalanceLpBalanceController` came earlier from this external function
/// @audit private function `_getActiveBalance` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit private function `_syncSupply` came earlier from this external function
/// @audit internal function `_increaseCardinalityNext` came earlier from this external function
/// @audit internal function `_withdrawLp` came earlier from this external function
/// @audit internal function `_getUserReward` came earlier from this external function
/// @audit public function `previewDistribution` came earlier from this external function
/// @audit private function `_setLastInteraction` came earlier from this external function
/// @audit internal function `_applyMintFee` came earlier from this external function
/// @audit public function `totalLpAssets` came earlier from this external function
/// @audit public function `previewUnderlyingLpAssets` came earlier from this external function
/// @audit public function `previewMintShares` came earlier from this external function
/// @audit public function `previewAmountWithdrawShares` came earlier from this external function
/// @audit public function `previewBurnShares` came earlier from this external function
502:     function addCompoundRewards(

/// @audit private function `_onlyController` came earlier from this external function
/// @audit private function `_validateSharePrice` came earlier from this external function
/// @audit private function `_validateSharePriceGrowth` came earlier from this external function
/// @audit internal function `_overWriteCheck` came earlier from this external function
/// @audit internal function `_triggerIndexUpdate` came earlier from this external function
/// @audit internal function `_wrapOverWrites` came earlier from this external function
/// @audit private function `_updateRewardTokens` came earlier from this external function
/// @audit private function `_overWriteIndexAll` came earlier from this external function
/// @audit private function `_overWriteIndex` came earlier from this external function
/// @audit private function `_overWriteAmounts` came earlier from this external function
/// @audit private function `_updateRewards` came earlier from this external function
/// @audit internal function `_calculateRewardsClaimedOutside` came earlier from this external function
/// @audit private function `_getBalanceLpBalanceController` came earlier from this external function
/// @audit private function `_getActiveBalance` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit private function `_syncSupply` came earlier from this external function
/// @audit internal function `_increaseCardinalityNext` came earlier from this external function
/// @audit internal function `_withdrawLp` came earlier from this external function
/// @audit internal function `_getUserReward` came earlier from this external function
/// @audit public function `previewDistribution` came earlier from this external function
/// @audit private function `_setLastInteraction` came earlier from this external function
/// @audit internal function `_applyMintFee` came earlier from this external function
/// @audit public function `totalLpAssets` came earlier from this external function
/// @audit public function `previewUnderlyingLpAssets` came earlier from this external function
/// @audit public function `previewMintShares` came earlier from this external function
/// @audit public function `previewAmountWithdrawShares` came earlier from this external function
/// @audit public function `previewBurnShares` came earlier from this external function
529:     function depositExactAmount(

/// @audit private function `_onlyController` came earlier from this external function
/// @audit private function `_validateSharePrice` came earlier from this external function
/// @audit private function `_validateSharePriceGrowth` came earlier from this external function
/// @audit internal function `_overWriteCheck` came earlier from this external function
/// @audit internal function `_triggerIndexUpdate` came earlier from this external function
/// @audit internal function `_wrapOverWrites` came earlier from this external function
/// @audit private function `_updateRewardTokens` came earlier from this external function
/// @audit private function `_overWriteIndexAll` came earlier from this external function
/// @audit private function `_overWriteIndex` came earlier from this external function
/// @audit private function `_overWriteAmounts` came earlier from this external function
/// @audit private function `_updateRewards` came earlier from this external function
/// @audit internal function `_calculateRewardsClaimedOutside` came earlier from this external function
/// @audit private function `_getBalanceLpBalanceController` came earlier from this external function
/// @audit private function `_getActiveBalance` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit private function `_syncSupply` came earlier from this external function
/// @audit internal function `_increaseCardinalityNext` came earlier from this external function
/// @audit internal function `_withdrawLp` came earlier from this external function
/// @audit internal function `_getUserReward` came earlier from this external function
/// @audit public function `previewDistribution` came earlier from this external function
/// @audit private function `_setLastInteraction` came earlier from this external function
/// @audit internal function `_applyMintFee` came earlier from this external function
/// @audit public function `totalLpAssets` came earlier from this external function
/// @audit public function `previewUnderlyingLpAssets` came earlier from this external function
/// @audit public function `previewMintShares` came earlier from this external function
/// @audit public function `previewAmountWithdrawShares` came earlier from this external function
/// @audit public function `previewBurnShares` came earlier from this external function
592:     function changeMintFee(

/// @audit private function `_onlyController` came earlier from this external function
/// @audit private function `_validateSharePrice` came earlier from this external function
/// @audit private function `_validateSharePriceGrowth` came earlier from this external function
/// @audit internal function `_overWriteCheck` came earlier from this external function
/// @audit internal function `_triggerIndexUpdate` came earlier from this external function
/// @audit internal function `_wrapOverWrites` came earlier from this external function
/// @audit private function `_updateRewardTokens` came earlier from this external function
/// @audit private function `_overWriteIndexAll` came earlier from this external function
/// @audit private function `_overWriteIndex` came earlier from this external function
/// @audit private function `_overWriteAmounts` came earlier from this external function
/// @audit private function `_updateRewards` came earlier from this external function
/// @audit internal function `_calculateRewardsClaimedOutside` came earlier from this external function
/// @audit private function `_getBalanceLpBalanceController` came earlier from this external function
/// @audit private function `_getActiveBalance` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit private function `_syncSupply` came earlier from this external function
/// @audit internal function `_increaseCardinalityNext` came earlier from this external function
/// @audit internal function `_withdrawLp` came earlier from this external function
/// @audit internal function `_getUserReward` came earlier from this external function
/// @audit public function `previewDistribution` came earlier from this external function
/// @audit private function `_setLastInteraction` came earlier from this external function
/// @audit internal function `_applyMintFee` came earlier from this external function
/// @audit public function `totalLpAssets` came earlier from this external function
/// @audit public function `previewUnderlyingLpAssets` came earlier from this external function
/// @audit public function `previewMintShares` came earlier from this external function
/// @audit public function `previewAmountWithdrawShares` came earlier from this external function
/// @audit public function `previewBurnShares` came earlier from this external function
608:     function withdrawExactShares(

/// @audit private function `_onlyController` came earlier from this external function
/// @audit private function `_validateSharePrice` came earlier from this external function
/// @audit private function `_validateSharePriceGrowth` came earlier from this external function
/// @audit internal function `_overWriteCheck` came earlier from this external function
/// @audit internal function `_triggerIndexUpdate` came earlier from this external function
/// @audit internal function `_wrapOverWrites` came earlier from this external function
/// @audit private function `_updateRewardTokens` came earlier from this external function
/// @audit private function `_overWriteIndexAll` came earlier from this external function
/// @audit private function `_overWriteIndex` came earlier from this external function
/// @audit private function `_overWriteAmounts` came earlier from this external function
/// @audit private function `_updateRewards` came earlier from this external function
/// @audit internal function `_calculateRewardsClaimedOutside` came earlier from this external function
/// @audit private function `_getBalanceLpBalanceController` came earlier from this external function
/// @audit private function `_getActiveBalance` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit private function `_syncSupply` came earlier from this external function
/// @audit internal function `_increaseCardinalityNext` came earlier from this external function
/// @audit internal function `_withdrawLp` came earlier from this external function
/// @audit internal function `_getUserReward` came earlier from this external function
/// @audit public function `previewDistribution` came earlier from this external function
/// @audit private function `_setLastInteraction` came earlier from this external function
/// @audit internal function `_applyMintFee` came earlier from this external function
/// @audit public function `totalLpAssets` came earlier from this external function
/// @audit public function `previewUnderlyingLpAssets` came earlier from this external function
/// @audit public function `previewMintShares` came earlier from this external function
/// @audit public function `previewAmountWithdrawShares` came earlier from this external function
/// @audit public function `previewBurnShares` came earlier from this external function
647:     function withdrawExactAmount(

/// @audit private function `_onlyController` came earlier from this external function
/// @audit private function `_validateSharePrice` came earlier from this external function
/// @audit private function `_validateSharePriceGrowth` came earlier from this external function
/// @audit internal function `_overWriteCheck` came earlier from this external function
/// @audit internal function `_triggerIndexUpdate` came earlier from this external function
/// @audit internal function `_wrapOverWrites` came earlier from this external function
/// @audit private function `_updateRewardTokens` came earlier from this external function
/// @audit private function `_overWriteIndexAll` came earlier from this external function
/// @audit private function `_overWriteIndex` came earlier from this external function
/// @audit private function `_overWriteAmounts` came earlier from this external function
/// @audit private function `_updateRewards` came earlier from this external function
/// @audit internal function `_calculateRewardsClaimedOutside` came earlier from this external function
/// @audit private function `_getBalanceLpBalanceController` came earlier from this external function
/// @audit private function `_getActiveBalance` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit private function `_syncSupply` came earlier from this external function
/// @audit internal function `_increaseCardinalityNext` came earlier from this external function
/// @audit internal function `_withdrawLp` came earlier from this external function
/// @audit internal function `_getUserReward` came earlier from this external function
/// @audit public function `previewDistribution` came earlier from this external function
/// @audit private function `_setLastInteraction` came earlier from this external function
/// @audit internal function `_applyMintFee` came earlier from this external function
/// @audit public function `totalLpAssets` came earlier from this external function
/// @audit public function `previewUnderlyingLpAssets` came earlier from this external function
/// @audit public function `previewMintShares` came earlier from this external function
/// @audit public function `previewAmountWithdrawShares` came earlier from this external function
/// @audit public function `previewBurnShares` came earlier from this external function
682:     function initialize(

```
*Github:* [[132](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L132), [140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L140), [149](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L149), [218](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L218), [347](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L347), [359](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L359), [372](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L372), [386](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L386), [422](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L422), [434](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L434), [443](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L443), [452](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L452), [465](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L465), [478](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L478), [494](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L494), [502](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L502), [529](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L529), [592](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L592), [608](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L608), [647](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L647), [682](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L682)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

/// @audit a function was seen before constructor
55:     constructor(

/// @audit private function `_onlyKeyOwner` came earlier from this internal function
63:     function _incrementReserved()

/// @audit private function `_onlyKeyOwner` came earlier from this internal function
70:     function _getNextReserveKey()

/// @audit private function `_onlyKeyOwner` came earlier from this internal function
77:     function _reserveKey(

/// @audit private function `_onlyKeyOwner` came earlier from this public function
/// @audit internal function `_incrementReserved` came earlier from this public function
/// @audit internal function `_getNextReserveKey` came earlier from this public function
/// @audit internal function `_reserveKey` came earlier from this public function
96:     function isOwner(

/// @audit private function `_onlyKeyOwner` came earlier from this internal function
115:     function _mintKeyForUser(

/// @audit private function `_onlyKeyOwner` came earlier from this external function
/// @audit internal function `_incrementReserved` came earlier from this external function
/// @audit internal function `_getNextReserveKey` came earlier from this external function
/// @audit internal function `_reserveKey` came earlier from this external function
/// @audit public function `isOwner` came earlier from this external function
/// @audit internal function `_mintKeyForUser` came earlier from this external function
141:     function mintReserved()

/// @audit private function `_onlyKeyOwner` came earlier from this external function
/// @audit internal function `_incrementReserved` came earlier from this external function
/// @audit internal function `_getNextReserveKey` came earlier from this external function
/// @audit internal function `_reserveKey` came earlier from this external function
/// @audit public function `isOwner` came earlier from this external function
/// @audit internal function `_mintKeyForUser` came earlier from this external function
160:     function onERC721Received(

```
*Github:* [[55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L55), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L63), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L70), [77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L77), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L96), [115](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L115), [141](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L141), [160](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L160)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

/// @audit a function was seen before constructor
38:     constructor(

```
*Github:* [[38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L38)]


```solidity
File: contracts/WiseCore.sol

/// @audit internal function `_prepareAssociatedTokens` came earlier from this external function
/// @audit internal function `_coreWithdrawToken` came earlier from this external function
/// @audit internal function `_handleDeposit` came earlier from this external function
173:     function checkPositionLocked(

/// @audit internal function `_prepareAssociatedTokens` came earlier from this external function
/// @audit internal function `_coreWithdrawToken` came earlier from this external function
/// @audit internal function `_handleDeposit` came earlier from this external function
/// @audit internal function `_checkPositionLocked` came earlier from this external function
215:     function checkDeposit(

/// @audit private function `_checkMaxDepositValue` came earlier from this internal function
/// @audit private function `_coreWithdrawBare` came earlier from this internal function
349:     function _coreBorrowTokens(

/// @audit private function `_checkMaxDepositValue` came earlier from this internal function
/// @audit private function `_coreWithdrawBare` came earlier from this internal function
/// @audit private function `_withdrawPureCollateralLiquidation` came earlier from this internal function
/// @audit private function `_withdrawOrAllocateSharesLiquidation` came earlier from this internal function
/// @audit private function `_calculateReceiveAmount` came earlier from this internal function
/// @audit private function `_calculatePotentialPureExtraCashout` came earlier from this internal function
625:     function _coreLiquidation(

```
*Github:* [[173](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L173), [215](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L215), [349](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L349), [625](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L625)]


```solidity
File: contracts/WiseLending.sol

/// @audit receive() was seen before constructor
/// @audit a function was seen before constructor
116:     constructor(

/// @audit private function `_healthStateCheck` came earlier from this internal function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this internal function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this internal function
/// @audit private function `_getSharePrice` came earlier from this internal function
192:     function _checkHealthState(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
329:     function collateralizeDeposit(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
348:     function unCollateralizeDeposit(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
388:     function depositExactAmountETH(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
426:     function depositExactAmountETHMint()

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
442:     function depositExactAmountMint(

/// @audit private function `_healthStateCheck` came earlier from this public function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this public function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this public function
/// @audit private function `_getSharePrice` came earlier from this public function
/// @audit internal function `_checkHealthState` came earlier from this public function
/// @audit private function `_compareSharePrices` came earlier from this public function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this public function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this public function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this public function
/// @audit private function `_depositExactAmountETH` came earlier from this public function
460:     function depositExactAmount(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
/// @audit public function `depositExactAmount` came earlier from this external function
493:     function solelyDepositETHMint()

/// @audit private function `_healthStateCheck` came earlier from this public function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this public function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this public function
/// @audit private function `_getSharePrice` came earlier from this public function
/// @audit internal function `_checkHealthState` came earlier from this public function
/// @audit private function `_compareSharePrices` came earlier from this public function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this public function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this public function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this public function
/// @audit private function `_depositExactAmountETH` came earlier from this public function
508:     function solelyDepositETH(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `solelyDepositETH` came earlier from this external function
/// @audit private function `_handleSolelyDeposit` came earlier from this external function
581:     function solelyDepositMint(

/// @audit private function `_healthStateCheck` came earlier from this public function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this public function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this public function
/// @audit private function `_getSharePrice` came earlier from this public function
/// @audit internal function `_checkHealthState` came earlier from this public function
/// @audit private function `_compareSharePrices` came earlier from this public function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this public function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this public function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this public function
/// @audit private function `_depositExactAmountETH` came earlier from this public function
/// @audit private function `_handleSolelyDeposit` came earlier from this public function
600:     function solelyDeposit(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `solelyDepositETH` came earlier from this external function
/// @audit private function `_handleSolelyDeposit` came earlier from this external function
/// @audit public function `solelyDeposit` came earlier from this external function
636:     function withdrawExactAmountETH(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `solelyDepositETH` came earlier from this external function
/// @audit private function `_handleSolelyDeposit` came earlier from this external function
/// @audit public function `solelyDeposit` came earlier from this external function
675:     function withdrawExactSharesETH(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `solelyDepositETH` came earlier from this external function
/// @audit private function `_handleSolelyDeposit` came earlier from this external function
/// @audit public function `solelyDeposit` came earlier from this external function
714:     function withdrawExactAmount(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `solelyDepositETH` came earlier from this external function
/// @audit private function `_handleSolelyDeposit` came earlier from this external function
/// @audit public function `solelyDeposit` came earlier from this external function
751:     function solelyWithdrawETH(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `solelyDepositETH` came earlier from this external function
/// @audit private function `_handleSolelyDeposit` came earlier from this external function
/// @audit public function `solelyDeposit` came earlier from this external function
780:     function solelyWithdraw(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `solelyDepositETH` came earlier from this external function
/// @audit private function `_handleSolelyDeposit` came earlier from this external function
/// @audit public function `solelyDeposit` came earlier from this external function
/// @audit private function `_coreSolelyWithdraw` came earlier from this external function
859:     function withdrawOnBehalfExactAmount(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `solelyDepositETH` came earlier from this external function
/// @audit private function `_handleSolelyDeposit` came earlier from this external function
/// @audit public function `solelyDeposit` came earlier from this external function
/// @audit private function `_coreSolelyWithdraw` came earlier from this external function
902:     function withdrawExactShares(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `solelyDepositETH` came earlier from this external function
/// @audit private function `_handleSolelyDeposit` came earlier from this external function
/// @audit public function `solelyDeposit` came earlier from this external function
/// @audit private function `_coreSolelyWithdraw` came earlier from this external function
939:     function withdrawOnBehalfExactShares(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `solelyDepositETH` came earlier from this external function
/// @audit private function `_handleSolelyDeposit` came earlier from this external function
/// @audit public function `solelyDeposit` came earlier from this external function
/// @audit private function `_coreSolelyWithdraw` came earlier from this external function
975:     function borrowExactAmountETH(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `solelyDepositETH` came earlier from this external function
/// @audit private function `_handleSolelyDeposit` came earlier from this external function
/// @audit public function `solelyDeposit` came earlier from this external function
/// @audit private function `_coreSolelyWithdraw` came earlier from this external function
1016:     function borrowExactAmount(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `solelyDepositETH` came earlier from this external function
/// @audit private function `_handleSolelyDeposit` came earlier from this external function
/// @audit public function `solelyDeposit` came earlier from this external function
/// @audit private function `_coreSolelyWithdraw` came earlier from this external function
1055:     function borrowOnBehalfExactAmount(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `solelyDepositETH` came earlier from this external function
/// @audit private function `_handleSolelyDeposit` came earlier from this external function
/// @audit public function `solelyDeposit` came earlier from this external function
/// @audit private function `_coreSolelyWithdraw` came earlier from this external function
1088:     function paybackExactAmountETH(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `solelyDepositETH` came earlier from this external function
/// @audit private function `_handleSolelyDeposit` came earlier from this external function
/// @audit public function `solelyDeposit` came earlier from this external function
/// @audit private function `_coreSolelyWithdraw` came earlier from this external function
1161:     function paybackExactAmount(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `solelyDepositETH` came earlier from this external function
/// @audit private function `_handleSolelyDeposit` came earlier from this external function
/// @audit public function `solelyDeposit` came earlier from this external function
/// @audit private function `_coreSolelyWithdraw` came earlier from this external function
1204:     function paybackExactShares(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `solelyDepositETH` came earlier from this external function
/// @audit private function `_handleSolelyDeposit` came earlier from this external function
/// @audit public function `solelyDeposit` came earlier from this external function
/// @audit private function `_coreSolelyWithdraw` came earlier from this external function
1250:     function liquidatePartiallyFromTokens(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `solelyDepositETH` came earlier from this external function
/// @audit private function `_handleSolelyDeposit` came earlier from this external function
/// @audit public function `solelyDeposit` came earlier from this external function
/// @audit private function `_coreSolelyWithdraw` came earlier from this external function
1314:     function coreLiquidationIsolationPools(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `solelyDepositETH` came earlier from this external function
/// @audit private function `_handleSolelyDeposit` came earlier from this external function
/// @audit public function `solelyDeposit` came earlier from this external function
/// @audit private function `_coreSolelyWithdraw` came earlier from this external function
1367:     function syncManually(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `solelyDepositETH` came earlier from this external function
/// @audit private function `_handleSolelyDeposit` came earlier from this external function
/// @audit public function `solelyDeposit` came earlier from this external function
/// @audit private function `_coreSolelyWithdraw` came earlier from this external function
1386:     function setRegistrationIsolationPool(

/// @audit private function `_healthStateCheck` came earlier from this external function
/// @audit private function `_emitFundsSolelyWithdrawn` came earlier from this external function
/// @audit private function `_emitFundsSolelyDeposited` came earlier from this external function
/// @audit private function `_getSharePrice` came earlier from this external function
/// @audit internal function `_checkHealthState` came earlier from this external function
/// @audit private function `_compareSharePrices` came earlier from this external function
/// @audit private function `_getCurrentSharePriceMax` came earlier from this external function
/// @audit private function `_syncPoolBeforeCodeExecution` came earlier from this external function
/// @audit private function `_syncPoolAfterCodeExecution` came earlier from this external function
/// @audit private function `_depositExactAmountETH` came earlier from this external function
/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `solelyDepositETH` came earlier from this external function
/// @audit private function `_handleSolelyDeposit` came earlier from this external function
/// @audit public function `solelyDeposit` came earlier from this external function
/// @audit private function `_coreSolelyWithdraw` came earlier from this external function
1412:     function corePaybackFeeManager(

```
*Github:* [[116](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L116), [192](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L192), [329](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L329), [348](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L348), [388](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L388), [426](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L426), [442](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L442), [460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L460), [493](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L493), [508](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L508), [581](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L581), [600](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L600), [636](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L636), [675](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L675), [714](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L714), [751](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L751), [780](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L780), [859](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L859), [902](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L902), [939](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L939), [975](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L975), [1016](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1016), [1055](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1055), [1088](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1088), [1161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1161), [1204](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1204), [1250](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1250), [1314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1314), [1367](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1367), [1386](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1386), [1412](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1412)]


```solidity
File: contracts/WiseLowLevelHelper.sol

/// @audit private function `_onlyFeeManager` came earlier from this internal function
25:     function _validateParameter(

/// @audit private function `_onlyFeeManager` came earlier from this public function
/// @audit internal function `_validateParameter` came earlier from this public function
39:     function getTotalPool(

/// @audit private function `_onlyFeeManager` came earlier from this public function
/// @audit internal function `_validateParameter` came earlier from this public function
49:     function getPseudoTotalPool(

/// @audit private function `_onlyFeeManager` came earlier from this external function
/// @audit internal function `_validateParameter` came earlier from this external function
/// @audit public function `getTotalPool` came earlier from this external function
/// @audit public function `getPseudoTotalPool` came earlier from this external function
59:     function getTotalBareToken(

/// @audit private function `_onlyFeeManager` came earlier from this external function
/// @audit internal function `_validateParameter` came earlier from this external function
/// @audit public function `getTotalPool` came earlier from this external function
/// @audit public function `getPseudoTotalPool` came earlier from this external function
69:     function getPseudoTotalBorrowAmount(

/// @audit private function `_onlyFeeManager` came earlier from this external function
/// @audit internal function `_validateParameter` came earlier from this external function
/// @audit public function `getTotalPool` came earlier from this external function
/// @audit public function `getPseudoTotalPool` came earlier from this external function
79:     function getTotalDepositShares(

/// @audit private function `_onlyFeeManager` came earlier from this external function
/// @audit internal function `_validateParameter` came earlier from this external function
/// @audit public function `getTotalPool` came earlier from this external function
/// @audit public function `getPseudoTotalPool` came earlier from this external function
89:     function getTotalBorrowShares(

/// @audit private function `_onlyFeeManager` came earlier from this external function
/// @audit internal function `_validateParameter` came earlier from this external function
/// @audit public function `getTotalPool` came earlier from this external function
/// @audit public function `getPseudoTotalPool` came earlier from this external function
99:     function getPositionLendingShares(

/// @audit private function `_onlyFeeManager` came earlier from this external function
/// @audit internal function `_validateParameter` came earlier from this external function
/// @audit public function `getTotalPool` came earlier from this external function
/// @audit public function `getPseudoTotalPool` came earlier from this external function
110:     function getPositionBorrowShares(

/// @audit private function `_onlyFeeManager` came earlier from this external function
/// @audit internal function `_validateParameter` came earlier from this external function
/// @audit public function `getTotalPool` came earlier from this external function
/// @audit public function `getPseudoTotalPool` came earlier from this external function
121:     function getPureCollateralAmount(

/// @audit private function `_onlyFeeManager` came earlier from this external function
/// @audit internal function `_validateParameter` came earlier from this external function
/// @audit public function `getTotalPool` came earlier from this external function
/// @audit public function `getPseudoTotalPool` came earlier from this external function
134:     function getTimeStamp(

/// @audit private function `_onlyFeeManager` came earlier from this public function
/// @audit internal function `_validateParameter` came earlier from this public function
144:     function getPositionLendingTokenByIndex(

/// @audit private function `_onlyFeeManager` came earlier from this public function
/// @audit internal function `_validateParameter` came earlier from this public function
155:     function getPositionLendingTokenLength(

/// @audit private function `_onlyFeeManager` came earlier from this public function
/// @audit internal function `_validateParameter` came earlier from this public function
165:     function getPositionBorrowTokenByIndex(

/// @audit private function `_onlyFeeManager` came earlier from this public function
/// @audit internal function `_validateParameter` came earlier from this public function
176:     function getPositionBorrowTokenLength(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
188:     function _setMaxValue(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
197:     function _setBestPole(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
206:     function _setIncreasePole(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
215:     function _setPole(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
224:     function _increaseTotalPool(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
233:     function _decreaseTotalPool(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
242:     function _increaseTotalDepositShares(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
251:     function _decreaseTotalDepositShares(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
260:     function _increasePseudoTotalBorrowAmount(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
269:     function _decreasePseudoTotalBorrowAmount(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
278:     function _increaseTotalBorrowShares(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
287:     function _decreaseTotalBorrowShares(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
296:     function _increasePseudoTotalPool(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
305:     function _decreasePseudoTotalPool(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
314:     function _setTimeStamp(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
323:     function _setTimeStampScaling(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
332:     function _increaseTotalBareToken(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
341:     function _decreaseTotalBareToken(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
350:     function _checkReentrancy()

/// @audit private function `_onlyFeeManager` came earlier from this internal function
/// @audit private function `_sendingProgressAaveHub` came earlier from this internal function
371:     function _decreasePositionMappingValue(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
/// @audit private function `_sendingProgressAaveHub` came earlier from this internal function
382:     function _increaseMappingValue(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
/// @audit private function `_sendingProgressAaveHub` came earlier from this internal function
393:     function _byPassCase(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
/// @audit private function `_sendingProgressAaveHub` came earlier from this internal function
407:     function _increaseTotalAndPseudoTotalPool(

/// @audit private function `_onlyFeeManager` came earlier from this external function
/// @audit internal function `_validateParameter` came earlier from this external function
/// @audit public function `getTotalPool` came earlier from this external function
/// @audit public function `getPseudoTotalPool` came earlier from this external function
/// @audit public function `getPositionLendingTokenByIndex` came earlier from this external function
/// @audit public function `getPositionLendingTokenLength` came earlier from this external function
/// @audit public function `getPositionBorrowTokenByIndex` came earlier from this external function
/// @audit public function `getPositionBorrowTokenLength` came earlier from this external function
/// @audit internal function `_setMaxValue` came earlier from this external function
/// @audit internal function `_setBestPole` came earlier from this external function
/// @audit internal function `_setIncreasePole` came earlier from this external function
/// @audit internal function `_setPole` came earlier from this external function
/// @audit internal function `_increaseTotalPool` came earlier from this external function
/// @audit internal function `_decreaseTotalPool` came earlier from this external function
/// @audit internal function `_increaseTotalDepositShares` came earlier from this external function
/// @audit internal function `_decreaseTotalDepositShares` came earlier from this external function
/// @audit internal function `_increasePseudoTotalBorrowAmount` came earlier from this external function
/// @audit internal function `_decreasePseudoTotalBorrowAmount` came earlier from this external function
/// @audit internal function `_increaseTotalBorrowShares` came earlier from this external function
/// @audit internal function `_decreaseTotalBorrowShares` came earlier from this external function
/// @audit internal function `_increasePseudoTotalPool` came earlier from this external function
/// @audit internal function `_decreasePseudoTotalPool` came earlier from this external function
/// @audit internal function `_setTimeStamp` came earlier from this external function
/// @audit internal function `_setTimeStampScaling` came earlier from this external function
/// @audit internal function `_increaseTotalBareToken` came earlier from this external function
/// @audit internal function `_decreaseTotalBareToken` came earlier from this external function
/// @audit internal function `_checkReentrancy` came earlier from this external function
/// @audit private function `_sendingProgressAaveHub` came earlier from this external function
/// @audit internal function `_decreasePositionMappingValue` came earlier from this external function
/// @audit internal function `_increaseMappingValue` came earlier from this external function
/// @audit internal function `_byPassCase` came earlier from this external function
/// @audit internal function `_increaseTotalAndPseudoTotalPool` came earlier from this external function
424:     function setPoolFee(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
/// @audit private function `_sendingProgressAaveHub` came earlier from this internal function
434:     function _checkOwnerPosition(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
/// @audit private function `_sendingProgressAaveHub` came earlier from this internal function
447:     function _validateNonZero(

/// @audit private function `_onlyFeeManager` came earlier from this internal function
/// @audit private function `_sendingProgressAaveHub` came earlier from this internal function
458:     function _validateZero(

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L25), [39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L39), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L49), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L59), [69](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L69), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L79), [89](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L89), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L99), [110](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L110), [121](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L121), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L134), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L144), [155](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L155), [165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L165), [176](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L176), [188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L188), [197](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L197), [206](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L206), [215](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L215), [224](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L224), [233](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L233), [242](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L242), [251](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L251), [260](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L260), [269](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L269), [278](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L278), [287](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L287), [296](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L296), [305](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L305), [314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L314), [323](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L323), [332](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L332), [341](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L341), [350](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L350), [371](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L371), [382](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L382), [393](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L393), [407](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L407), [424](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L424), [434](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L434), [447](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L447), [458](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L458)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

/// @audit internal function `_addOracle` came earlier from this public function
/// @audit internal function `_addAggregator` came earlier from this public function
/// @audit internal function `_checkFunctionExistence` came earlier from this public function
/// @audit internal function `_compareMinMax` came earlier from this public function
106:     function latestResolverTwap(

/// @audit internal function `_addOracle` came earlier from this public function
/// @audit internal function `_addAggregator` came earlier from this public function
/// @audit internal function `_checkFunctionExistence` came earlier from this public function
/// @audit internal function `_compareMinMax` came earlier from this public function
/// @audit internal function `_validateAnswer` came earlier from this public function
/// @audit internal function `_writeUniTwapPoolInfoStruct` came earlier from this public function
/// @audit internal function `_writeUniTwapPoolInfoStructDerivative` came earlier from this public function
/// @audit internal function `_getRelativeDifference` came earlier from this public function
/// @audit internal function `_compareDifference` came earlier from this public function
/// @audit internal function `_getChainlinkAnswer` came earlier from this public function
265:     function getETHPriceInUSD()

/// @audit internal function `_addOracle` came earlier from this public function
/// @audit internal function `_addAggregator` came earlier from this public function
/// @audit internal function `_checkFunctionExistence` came earlier from this public function
/// @audit internal function `_compareMinMax` came earlier from this public function
/// @audit internal function `_validateAnswer` came earlier from this public function
/// @audit internal function `_writeUniTwapPoolInfoStruct` came earlier from this public function
/// @audit internal function `_writeUniTwapPoolInfoStructDerivative` came earlier from this public function
/// @audit internal function `_getRelativeDifference` came earlier from this public function
/// @audit internal function `_compareDifference` came earlier from this public function
/// @audit internal function `_getChainlinkAnswer` came earlier from this public function
/// @audit internal function `_getPool` came earlier from this public function
/// @audit internal function `_validateTokenAddress` came earlier from this public function
/// @audit internal function `_validatePoolAddress` came earlier from this public function
/// @audit internal function `_validatePriceFeed` came earlier from this public function
/// @audit internal function `_validateTwapOracle` came earlier from this public function
/// @audit internal function `_getTwapPrice` came earlier from this public function
/// @audit internal function `_getOneUnit` came earlier from this public function
/// @audit internal function `_getAverageTick` came earlier from this public function
450:     function decimals(

/// @audit internal function `_addOracle` came earlier from this public function
/// @audit internal function `_addAggregator` came earlier from this public function
/// @audit internal function `_checkFunctionExistence` came earlier from this public function
/// @audit internal function `_compareMinMax` came earlier from this public function
/// @audit internal function `_validateAnswer` came earlier from this public function
/// @audit internal function `_writeUniTwapPoolInfoStruct` came earlier from this public function
/// @audit internal function `_writeUniTwapPoolInfoStructDerivative` came earlier from this public function
/// @audit internal function `_getRelativeDifference` came earlier from this public function
/// @audit internal function `_compareDifference` came earlier from this public function
/// @audit internal function `_getChainlinkAnswer` came earlier from this public function
/// @audit internal function `_getPool` came earlier from this public function
/// @audit internal function `_validateTokenAddress` came earlier from this public function
/// @audit internal function `_validatePoolAddress` came earlier from this public function
/// @audit internal function `_validatePriceFeed` came earlier from this public function
/// @audit internal function `_validateTwapOracle` came earlier from this public function
/// @audit internal function `_getTwapPrice` came earlier from this public function
/// @audit internal function `_getOneUnit` came earlier from this public function
/// @audit internal function `_getAverageTick` came earlier from this public function
/// @audit internal function `_getTwapDerivatePrice` came earlier from this public function
/// @audit internal function `_recalibrate` came earlier from this public function
521:     function sequencerIsDead()

/// @audit internal function `_addOracle` came earlier from this public function
/// @audit internal function `_addAggregator` came earlier from this public function
/// @audit internal function `_checkFunctionExistence` came earlier from this public function
/// @audit internal function `_compareMinMax` came earlier from this public function
/// @audit internal function `_validateAnswer` came earlier from this public function
/// @audit internal function `_writeUniTwapPoolInfoStruct` came earlier from this public function
/// @audit internal function `_writeUniTwapPoolInfoStructDerivative` came earlier from this public function
/// @audit internal function `_getRelativeDifference` came earlier from this public function
/// @audit internal function `_compareDifference` came earlier from this public function
/// @audit internal function `_getChainlinkAnswer` came earlier from this public function
/// @audit internal function `_getPool` came earlier from this public function
/// @audit internal function `_validateTokenAddress` came earlier from this public function
/// @audit internal function `_validatePoolAddress` came earlier from this public function
/// @audit internal function `_validatePriceFeed` came earlier from this public function
/// @audit internal function `_validateTwapOracle` came earlier from this public function
/// @audit internal function `_getTwapPrice` came earlier from this public function
/// @audit internal function `_getOneUnit` came earlier from this public function
/// @audit internal function `_getAverageTick` came earlier from this public function
/// @audit internal function `_getTwapDerivatePrice` came earlier from this public function
/// @audit internal function `_recalibrate` came earlier from this public function
/// @audit internal function `_chainLinkIsDead` came earlier from this public function
/// @audit internal function `_recalibratePreview` came earlier from this public function
/// @audit internal function `_getIterationCount` came earlier from this public function
/// @audit internal function `_getRoundTimestamp` came earlier from this public function
699:     function getLatestRoundId(

```
*Github:* [[106](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L106), [265](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L265), [450](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L450), [521](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L521), [699](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L699)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

/// @audit public function `latestResolver` came earlier from this external function
85:     function getTokenDecimals(

/// @audit public function `latestResolver` came earlier from this external function
96:     function getTokensInUSD(

/// @audit public function `latestResolver` came earlier from this external function
123:     function getTokensPriceInUSD(

/// @audit public function `latestResolver` came earlier from this external function
/// @audit public function `getTokensInETH` came earlier from this external function
171:     function getTokensFromUSD(

/// @audit public function `latestResolver` came earlier from this external function
/// @audit public function `getTokensInETH` came earlier from this external function
198:     function getTokensPriceFromUSD(

/// @audit public function `latestResolver` came earlier from this external function
/// @audit public function `getTokensInETH` came earlier from this external function
218:     function addTwapOracle(

/// @audit public function `latestResolver` came earlier from this external function
/// @audit public function `getTokensInETH` came earlier from this external function
266:     function addTwapOracleDerivative(

/// @audit public function `latestResolver` came earlier from this external function
/// @audit public function `getTokensInETH` came earlier from this external function
/// @audit public function `getTokensFromETH` came earlier from this external function
359:     function addOracle(

/// @audit public function `latestResolver` came earlier from this external function
/// @audit public function `getTokensInETH` came earlier from this external function
/// @audit public function `getTokensFromETH` came earlier from this external function
379:     function addOracleBulk(

/// @audit public function `latestResolver` came earlier from this external function
/// @audit public function `getTokensInETH` came earlier from this external function
/// @audit public function `getTokensFromETH` came earlier from this external function
403:     function addAggregator(

/// @audit public function `latestResolver` came earlier from this external function
/// @audit public function `getTokensInETH` came earlier from this external function
/// @audit public function `getTokensFromETH` came earlier from this external function
419:     function recalibratePreview(

/// @audit public function `latestResolver` came earlier from this external function
/// @audit public function `getTokensInETH` came earlier from this external function
/// @audit public function `getTokensFromETH` came earlier from this external function
/// @audit public function `chainLinkIsDead` came earlier from this external function
487:     function recalibrate(

/// @audit public function `latestResolver` came earlier from this external function
/// @audit public function `getTokensInETH` came earlier from this external function
/// @audit public function `getTokensFromETH` came earlier from this external function
/// @audit public function `chainLinkIsDead` came earlier from this external function
501:     function recalibrateBulk(

```
*Github:* [[85](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L85), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L96), [123](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L123), [171](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L171), [198](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L198), [218](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L218), [266](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L266), [359](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L359), [379](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L379), [403](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L403), [419](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L419), [487](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L487), [501](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L501)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

/// @audit a function was seen before constructor
42:     constructor(

/// @audit private function `_onlyWiseLending` came earlier from this external function
59:     function getLiveDebtRatio(

/// @audit private function `_onlyWiseLending` came earlier from this external function
85:     function setLiquidationSettings(

/// @audit private function `_onlyWiseLending` came earlier from this external function
105:     function checksLiquidation(

/// @audit private function `_onlyWiseLending` came earlier from this external function
142:     function prepareCurvePools(

/// @audit private function `_onlyWiseLending` came earlier from this external function
193:     function curveSecurityCheck(

/// @audit private function `_onlyWiseLending` came earlier from this external function
237:     function checksWithdraw(

/// @audit private function `_onlyWiseLending` came earlier from this external function
275:     function checksSolelyWithdraw(

/// @audit private function `_onlyWiseLending` came earlier from this external function
306:     function checksBorrow(

/// @audit private function `_onlyWiseLending` came earlier from this external function
335:     function checksCollateralizeDeposit(

/// @audit private function `_onlyWiseLending` came earlier from this external function
360:     function checkUncollateralizedDeposit(

/// @audit private function `_onlyWiseLending` came earlier from this external function
388:     function checkHealthState(

/// @audit private function `_onlyWiseLending` came earlier from this external function
405:     function checkBadDebtLiquidation(

/// @audit private function `_onlyWiseLending` came earlier from this external function
442:     function overallLendingAPY(

/// @audit private function `_onlyWiseLending` came earlier from this external function
499:     function overallBorrowAPY(

/// @audit private function `_onlyWiseLending` came earlier from this external function
556:     function overallNetAPY(

/// @audit private function `_onlyWiseLending` came earlier from this external function
641:     function safeLimitPosition(

/// @audit private function `_onlyWiseLending` came earlier from this external function
695:     function positionBlackListToken(

/// @audit private function `_onlyWiseLending` came earlier from this external function
764:     function maximumWithdrawToken(

/// @audit private function `_onlyWiseLending` came earlier from this external function
826:     function maximumWithdrawTokenSolely(

/// @audit private function `_onlyWiseLending` came earlier from this external function
868:     function maximumBorrowToken(

/// @audit private function `_onlyWiseLending` came earlier from this external function
906:     function getExpectedPaybackAmount(

/// @audit private function `_onlyWiseLending` came earlier from this public function
943:     function getExpectedLendingAmount(

/// @audit private function `_onlyWiseLending` came earlier from this external function
/// @audit public function `getExpectedLendingAmount` came earlier from this external function
980:     function setBlacklistToken(

/// @audit private function `_onlyWiseLending` came earlier from this external function
/// @audit public function `getExpectedLendingAmount` came earlier from this external function
995:     function setSecurityWorker(

/// @audit private function `_onlyWiseLending` came earlier from this external function
/// @audit public function `getExpectedLendingAmount` came earlier from this external function
1011:     function securityShutdown()

/// @audit private function `_onlyWiseLending` came earlier from this external function
/// @audit public function `getExpectedLendingAmount` came earlier from this external function
1032:     function revokeShutdown()

/// @audit private function `_onlyWiseLending` came earlier from this external function
/// @audit public function `getExpectedLendingAmount` came earlier from this external function
1045:     function checkPoolCondition(

/// @audit private function `_onlyWiseLending` came earlier from this external function
/// @audit public function `getExpectedLendingAmount` came earlier from this external function
1060:     function checkPoolWithMinDeposit(

/// @audit private function `_onlyWiseLending` came earlier from this external function
/// @audit public function `getExpectedLendingAmount` came earlier from this external function
1078:     function checkMinDepositValue(

/// @audit private function `_onlyWiseLending` came earlier from this external function
/// @audit public function `getExpectedLendingAmount` came earlier from this external function
/// @audit private function `_checkMinDepositValue` came earlier from this external function
1111:     function changeMinDepositValue(

```
*Github:* [[42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L42), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L59), [85](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L85), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L105), [142](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L142), [193](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L193), [237](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L237), [275](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L275), [306](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L306), [335](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L335), [360](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L360), [388](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L388), [405](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L405), [442](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L442), [499](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L499), [556](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L556), [641](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L641), [695](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L695), [764](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L764), [826](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L826), [868](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L868), [906](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L906), [943](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L943), [980](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L980), [995](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L995), [1011](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1011), [1032](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1032), [1045](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1045), [1060](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1060), [1078](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1078), [1111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1111)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

/// @audit internal function `_overallETHCollateralsWeighted` came earlier from this public function
190:     function getFullCollateralETH(

/// @audit internal function `_overallETHCollateralsWeighted` came earlier from this public function
/// @audit internal function `_isUncollateralized` came earlier from this public function
/// @audit internal function `_getCollateralOfTokenETHUpdated` came earlier from this public function
281:     function getETHCollateralUpdated(

/// @audit internal function `_overallETHCollateralsWeighted` came earlier from this public function
/// @audit internal function `_isUncollateralized` came earlier from this public function
/// @audit internal function `_getCollateralOfTokenETHUpdated` came earlier from this public function
323:     function getETHCollateral(

/// @audit internal function `_overallETHCollateralsWeighted` came earlier from this public function
/// @audit internal function `_isUncollateralized` came earlier from this public function
/// @audit internal function `_getCollateralOfTokenETHUpdated` came earlier from this public function
/// @audit internal function `_getTokensInEth` came earlier from this public function
360:     function overallETHBorrowBare(

/// @audit internal function `_overallETHCollateralsWeighted` came earlier from this public function
/// @audit internal function `_isUncollateralized` came earlier from this public function
/// @audit internal function `_getCollateralOfTokenETHUpdated` came earlier from this public function
/// @audit internal function `_getTokensInEth` came earlier from this public function
394:     function overallETHBorrowHeartbeat(

/// @audit internal function `_overallETHCollateralsWeighted` came earlier from this public function
/// @audit internal function `_isUncollateralized` came earlier from this public function
/// @audit internal function `_getCollateralOfTokenETHUpdated` came earlier from this public function
/// @audit internal function `_getTokensInEth` came earlier from this public function
430:     function overallETHBorrow(

/// @audit internal function `_overallETHCollateralsWeighted` came earlier from this public function
/// @audit internal function `_isUncollateralized` came earlier from this public function
/// @audit internal function `_getCollateralOfTokenETHUpdated` came earlier from this public function
/// @audit internal function `_getTokensInEth` came earlier from this public function
/// @audit internal function `_checkBlacklisted` came earlier from this public function
/// @audit internal function `_overallETHBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoPool` came earlier from this public function
/// @audit internal function `_getInterest` came earlier from this public function
/// @audit internal function `_getETHBorrowUpdated` came earlier from this public function
651:     function getETHBorrow(

/// @audit internal function `_overallETHCollateralsWeighted` came earlier from this public function
/// @audit internal function `_isUncollateralized` came earlier from this public function
/// @audit internal function `_getCollateralOfTokenETHUpdated` came earlier from this public function
/// @audit internal function `_getTokensInEth` came earlier from this public function
/// @audit internal function `_checkBlacklisted` came earlier from this public function
/// @audit internal function `_overallETHBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoPool` came earlier from this public function
/// @audit internal function `_getInterest` came earlier from this public function
/// @audit internal function `_getETHBorrowUpdated` came earlier from this public function
672:     function checkTokenAllowed(

/// @audit internal function `_overallETHCollateralsWeighted` came earlier from this public function
/// @audit internal function `_isUncollateralized` came earlier from this public function
/// @audit internal function `_getCollateralOfTokenETHUpdated` came earlier from this public function
/// @audit internal function `_getTokensInEth` came earlier from this public function
/// @audit internal function `_checkBlacklisted` came earlier from this public function
/// @audit internal function `_overallETHBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoPool` came earlier from this public function
/// @audit internal function `_getInterest` came earlier from this public function
/// @audit internal function `_getETHBorrowUpdated` came earlier from this public function
687:     function checkHeartbeat(

/// @audit public function `overallETHCollateralsBoth` came earlier from this external function
/// @audit public function `overallETHCollateralsWeighted` came earlier from this external function
/// @audit public function `overallETHCollateralsBare` came earlier from this external function
/// @audit internal function `_overallETHCollateralsWeighted` came earlier from this external function
/// @audit public function `getFullCollateralETH` came earlier from this external function
/// @audit internal function `_isUncollateralized` came earlier from this external function
/// @audit internal function `_getCollateralOfTokenETHUpdated` came earlier from this external function
/// @audit public function `getETHCollateralUpdated` came earlier from this external function
/// @audit public function `getETHCollateral` came earlier from this external function
/// @audit internal function `_getTokensInEth` came earlier from this external function
/// @audit public function `overallETHBorrowBare` came earlier from this external function
/// @audit public function `overallETHBorrowHeartbeat` came earlier from this external function
/// @audit public function `overallETHBorrow` came earlier from this external function
/// @audit internal function `_checkBlacklisted` came earlier from this external function
/// @audit internal function `_overallETHBorrow` came earlier from this external function
/// @audit internal function `_getUpdatedPseudoBorrow` came earlier from this external function
/// @audit internal function `_getUpdatedPseudoPool` came earlier from this external function
/// @audit internal function `_getInterest` came earlier from this external function
/// @audit internal function `_getETHBorrowUpdated` came earlier from this external function
/// @audit public function `getETHBorrow` came earlier from this external function
/// @audit public function `checkTokenAllowed` came earlier from this external function
/// @audit public function `checkHeartbeat` came earlier from this external function
/// @audit internal function `_checkPositionLocked` came earlier from this external function
716:     function checkMaxFee(

/// @audit public function `overallETHCollateralsBoth` came earlier from this external function
/// @audit public function `overallETHCollateralsWeighted` came earlier from this external function
/// @audit public function `overallETHCollateralsBare` came earlier from this external function
/// @audit internal function `_overallETHCollateralsWeighted` came earlier from this external function
/// @audit public function `getFullCollateralETH` came earlier from this external function
/// @audit internal function `_isUncollateralized` came earlier from this external function
/// @audit internal function `_getCollateralOfTokenETHUpdated` came earlier from this external function
/// @audit public function `getETHCollateralUpdated` came earlier from this external function
/// @audit public function `getETHCollateral` came earlier from this external function
/// @audit internal function `_getTokensInEth` came earlier from this external function
/// @audit public function `overallETHBorrowBare` came earlier from this external function
/// @audit public function `overallETHBorrowHeartbeat` came earlier from this external function
/// @audit public function `overallETHBorrow` came earlier from this external function
/// @audit internal function `_checkBlacklisted` came earlier from this external function
/// @audit internal function `_overallETHBorrow` came earlier from this external function
/// @audit internal function `_getUpdatedPseudoBorrow` came earlier from this external function
/// @audit internal function `_getUpdatedPseudoPool` came earlier from this external function
/// @audit internal function `_getInterest` came earlier from this external function
/// @audit internal function `_getETHBorrowUpdated` came earlier from this external function
/// @audit public function `getETHBorrow` came earlier from this external function
/// @audit public function `checkTokenAllowed` came earlier from this external function
/// @audit public function `checkHeartbeat` came earlier from this external function
/// @audit internal function `_checkPositionLocked` came earlier from this external function
/// @audit internal function `_checkMaxFee` came earlier from this external function
760:     function calculateWishPercentage(

/// @audit internal function `_overallETHCollateralsWeighted` came earlier from this public function
/// @audit internal function `_isUncollateralized` came earlier from this public function
/// @audit internal function `_getCollateralOfTokenETHUpdated` came earlier from this public function
/// @audit internal function `_getTokensInEth` came earlier from this public function
/// @audit internal function `_checkBlacklisted` came earlier from this public function
/// @audit internal function `_overallETHBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoPool` came earlier from this public function
/// @audit internal function `_getInterest` came earlier from this public function
/// @audit internal function `_getETHBorrowUpdated` came earlier from this public function
/// @audit internal function `_checkPositionLocked` came earlier from this public function
/// @audit internal function `_checkMaxFee` came earlier from this public function
/// @audit internal function `_checkHealthState` came earlier from this public function
/// @audit internal function `_getState` came earlier from this public function
837:     function checksRegister(

/// @audit internal function `_overallETHCollateralsWeighted` came earlier from this public function
/// @audit internal function `_isUncollateralized` came earlier from this public function
/// @audit internal function `_getCollateralOfTokenETHUpdated` came earlier from this public function
/// @audit internal function `_getTokensInEth` came earlier from this public function
/// @audit internal function `_checkBlacklisted` came earlier from this public function
/// @audit internal function `_overallETHBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoPool` came earlier from this public function
/// @audit internal function `_getInterest` came earlier from this public function
/// @audit internal function `_getETHBorrowUpdated` came earlier from this public function
/// @audit internal function `_checkPositionLocked` came earlier from this public function
/// @audit internal function `_checkMaxFee` came earlier from this public function
/// @audit internal function `_checkHealthState` came earlier from this public function
/// @audit internal function `_getState` came earlier from this public function
859:     function canLiquidate(

/// @audit internal function `_overallETHCollateralsWeighted` came earlier from this public function
/// @audit internal function `_isUncollateralized` came earlier from this public function
/// @audit internal function `_getCollateralOfTokenETHUpdated` came earlier from this public function
/// @audit internal function `_getTokensInEth` came earlier from this public function
/// @audit internal function `_checkBlacklisted` came earlier from this public function
/// @audit internal function `_overallETHBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoPool` came earlier from this public function
/// @audit internal function `_getInterest` came earlier from this public function
/// @audit internal function `_getETHBorrowUpdated` came earlier from this public function
/// @audit internal function `_checkPositionLocked` came earlier from this public function
/// @audit internal function `_checkMaxFee` came earlier from this public function
/// @audit internal function `_checkHealthState` came earlier from this public function
/// @audit internal function `_getState` came earlier from this public function
876:     function checkMaxShares(

/// @audit internal function `_overallETHCollateralsWeighted` came earlier from this public function
/// @audit internal function `_isUncollateralized` came earlier from this public function
/// @audit internal function `_getCollateralOfTokenETHUpdated` came earlier from this public function
/// @audit internal function `_getTokensInEth` came earlier from this public function
/// @audit internal function `_checkBlacklisted` came earlier from this public function
/// @audit internal function `_overallETHBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoPool` came earlier from this public function
/// @audit internal function `_getInterest` came earlier from this public function
/// @audit internal function `_getETHBorrowUpdated` came earlier from this public function
/// @audit internal function `_checkPositionLocked` came earlier from this public function
/// @audit internal function `_checkMaxFee` came earlier from this public function
/// @audit internal function `_checkHealthState` came earlier from this public function
/// @audit internal function `_getState` came earlier from this public function
906:     function checkBadDebtThreshold(

/// @audit internal function `_overallETHCollateralsWeighted` came earlier from this public function
/// @audit internal function `_isUncollateralized` came earlier from this public function
/// @audit internal function `_getCollateralOfTokenETHUpdated` came earlier from this public function
/// @audit internal function `_getTokensInEth` came earlier from this public function
/// @audit internal function `_checkBlacklisted` came earlier from this public function
/// @audit internal function `_overallETHBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoPool` came earlier from this public function
/// @audit internal function `_getInterest` came earlier from this public function
/// @audit internal function `_getETHBorrowUpdated` came earlier from this public function
/// @audit internal function `_checkPositionLocked` came earlier from this public function
/// @audit internal function `_checkMaxFee` came earlier from this public function
/// @audit internal function `_checkHealthState` came earlier from this public function
/// @audit internal function `_getState` came earlier from this public function
922:     function getPositionLendingAmount(

/// @audit internal function `_overallETHCollateralsWeighted` came earlier from this public function
/// @audit internal function `_isUncollateralized` came earlier from this public function
/// @audit internal function `_getCollateralOfTokenETHUpdated` came earlier from this public function
/// @audit internal function `_getTokensInEth` came earlier from this public function
/// @audit internal function `_checkBlacklisted` came earlier from this public function
/// @audit internal function `_overallETHBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoPool` came earlier from this public function
/// @audit internal function `_getInterest` came earlier from this public function
/// @audit internal function `_getETHBorrowUpdated` came earlier from this public function
/// @audit internal function `_checkPositionLocked` came earlier from this public function
/// @audit internal function `_checkMaxFee` came earlier from this public function
/// @audit internal function `_checkHealthState` came earlier from this public function
/// @audit internal function `_getState` came earlier from this public function
945:     function getPositionBorrowAmount(

/// @audit internal function `_overallETHCollateralsWeighted` came earlier from this public function
/// @audit internal function `_isUncollateralized` came earlier from this public function
/// @audit internal function `_getCollateralOfTokenETHUpdated` came earlier from this public function
/// @audit internal function `_getTokensInEth` came earlier from this public function
/// @audit internal function `_checkBlacklisted` came earlier from this public function
/// @audit internal function `_overallETHBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoPool` came earlier from this public function
/// @audit internal function `_getInterest` came earlier from this public function
/// @audit internal function `_getETHBorrowUpdated` came earlier from this public function
/// @audit internal function `_checkPositionLocked` came earlier from this public function
/// @audit internal function `_checkMaxFee` came earlier from this public function
/// @audit internal function `_checkHealthState` came earlier from this public function
/// @audit internal function `_getState` came earlier from this public function
966:     function checkOwnerPosition(

/// @audit internal function `_overallETHCollateralsWeighted` came earlier from this public function
/// @audit internal function `_isUncollateralized` came earlier from this public function
/// @audit internal function `_getCollateralOfTokenETHUpdated` came earlier from this public function
/// @audit internal function `_getTokensInEth` came earlier from this public function
/// @audit internal function `_checkBlacklisted` came earlier from this public function
/// @audit internal function `_overallETHBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoPool` came earlier from this public function
/// @audit internal function `_getInterest` came earlier from this public function
/// @audit internal function `_getETHBorrowUpdated` came earlier from this public function
/// @audit internal function `_checkPositionLocked` came earlier from this public function
/// @audit internal function `_checkMaxFee` came earlier from this public function
/// @audit internal function `_checkHealthState` came earlier from this public function
/// @audit internal function `_getState` came earlier from this public function
985:     function getBorrowRate(

/// @audit internal function `_overallETHCollateralsWeighted` came earlier from this public function
/// @audit internal function `_isUncollateralized` came earlier from this public function
/// @audit internal function `_getCollateralOfTokenETHUpdated` came earlier from this public function
/// @audit internal function `_getTokensInEth` came earlier from this public function
/// @audit internal function `_checkBlacklisted` came earlier from this public function
/// @audit internal function `_overallETHBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoBorrow` came earlier from this public function
/// @audit internal function `_getUpdatedPseudoPool` came earlier from this public function
/// @audit internal function `_getInterest` came earlier from this public function
/// @audit internal function `_getETHBorrowUpdated` came earlier from this public function
/// @audit internal function `_checkPositionLocked` came earlier from this public function
/// @audit internal function `_checkMaxFee` came earlier from this public function
/// @audit internal function `_checkHealthState` came earlier from this public function
/// @audit internal function `_getState` came earlier from this public function
999:     function getLendingRate(

```
*Github:* [[190](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L190), [281](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L281), [323](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L323), [360](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L360), [394](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L394), [430](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L430), [651](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L651), [672](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L672), [687](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L687), [716](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L716), [760](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L760), [837](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L837), [859](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L859), [876](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L876), [906](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L906), [922](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L922), [945](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L945), [966](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L966), [985](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L985), [999](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L999)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

/// @audit internal function `_validToken` came earlier from this public function
/// @audit internal function `_nonReentrantCheck` came earlier from this public function
/// @audit internal function `_reservePosition` came earlier from this public function
/// @audit internal function `_wrapDepositExactAmount` came earlier from this public function
/// @audit internal function `_wrapWithdrawExactAmount` came earlier from this public function
/// @audit internal function `_wrapWithdrawExactShares` came earlier from this public function
/// @audit internal function `_wrapBorrowExactAmount` came earlier from this public function
/// @audit internal function `_wrapAaveReturnValueDeposit` came earlier from this public function
/// @audit internal function `_sendValue` came earlier from this public function
/// @audit internal function `_getInfoPayback` came earlier from this public function
/// @audit private function `_prepareCollaterals` came earlier from this public function
/// @audit private function `_prepareBorrows` came earlier from this public function
315:     function getAavePoolAPY(

```
*Github:* [[315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L315)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

/// @audit a function was seen before receive()
/// @audit a function was seen before receive()
83:     receive()

/// @audit public function `depositExactAmount` came earlier from this external function
158:     function depositExactAmountETHMint()

/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `depositExactAmountETH` came earlier from this external function
202:     function withdrawExactAmount(

/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `depositExactAmountETH` came earlier from this external function
238:     function withdrawExactAmountETH(

/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `depositExactAmountETH` came earlier from this external function
281:     function withdrawExactShares(

/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `depositExactAmountETH` came earlier from this external function
314:     function withdrawExactSharesETH(

/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `depositExactAmountETH` came earlier from this external function
357:     function borrowExactAmount(

/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `depositExactAmountETH` came earlier from this external function
393:     function borrowExactAmountETH(

/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `depositExactAmountETH` came earlier from this external function
433:     function paybackExactAmount(

/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `depositExactAmountETH` came earlier from this external function
482:     function paybackExactAmountETH(

/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `depositExactAmountETH` came earlier from this external function
556:     function paybackExactShares(

/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `depositExactAmountETH` came earlier from this external function
611:     function skimAave(

/// @audit public function `depositExactAmount` came earlier from this external function
/// @audit public function `depositExactAmountETH` came earlier from this external function
635:     function getLendingRate(

```
*Github:* [[83](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L83), [158](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L158), [202](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L202), [238](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L238), [281](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L281), [314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L314), [357](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L357), [393](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L393), [433](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L433), [482](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L482), [556](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L556), [611](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L611), [635](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L635)]


```solidity
File: contracts/WrapperHub/Declarations.sol

/// @audit internal function `_checkOwner` came earlier from this external function
/// @audit internal function `_checkPositionLocked` came earlier from this external function
105:     function setWiseSecurity(

```
*Github:* [[105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L105)]


</details>


<a name="NC-33"></a> 
### [NC-33] Functions with array parameters should have length checks in place

<details>
<summary>
There are <b>14</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/FeeManager.sol

/// @audit `_underlyingTokens`
82:     function setAaveFlagBulk(

/// @audit `_newFees`
135:     function setPoolFeeBulk(

```
*Github:* [[82](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L82), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L135)]


```solidity
File: contracts/MainHelper.sol

/// @audit `_lendTokens`
/// @audit `_borrowTokens`
454:     function _curveSecurityChecks(

```
*Github:* [[454](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L454)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

/// @audit `_flashloanAmounts`
/// @audit `_feeAmounts`
59:     function receiveFlashLoan(

```
*Github:* [[59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L59)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

/// @audit `_proof`
431:     function claimArb(

/// @audit `_amounts`
497:     function increaseReservedForCompound(

/// @audit `_merkleProof`
581:     function claimVoteRewards(

```
*Github:* [[431](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L431), [497](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L497), [581](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L581)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

/// @audit `rewardTokensToCompare`
217:     function _compareHashes(

/// @audit `_rewardTokens`
236:     function _setRewardTokens(

```
*Github:* [[217](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L217), [236](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L236)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

/// @audit `_underlyingFeedTokens`
12:     function _addOracle(

```
*Github:* [[12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L12)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

/// @audit `_token0Array`
/// @audit `_token1Array`
/// @audit `_feeArray`
266:     function addTwapOracleDerivative(

/// @audit `_underlyingFeedTokens`
359:     function addOracle(

/// @audit `_priceFeedAddresses`
/// @audit `_underlyingFeedTokens`
379:     function addOracleBulk(

```
*Github:* [[266](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L266), [359](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L359), [379](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L379)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

/// @audit `_underlyingAssets`
/// @audit `_aaveTokens`
64:     function setAaveTokenAddressBulk(

```
*Github:* [[64](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L64)]


</details>


<a name="NC-34"></a> 
### [NC-34] Variable names for `immutable`s should use CONSTANT_CASE
For `immutable` variable names, each word should use all capital letters, with underscores separating each word (CONSTANT_CASE)

*There are <b>3</b> instances of this issue:*
```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

54:     address public immutable aaveTokenAddresses;

55:     address public immutable borrowTokenAddresses;

```
*Github:* [[54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L54), [55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L55)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

85:     uint8 internal immutable _decimalsWETH;

```
*Github:* [[85](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L85)]



<a name="NC-35"></a> 
### [NC-35] Import declarations should import specific identifiers, rather than the whole file
Using import declarations of the form `import {<identifier_name>} from "some/file.sol"` avoids polluting the symbol namespace making flattened files smaller, and speeds up compilation (but does not save any gas).

<details>
<summary>
There are <b>115</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

3: import "./CustomOracleSetup.sol";

5: import "../InterfaceHub/IPendle.sol";

6: import "../InterfaceHub/IPriceFeed.sol";

```
*Github:* [[3](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L3), [5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L5), [6](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L6)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

16: import "../InterfaceHub/IPendle.sol";

17: import "../InterfaceHub/IPriceFeed.sol";

18: import "../InterfaceHub/IOraclePendle.sol";

```
*Github:* [[16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L17), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L18)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

16: import "../InterfaceHub/IPriceFeed.sol";

17: import "../InterfaceHub/IOraclePendle.sol";

```
*Github:* [[16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L17)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

16: import "../InterfaceHub/IPriceFeed.sol";

17: import "../InterfaceHub/IOraclePendle.sol";

```
*Github:* [[16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L17)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

5: import "../InterfaceHub/IAave.sol";

6: import "../InterfaceHub/IERC20.sol";

7: import "../InterfaceHub/IWiseLending.sol";

8: import "../InterfaceHub/IFeeManager.sol";

9: import "../InterfaceHub/IWiseSecurity.sol";

10: import "../InterfaceHub/IPositionNFTs.sol";

11: import "../InterfaceHub/IWiseOracleHub.sol";

13: import "../OwnableMaster.sol";

14: import "./FeeManagerEvents.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L5), [6](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L6), [7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L7), [8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L8), [9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L9), [10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L10), [11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L11), [13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L13), [14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L14)]


```solidity
File: contracts/FeeManager/FeeManager.sol

11: import "./FeeManagerHelper.sol";

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L11)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

5: import "./DeclarationsFeeManager.sol";

6: import "../TransferHub/TransferHelper.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L5), [6](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L6)]


```solidity
File: contracts/MainHelper.sol

5: import "./WiseLowLevelHelper.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L5)]


```solidity
File: contracts/PoolManager.sol

5: import "./WiseCore.sol";

6: import "./Babylonian.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L5), [6](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L6)]


```solidity
File: contracts/PositionNFTs.sol

5: import "@openzeppelin/contracts/token/ERC721/extensions/ERC721Enumerable.sol";

7: import "./OwnableMaster.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L5), [7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

5: import "./PendlePowerFarmLeverageLogic.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L5)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

5: import "../../InterfaceHub/IERC20.sol";

6: import "../../InterfaceHub/IAave.sol";

7: import "../../InterfaceHub/IPendle.sol";

8: import "../../InterfaceHub/IAaveHub.sol";

9: import "../../InterfaceHub/IWiseLending.sol";

10: import "../../InterfaceHub/IStETH.sol";

11: import "../../InterfaceHub/IWiseSecurity.sol";

12: import "../../InterfaceHub/IPositionNFTs.sol";

13: import "../../InterfaceHub/IWiseOracleHub.sol";

14: import "../../InterfaceHub/IBalancerFlashloan.sol";

15: import "../../InterfaceHub/ICurve.sol";

16: import "../../InterfaceHub/IUniswapV3.sol";

18: import "../../TransferHub/WrapperHelper.sol";

19: import "../../TransferHub/TransferHelper.sol";

20: import "../../TransferHub/ApprovalHelper.sol";

21: import "../../TransferHub/SendValueHelper.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L5), [6](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L6), [7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L7), [8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L8), [9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L9), [10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L10), [11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L11), [12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L12), [13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L13), [14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L14), [15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L15), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L16), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L18), [19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L19), [20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L20), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L21)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

5: import "./PendlePowerFarmMathLogic.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L5)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

5: import "./PendlePowerFarmDeclarations.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L5)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

11: import "./PendlePowerFarm.sol";

12: import "../../OwnableMaster.sol";

13: import "../PowerFarmNFTs/MinterReserver.sol";

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L11), [12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L12), [13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L13)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

5: import "./PendlePowerFarmTokenFactory.sol";

6: import "./PendlePowerFarmControllerHelper.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L5), [6](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L6)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

5: import "../../OwnableMaster.sol";

7: import "../../TransferHub/TransferHelper.sol";

8: import "../../TransferHub/ApprovalHelper.sol";

10: import "../../InterfaceHub/IPendle.sol";

11: import "../../InterfaceHub/IArbRewardsClaimer.sol";

12: import "../../InterfaceHub/IWiseOracleHub.sol";

13: import "../../InterfaceHub/IPendlePowerFarmToken.sol";

14: import "../../InterfaceHub/IPendlePowerFarmTokenFactory.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L5), [7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L7), [8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L8), [10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L10), [11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L11), [12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L12), [13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L13), [14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L14)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

5: import "./PendlePowerFarmControllerBase.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L5)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

5: import "./SimpleERC20Clone.sol";

7: import "../../InterfaceHub/IPendle.sol";

8: import "../../InterfaceHub/IPendleController.sol";

10: import "../../TransferHub/TransferHelper.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L5), [7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L7), [8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L8), [10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L10)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

5: import "./PendlePowerFarmToken.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L5)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

5: import "../../InterfaceHub/IPowerFarmsNFTs.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L5)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

11: import "../../OwnableMaster.sol";

12: import "@openzeppelin/contracts/token/ERC721/extensions/ERC721Enumerable.sol";

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L11), [12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L12)]


```solidity
File: contracts/TransferHub/ApprovalHelper.sol

5: import "./CallOptionalReturn.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/ApprovalHelper.sol#L5)]


```solidity
File: contracts/TransferHub/CallOptionalReturn.sol

5: import "../InterfaceHub/IERC20.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/CallOptionalReturn.sol#L5)]


```solidity
File: contracts/TransferHub/TransferHelper.sol

5: import "./CallOptionalReturn.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/TransferHelper.sol#L5)]


```solidity
File: contracts/TransferHub/WrapperHelper.sol

5: import "../InterfaceHub/IWETH.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L5)]


```solidity
File: contracts/WiseCore.sol

5: import "./MainHelper.sol";

6: import "./TransferHub/TransferHelper.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L5), [6](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L6)]


```solidity
File: contracts/WiseLending.sol

11: import "./PoolManager.sol";

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L11)]


```solidity
File: contracts/WiseLendingDeclaration.sol

5: import "./OwnableMaster.sol";

7: import "./InterfaceHub/IAaveHubLite.sol";

8: import "./InterfaceHub/IPositionNFTs.sol";

9: import "./InterfaceHub/IWiseSecurity.sol";

10: import "./InterfaceHub/IWiseOracleHub.sol";

11: import "./InterfaceHub/IFeeManagerLight.sol";

13: import "./TransferHub/WrapperHelper.sol";

14: import "./TransferHub/SendValueHelper.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L5), [7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L7), [8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L8), [9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L9), [10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L10), [11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L11), [13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L13), [14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L14)]


```solidity
File: contracts/WiseLowLevelHelper.sol

5: import "./WiseLendingDeclaration.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L5)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

5: import "../InterfaceHub/IERC20.sol";

6: import "../InterfaceHub/IPriceFeed.sol";

7: import "../InterfaceHub/IAggregator.sol";

9: import "./Libraries/IUniswapV3Factory.sol";

10: import "./Libraries/OracleLibrary.sol";

12: import "../OwnableMaster.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L5), [6](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L6), [7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L7), [9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L9), [10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L10), [12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L12)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

5: import "./Declarations.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L5)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

11: import "./OracleHelper.sol";

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L11)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

11: import "./WiseSecurityHelper.sol";

12: import "../TransferHub/ApprovalHelper.sol";

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L11), [12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L12)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

5: import "../InterfaceHub/IERC20.sol";

6: import "../InterfaceHub/ICurve.sol";

7: import "../InterfaceHub/IPositionNFTs.sol";

8: import "../InterfaceHub/IWiseOracleHub.sol";

9: import "../InterfaceHub/IFeeManager.sol";

10: import "../InterfaceHub/IWiseLending.sol";

11: import "../InterfaceHub/IWiseLiquidation.sol";

16: import "../FeeManager/FeeManager.sol";

17: import "../OwnableMaster.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L5), [6](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L6), [7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L7), [8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L8), [9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L9), [10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L10), [11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L11), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L17)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

5: import "./WiseSecurityDeclarations.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L5)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

5: import "./Declarations.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L5)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

11: import "./AaveHelper.sol";

12: import "../TransferHub/TransferHelper.sol";

13: import "../TransferHub/ApprovalHelper.sol";

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L11), [12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L12), [13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L13)]


```solidity
File: contracts/WrapperHub/Declarations.sol

5: import "./AaveEvents.sol";

7: import "../InterfaceHub/IAave.sol";

8: import "../InterfaceHub/IWiseLending.sol";

9: import "../InterfaceHub/IWiseSecurity.sol";

10: import "../InterfaceHub/IPositionNFTs.sol";

12: import "../OwnableMaster.sol";

13: import "../TransferHub/WrapperHelper.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L5), [7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L7), [8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L8), [9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L9), [10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L10), [12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L12), [13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L13)]


</details>


<a name="NC-36"></a> 
### [NC-36] Imports could be organized more systematically
The contract's interface should be imported first, followed by each of the interfaces it uses, followed by all other files. The examples below do not follow this layout.

<details>
<summary>
There are <b>18</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

5: import "../InterfaceHub/IPendle.sol";

6: import "../InterfaceHub/IPriceFeed.sol";

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L5), [6](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L6)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

10: import "../../InterfaceHub/IPendle.sol";

11: import "../../InterfaceHub/IArbRewardsClaimer.sol";

12: import "../../InterfaceHub/IWiseOracleHub.sol";

13: import "../../InterfaceHub/IPendlePowerFarmToken.sol";

14: import "../../InterfaceHub/IPendlePowerFarmTokenFactory.sol";

```
*Github:* [[10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L10), [11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L11), [12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L12), [13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L13), [14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L14)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

7: import "../../InterfaceHub/IPendle.sol";

8: import "../../InterfaceHub/IPendleController.sol";

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L7), [8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L8)]


```solidity
File: contracts/WiseLendingDeclaration.sol

7: import "./InterfaceHub/IAaveHubLite.sol";

8: import "./InterfaceHub/IPositionNFTs.sol";

9: import "./InterfaceHub/IWiseSecurity.sol";

10: import "./InterfaceHub/IWiseOracleHub.sol";

11: import "./InterfaceHub/IFeeManagerLight.sol";

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L7), [8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L8), [9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L9), [10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L10), [11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L11)]


```solidity
File: contracts/WrapperHub/Declarations.sol

7: import "../InterfaceHub/IAave.sol";

8: import "../InterfaceHub/IWiseLending.sol";

9: import "../InterfaceHub/IWiseSecurity.sol";

10: import "../InterfaceHub/IPositionNFTs.sol";

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L7), [8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L8), [9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L9), [10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L10)]


</details>


<a name="NC-37"></a> 
### [NC-37] Incorrect withdraw declaration
In Solidity, it's essential for clarity and interoperability to correctly specify return types in function declarations. If the `withdraw` function is expected to return a `bool` to indicate success or failure, its omission could lead to ambiguity or unexpected behavior when interacting with or calling this function from other contracts or off-chain systems. Missing return values can mislead developers and potentially lead to contract integrations built on incorrect assumptions. To resolve this, the function declaration for withdraw should be modified to explicitly include the `bool` return type, ensuring clarity and correctness in contract interactions.

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

32:     function withdrawLp(
            address _pendleMarket,
            address _to,
            uint256 _amount
        )
            external
            onlyChildContract(_pendleMarket)
        {

```
*Github:* [[32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L32)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

359:     function _withdrawLp(
             address _to,
             uint256 _amount
         )
             internal
         {

```
*Github:* [[359](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L359)]



<a name="NC-38"></a> 
### [NC-38] Invalid NatSpec comment style
NatSpec must begin with `///` or use `/* ... */` syntax

*There are <b>3</b> instances of this issue:*
```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

563:         // @TODO: Add a check for TWAP comparison on 2.5%

```
*Github:* [[563](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L563)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

95:     // @TODO: Delete later, keep for backward compatibility

170:     // @TODO: Delete later, keep for backward compatibility

```
*Github:* [[95](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L95), [170](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L170)]



<a name="NC-39"></a> 
### [NC-39] It is best practice to use linear inheritance
In Solidity, complex inheritance structures can obfuscate code understanding, introducing potential security risks. Multiple inheritance, especially with overlapping function names or state variables, can cause unintentional overrides or ambiguous behavior. 

Resolution: Strive for linear and simple inheritance chains. Avoid diamond or circular inheritance patterns. Clearly document the purpose and relationships of base contracts, ensuring that overrides are intentional. Tools like Remix or Hardhat can visualize inheritance chains, assisting in verification. Keeping inheritance streamlined aids in better code readability, reduces potential errors, and ensures smoother audits and upgrades.

<details>
<summary>
There are <b>14</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

31: contract DeclarationsFeeManager is FeeManagerEvents, OwnableMaster {

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L31)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

8: abstract contract FeeManagerHelper is DeclarationsFeeManager, TransferHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L8)]


```solidity
File: contracts/PositionNFTs.sol

11: contract PositionNFTs is ERC721Enumerable, OwnableMaster {

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L11)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

36: contract PendlePowerFarmDeclarations is
        WrapperHelper,
        TransferHelper,
        ApprovalHelper,
        SendValueHelper

```
*Github:* [[36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L36)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

7: abstract contract PendlePowerFarmLeverageLogic is
       PendlePowerFarmMathLogic,
       IFlashLoanRecipient

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

15: contract PendlePowerManager is OwnableMaster, PendlePowerFarm, MinterReserver {

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L15)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

30: contract PendlePowerFarmControllerBase is
        OwnableMaster,
        TransferHelper,
        ApprovalHelper

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L30)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

25: contract PendlePowerFarmToken is SimpleERC20, TransferHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L25)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

24: contract PowerFarmNFTs is ERC721Enumerable, OwnableMaster {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L24)]


```solidity
File: contracts/WiseCore.sol

8: abstract contract WiseCore is MainHelper, TransferHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L8)]


```solidity
File: contracts/WiseLendingDeclaration.sol

30: contract WiseLendingDeclaration is
        OwnableMaster,
        WrapperHelper,
        SendValueHelper

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L30)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

24: contract WiseSecurity is WiseSecurityHelper, ApprovalHelper {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L24)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

25: contract AaveHub is AaveHelper, TransferHelper, ApprovalHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L25)]


```solidity
File: contracts/WrapperHub/Declarations.sol

21: contract Declarations is OwnableMaster, AaveEvents, WrapperHelper {

```
*Github:* [[21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L21)]


</details>


<a name="NC-40"></a> 
### [NC-40] Lack of brace spacing
Lack of brace spacing in coding refers to the absence of spaces around braces, which can hinder code readability. In Solidity, as in many programming languages, spacing can enhance the visual distinction between different parts of the code, making it easier to follow. A lack of spacing can lead to a dense, confusing appearance. The resolution to this issue is to follow a consistent style guide that defines rules for brace spacing. By including spaces around braces, such as `{ statement }` instead of `{statement}`, developers can ensure that the code is more legible and maintainable, especially in larger codebases.

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

208:         ) = curvePool.call{value: 0} (

225:         ) = curveMeta.call{value: 0} (

```
*Github:* [[208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L208), [225](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L225)]



<a name="NC-41"></a> 
### [NC-41] Large or complicated code bases should implement invariant tests
This includes: large code bases, or code with lots of inline-assembly, complicated math, or complicated interactions between multiple contracts. Invariant fuzzers such as Echidna require the test writer to come up with invariants which should not be violated under any circumstances, and the fuzzer tests various inputs and function calls to ensure that the invariants always hold. Even code with 100% code coverage can still have bugs due to the order of the operations a user performs, and invariant fuzzers may help significantly.

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/)]



<a name="NC-42"></a> 
### [NC-42] Large numeric literals should use underscores for readability
Large hardcoded numbers in code can be difficult to read. Consider using underscores for number literals to improve readability (e.g `1234567` -> `1_234_567`). Consider using an underscore for every third digit from the right.

<details>
<summary>
There are <b>11</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

93:         incentiveUSD[incentiveOwnerA] = 98000 * PRECISION_FACTOR_E18;

94:         incentiveUSD[incentiveOwnerB] = 106500 * PRECISION_FACTOR_E18;

```
*Github:* [[93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L93), [94](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L94)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

105:     uint256 internal constant ARB_CHAIN_ID = 42161;

```
*Github:* [[105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L105)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

54:     uint256 internal constant ARBITRUM_CHAIN_ID = 42161;

122:         exchangeIncentive = 50000;

```
*Github:* [[54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L54), [122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L122)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

54:     uint256 private constant MAX_MINT_FEE = 10000;

730:         mintFee = 3000;

```
*Github:* [[54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L54), [730](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L730)]


```solidity
File: contracts/WiseLendingDeclaration.sol

307:     uint256 internal constant NORMALISATION_FACTOR = 4838400;

```
*Github:* [[307](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L307)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

112:     uint256 internal ALLOWED_DIFFERENCE = 10250;

121:     uint256 internal constant GRACE_PEROID = 3600;

134:     uint256 internal constant ARBITRUM_CHAIN_ID = 42161;

```
*Github:* [[112](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L112), [121](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L121), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L134)]


</details>


<a name="NC-43"></a> 
### [NC-43] Long functions should be refactored into multiple, smaller, functions

<details>
<summary>
There are <b>38</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

/// @audit 52 lines
24:     constructor(
            address _pendleMarketAddress,
            IPriceFeed _priceFeedChainLinkUsd,
            IPriceFeed _priceFeedChainLinkEthUsd,
            IOraclePendle _oraclePendlePt,
            string memory _oracleName,
            uint32 _twapDuration
        )
        {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L24)]


```solidity
File: contracts/FeeManager/FeeManager.sol

/// @audit 54 lines
628:     function claimWiseFees(
             address _poolToken
         )
             public
         {

/// @audit 79 lines
730:     function paybackBadDebtForToken(
             uint256 _nftId,
             address _paybackToken,
             address _receivingToken,
             uint256 _shares
         )
             external
             returns (
                 uint256 paybackAmount,
                 uint256 receivingAmount
             )
         {

```
*Github:* [[628](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L628), [730](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L730)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

/// @audit 55 lines
134:     function _updateUserBadDebt(
             uint256 _nftId
         )
             internal
         {

```
*Github:* [[134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L134)]


```solidity
File: contracts/MainHelper.sol

/// @audit 77 lines
500:     function _updatePseudoTotalAmounts(
             address _poolToken
         )
             private
         {

/// @audit 60 lines
667:     function _removePositionData(
             uint256 _nftId,
             address _poolToken,
             function(uint256) view returns (uint256) _getPositionTokenLength,
             function(uint256, uint256) view returns (address) _getPositionTokenByIndex,
             function(uint256, address) internal _deleteLastPositionData,
             bool isLending
         )
             private
         {

```
*Github:* [[500](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L500), [667](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L667)]


```solidity
File: contracts/PoolManager.sol

/// @audit 73 lines
25:     function setParamsLASA(
            address _poolToken,
            uint256 _poolMulFactor,
            uint256 _upperBoundMaxRate,
            uint256 _lowerBoundMaxRate,
            bool _steppingDirection,
            bool _isFinal
        )
            external
            onlyMaster
        {

/// @audit 111 lines
164:     function _createPool(
             CreatePool calldata _params
         )
             private
         {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L25), [164](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L164)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

/// @audit 80 lines
274:     function _doApprovals(
             address _wiseLendingAddress
         )
             internal
         {

```
*Github:* [[274](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L274)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

/// @audit 70 lines
59:     function receiveFlashLoan(
            IERC20[] memory _flashloanToken,
            uint256[] memory _flashloanAmounts,
            uint256[] memory _feeAmounts,
            bytes memory _userData
        )
            external
        {

/// @audit 96 lines
134:     function _logicClosePosition(
             uint256 _nftId,
             uint256 _borrowShares,
             uint256 _lendingShares,
             uint256 _totalDebtBalancer,
             uint256 _allowedSpread,
             address _caller,
             bool _ethBack,
             bool _isAave
         )
             private
         {

/// @audit 115 lines
414:     function _logicOpenPosition(
             bool _isAave,
             uint256 _nftId,
             uint256 _depositAmount,
             uint256 _totalDebtBalancer,
             uint256 _allowedSpread
         )
             internal
         {

```
*Github:* [[59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L59), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L134), [414](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L414)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

/// @audit 58 lines
53:     function exchangeRewardsForCompoundingWithIncentive(
            address _pendleMarket,
            address _rewardToken,
            uint256 _rewardAmount
        )
            external
            syncSupply(_pendleMarket)
            returns (uint256)
        {

/// @audit 57 lines
113:     function exchangeLpFeesForPendleWithIncentive(
             address _pendleMarket,
             uint256 _pendleChildShares
         )
             external
             syncSupply(_pendleMarket)
             returns (
                 uint256,
                 uint256
             )
         {

/// @audit 80 lines
211:     function addPendleMarket(
             address _pendleMarket,
             string memory _tokenName,
             string memory _symbolName,
             uint16 _maxCardinality
         )
             external
             onlyMaster
         {

/// @audit 65 lines
364:     function lockPendle(
             uint256 _amount,
             uint128 _weeks,
             bool _fromInside,
             bool _sameExpiry
         )
             external
             onlyMaster
             returns (uint256 newVeBalance)
         {

```
*Github:* [[53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L53), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L113), [211](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L211), [364](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L364)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit 85 lines
218:     function _calculateRewardsClaimedOutside()
             internal
             returns (uint256[] memory)
         {

/// @audit 61 lines
529:     function depositExactAmount(
             uint256 _underlyingLpAssetAmount
         )
             external
             syncSupply
             returns (
                 uint256,
                 uint256
             )
         {

```
*Github:* [[218](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L218), [529](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L529)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

/// @audit 53 lines
56:     function _clone(
            address _underlyingPendleMarket,
            string memory _tokenName,
            string memory _symbolName,
            uint16 _maxCardinality
        )
            private
            returns (address pendlePowerFarmTokenAddress)
        {

```
*Github:* [[56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L56)]


```solidity
File: contracts/WiseCore.sol

/// @audit 56 lines
44:     function _coreWithdrawToken(
            address _caller,
            uint256 _nftId,
            address _poolToken,
            uint256 _amount,
            uint256 _shares,
            bool _onBehalf
        )
            internal
        {

/// @audit 60 lines
106:     function _handleDeposit(
             address _caller,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             internal
             returns (uint256)
         {

/// @audit 72 lines
349:     function _coreBorrowTokens(
             address _caller,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount,
             uint256 _shares,
             bool _onBehalf
         )
             internal
         {

/// @audit 76 lines
460:     function _withdrawOrAllocateSharesLiquidation(
             uint256 _nftId,
             uint256 _nftIdLiquidator,
             address _poolToken,
             uint256 _percentWishCollateral
         )
             private
             returns (uint256)
         {

/// @audit 59 lines
543:     function _calculateReceiveAmount(
             uint256 _nftId,
             uint256 _nftIdLiquidator,
             address _receiveTokens,
             uint256 _removePercentage
         )
             private
             returns (uint256 receiveAmount)
         {

/// @audit 61 lines
625:     function _coreLiquidation(
             CoreLiquidationStruct memory _data
         )
             internal
             returns (uint256 receiveAmount)
         {

```
*Github:* [[44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L44), [106](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L106), [349](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L349), [460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L460), [543](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L543), [625](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L625)]


```solidity
File: contracts/WiseLending.sol

/// @audit 67 lines
1088:     function paybackExactAmountETH(
              uint256 _nftId
          )
              external
              payable
              syncPool(WETH_ADDRESS)
              returns (uint256)
          {

/// @audit 59 lines
1250:     function liquidatePartiallyFromTokens(
              uint256 _nftId,
              uint256 _nftIdLiquidator,
              address _paybackToken,
              address _receiveToken,
              uint256 _shareAmountToPay
          )
              external
              syncPool(_paybackToken)
              syncPool(_receiveToken)
              returns (uint256)
          {

```
*Github:* [[1088](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1088), [1250](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1250)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

/// @audit 60 lines
592:     function _recalibratePreview(
             address _tokenAddress
         )
             internal
             view
             returns (uint256)
         {

```
*Github:* [[592](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L592)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

/// @audit 55 lines
266:     function addTwapOracleDerivative(
             address _tokenAddress,
             address _partnerTokenAddress,
             address[2] calldata _uniPools,
             address[2] calldata _token0Array,
             address[2] calldata _token1Array,
             uint24[2] calldata _feeArray
         )
             external
             onlyMaster
         {

```
*Github:* [[266](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L266)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

/// @audit 51 lines
442:     function overallLendingAPY(
             uint256 _nftId
         )
             external
             view
             returns (uint256)
         {

/// @audit 51 lines
499:     function overallBorrowAPY(
             uint256 _nftId
         )
             external
             view
             returns (uint256)
         {

/// @audit 79 lines
556:     function overallNetAPY(
             uint256 _nftId
         )
             external
             view
             returns (uint256, bool)
         {

/// @audit 62 lines
695:     function positionBlackListToken(
             uint256 _nftId
         )
             external
             view
             returns (bool, address)
         {

/// @audit 55 lines
764:     function maximumWithdrawToken(
             uint256 _nftId,
             address _poolToken,
             uint256 _interval,
             uint256 _solelyWithdrawAmount
         )
             external
             view
             returns (uint256)
         {

```
*Github:* [[442](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L442), [499](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L499), [556](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L556), [695](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L695), [764](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L764)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

/// @audit 63 lines
52:     constructor(
            address _master,
            address _wiseLendingAddress,
            address _aaveHubAddress
        )
            OwnableMaster(
                _master
            )
        {

/// @audit 63 lines
118:     function _setLiquidationSettings(
             uint256 _baseReward,
             uint256 _baseRewardFarm,
             uint256 _newMaxFeeETH,
             uint256 _newMaxFeeFarmETH
         )
             internal
         {

```
*Github:* [[52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L52), [118](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L118)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

/// @audit 68 lines
482:     function paybackExactAmountETH(
             uint256 _nftId
         )
             external
             payable
             nonReentrant
             returns (uint256)
         {

/// @audit 53 lines
556:     function paybackExactShares(
             uint256 _nftId,
             address _underlyingAsset,
             uint256 _shares
         )
             external
             nonReentrant
             validToken(_underlyingAsset)
             returns (uint256)
         {

```
*Github:* [[482](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L482), [556](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L556)]


</details>


<a name="NC-44"></a> 
### [NC-44] Magic numbers should be replaced with constants
Magic numbers are hard-coded values in code that can make it difficult for developers and maintainers to understand the code, and can also cause confusion or errors. To improve the readability and maintainability of code, it is recommended to replace magic numbers with constants that have good readability.

<details>
<summary>
There are <b>61</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

// @audit `0x0`
30:         master = address(0x0);

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L30)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

// @audit `10`
38:         POW_USD_FEED = 10 ** USD_FEED_ASSET.decimals();

// @audit `10`
39:         POW_ETH_USD_FEED = 10 ** ETH_FEED_ASSET.decimals();

```
*Github:* [[38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L38), [39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L39)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

// @audit `10`
35:         POW_FEED = 10 ** FEED_ASSET.decimals();

```
*Github:* [[35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L35)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

// @audit `5`
88:         paybackIncentive = 5 * PRECISION_FACTOR_E16;

// @audit `0xf69A0e276664997357BF987df83f32a1a3F80944`
90:         incentiveOwnerA = 0xf69A0e276664997357BF987df83f32a1a3F80944;

// @audit `0x8f741ea9C9ba34B5B8Afc08891bDf53faf4B3FE7`
91:         incentiveOwnerB = 0x8f741ea9C9ba34B5B8Afc08891bDf53faf4B3FE7;

// @audit `98000`
93:         incentiveUSD[incentiveOwnerA] = 98000 * PRECISION_FACTOR_E18;

// @audit `106500`
94:         incentiveUSD[incentiveOwnerB] = 106500 * PRECISION_FACTOR_E18;

```
*Github:* [[88](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L88), [90](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L90), [91](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L91), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L93), [94](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L94)]


```solidity
File: contracts/PoolManager.sol

// @audit `20`
212:             poolFee: 20 * PRECISION_FACTOR_E16

// @audit `2`
285:         return PRECISION_FACTOR_E18 / 2

// @audit `4`
286:             + (PRECISION_FACTOR_E36 / 4

// @audit `2`
312:         return (_maxPole + _minPole) / 2;

```
*Github:* [[212](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L212), [285](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L285), [286](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L286), [312](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L312)]


```solidity
File: contracts/PositionNFTs.sol

// @audit `10`
387:             j /= 10;

// @audit `48`
400:                     48 + (j % 10)

// @audit `10`
400:                     48 + (j % 10)

// @audit `10`
403:             j /= 10;

```
*Github:* [[387](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L387), [400](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L400), [400](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L400), [403](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L403)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

// @audit `3`
260:             minDepositEthAmount = 3 ether;

// @audit `0.03`
262:             minDepositEthAmount = 0.03 ether;

```
*Github:* [[260](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L260), [262](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L262)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

// @audit `2`
188:         uint256 reverseAllowedSpread = 2

// @audit `2`
423:         uint256 reverseAllowedSpread = 2

// @audit `100`
475:                         guessMin: netPtFromSwap - 100,

// @audit `100`
476:                         guessMax: netPtFromSwap + 100,

// @audit `50`
478:                         maxIteration: 50,

// @audit `1e15`
479:                         eps: 1e15

```
*Github:* [[188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L188), [423](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L423), [475](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L475), [476](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L476), [478](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L478), [479](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L479)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

// @audit `50000`
122:         exchangeIncentive = 50000;

```
*Github:* [[122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L122)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

// @audit `3000`
730:         mintFee = 3000;

```
*Github:* [[730](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L730)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

// @audit `10`
229:             j /= 10;

// @audit `48`
242:                     48 + j % 10

// @audit `10`
242:                     48 + j % 10

// @audit `10`
245:             j /= 10;

```
*Github:* [[229](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L229), [242](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L242), [242](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L242), [245](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L245)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

// @audit `10`
122:             ) / 10 ** (_decimalsWETH - decimals(_tokenAddress));

// @audit `10`
128:         ) / 10 ** (_decimalsWETH - decimals(_tokenAddress));

// @audit `10`
402:             10 ** _tokenDecimals[_tokenAddress]

// @audit `2`
414:             2

```
*Github:* [[122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L122), [128](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L128), [402](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L402), [414](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L414)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

// @audit `10`
111:                 / 10 ** decimals(_tokenAddress)

// @audit `10`
112:                 / 10 ** (tokenDecimals - _decimalsETH)

// @audit `10`
114:                 * 10 ** (_decimalsETH - tokenDecimals)

// @audit `10`
116:                 / 10 ** decimals(_tokenAddress);

// @audit `10`
136:             / 10 ** _decimalsUSD;

// @audit `10`
162:                 / 10 ** decimals(_tokenAddress)

// @audit `10`
163:                 / 10 ** (tokenDecimals - _decimalsETH)

// @audit `10`
165:                 * 10 ** (_decimalsETH - tokenDecimals)

// @audit `10`
167:                 / 10 ** decimals(_tokenAddress);

// @audit `10`
185:                 * 10 ** (tokenDecimals - _decimalsETH)

// @audit `10`
186:                 * 10 ** decimals(_tokenAddress)

// @audit `10`
189:                 * 10 ** decimals(_tokenAddress)

// @audit `10`
191:                 / 10 ** (_decimalsETH - tokenDecimals);

// @audit `10`
209:                 * 10 ** _decimalsUSD

// @audit `2`
269:         address[2] calldata _uniPools,

// @audit `2`
270:         address[2] calldata _token0Array,

// @audit `2`
271:         address[2] calldata _token1Array,

// @audit `2`
272:         uint24[2] calldata _feeArray

// @audit `10`
345:                 * 10 ** (tokenDecimals - _decimalsETH)

// @audit `10`
346:                 * 10 ** decimals(_tokenAddress)

// @audit `10`
349:                 * 10 ** decimals(_tokenAddress)

// @audit `10`
351:                 / 10 ** (_decimalsETH - tokenDecimals);

```
*Github:* [[111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L111), [112](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L112), [114](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L114), [116](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L116), [136](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L136), [162](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L162), [163](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L163), [165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L165), [167](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L167), [185](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L185), [186](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L186), [189](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L189), [191](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L191), [209](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L209), [269](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L269), [270](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L270), [271](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L271), [272](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L272), [345](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L345), [346](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L346), [349](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L349), [351](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L351)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

// @audit `10`
110:                 _baseReward: 10 * PRECISION_FACTOR_E16,

// @audit `3`
111:                 _baseRewardFarm: 3 * PRECISION_FACTOR_E16,

// @audit `3`
112:                 _newMaxFeeETH: 3 * PRECISION_FACTOR_E18,

// @audit `3`
113:                 _newMaxFeeFarmETH: 3 * PRECISION_FACTOR_E18

```
*Github:* [[110](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L110), [111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L111), [112](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L112), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L113)]


</details>


<a name="NC-45"></a> 
### [NC-45] Missing contract existence checks before low-level calls
Low-level calls return success if there is no code present at the specified address. In addition to the zero-address checks, add a check to verify that `<address>.code.length > 0`

*There are <b>5</b> instances of this issue:*
```solidity
File: contracts/TransferHub/CallOptionalReturn.sol

22:         ) = token.call(

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/CallOptionalReturn.sol#L22)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

27:         ) = payable(_recipient).call{

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L27)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

78:         (bool success, ) = _tokenAggregator.call(

```
*Github:* [[78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L78)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

208:         ) = curvePool.call{value: 0} (

```
*Github:* [[208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L208)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

208:         (bool success, ) = payable(_recipient).call{

```
*Github:* [[208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L208)]



<a name="NC-46"></a> 
### [NC-46] Missing disallow list for `ERC721`
Recently, there has been an increase in the theft of NFTs. These stolen NFTs are then added to platforms where they can be easily converted into liquidity.

Some popular marketplaces(e.g. Opensea), have already taken steps to combat this problem by introducing a disallow list feature. This means that if an NFT is reported as stolen, it won't be listed or sold on their platform. This may increase the centralization of the project, but it can help solve this problem if it is a concern.

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/PositionNFTs.sol

11: contract PositionNFTs is ERC721Enumerable, OwnableMaster {

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L11)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

24: contract PowerFarmNFTs is ERC721Enumerable, OwnableMaster {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L24)]



<a name="NC-47"></a> 
### [NC-47] Missing events in initializers
As a best practice, consider emitting an event when the contract is initialized. In this way, it's easy for the user to track the exact point in time when the contract was initialized, by filtering the emitted events.

*There is one instance of this issue:*
```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

682:     function initialize(

```
*Github:* [[682](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L682)]



<a name="NC-48"></a> 
### [NC-48] Named mappings are recommended
[Named mappings](https://docs.soliditylang.org/en/v0.8.18/types.html#mapping-types) (with syntax `mapping(KeyType KeyName? => ValueType ValueName?)`) are recommended.It can make the mapping variables clearer, more readable and easier to maintain.

<details>
<summary>
There are <b>52</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

12:     mapping(uint80 => uint256) public timeStampByRoundId;

```
*Github:* [[12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L12)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

140:     mapping(uint256 => uint256) public badDebtPosition;

143:     mapping(address => uint256) public feeTokens;

146:     mapping(address => uint256) public incentiveUSD;

149:     mapping(address => bool) public poolTokenAdded;

152:     mapping(address => bool) public isAaveToken;

155:     mapping(address => address) public underlyingToken;

158:     mapping(address => mapping(address => bool)) public allowedTokens;

161:     mapping(address => mapping(address => uint256)) public gatheredIncentiveToken;

```
*Github:* [[140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L140), [143](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L143), [146](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L146), [149](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L149), [152](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L152), [155](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L155), [158](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L158), [161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L161)]


```solidity
File: contracts/MainHelper.sol

392:         mapping(uint256 => address[]) storage _userTokenData,

617:         mapping(bytes32 => bool) storage hashMap,

618:         mapping(uint256 => address[]) storage userTokenData

```
*Github:* [[392](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L392), [617](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L617), [618](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L618)]


```solidity
File: contracts/PositionNFTs.sol

20:     mapping(address => uint256) public reserved;

21:     mapping(address => bool) public reserveRole;

```
*Github:* [[20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L20), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L21)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

108:     mapping(uint256 => bool) public isAave;

```
*Github:* [[108](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L108)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

58:     mapping(address => address) public pendleChildAddress;

59:     mapping(address => CompoundStruct) pendleChildCompoundInfo;

```
*Github:* [[58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L58), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L59)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

24:     mapping(uint256 => uint256) public farmingKeys;

27:     mapping(address => uint256) public reservedKeys;

30:     mapping(uint256 => uint256) public availableNFTs;

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L24), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L27), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L30)]


```solidity
File: contracts/WiseLendingDeclaration.sol

267:     mapping(address => uint256) internal bufferIncrease;

268:     mapping(address => uint256) public maxDepositValueToken;

270:     mapping(uint256 => address[]) public positionLendTokenData;

271:     mapping(uint256 => address[]) public positionBorrowTokenData;

273:     mapping(uint256 => mapping(address => uint256)) public userBorrowShares;

274:     mapping(uint256 => mapping(address => uint256)) public pureCollateralAmount;

275:     mapping(uint256 => mapping(address => LendingEntry)) public userLendingData;

278:     mapping(address => BorrowRatesEntry) public borrowRatesData;

279:     mapping(address => AlgorithmEntry) public algorithmData;

280:     mapping(address => GlobalPoolEntry) public globalPoolData;

281:     mapping(address => LendingPoolEntry) public lendingPoolData;

282:     mapping(address => BorrowPoolEntry) public borrowPoolData;

283:     mapping(address => TimestampsPoolEntry) public timestampsPoolData;

286:     mapping(uint256 => bool) public positionLocked;

287:     mapping(address => bool) internal parametersLocked;

288:     mapping(address => bool) public verifiedIsolationPool;

291:     mapping(bytes32 => bool) internal hashMapPositionBorrow;

292:     mapping(bytes32 => bool) internal hashMapPositionLending;

```
*Github:* [[267](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L267), [268](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L268), [270](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L270), [271](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L271), [273](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L273), [274](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L274), [275](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L275), [278](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L278), [279](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L279), [280](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L280), [281](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L281), [282](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L282), [283](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L283), [286](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L286), [287](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L287), [288](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L288), [291](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L291), [292](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L292)]


```solidity
File: contracts/WiseLowLevelHelper.sol

372:         mapping(uint256 => mapping(address => uint256)) storage userMapping,

383:         mapping(uint256 => mapping(address => uint256)) storage userMapping,

```
*Github:* [[372](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L372), [383](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L383)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

139:     mapping(address => uint8) _tokenDecimals;

142:     mapping(address => IPriceFeed) public priceFeed;

145:     mapping(address => uint256) public heartBeat;

148:     mapping(address => IAggregator) public tokenAggregatorFromTokenAddress;

151:     mapping(address => address[]) public underlyingFeedTokens;

154:     mapping(address => UniTwapPoolInfo) public uniTwapPoolInfo;

157:     mapping(address => DerivativePartnerInfo) public derivativePartnerTwap;

```
*Github:* [[139](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L139), [142](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L142), [145](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L145), [148](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L148), [151](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L151), [154](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L154), [157](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L157)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

238:     mapping(address => bool) public wasBlacklisted;

241:     mapping(address => CurveSwapStructData) public curveSwapInfoData;

244:     mapping(address => CurveSwapStructToken) public curveSwapInfoToken;

247:     mapping(address => bool) public securityWorker;

```
*Github:* [[238](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L238), [241](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L241), [244](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L244), [247](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L247)]


```solidity
File: contracts/WrapperHub/Declarations.sol

41:     mapping(address => address) public aaveTokenAddress;

```
*Github:* [[41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L41)]


</details>


<a name="NC-49"></a> 
### [NC-49] Named imports of parent contracts are missing

<details>
<summary>
There are <b>32</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

/// @audit `CustomOracleSetup`
13: contract PendleChildLpOracle is CustomOracleSetup  {

```
*Github:* [[13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L13)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

/// @audit `FeeManagerEvents`
/// @audit `OwnableMaster`
31: contract DeclarationsFeeManager is FeeManagerEvents, OwnableMaster {

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L31)]


```solidity
File: contracts/FeeManager/FeeManager.sol

/// @audit `FeeManagerHelper`
25: contract FeeManager is FeeManagerHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L25)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

/// @audit `DeclarationsFeeManager`
/// @audit `TransferHelper`
8: abstract contract FeeManagerHelper is DeclarationsFeeManager, TransferHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L8)]


```solidity
File: contracts/MainHelper.sol

/// @audit `WiseLowLevelHelper`
7: abstract contract MainHelper is WiseLowLevelHelper {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L7)]


```solidity
File: contracts/PoolManager.sol

/// @audit `WiseCore`
8: abstract contract PoolManager is WiseCore {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L8)]


```solidity
File: contracts/PositionNFTs.sol

/// @audit `ERC721Enumerable`
/// @audit `OwnableMaster`
11: contract PositionNFTs is ERC721Enumerable, OwnableMaster {

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L11)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

/// @audit `PendlePowerFarmLeverageLogic`
7: abstract contract PendlePowerFarm is PendlePowerFarmLeverageLogic {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

/// @audit `WrapperHelper`
/// @audit `TransferHelper`
/// @audit `ApprovalHelper`
/// @audit `SendValueHelper`
36: contract PendlePowerFarmDeclarations is

```
*Github:* [[36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L36)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

/// @audit `PendlePowerFarmMathLogic`
/// @audit `IFlashLoanRecipient`
7: abstract contract PendlePowerFarmLeverageLogic is

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

/// @audit `PendlePowerFarmDeclarations`
7: abstract contract PendlePowerFarmMathLogic is PendlePowerFarmDeclarations {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

/// @audit `OwnableMaster`
/// @audit `PendlePowerFarm`
/// @audit `MinterReserver`
15: contract PendlePowerManager is OwnableMaster, PendlePowerFarm, MinterReserver {

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L15)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

/// @audit `PendlePowerFarmControllerHelper`
8: contract PendlePowerFarmController is PendlePowerFarmControllerHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L8)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

/// @audit `OwnableMaster`
/// @audit `TransferHelper`
/// @audit `ApprovalHelper`
30: contract PendlePowerFarmControllerBase is

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L30)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

/// @audit `PendlePowerFarmControllerBase`
7: abstract contract PendlePowerFarmControllerHelper is PendlePowerFarmControllerBase {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit `SimpleERC20`
/// @audit `TransferHelper`
25: contract PendlePowerFarmToken is SimpleERC20, TransferHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L25)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

/// @audit `ERC721Enumerable`
/// @audit `OwnableMaster`
24: contract PowerFarmNFTs is ERC721Enumerable, OwnableMaster {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L24)]


```solidity
File: contracts/TransferHub/ApprovalHelper.sol

/// @audit `CallOptionalReturn`
7: contract ApprovalHelper is CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/ApprovalHelper.sol#L7)]


```solidity
File: contracts/TransferHub/TransferHelper.sol

/// @audit `CallOptionalReturn`
7: contract TransferHelper is CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/TransferHelper.sol#L7)]


```solidity
File: contracts/WiseCore.sol

/// @audit `MainHelper`
/// @audit `TransferHelper`
8: abstract contract WiseCore is MainHelper, TransferHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L8)]


```solidity
File: contracts/WiseLending.sol

/// @audit `PoolManager`
43: contract WiseLending is PoolManager {

```
*Github:* [[43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L43)]


```solidity
File: contracts/WiseLendingDeclaration.sol

/// @audit `OwnableMaster`
/// @audit `WrapperHelper`
/// @audit `SendValueHelper`
30: contract WiseLendingDeclaration is

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L30)]


```solidity
File: contracts/WiseLowLevelHelper.sol

/// @audit `WiseLendingDeclaration`
7: abstract contract WiseLowLevelHelper is WiseLendingDeclaration {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L7)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

/// @audit `OwnableMaster`
33: abstract contract Declarations is OwnableMaster {

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L33)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

/// @audit `Declarations`
7: abstract contract OracleHelper is Declarations {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L7)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

/// @audit `OracleHelper`
31: contract WiseOracleHub is OracleHelper {

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L31)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

/// @audit `WiseSecurityHelper`
/// @audit `ApprovalHelper`
24: contract WiseSecurity is WiseSecurityHelper, ApprovalHelper {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L24)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

/// @audit `OwnableMaster`
45: contract WiseSecurityDeclarations is OwnableMaster {

```
*Github:* [[45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L45)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

/// @audit `WiseSecurityDeclarations`
7: abstract contract WiseSecurityHelper is WiseSecurityDeclarations {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L7)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

/// @audit `Declarations`
7: abstract contract AaveHelper is Declarations {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L7)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

/// @audit `AaveHelper`
/// @audit `TransferHelper`
/// @audit `ApprovalHelper`
25: contract AaveHub is AaveHelper, TransferHelper, ApprovalHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L25)]


```solidity
File: contracts/WrapperHub/Declarations.sol

/// @audit `OwnableMaster`
/// @audit `AaveEvents`
/// @audit `WrapperHelper`
21: contract Declarations is OwnableMaster, AaveEvents, WrapperHelper {

```
*Github:* [[21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L21)]


</details>


<a name="NC-50"></a> 
### [NC-50] Missing NatSpec from contract/error/event/function/modifier declarations
e.g. `@dev` or `@notice`, and it must appear above the contract definition braces in order to be identified by the compiler as NatSpec.

<details>
<summary>
There are <b>521</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

5: contract CustomOracleSetup {

14:     modifier onlyOwner() {

22:     constructor() {

26:     function renounceOwnership()
            external
            onlyOwner
        {

33:     function setLastUpdateGlobal(
            uint256 _time
        )
            external
            onlyOwner
        {

42:     function setRoundData(
            uint80 _roundId,
            uint256 _updateTime
        )
            external
            onlyOwner
        {

52:     function setGlobalAggregatorRoundId(
            uint80 _aggregatorRoundId
        )
            external
            onlyOwner
        {

61:     function getTimeStamp()
            external
            view
            returns (uint256)
        {

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L5), [14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L14), [22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L22), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L26), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L33), [42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L42), [52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L52), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L61)]


```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

13: contract PendleChildLpOracle is CustomOracleSetup  {

21:     constructor(
            address _pendleLpOracle,
            address _pendleChild
        )
            CustomOracleSetup()
        {

35:     function latestAnswer()
            public
            view
            returns (uint256)
        {

47:     function decimals()
            external
            pure
            returns (uint8)
        {

55:     function latestRoundData()
            external
            view
            returns (
                uint80 roundId,
                int256 answer,
                uint256 startedAt,
                uint256 updatedAt,
                uint80 answerdInRound
            )
        {

78:     function getRoundData(
            uint80 _roundId
        )
            external
            view
            returns (
                uint80 roundId,
                int256 answer,
                uint256 startedAt,
                uint256 updatedAt,
                uint80 answeredInRound
            )
        {

```
*Github:* [[13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L13), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L21), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L35), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L47), [55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L55), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L78)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

24: error InvalidDecimals();

25: error CardinalityNotSatisfied();

26: error OldestObservationNotSatisfied();

28: contract PendleLpOracle {

32:     constructor(
            address _pendleMarketAddress,
            IPriceFeed _priceFeedChainLinkEth,
            IOraclePendle _oraclePendlePt,
            string memory _oracleName,
            uint32 _twapDuration
        )
        {

122:     function _getLpToAssetRateWrapper(
             IPMarket _market,
             uint32 _duration
         )
             internal
             view
             returns (uint256)
         {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L24), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L25), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L26), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L28), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L32), [122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L122)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

19: error CardinalityNotSatisfied();

20: error OldestObservationNotSatisfied();

22: contract PtOracleDerivative {

24:     constructor(
            address _pendleMarketAddress,
            IPriceFeed _priceFeedChainLinkUsd,
            IPriceFeed _priceFeedChainLinkEthUsd,
            IOraclePendle _oraclePendlePt,
            string memory _oracleName,
            uint32 _twapDuration
        )
        {

```
*Github:* [[19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L19), [20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L20), [22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L22), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L24)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

19: error CardinalityNotSatisfied();

20: error OldestObservationNotSatisfied();

22: contract PtOraclePure {

24:     constructor(
            address _pendleMarketAddress,
            IPriceFeed _priceFeedChainLinkEth,
            IOraclePendle _oraclePendlePt,
            string memory _oracleName,
            uint32 _twapDuration
        )
        {

```
*Github:* [[19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L19), [20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L20), [22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L22), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L24)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

16: error NotWiseLiquidation();

17: error AlreadySet();

18: error ExistingBadDebt();

19: error NotWiseLending();

20: error NotIncentiveMaster();

21: error PoolAlreadyAdded();

22: error TooHighValue();

23: error TooLowValue();

24: error NotAllowed();

25: error PoolNotPresent();

26: error ZeroAddress();

27: error NoIncentive();

28: error Reentered();

29: error PoolNotActive();

31: contract DeclarationsFeeManager is FeeManagerEvents, OwnableMaster {

33:     constructor(
            address _master,
            address _aaveAddress,
            address _wiseLendingAddress,
            address _oracleHubAddress,
            address _wiseSecurityAddress,
            address _positionNFTAddress
        )
            OwnableMaster(
                _master
            )
        {

176:     modifier onlyWiseSecurity() {

181:     modifier onlyWiseLending() {

186:     modifier onlyIncentiveMaster() {

191:     function _onlyIncentiveMaster()
             private
             view
         {

202:     function _onlyWiseSecurity()
             private
             view
         {

213:     function _onlyWiseLending()
             private
             view
         {

```
*Github:* [[16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L17), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L18), [19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L19), [20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L20), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L21), [22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L22), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L23), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L24), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L25), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L26), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L27), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L28), [29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L29), [31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L31), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L33), [176](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L176), [181](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L181), [186](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L186), [191](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L191), [202](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L202), [213](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L213)]


```solidity
File: contracts/FeeManager/FeeManager.sol

27:     constructor(
            address _master,
            address _aaveAddress,
            address _wiseLendingAddress,
            address _oracleHubAddress,
            address _wiseSecurityAddress,
            address _positionNFTAddress
        )
            DeclarationsFeeManager(
                _master,
                _aaveAddress,
                _wiseLendingAddress,
                _oracleHubAddress,
                _wiseSecurityAddress,
                _positionNFTAddress
            )
        {}

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L27)]


```solidity
File: contracts/FeeManager/FeeManagerEvents.sol

5: contract FeeManagerEvents {

7:     event ClaimedFeesWiseBulk(

11:     event PoolTokenRemoved(

16:     event PoolTokenAdded(

21:     event IncentiveOwnerBChanged(

26:     event IncentiveOwnerAChanged(

31:     event ClaimedOwnershipIncentiveMaster(

36:     event IncentiveMasterProposed(

41:     event PoolFeeChanged(

47:     event ClaimedIncentives(

54:     event ClaimedIncentivesBulk(

58:     event IncentiveIncreasedB(

63:     event IncentiveIncreasedA(

68:     event BadDebtIncreasedLiquidation(

73:     event TotalBadDebtIncreased(

78:     event TotalBadDebtDecreased(

83:     event SetBadDebtPosition(

89:     event UpdateBadDebtPosition(

95:     event SetBeneficial(

101:     event RevokeBeneficial(

107:     event ClaimedFeesWise(

113:     event ClaimedFeesBeneficial(

120:     event PayedBackBadDebt(

129:     event PayedBackBadDebtFree(

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L5), [7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L7), [11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L11), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L16), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L21), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L26), [31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L31), [36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L36), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L41), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L47), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L54), [58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L58), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L63), [68](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L68), [73](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L73), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L78), [83](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L83), [89](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L89), [95](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L95), [101](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L101), [107](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L107), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L113), [120](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L120), [129](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L129)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

8: abstract contract FeeManagerHelper is DeclarationsFeeManager, TransferHelper {

230:     function _setAaveFlag(
             address _poolToken,
             address _underlyingToken
         )
             internal
         {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L8), [230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L230)]


```solidity
File: contracts/MainHelper.sol

7: abstract contract MainHelper is WiseLowLevelHelper {

33:     function _calculateShares(
            uint256 _product,
            uint256 _pseudo,
            bool _maxSharePrice
        )
            private
            pure
            returns (uint256)
        {

93:     function _cashoutAmount(
            address _poolToken,
            uint256 _shares
        )
            internal
            view
            returns (uint256)
        {

258:     function _checkLiquidatorNft(
             uint256 _nftId,
             uint256 _nftIdLiquidator
         )
             internal
             view
         {

278:     function _getBalance(
             address _tokenAddress
         )
             internal
             view
             returns (uint256)
         {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L7), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L33), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L93), [258](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L258), [278](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L278)]


```solidity
File: contracts/OwnableMaster.sol

5: error NoValue();

6: error NotMaster();

7: error NotProposed();

9: contract OwnableMaster {

16:     modifier onlyProposed() {

21:     function _onlyMaster()
            private
            view
        {

32:     modifier onlyMaster() {

37:     function _onlyProposed()
            private
            view
        {

48:     event MasterProposed(

53:     event RenouncedOwnership(

57:     constructor(
            address _master
        ) {

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L5), [6](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L6), [7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L7), [9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L9), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L16), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L21), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L32), [37](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L37), [48](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L48), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L53), [57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L57)]


```solidity
File: contracts/PoolManager.sol

8: abstract contract PoolManager is WiseCore {

25:     function setParamsLASA(
            address _poolToken,
            uint256 _poolMulFactor,
            uint256 _upperBoundMaxRate,
            uint256 _lowerBoundMaxRate,
            bool _steppingDirection,
            bool _isFinal
        )
            external
            onlyMaster
        {

100:     function setPoolParameters(
             address _poolToken,
             uint256 _collateralFactor,
             uint256 _maximumDeposit
         )
             external
             onlyMaster
         {

135:     function createPool(
             CreatePool calldata _params
         )
             external
             onlyMaster
         {

146:     function createCurvePool(
             CreatePool calldata _params,
             CurvePoolSettings calldata _settings
         )
             external
             onlyMaster
         {

164:     function _createPool(
             CreatePool calldata _params
         )
             private
         {

277:     function _getPoleValue(
             uint256 _poolMulFactor,
             uint256 _poleBoundRate
         )
             private
             pure
             returns (uint256)
         {

293:     function _getDeltaPole(
             uint256 _maxPole,
             uint256 _minPole
         )
             private
             pure
             returns (uint256)
         {

304:     function _getStartValue(
             uint256 _maxPole,
             uint256 _minPole
         )
             private
             pure
             returns (uint256)
         {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L8), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L25), [100](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L100), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L135), [146](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L146), [164](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L164), [277](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L277), [293](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L293), [304](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L304)]


```solidity
File: contracts/PositionNFTs.sol

9: error NotPermitted();

11: contract PositionNFTs is ERC721Enumerable, OwnableMaster {

25:     constructor(
            string memory _name,
            string memory _symbol,
            string memory _baseURI
        )
            ERC721(
                _name,
                _symbol
            )
            OwnableMaster(
                msg.sender
            )
        {

45:     modifier onlyReserveRole() {

54:     function assignReserveRole(
            address _reserverForOthers,
            bool _state
        )
            external
            onlyMaster
        {

64:     function blockReservePublic()
            external
            onlyMaster
        {

71:     function forwardFeeManagerNFT(
            address _feeManagerContract
        )
            external
            onlyMaster
        {

90:     function reservePosition()
            external
            returns (uint256)
        {

99:     function reservePositionForUser(
            address _user
        )
            onlyReserveRole
            external
            returns (uint256)
        {

111:     function _reservePositionForUser(
             address _user
         )
             internal
             returns (uint256)
         {

130:     function getNextExpectedId()
             public
             view
             returns (uint256)
         {

193:     function _mintPositionForUser(
             address _user
         )
             internal
             returns (uint256)
         {

222:     function isOwner(
             uint256 _nftId,
             address _owner
         )
             external
             view
             returns (bool)
         {

245:     function approveMint(
             address _spender,
             uint256 _nftId
         )
             external
         {

328:     function setBaseExtension(
             string memory _newBaseExtension
         )
             external
             onlyMaster
         {

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L9), [11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L11), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L25), [45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L45), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L54), [64](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L64), [71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L71), [90](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L90), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L99), [111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L111), [130](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L130), [193](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L193), [222](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L222), [245](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L245), [328](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L328)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

7: abstract contract PendlePowerFarm is PendlePowerFarmLeverageLogic {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

23: error Deactivated();

24: error InvalidParam();

25: error AccessDenied();

26: error LeverageTooHigh();

27: error DebtRatioTooLow();

28: error NotBalancerVault();

29: error DebtRatioTooHigh();

30: error ResultsInBadDebt();

31: error TooMuchValueLost();

32: error CollateralFactorTooHigh();

33: error TooMuchShares();

34: error WrongChainId();

36: contract PendlePowerFarmDeclarations is

110:     event FarmEntry(

118:     event FarmExit(

125:     event FarmStatus(

130:     event ManualPaybackShares(

137:     event ManualWithdrawShares(

144:     event MinDepositChange(

149:     event ETHReceived(

154:     event RegistrationFarm(

159:     constructor(
             address _wiseLendingAddress,
             address _pendleChilTokenAddress,
             address _pendleRouter,
             address _entryAsset,
             address _pendleSy,
             address _underlyingMarket,
             address _routerStatic,
             address _dexAddress,
             uint256 _collateralFactor
         )
             WrapperHelper(
                 IWiseLending(
                     _wiseLendingAddress
                 ).WETH_ADDRESS()
             )
         {

266:     function doApprovals()
             external
         {

274:     function _doApprovals(
             address _wiseLendingAddress
         )
             internal
         {

356:     modifier isActive() {

361:     function _isActive()
             internal
             view
         {

```
*Github:* [[23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L23), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L24), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L25), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L26), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L27), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L28), [29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L29), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L30), [31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L31), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L32), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L33), [34](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L34), [36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L36), [110](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L110), [118](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L118), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L125), [130](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L130), [137](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L137), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L144), [149](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L149), [154](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L154), [159](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L159), [266](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L266), [274](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L274), [356](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L356), [361](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L361)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

7: abstract contract PendlePowerFarmLeverageLogic is

232:     function _getEthBack(
             uint256 _swapAmount,
             uint256 _minOutAmount
         )
             internal
             returns (uint256)
         {

264:     function _getTokensUniV3(
             uint256 _amountIn,
             uint256 _minOutAmount,
             address _tokenIn,
             address _tokenOut
         )
             internal
             returns (uint256)
         {

310:     function _withdrawPendleLPs(
             uint256 _nftId,
             uint256 _lendingShares
         )
             private
             returns (uint256 withdrawnLpsAmount)
         {

326:     function _paybackExactShares(
             bool _isAave,
             uint256 _nftId,
             uint256 _borrowShares
         )
             internal
         {

531:     function _borrowExactAmount(
             bool _isAave,
             uint256 _nftId,
             uint256 _totalDebtBalancer
         )
             internal
         {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L7), [232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L232), [264](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L264), [310](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L310), [326](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L326), [531](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L531)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

7: abstract contract PendlePowerFarmMathLogic is PendlePowerFarmDeclarations {

9:     modifier updatePools() {

35:     function _checkReentrancy()
            private
            view
        {

111:     function _getPositionBorrowTokenAmountAave(
             uint256 _nftId
         )
             internal
             view
             returns (uint256 tokenAmountAave)
         {

244:     function _getTokensInETH(
             address _tokenAddress,
             uint256 _tokenAmount
         )
             internal
             view
             returns (uint256)
         {

258:     function _getEthInTokens(
             address _tokenAddress,
             uint256 _ethAmount
         )
             internal
             view
             returns (uint256)
         {

272:     function getLeverageAmount(
             uint256 _initialAmount,
             uint256 _leverage
         )
             public
             pure
             returns (uint256)
         {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L7), [9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L9), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L35), [111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L111), [244](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L244), [258](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L258), [272](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L272)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

15: contract PendlePowerManager is OwnableMaster, PendlePowerFarm, MinterReserver {

31:     constructor(
            address _wiseLendingAddress,
            address _pendleChilTokenAddress,
            address _pendleRouter,
            address _entryAsset,
            address _pendleSy,
            address _underlyingMarket,
            address _routerStatic,
            address _dexAddress,
            uint256 _collateralFactor,
            address _powerFarmNFTs
        )
            OwnableMaster(
                msg.sender
            )
            MinterReserver(
                _powerFarmNFTs
            )
            PendlePowerFarmDeclarations(
                _wiseLendingAddress,
                _pendleChilTokenAddress,
                _pendleRouter,
                _entryAsset,
                _pendleSy,
                _underlyingMarket,
                _routerStatic,
                _dexAddress,
                _collateralFactor
            )
        {

63:     function changeMinDeposit(
            uint256 _newMinDeposit
        )
            external
            onlyMaster
        {

96:     function enterFarm(
            bool _isAave,
            uint256 _amount,
            uint256 _leverage,
            uint256 _allowedSpread
        )
            external
            isActive
            updatePools
            returns (uint256)
        {

142:     function enterFarmETH(
             bool _isAave,
             uint256 _leverage,
             uint256 _allowedSpread
         )
             external
             payable
             isActive
             updatePools
             returns (uint256)
         {

185:     function _getWiseLendingNFT()
             internal
             returns (uint256)
         {

210:     function exitFarm(
             uint256 _keyId,
             uint256 _allowedSpread,
             bool _ethBack
         )
             external
             updatePools
             onlyKeyOwner(_keyId)
         {

254:     function manuallyPaybackShares(
             uint256 _keyId,
             uint256 _paybackShares
         )
             external
             updatePools
         {

274:     function manuallyWithdrawShares(
             uint256 _keyId,
             uint256 _withdrawShares
         )
             external
             updatePools
             onlyKeyOwner(_keyId)
         {

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L15), [31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L31), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L63), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L96), [142](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L142), [185](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L185), [210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L210), [254](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L254), [274](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L274)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

8: contract PendlePowerFarmController is PendlePowerFarmControllerHelper {

12:     constructor(
            address _vePendle,
            address _pendleToken,
            address _voterContract,
            address _voterRewardsClaimerAddress,
            address _wiseOracleHub
        )
            PendlePowerFarmControllerBase(
                _vePendle,
                _pendleToken,
                _voterContract,
                _voterRewardsClaimerAddress,
                _wiseOracleHub
            )
        {

32:     function withdrawLp(
            address _pendleMarket,
            address _to,
            uint256 _amount
        )
            external
            onlyChildContract(_pendleMarket)
        {

53:     function exchangeRewardsForCompoundingWithIncentive(
            address _pendleMarket,
            address _rewardToken,
            uint256 _rewardAmount
        )
            external
            syncSupply(_pendleMarket)
            returns (uint256)
        {

113:     function exchangeLpFeesForPendleWithIncentive(
             address _pendleMarket,
             uint256 _pendleChildShares
         )
             external
             syncSupply(_pendleMarket)
             returns (
                 uint256,
                 uint256
             )
         {

172:     function skim(
             address _pendleMarket
         )
             external
             returns (uint256)
         {

211:     function addPendleMarket(
             address _pendleMarket,
             string memory _tokenName,
             string memory _symbolName,
             uint16 _maxCardinality
         )
             external
             onlyMaster
         {

293:     function updateRewardTokens(
             address _pendleMarket
         )
             external
             onlyChildContract(_pendleMarket)
             returns (bool)
         {

321:     function changeExchangeIncentive(
             uint256 _newExchangeIncentive
         )
             external
             onlyMaster
         {

334:     function changeMintFee(
             address _pendleMarket,
             uint256 _newFee
         )
             external
             onlyMaster
         {

431:     function claimArb(
             uint256 _accrued,
             bytes32[] calldata _proof
         )
             external
             onlyArbitrum
         {

451:     function withdrawLock()
             external
             onlyMaster
             returns (uint256 amount)
         {

497:     function increaseReservedForCompound(
             address _pendleMarket,
             uint256[] calldata _amounts
         )
             external
             onlyChildContract(_pendleMarket)
         {

526:     function overWriteIndex(
             address _pendleMarket,
             uint256 _tokenIndex
         )
             public
             onlyChildContract(_pendleMarket)
         {

544:     function overWriteIndexAll(
             address _pendleMarket
         )
             external
             onlyChildContract(_pendleMarket)
         {

566:     function overWriteAmounts(
             address _pendleMarket
         )
             external
             onlyChildContract(_pendleMarket)
         {

581:     function claimVoteRewards(
             uint256 _amount,
             bytes32[] calldata _merkleProof
         )
             external
         {

600:     function forwardETH(
             address _to,
             uint256 _amount
         )
             external
             onlyMaster
         {

612:     function vote(
             address[] calldata _pools,
             uint64[] calldata _weights
         )
             external
             onlyMaster
         {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L8), [12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L12), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L32), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L53), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L113), [172](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L172), [211](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L211), [293](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L293), [321](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L321), [334](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L334), [431](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L431), [451](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L451), [497](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L497), [526](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L526), [544](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L544), [566](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L566), [581](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L581), [600](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L600), [612](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L612)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

16: error NotAllowed();

17: error AlreadySet();

18: error NotExpired();

19: error LockTimeTooShort();

20: error ZeroShares();

21: error ValueTooSmall();

22: error InvalidLength();

23: error InvalidWeightSum();

24: error WrongAddress();

25: error NothingToSkim();

26: error NotFound();

27: error NotEnoughCompound();

28: error NotArbitrum();

30: contract PendlePowerFarmControllerBase is

79:     constructor(
            address _vePendle,
            address _pendleToken,
            address _voterContract,
            address _voterRewardsClaimerAddress,
            address _wiseOracleHub
        )
            OwnableMaster(
                msg.sender
            )
        {

125:     receive()
             external
             payable
         {

135:     event ETHReceived(

140:     event ChangeExchangeIncentive(

144:     event WithdrawLp(

150:     event ExchangeRewardsForCompounding(

157:     event ExchangeLpFeesForPendle(

164:     event AddPendleMarket(

169:     event UpdateRewardTokens(

174:     event ChangeMintFee(

179:     event LockPendle(

188:     event ClaimArb(

194:     event IncreaseReservedForCompound(

199:     event ClaimVoteRewards(

205:     event WithdrawLock(

210:     modifier syncSupply(
             address _pendleMarket
         )
         {

220:     modifier onlyChildContract(
             address _pendleMarket
         )
         {

230:     modifier onlyArbitrum()
         {

236:     function _onlyArbitrum()
             private
             view
         {

245:     function _onlyChildContract(
             address _pendleMarket
         )
             private
             view
         {

256:     function _syncSupply(
             address _pendleMarket
         )
             internal
         {

272:     function syncAllSupply()
             public
         {

```
*Github:* [[16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L17), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L18), [19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L19), [20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L20), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L21), [22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L22), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L23), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L24), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L25), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L26), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L27), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L28), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L30), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L79), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L125), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L135), [140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L140), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L144), [150](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L150), [157](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L157), [164](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L164), [169](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L169), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L174), [179](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L179), [188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L188), [194](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L194), [199](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L199), [205](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L205), [210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L210), [220](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L220), [230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L230), [236](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L236), [245](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L245), [256](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L256), [272](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L272)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

7: abstract contract PendlePowerFarmControllerHelper is PendlePowerFarmControllerBase {

9:     function _findIndex(
           address[] memory _array,
           address _value
       )
           internal
           pure
           returns (uint256)
       {

32:     function _calcExpiry(
            uint128 _weeks
        )
            internal
            view
            returns (uint128)
        {

45:     function _getExpiry()
            internal
            view
            returns (uint256)
        {

53:     function _getLockAmount()
            internal
            view
            returns (uint256)
        {

61:     function _getPositionData(
            address _user
        )
            private
            view
            returns (LockedPosition memory)
        {

73:     function _getAmountToSend(
            address _tokenAddress,
            uint256 _rewardValue
        )
            internal
            view
            returns (uint256)
        {

95:     function pendleChildCompoundInfoReservedForCompound(
            address _pendleMarket
        )
            external
            view
            returns (uint256[] memory)
        {

105:     function pendleChildCompoundInfoLastIndex(
             address _pendleMarket
         )
             external
             view
             returns (uint128[] memory)
         {

115:     function pendleChildCompoundInfoRewardTokens(
             address _pendleMarket
         )
             external
             view
             returns (address[] memory)
         {

125:     function activePendleMarketsLength()
             external
             view
             returns (uint256)
         {

133:     function _checkFeed(
             address token
         )
             internal
             view
         {

144:     function _getRewardTokens(
             address _pendleMarket
         )
             internal
             view
             returns (address[] memory)
         {

156:     function _getUserReward(
             address _pendleMarket,
             address _rewardToken,
             address _user
         )
             internal
             view
             returns (UserReward memory)
         {

173:     function _getUserRewardIndex(
             address _pendleMarket,
             address _rewardToken,
             address _user
         )
             internal
             view
             returns (uint128)
         {

189:     function _getTokensInETH(
             address _tokenAddress,
             uint256 _tokenAmount
         )
             internal
             view
             returns (uint256)
         {

203:     function _getTokensFromETH(
             address _tokenAddress,
             uint256 _ethValue
         )
             internal
             view
             returns (uint256)
         {

217:     function _compareHashes(
             address _pendleMarket,
             address[] memory rewardTokensToCompare
         )
             internal
             view
             returns (bool)
         {

236:     function _setRewardTokens(
             address _pendleMarket,
             address[] memory _rewardTokens
         )
             internal
         {

245:     function getExpiry()
             external
             view
             returns (uint256)
         {

253:     function getLockAmount()
             external
             view
             returns (uint256)
         {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L7), [9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L9), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L32), [45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L45), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L53), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L61), [73](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L73), [95](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L95), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L105), [115](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L115), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L125), [133](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L133), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L144), [156](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L156), [173](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L173), [189](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L189), [203](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L203), [217](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L217), [236](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L236), [245](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L245), [253](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L253)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

12: error MarketExpired();

13: error NotController();

14: error ZeroFee();

15: error TooMuchFee();

16: error NotEnoughLpAssetsTransferred();

17: error InsufficientShares();

18: error ZeroAmount();

19: error FeeTooHigh();

20: error NotEnoughShares();

21: error InvalidSharePriceGrowth();

22: error InvalidSharePrice();

23: error AlreadyInitialized();

25: contract PendlePowerFarmToken is SimpleERC20, TransferHelper {

67:     modifier onlyController() {

72:     function _onlyController()
            private
            view
        {

81:     modifier syncSupply()
        {

98:     function _validateSharePrice(
            uint256 _sharePriceBefore
        )
            private
            view
            returns (uint256)
        {

114:     function _validateSharePriceGrowth(
             uint256 _sharePriceNow
         )
             private
             view
         {

132:     function _overWriteCheck()
             internal
         {

140:     function _triggerIndexUpdate()
             internal
         {

149:     function _wrapOverWrites(
             bool _overWritten
         )
             internal
         {

160:     function _updateRewardTokens()
             private
             returns (bool)
         {

169:     function _overWriteIndexAll()
             private
         {

177:     function _overWriteIndex(
             uint256 _index
         )
             private
         {

188:     function _overWriteAmounts()
             private
         {

196:     function _updateRewards()
             private
         {

218:     function _calculateRewardsClaimedOutside()
             internal
             returns (uint256[] memory)
         {

305:     function _getBalanceLpBalanceController()
             private
             view
             returns (uint256)
         {

315:     function _getActiveBalance()
             private
             view
             returns (uint256)
         {

325:     function _getSharePrice()
             private
             view
             returns (uint256)
         {

334:     function _syncSupply()
             private
         {

347:     function _increaseCardinalityNext()
             internal
         {

359:     function _withdrawLp(
             address _to,
             uint256 _amount
         )
             internal
         {

372:     function _getUserReward(
             address _rewardToken,
             address _user
         )
             internal
             view
             returns (UserReward memory)
         {

386:     function previewDistribution()
             public
             view
             returns (uint256)
         {

416:     function _setLastInteraction()
             private
         {

422:     function _applyMintFee(
             uint256 _amount
         )
             internal
             view
             returns (uint256)
         {

434:     function totalLpAssets()
             public
             view
             returns (uint256)
         {

443:     function previewUnderlyingLpAssets()
             public
             view
             returns (uint256)
         {

452:     function previewMintShares(
             uint256 _underlyingAssetAmount,
             uint256 _underlyingLpAssetsCurrent
         )
             public
             view
             returns (uint256)
         {

465:     function previewAmountWithdrawShares(
             uint256 _shares,
             uint256 _underlyingLpAssetsCurrent
         )
             public
             view
             returns (uint256)
         {

478:     function previewBurnShares(
             uint256 _underlyingAssetAmount,
             uint256 _underlyingLpAssetsCurrent
         )
             public
             view
             returns (uint256)
         {

494:     function manualSync()
             external
             syncSupply
             returns (bool)
         {

502:     function addCompoundRewards(
             uint256 _amount
         )
             external
             syncSupply
         {

592:     function changeMintFee(
             uint256 _newFee
         )
             external
             onlyController
         {

647:     function withdrawExactAmount(
             uint256 _underlyingLpAssetAmount
         )
             external
             syncSupply
             returns (uint256)
         {

682:     function initialize(
             address _underlyingPendleMarket,
             address _pendleController,
             string memory _tokenName,
             string memory _symbolName,
             uint16 _maxCardinality
         )
             external
         {

```
*Github:* [[12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L12), [13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L13), [14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L14), [15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L15), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L17), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L18), [19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L19), [20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L20), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L21), [22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L22), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L23), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L25), [67](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L67), [72](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L72), [81](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L81), [98](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L98), [114](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L114), [132](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L132), [140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L140), [149](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L149), [160](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L160), [169](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L169), [177](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L177), [188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L188), [196](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L196), [218](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L218), [305](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L305), [315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L315), [325](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L325), [334](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L334), [347](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L347), [359](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L359), [372](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L372), [386](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L386), [416](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L416), [422](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L422), [434](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L434), [443](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L443), [452](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L452), [465](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L465), [478](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L478), [494](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L494), [502](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L502), [592](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L592), [647](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L647), [682](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L682)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

7: error DeployForbidden();

9: contract PendlePowerFarmTokenFactory {

16:     constructor(
            address _pendlePowerFarmController
        )
        {

35:     function deploy(
            address _underlyingPendleMarket,
            string memory _tokenName,
            string memory _symbolName,
            uint16 _maxCardinality
        )
            external
            returns (address)
        {

56:     function _clone(
            address _underlyingPendleMarket,
            string memory _tokenName,
            string memory _symbolName,
            uint16 _maxCardinality
        )
            private
            returns (address pendlePowerFarmTokenAddress)
        {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L7), [9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L9), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L16), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L35), [56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L56)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

7: error InvalidKey();

8: error AlreadyReserved();

10: contract MinterReserver {

32:     modifier onlyKeyOwner(
            uint256 _keyId
        ) {

41:     function _onlyKeyOwner(
            uint256 _keyId
        )
            private
            view
        {

55:     constructor(
            address _powerFarmNFTs
        ) {

63:     function _incrementReserved()
            internal
            returns (uint256)
        {

70:     function _getNextReserveKey()
            internal
            returns (uint256)
        {

77:     function _reserveKey(
            address _userAddress,
            uint256 _wiseLendingNFT
        )
            internal
            returns (uint256)
        {

96:     function isOwner(
            uint256 _keyId,
            address _owner
        )
            public
            view
            returns (bool)
        {

115:     function _mintKeyForUser(
             uint256 _keyId,
             address _userAddress
         )
             internal
             returns (uint256)
         {

141:     function mintReserved()
             external
             returns (uint256)
         {

153:     event ERC721Received(

160:     function onERC721Received(
             address _operator,
             address _from,
             uint256 _tokenId,
             bytes calldata _data
         )
             external
             returns (bytes4)
         {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L7), [8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L8), [10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L10), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L32), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L41), [55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L55), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L63), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L70), [77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L77), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L96), [115](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L115), [141](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L141), [153](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L153), [160](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L160)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

14: interface IFarmContract {

16:     function reservedKeys(

24: contract PowerFarmNFTs is ERC721Enumerable, OwnableMaster {

30:     modifier onlyFarmContract() {

38:     constructor(
            string memory _name,
            string memory _symbol
        )
            ERC721(
                _name,
                _symbol
            )
            OwnableMaster(
                msg.sender
            )
        {}

51:     function setFarmContract(
            address _farmContract
        )
            external
            onlyMaster
        {

93:     function checkOwner(
            uint256 _keyId,
            address _ownerAddress
        )
            external
            view
            returns (bool)
        {

170:     function setBaseExtension(
             string calldata _newBaseExtension
         )
             external
             onlyMaster
         {

```
*Github:* [[14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L14), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L16), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L24), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L30), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L38), [51](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L51), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L93), [170](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L170)]


```solidity
File: contracts/TransferHub/ApprovalHelper.sol

7: contract ApprovalHelper is CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/ApprovalHelper.sol#L7)]


```solidity
File: contracts/TransferHub/CallOptionalReturn.sol

7: contract CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/CallOptionalReturn.sol#L7)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

5: error AmountTooSmall();

6: error SendValueFailed();

8: contract SendValueHelper {

12:     function _sendValue(
            address _recipient,
            uint256 _amount
        )
            internal
        {

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L5), [6](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L6), [8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L8), [12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L12)]


```solidity
File: contracts/TransferHub/TransferHelper.sol

7: contract TransferHelper is CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/TransferHelper.sol#L7)]


```solidity
File: contracts/TransferHub/WrapperHelper.sol

7: contract WrapperHelper {

11:     constructor(
            address _wethAddress
        )
        {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L7), [11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L11)]


```solidity
File: contracts/WiseCore.sol

8: abstract contract WiseCore is MainHelper, TransferHelper {

271:     function _checkAllowDeposit(
             uint256 _nftId,
             address _caller
         )
             internal
             view
         {

604:     function _calculatePotentialPureExtraCashout(
             uint256 _userShares,
             address _poolToken,
             uint256 _removePercentage
         )
             private
             view
             returns (uint256)
         {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L8), [271](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L271), [604](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L604)]


```solidity
File: contracts/WiseLending.sol

77:     function _healthStateCheck(
            uint256 _nftId
        )
            private
        {

116:     constructor(
             address _master,
             address _wiseOracleHubAddress,
             address _nftContract
         )
             WiseLendingDeclaration(
                 _master,
                 _wiseOracleHubAddress,
                 _nftContract
             )
         {}

128:     function _emitFundsSolelyWithdrawn(
             address _caller,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             private
         {

145:     function _emitFundsSolelyDeposited(
             address _caller,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             private
         {

192:     function _checkHealthState(
             uint256 _nftId,
             bool _powerFarm
         )
             internal
             view
         {

401:     function _depositExactAmountETH(
             uint256 _nftId
         )
             private
             returns (uint256)
         {

1460:     function _handleWithdrawAmount(
              address _caller,
              uint256 _nftId,
              address _poolToken,
              uint256 _amount,
              bool _onBehalf
          )
              private
              returns (uint256 withdrawShares)
          {

1489:     function _handleSolelyWithdraw(
              address _caller,
              uint256 _nftId,
              address _poolToken,
              uint256 _amount
          )
              private
          {

1517:     function _handleWithdrawShares(
              address _caller,
              uint256 _nftId,
              address _poolToken,
              uint256 _shares,
              bool _onBehalf
          )
              private
              returns (uint256)
          {

1553:     function _handleBorrowExactAmount(
              uint256 _nftId,
              address _poolToken,
              uint256 _amount,
              bool _onBehalf
          )
              private
              returns (uint256)
          {

```
*Github:* [[77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L77), [116](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L116), [128](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L128), [145](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L145), [192](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L192), [401](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L401), [1460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1460), [1489](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1489), [1517](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1517), [1553](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1553)]


```solidity
File: contracts/WiseLendingDeclaration.sol

16: error DeadOracle();

17: error NotPowerFarm();

18: error InvalidAction();

19: error InvalidCaller();

20: error PositionLocked();

21: error LiquidatorIsInPowerFarm();

22: error PositionHasCollateral();

23: error PositionHasBorrow();

24: error InvalidAddress();

25: error InvalidLiquidator();

26: error ValueIsZero();

27: error ValueNotZero();

28: error TooManyTokens();

30: contract WiseLendingDeclaration is

35:     event FundsDeposited(

44:     event FundsSolelyDeposited(

52:     event FundsWithdrawn(

61:     event FundsWithdrawnOnBehalf(

70:     event FundsSolelyWithdrawn(

78:     event FundsBorrowed(

87:     event FundsBorrowedOnBehalf(

96:     event FundsReturned(

105:     constructor(
             address _master,
             address _wiseOracleHub,
             address _nftContract
         )
             OwnableMaster(
                 _master
             )
             WrapperHelper(
                 IWiseOracleHub(
                     _wiseOracleHub
                 ).WETH_ADDRESS()
             )
         {

140:     function setSecurity(
             address _wiseSecurity
         )
             external
             onlyMaster
         {

252:     modifier onlyAaveHub() {

257:     function _onlyAaveHub()
             private
             view
         {

```
*Github:* [[16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L17), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L18), [19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L19), [20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L20), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L21), [22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L22), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L23), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L24), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L25), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L26), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L27), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L28), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L30), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L35), [44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L44), [52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L52), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L61), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L70), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L78), [87](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L87), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L96), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L105), [140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L140), [252](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L252), [257](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L257)]


```solidity
File: contracts/WiseLowLevelHelper.sol

7: abstract contract WiseLowLevelHelper is WiseLendingDeclaration {

9:     modifier onlyFeeManager() {

14:     function _onlyFeeManager()
            private
            view
        {

25:     function _validateParameter(
            uint256 _parameterValue,
            uint256 _parameterLimit
        )
            internal
            pure
        {

39:     function getTotalPool(
            address _poolToken
        )
            public
            view
            returns (uint256)
        {

49:     function getPseudoTotalPool(
            address _poolToken
        )
            public
            view
            returns (uint256)
        {

59:     function getTotalBareToken(
            address _poolToken
        )
            external
            view
            returns (uint256)
        {

69:     function getPseudoTotalBorrowAmount(
            address _poolToken
        )
            external
            view
            returns (uint256)
        {

79:     function getTotalDepositShares(
            address _poolToken
        )
            external
            view
            returns (uint256)
        {

89:     function getTotalBorrowShares(
            address _poolToken
        )
            external
            view
            returns (uint256)
        {

99:     function getPositionLendingShares(
            uint256 _nftId,
            address _poolToken
        )
            external
            view
            returns (uint256)
        {

110:     function getPositionBorrowShares(
             uint256 _nftId,
             address _poolToken
         )
             external
             view
             returns (uint256)
         {

121:     function getPureCollateralAmount(
             uint256 _nftId,
             address _poolToken
         )
             external
             view
             returns (uint256)
         {

134:     function getTimeStamp(
             address _poolToken
         )
             external
             view
             returns (uint256)
         {

144:     function getPositionLendingTokenByIndex(
             uint256 _nftId,
             uint256 _index
         )
             public
             view
             returns (address)
         {

155:     function getPositionLendingTokenLength(
             uint256 _nftId
         )
             public
             view
             returns (uint256)
         {

165:     function getPositionBorrowTokenByIndex(
             uint256 _nftId,
             uint256 _index
         )
             public
             view
             returns (address)
         {

176:     function getPositionBorrowTokenLength(
             uint256 _nftId
         )
             public
             view
             returns (uint256)
         {

188:     function _setMaxValue(
             address _poolToken,
             uint256 _value
         )
             internal
         {

197:     function _setBestPole(
             address _poolToken,
             uint256 _value
         )
             internal
         {

206:     function _setIncreasePole(
             address _poolToken,
             bool _state
         )
             internal
         {

215:     function _setPole(
             address _poolToken,
             uint256 _value
         )
             internal
         {

224:     function _increaseTotalPool(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

233:     function _decreaseTotalPool(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

242:     function _increaseTotalDepositShares(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

251:     function _decreaseTotalDepositShares(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

260:     function _increasePseudoTotalBorrowAmount(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

269:     function _decreasePseudoTotalBorrowAmount(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

278:     function _increaseTotalBorrowShares(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

287:     function _decreaseTotalBorrowShares(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

296:     function _increasePseudoTotalPool(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

305:     function _decreasePseudoTotalPool(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

314:     function _setTimeStamp(
             address _poolToken,
             uint256 _time
         )
             internal
         {

323:     function _setTimeStampScaling(
             address _poolToken,
             uint256 _time
         )
             internal
         {

332:     function _increaseTotalBareToken(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

341:     function _decreaseTotalBareToken(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

350:     function _checkReentrancy()
             internal
             view
         {

363:     function _sendingProgressAaveHub()
             private
             view
             returns (bool)
         {

371:     function _decreasePositionMappingValue(
             mapping(uint256 => mapping(address => uint256)) storage userMapping,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             internal
         {

382:     function _increaseMappingValue(
             mapping(uint256 => mapping(address => uint256)) storage userMapping,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             internal
         {

393:     function _byPassCase(
             address _sender
         )
             internal
             view
             returns (bool)
         {

407:     function _increaseTotalAndPseudoTotalPool(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

424:     function setPoolFee(
             address _poolToken,
             uint256 _newFee
         )
             external
             onlyFeeManager
         {

434:     function _checkOwnerPosition(
             uint256 _nftId,
             address _msgSender
         )
             internal
             view
         {

447:     function _validateNonZero(
             uint256 _value
         )
             internal
             pure
         {

458:     function _validateZero(
             uint256 _value
         )
             internal
             pure
         {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L7), [9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L9), [14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L14), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L25), [39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L39), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L49), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L59), [69](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L69), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L79), [89](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L89), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L99), [110](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L110), [121](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L121), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L134), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L144), [155](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L155), [165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L165), [176](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L176), [188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L188), [197](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L197), [206](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L206), [215](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L215), [224](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L224), [233](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L233), [242](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L242), [251](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L251), [260](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L260), [269](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L269), [278](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L278), [287](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L287), [296](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L296), [305](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L305), [314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L314), [323](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L323), [332](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L332), [341](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L341), [350](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L350), [363](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L363), [371](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L371), [382](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L382), [393](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L393), [407](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L407), [424](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L424), [434](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L434), [447](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L447), [458](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L458)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

14: error OracleIsDead();

15: error OraclesDeviate();

16: error OracleAlreadySet();

17: error ChainLinkOracleNotSet();

19: error SampleTooSmall(

23: error HeartBeatNotSet();

24: error PoolDoesNotExist();

25: error PoolAddressMismatch();

26: error TokenAddressMismatch();

27: error TwapOracleAlreadySet();

28: error ZeroAddressNotAllowed();

29: error FunctionDoesntExist();

30: error AggregatorNotNecessary();

31: error AggregatorAlreadySet();

33: abstract contract Declarations is OwnableMaster {

45:     constructor(
            address _wethAddress,
            address _ethPriceFeed,
            address _uniswapV3Factory
        )
            OwnableMaster(
                msg.sender
            )
        {

```
*Github:* [[14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L14), [15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L15), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L17), [19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L19), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L23), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L24), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L25), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L26), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L27), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L28), [29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L29), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L30), [31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L31), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L33), [45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L45)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

7: abstract contract OracleHelper is Declarations {

32:     function _addAggregator(
            address _tokenAddress
        )
            internal
        {

60:     function _checkFunctionExistence(
            address _tokenAggregator
        )
            internal
            returns (bool)
        {

87:     function _compareMinMax(
            IAggregator _tokenAggregator,
            int192 _answer
        )
            internal
            view
        {

131:     function _validateAnswer(
             address _tokenAddress
         )
             internal
             view
             returns (uint256)
         {

216:     function _getRelativeDifference(
             uint256 _answerUint256,
             uint256 _fetchTwapValue
         )
             internal
             pure
             returns (uint256)
         {

235:     function _compareDifference(
             uint256 _relativeDifference
         )
             internal
             view
         {

246:     function _getChainlinkAnswer(
             address _tokenAddress
         )
             internal
             view
             returns (uint256)
         {

265:     function getETHPriceInUSD()
             public
             view
             returns (uint256)
         {

394:     function _getOneUnit(
             address _tokenAddress
         )
             internal
             view
             returns (uint128)
         {

406:     function _getAverageTick(
             address _oracle
         )
             internal
             view
             returns (int24)
         {

460:     function _getTwapDerivatePrice(
             address _tokenAddress,
             UniTwapPoolInfo memory _uniTwapPoolInfo
         )
             internal
             view
             returns (uint256)
         {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L7), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L32), [60](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L60), [87](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L87), [131](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L131), [216](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L216), [235](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L235), [246](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L246), [265](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L265), [394](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L394), [406](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L406), [460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L460)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

33:     constructor(
            address _wethAddrss,
            address _ethPricingFeed,
            address _uniswapFactoryV3
        )
            Declarations(
                _wethAddrss,
                _ethPricingFeed,
                _uniswapFactoryV3
            )
        {

85:     function getTokenDecimals(
            address _tokenAddress
        )
            external
            view
            returns (uint8)
        {

96:     function getTokensInUSD(
            address _tokenAddress,
            uint256 _tokenAmount
        )
            external
            view
            returns (uint256)
        {

171:     function getTokensFromUSD(
             address _tokenAddress,
             uint256 _usdValue
         )
             external
             view
             returns (uint256)
         {

403:     function addAggregator(
             address _tokenAddress
         )
             external
             onlyMaster
         {

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L33), [85](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L85), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L96), [171](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L171), [403](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L403)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

24: contract WiseSecurity is WiseSecurityHelper, ApprovalHelper {

26:     modifier onlyWiseLending() {

31:     function _onlyWiseLending()
            private
            view
        {

42:     constructor(
            address _master,
            address _wiseLendingAddress,
            address _aaveHubAddress
        )
            WiseSecurityDeclarations(
                _master,
                _wiseLendingAddress,
                _aaveHubAddress
            )
        {}

1011:     function securityShutdown()
              external
          {

1078:     function checkMinDepositValue(
              address _token,
              uint256 _amount
          )
              external
              view
              returns (bool)
          {

1092:     function _checkMinDepositValue(
              address _token,
              uint256 _amount
          )
              private
              view
              returns (bool)
          {

1111:     function changeMinDepositValue(
              uint256 _newMinDepositValue
          )
              external
              onlyMaster
          {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L24), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L26), [31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L31), [42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L42), [1011](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1011), [1078](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1078), [1092](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1092), [1111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1111)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

19: error NotAllowedEntity();

20: error ChainlinkDead();

21: error TokenBlackListed();

22: error NotAllowedWiseSecurity();

23: error PositionLockedWiseSecurity();

24: error ResultsInBadDebt();

25: error NotEnoughCollateral();

26: error NotAllowedToBorrow();

27: error OpenBorrowPosition();

28: error NonVerifiedPool();

29: error NotOwner();

30: error LiquidationDenied();

31: error TooManyShares();

32: error NotRegistered();

33: error Blacklisted();

34: error SecuritySwapFailed();

35: error BaseRewardTooHigh();

36: error BaseRewardTooLow();

37: error BaseRewardFarmTooHigh();

38: error BaseRewardFarmTooLow();

39: error MaxFeeEthTooHigh();

40: error MaxFeeEthTooLow();

41: error MaxFeeFarmEthTooHigh();

42: error MaxFeeFarmEthTooLow();

43: error DepositAmountTooSmall();

45: contract WiseSecurityDeclarations is OwnableMaster {

47:     event SecurityShutdown(

52:     constructor(
            address _master,
            address _wiseLendingAddress,
            address _aaveHubAddress
        )
            OwnableMaster(
                _master
            )
        {

118:     function _setLiquidationSettings(
             uint256 _baseReward,
             uint256 _baseRewardFarm,
             uint256 _newMaxFeeETH,
             uint256 _newMaxFeeFarmETH
         )
             internal
         {

```
*Github:* [[19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L19), [20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L20), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L21), [22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L22), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L23), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L24), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L25), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L26), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L27), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L28), [29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L29), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L30), [31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L31), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L32), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L33), [34](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L34), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L35), [36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L36), [37](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L37), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L38), [39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L39), [40](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L40), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L41), [42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L42), [43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L43), [45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L45), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L47), [52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L52), [118](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L118)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

7: abstract contract WiseSecurityHelper is WiseSecurityDeclarations {

340:     function _getTokensInEth(
             address _poolToken,
             uint256 _amount
         )
             internal
             view
             returns (uint256)
         {

806:     function _getState(
             uint256 _nftId,
             bool _powerFarm
         )
             internal
             view
             returns (bool)
         {

1057:     function _setPoolState(
              bool _state
          )
              internal
          {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L7), [340](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L340), [806](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L806), [1057](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1057)]


```solidity
File: contracts/WrapperHub/AaveEvents.sol

5: contract AaveEvents {

7:     event SetAaveTokenAddress(

13:     event IsDepositAave(

18:     event IsWithdrawAave(

23:     event IsBorrowAave(

28:     event IsPaybackAave(

33:     event IsSolelyDepositAave(

38:     event IsSolelyWithdrawAave(

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L5), [7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L7), [13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L13), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L18), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L23), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L28), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L33), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L38)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

7: abstract contract AaveHelper is Declarations {

9:     modifier nonReentrant() {

14:     modifier validToken(
            address _poolToken
        ) {

23:     function _validToken(
            address _poolToken
        )
            internal
            view
        {

34:     function _nonReentrantCheck()
            internal
            view
        {

47:     function _reservePosition()
            internal
            returns (uint256)
        {

56:     function _wrapDepositExactAmount(
            uint256 _nftId,
            address _underlyingAsset,
            uint256 _depositAmount
        )
            internal
            returns (uint256)
        {

83:     function _wrapWithdrawExactAmount(
            uint256 _nftId,
            address _underlyingAsset,
            address _underlyingAssetRecipient,
            uint256 _withdrawAmount
        )
            internal
            returns (
                uint256,
                uint256
            )
        {

113:     function _wrapWithdrawExactShares(
             uint256 _nftId,
             address _underlyingAsset,
             address _underlyingAssetRecipient,
             uint256 _shareAmount
         )
             internal
             returns (uint256)
         {

141:     function _wrapBorrowExactAmount(
             uint256 _nftId,
             address _underlyingAsset,
             address _underlyingAssetRecipient,
             uint256 _borrowAmount
         )
             internal
             returns (uint256)
         {

165:     function _wrapAaveReturnValueDeposit(
             address _underlyingAsset,
             uint256 _depositAmount,
             address _targetAddress
         )
             internal
             returns (uint256 res)
         {

196:     function _sendValue(
             address _recipient,
             uint256 _amount
         )
             internal
         {

219:     function _getInfoPayback(
             uint256 _ethSent,
             uint256 _maxPaybackAmount
         )
             internal
             pure
             returns (
                 uint256,
                 uint256
             )
         {

243:     function _prepareCollaterals(
             uint256 _nftId,
             address _poolToken
         )
             private
         {

279:     function _prepareBorrows(
             uint256 _nftId,
             address _poolToken
         )
             private
         {

315:     function getAavePoolAPY(
             address _underlyingAsset
         )
             public
             view
             returns (uint256)
         {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L7), [9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L9), [14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L14), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L23), [34](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L34), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L47), [56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L56), [83](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L83), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L113), [141](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L141), [165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L165), [196](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L196), [219](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L219), [243](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L243), [279](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L279), [315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L315)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

27:     constructor(
            address _master,
            address _aaveAddress,
            address _lendingAddress
        )
            Declarations(
                _master,
                _aaveAddress,
                _lendingAddress
            )
        {}

611:     function skimAave(
             address _underlyingAsset,
             bool _isAave
         )
             external
             validToken(_underlyingAsset)
             onlyMaster
         {

664:     function _setAaveTokenAddress(
             address _underlyingAsset,
             address _aaveToken
         )
             internal
         {

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L27), [611](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L611), [664](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L664)]


```solidity
File: contracts/WrapperHub/Declarations.sol

15: error AlreadySet();

16: error InvalidValue();

17: error InvalidAction();

18: error FailedInnerCall();

19: error InvalidToken();

21: contract Declarations is OwnableMaster, AaveEvents, WrapperHelper {

43:     constructor(
            address _master,
            address _aaveAddress,
            address _lendingAddress
        )
            OwnableMaster(
                _master
            )
            WrapperHelper(
                IWiseLending(
                    _lendingAddress
                ).WETH_ADDRESS()
            )
        {

81:     function _checkOwner(
            uint256 _nftId
        )
            internal
            view
        {

93:     function _checkPositionLocked(
            uint256 _nftId
        )
            internal
            view
        {

105:     function setWiseSecurity(
             address _securityAddress
         )
             external
             onlyMaster
         {

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L15), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L17), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L18), [19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L19), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L21), [43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L43), [81](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L81), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L93), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L105)]


</details>


<a name="NC-51"></a> 
### [NC-51] Missing NatSpec `@author` from contract declaration
Some contract definitions have an incomplete NatSpec: add a `@author` notation to improve the code documentation.

<details>
<summary>
There are <b>45</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

5: contract CustomOracleSetup {

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L5)]


```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

13: contract PendleChildLpOracle is CustomOracleSetup  {

```
*Github:* [[13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L13)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

28: contract PendleLpOracle {

```
*Github:* [[28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L28)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

22: contract PtOracleDerivative {

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L22)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

22: contract PtOraclePure {

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L22)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

31: contract DeclarationsFeeManager is FeeManagerEvents, OwnableMaster {

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L31)]


```solidity
File: contracts/FeeManager/FeeManager.sol

25: contract FeeManager is FeeManagerHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L25)]


```solidity
File: contracts/FeeManager/FeeManagerEvents.sol

5: contract FeeManagerEvents {

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L5)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

8: abstract contract FeeManagerHelper is DeclarationsFeeManager, TransferHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L8)]


```solidity
File: contracts/MainHelper.sol

7: abstract contract MainHelper is WiseLowLevelHelper {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L7)]


```solidity
File: contracts/OwnableMaster.sol

9: contract OwnableMaster {

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L9)]


```solidity
File: contracts/PoolManager.sol

8: abstract contract PoolManager is WiseCore {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L8)]


```solidity
File: contracts/PositionNFTs.sol

11: contract PositionNFTs is ERC721Enumerable, OwnableMaster {

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L11)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

7: abstract contract PendlePowerFarm is PendlePowerFarmLeverageLogic {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

36: contract PendlePowerFarmDeclarations is

```
*Github:* [[36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L36)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

7: abstract contract PendlePowerFarmLeverageLogic is

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

7: abstract contract PendlePowerFarmMathLogic is PendlePowerFarmDeclarations {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

15: contract PendlePowerManager is OwnableMaster, PendlePowerFarm, MinterReserver {

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L15)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

8: contract PendlePowerFarmController is PendlePowerFarmControllerHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L8)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

30: contract PendlePowerFarmControllerBase is

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L30)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

7: abstract contract PendlePowerFarmControllerHelper is PendlePowerFarmControllerBase {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

25: contract PendlePowerFarmToken is SimpleERC20, TransferHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L25)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

9: contract PendlePowerFarmTokenFactory {

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L9)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

10: contract MinterReserver {

```
*Github:* [[10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L10)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

14: interface IFarmContract {

24: contract PowerFarmNFTs is ERC721Enumerable, OwnableMaster {

```
*Github:* [[14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L14), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L24)]


```solidity
File: contracts/TransferHub/ApprovalHelper.sol

7: contract ApprovalHelper is CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/ApprovalHelper.sol#L7)]


```solidity
File: contracts/TransferHub/CallOptionalReturn.sol

7: contract CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/CallOptionalReturn.sol#L7)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

8: contract SendValueHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L8)]


```solidity
File: contracts/TransferHub/TransferHelper.sol

7: contract TransferHelper is CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/TransferHelper.sol#L7)]


```solidity
File: contracts/TransferHub/WrapperHelper.sol

7: contract WrapperHelper {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L7)]


```solidity
File: contracts/WiseCore.sol

8: abstract contract WiseCore is MainHelper, TransferHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L8)]


```solidity
File: contracts/WiseLending.sol

43: contract WiseLending is PoolManager {

```
*Github:* [[43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L43)]


```solidity
File: contracts/WiseLendingDeclaration.sol

30: contract WiseLendingDeclaration is

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L30)]


```solidity
File: contracts/WiseLowLevelHelper.sol

7: abstract contract WiseLowLevelHelper is WiseLendingDeclaration {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L7)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

33: abstract contract Declarations is OwnableMaster {

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L33)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

7: abstract contract OracleHelper is Declarations {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L7)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

31: contract WiseOracleHub is OracleHelper {

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L31)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

24: contract WiseSecurity is WiseSecurityHelper, ApprovalHelper {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L24)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

45: contract WiseSecurityDeclarations is OwnableMaster {

```
*Github:* [[45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L45)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

7: abstract contract WiseSecurityHelper is WiseSecurityDeclarations {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L7)]


```solidity
File: contracts/WrapperHub/AaveEvents.sol

5: contract AaveEvents {

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L5)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

7: abstract contract AaveHelper is Declarations {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L7)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

25: contract AaveHub is AaveHelper, TransferHelper, ApprovalHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L25)]


```solidity
File: contracts/WrapperHub/Declarations.sol

21: contract Declarations is OwnableMaster, AaveEvents, WrapperHelper {

```
*Github:* [[21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L21)]


</details>


<a name="NC-52"></a> 
### [NC-52] Missing NatSpec `@dev` from contract/event/function/modifier declarations
Some contract definitions have an incomplete NatSpec: add a `@dev` notation to improve the code documentation.

<details>
<summary>
There are <b>397</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

5: contract CustomOracleSetup {

14:     modifier onlyOwner() {

22:     constructor() {

26:     function renounceOwnership()

33:     function setLastUpdateGlobal(

42:     function setRoundData(

52:     function setGlobalAggregatorRoundId(

61:     function getTimeStamp()

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L5), [14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L14), [22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L22), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L26), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L33), [42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L42), [52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L52), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L61)]


```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

13: contract PendleChildLpOracle is CustomOracleSetup  {

21:     constructor(

35:     function latestAnswer()

47:     function decimals()

55:     function latestRoundData()

78:     function getRoundData(

```
*Github:* [[13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L13), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L21), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L35), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L47), [55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L55), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L78)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

28: contract PendleLpOracle {

32:     constructor(

122:     function _getLpToAssetRateWrapper(

```
*Github:* [[28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L28), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L32), [122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L122)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

22: contract PtOracleDerivative {

24:     constructor(

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L22), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L24)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

22: contract PtOraclePure {

24:     constructor(

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L22), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L24)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

31: contract DeclarationsFeeManager is FeeManagerEvents, OwnableMaster {

33:     constructor(

176:     modifier onlyWiseSecurity() {

181:     modifier onlyWiseLending() {

186:     modifier onlyIncentiveMaster() {

191:     function _onlyIncentiveMaster()

202:     function _onlyWiseSecurity()

213:     function _onlyWiseLending()

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L31), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L33), [176](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L176), [181](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L181), [186](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L186), [191](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L191), [202](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L202), [213](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L213)]


```solidity
File: contracts/FeeManager/FeeManager.sol

27:     constructor(

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L27)]


```solidity
File: contracts/FeeManager/FeeManagerEvents.sol

5: contract FeeManagerEvents {

7:     event ClaimedFeesWiseBulk(

11:     event PoolTokenRemoved(

16:     event PoolTokenAdded(

21:     event IncentiveOwnerBChanged(

26:     event IncentiveOwnerAChanged(

31:     event ClaimedOwnershipIncentiveMaster(

36:     event IncentiveMasterProposed(

41:     event PoolFeeChanged(

47:     event ClaimedIncentives(

54:     event ClaimedIncentivesBulk(

58:     event IncentiveIncreasedB(

63:     event IncentiveIncreasedA(

68:     event BadDebtIncreasedLiquidation(

73:     event TotalBadDebtIncreased(

78:     event TotalBadDebtDecreased(

83:     event SetBadDebtPosition(

89:     event UpdateBadDebtPosition(

95:     event SetBeneficial(

101:     event RevokeBeneficial(

107:     event ClaimedFeesWise(

113:     event ClaimedFeesBeneficial(

120:     event PayedBackBadDebt(

129:     event PayedBackBadDebtFree(

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L5), [7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L7), [11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L11), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L16), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L21), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L26), [31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L31), [36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L36), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L41), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L47), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L54), [58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L58), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L63), [68](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L68), [73](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L73), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L78), [83](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L83), [89](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L89), [95](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L95), [101](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L101), [107](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L107), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L113), [120](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L120), [129](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L129)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

8: abstract contract FeeManagerHelper is DeclarationsFeeManager, TransferHelper {

230:     function _setAaveFlag(

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L8), [230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L230)]


```solidity
File: contracts/MainHelper.sol

7: abstract contract MainHelper is WiseLowLevelHelper {

33:     function _calculateShares(

93:     function _cashoutAmount(

258:     function _checkLiquidatorNft(

278:     function _getBalance(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L7), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L33), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L93), [258](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L258), [278](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L278)]


```solidity
File: contracts/OwnableMaster.sol

9: contract OwnableMaster {

16:     modifier onlyProposed() {

21:     function _onlyMaster()

32:     modifier onlyMaster() {

37:     function _onlyProposed()

48:     event MasterProposed(

53:     event RenouncedOwnership(

57:     constructor(

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L9), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L16), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L21), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L32), [37](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L37), [48](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L48), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L53), [57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L57)]


```solidity
File: contracts/PoolManager.sol

8: abstract contract PoolManager is WiseCore {

25:     function setParamsLASA(

100:     function setPoolParameters(

135:     function createPool(

146:     function createCurvePool(

164:     function _createPool(

277:     function _getPoleValue(

293:     function _getDeltaPole(

304:     function _getStartValue(

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L8), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L25), [100](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L100), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L135), [146](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L146), [164](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L164), [277](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L277), [293](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L293), [304](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L304)]


```solidity
File: contracts/PositionNFTs.sol

11: contract PositionNFTs is ERC721Enumerable, OwnableMaster {

25:     constructor(

45:     modifier onlyReserveRole() {

54:     function assignReserveRole(

64:     function blockReservePublic()

71:     function forwardFeeManagerNFT(

90:     function reservePosition()

99:     function reservePositionForUser(

111:     function _reservePositionForUser(

130:     function getNextExpectedId()

193:     function _mintPositionForUser(

222:     function isOwner(

245:     function approveMint(

328:     function setBaseExtension(

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L11), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L25), [45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L45), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L54), [64](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L64), [71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L71), [90](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L90), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L99), [111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L111), [130](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L130), [193](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L193), [222](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L222), [245](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L245), [328](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L328)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

7: abstract contract PendlePowerFarm is PendlePowerFarmLeverageLogic {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

36: contract PendlePowerFarmDeclarations is

110:     event FarmEntry(

118:     event FarmExit(

125:     event FarmStatus(

130:     event ManualPaybackShares(

137:     event ManualWithdrawShares(

144:     event MinDepositChange(

149:     event ETHReceived(

154:     event RegistrationFarm(

159:     constructor(

266:     function doApprovals()

274:     function _doApprovals(

356:     modifier isActive() {

361:     function _isActive()

```
*Github:* [[36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L36), [110](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L110), [118](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L118), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L125), [130](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L130), [137](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L137), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L144), [149](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L149), [154](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L154), [159](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L159), [266](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L266), [274](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L274), [356](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L356), [361](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L361)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

7: abstract contract PendlePowerFarmLeverageLogic is

232:     function _getEthBack(

264:     function _getTokensUniV3(

310:     function _withdrawPendleLPs(

326:     function _paybackExactShares(

531:     function _borrowExactAmount(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L7), [232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L232), [264](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L264), [310](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L310), [326](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L326), [531](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L531)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

7: abstract contract PendlePowerFarmMathLogic is PendlePowerFarmDeclarations {

9:     modifier updatePools() {

35:     function _checkReentrancy()

111:     function _getPositionBorrowTokenAmountAave(

244:     function _getTokensInETH(

258:     function _getEthInTokens(

272:     function getLeverageAmount(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L7), [9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L9), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L35), [111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L111), [244](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L244), [258](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L258), [272](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L272)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

15: contract PendlePowerManager is OwnableMaster, PendlePowerFarm, MinterReserver {

31:     constructor(

63:     function changeMinDeposit(

96:     function enterFarm(

142:     function enterFarmETH(

185:     function _getWiseLendingNFT()

210:     function exitFarm(

254:     function manuallyPaybackShares(

274:     function manuallyWithdrawShares(

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L15), [31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L31), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L63), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L96), [142](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L142), [185](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L185), [210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L210), [254](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L254), [274](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L274)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

8: contract PendlePowerFarmController is PendlePowerFarmControllerHelper {

12:     constructor(

32:     function withdrawLp(

53:     function exchangeRewardsForCompoundingWithIncentive(

113:     function exchangeLpFeesForPendleWithIncentive(

172:     function skim(

211:     function addPendleMarket(

293:     function updateRewardTokens(

321:     function changeExchangeIncentive(

334:     function changeMintFee(

431:     function claimArb(

451:     function withdrawLock()

497:     function increaseReservedForCompound(

526:     function overWriteIndex(

544:     function overWriteIndexAll(

566:     function overWriteAmounts(

581:     function claimVoteRewards(

600:     function forwardETH(

612:     function vote(

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L8), [12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L12), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L32), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L53), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L113), [172](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L172), [211](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L211), [293](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L293), [321](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L321), [334](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L334), [431](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L431), [451](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L451), [497](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L497), [526](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L526), [544](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L544), [566](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L566), [581](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L581), [600](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L600), [612](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L612)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

30: contract PendlePowerFarmControllerBase is

79:     constructor(

125:     receive()

135:     event ETHReceived(

140:     event ChangeExchangeIncentive(

144:     event WithdrawLp(

150:     event ExchangeRewardsForCompounding(

157:     event ExchangeLpFeesForPendle(

164:     event AddPendleMarket(

169:     event UpdateRewardTokens(

174:     event ChangeMintFee(

179:     event LockPendle(

188:     event ClaimArb(

194:     event IncreaseReservedForCompound(

199:     event ClaimVoteRewards(

205:     event WithdrawLock(

210:     modifier syncSupply(

220:     modifier onlyChildContract(

230:     modifier onlyArbitrum()

236:     function _onlyArbitrum()

245:     function _onlyChildContract(

256:     function _syncSupply(

272:     function syncAllSupply()

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L30), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L79), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L125), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L135), [140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L140), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L144), [150](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L150), [157](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L157), [164](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L164), [169](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L169), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L174), [179](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L179), [188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L188), [194](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L194), [199](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L199), [205](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L205), [210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L210), [220](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L220), [230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L230), [236](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L236), [245](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L245), [256](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L256), [272](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L272)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

7: abstract contract PendlePowerFarmControllerHelper is PendlePowerFarmControllerBase {

9:     function _findIndex(

32:     function _calcExpiry(

45:     function _getExpiry()

53:     function _getLockAmount()

61:     function _getPositionData(

73:     function _getAmountToSend(

95:     function pendleChildCompoundInfoReservedForCompound(

105:     function pendleChildCompoundInfoLastIndex(

115:     function pendleChildCompoundInfoRewardTokens(

125:     function activePendleMarketsLength()

133:     function _checkFeed(

144:     function _getRewardTokens(

156:     function _getUserReward(

173:     function _getUserRewardIndex(

189:     function _getTokensInETH(

203:     function _getTokensFromETH(

217:     function _compareHashes(

236:     function _setRewardTokens(

245:     function getExpiry()

253:     function getLockAmount()

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L7), [9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L9), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L32), [45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L45), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L53), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L61), [73](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L73), [95](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L95), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L105), [115](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L115), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L125), [133](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L133), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L144), [156](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L156), [173](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L173), [189](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L189), [203](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L203), [217](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L217), [236](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L236), [245](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L245), [253](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L253)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

25: contract PendlePowerFarmToken is SimpleERC20, TransferHelper {

67:     modifier onlyController() {

72:     function _onlyController()

81:     modifier syncSupply()

98:     function _validateSharePrice(

114:     function _validateSharePriceGrowth(

132:     function _overWriteCheck()

140:     function _triggerIndexUpdate()

149:     function _wrapOverWrites(

160:     function _updateRewardTokens()

169:     function _overWriteIndexAll()

177:     function _overWriteIndex(

188:     function _overWriteAmounts()

196:     function _updateRewards()

218:     function _calculateRewardsClaimedOutside()

305:     function _getBalanceLpBalanceController()

315:     function _getActiveBalance()

325:     function _getSharePrice()

334:     function _syncSupply()

347:     function _increaseCardinalityNext()

359:     function _withdrawLp(

372:     function _getUserReward(

386:     function previewDistribution()

416:     function _setLastInteraction()

422:     function _applyMintFee(

434:     function totalLpAssets()

443:     function previewUnderlyingLpAssets()

452:     function previewMintShares(

465:     function previewAmountWithdrawShares(

478:     function previewBurnShares(

494:     function manualSync()

502:     function addCompoundRewards(

592:     function changeMintFee(

647:     function withdrawExactAmount(

682:     function initialize(

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L25), [67](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L67), [72](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L72), [81](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L81), [98](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L98), [114](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L114), [132](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L132), [140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L140), [149](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L149), [160](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L160), [169](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L169), [177](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L177), [188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L188), [196](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L196), [218](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L218), [305](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L305), [315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L315), [325](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L325), [334](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L334), [347](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L347), [359](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L359), [372](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L372), [386](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L386), [416](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L416), [422](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L422), [434](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L434), [443](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L443), [452](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L452), [465](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L465), [478](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L478), [494](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L494), [502](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L502), [592](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L592), [647](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L647), [682](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L682)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

9: contract PendlePowerFarmTokenFactory {

16:     constructor(

35:     function deploy(

56:     function _clone(

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L9), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L16), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L35), [56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L56)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

10: contract MinterReserver {

32:     modifier onlyKeyOwner(

41:     function _onlyKeyOwner(

55:     constructor(

63:     function _incrementReserved()

70:     function _getNextReserveKey()

77:     function _reserveKey(

96:     function isOwner(

115:     function _mintKeyForUser(

141:     function mintReserved()

153:     event ERC721Received(

160:     function onERC721Received(

```
*Github:* [[10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L10), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L32), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L41), [55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L55), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L63), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L70), [77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L77), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L96), [115](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L115), [141](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L141), [153](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L153), [160](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L160)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

14: interface IFarmContract {

16:     function reservedKeys(

24: contract PowerFarmNFTs is ERC721Enumerable, OwnableMaster {

30:     modifier onlyFarmContract() {

38:     constructor(

51:     function setFarmContract(

93:     function checkOwner(

170:     function setBaseExtension(

```
*Github:* [[14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L14), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L16), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L24), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L30), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L38), [51](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L51), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L93), [170](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L170)]


```solidity
File: contracts/TransferHub/ApprovalHelper.sol

7: contract ApprovalHelper is CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/ApprovalHelper.sol#L7)]


```solidity
File: contracts/TransferHub/CallOptionalReturn.sol

7: contract CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/CallOptionalReturn.sol#L7)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

8: contract SendValueHelper {

12:     function _sendValue(

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L8), [12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L12)]


```solidity
File: contracts/TransferHub/TransferHelper.sol

7: contract TransferHelper is CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/TransferHelper.sol#L7)]


```solidity
File: contracts/TransferHub/WrapperHelper.sol

7: contract WrapperHelper {

11:     constructor(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L7), [11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L11)]


```solidity
File: contracts/WiseCore.sol

8: abstract contract WiseCore is MainHelper, TransferHelper {

271:     function _checkAllowDeposit(

604:     function _calculatePotentialPureExtraCashout(

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L8), [271](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L271), [604](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L604)]


```solidity
File: contracts/WiseLending.sol

77:     function _healthStateCheck(

116:     constructor(

128:     function _emitFundsSolelyWithdrawn(

145:     function _emitFundsSolelyDeposited(

192:     function _checkHealthState(

401:     function _depositExactAmountETH(

1460:     function _handleWithdrawAmount(

1489:     function _handleSolelyWithdraw(

1517:     function _handleWithdrawShares(

1553:     function _handleBorrowExactAmount(

```
*Github:* [[77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L77), [116](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L116), [128](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L128), [145](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L145), [192](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L192), [401](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L401), [1460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1460), [1489](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1489), [1517](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1517), [1553](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1553)]


```solidity
File: contracts/WiseLendingDeclaration.sol

30: contract WiseLendingDeclaration is

35:     event FundsDeposited(

44:     event FundsSolelyDeposited(

52:     event FundsWithdrawn(

61:     event FundsWithdrawnOnBehalf(

70:     event FundsSolelyWithdrawn(

78:     event FundsBorrowed(

87:     event FundsBorrowedOnBehalf(

96:     event FundsReturned(

105:     constructor(

140:     function setSecurity(

252:     modifier onlyAaveHub() {

257:     function _onlyAaveHub()

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L30), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L35), [44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L44), [52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L52), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L61), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L70), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L78), [87](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L87), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L96), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L105), [140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L140), [252](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L252), [257](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L257)]


```solidity
File: contracts/WiseLowLevelHelper.sol

7: abstract contract WiseLowLevelHelper is WiseLendingDeclaration {

9:     modifier onlyFeeManager() {

14:     function _onlyFeeManager()

25:     function _validateParameter(

39:     function getTotalPool(

49:     function getPseudoTotalPool(

59:     function getTotalBareToken(

69:     function getPseudoTotalBorrowAmount(

79:     function getTotalDepositShares(

89:     function getTotalBorrowShares(

99:     function getPositionLendingShares(

110:     function getPositionBorrowShares(

121:     function getPureCollateralAmount(

134:     function getTimeStamp(

144:     function getPositionLendingTokenByIndex(

155:     function getPositionLendingTokenLength(

165:     function getPositionBorrowTokenByIndex(

176:     function getPositionBorrowTokenLength(

188:     function _setMaxValue(

197:     function _setBestPole(

206:     function _setIncreasePole(

215:     function _setPole(

224:     function _increaseTotalPool(

233:     function _decreaseTotalPool(

242:     function _increaseTotalDepositShares(

251:     function _decreaseTotalDepositShares(

260:     function _increasePseudoTotalBorrowAmount(

269:     function _decreasePseudoTotalBorrowAmount(

278:     function _increaseTotalBorrowShares(

287:     function _decreaseTotalBorrowShares(

296:     function _increasePseudoTotalPool(

305:     function _decreasePseudoTotalPool(

314:     function _setTimeStamp(

323:     function _setTimeStampScaling(

332:     function _increaseTotalBareToken(

341:     function _decreaseTotalBareToken(

350:     function _checkReentrancy()

363:     function _sendingProgressAaveHub()

371:     function _decreasePositionMappingValue(

382:     function _increaseMappingValue(

393:     function _byPassCase(

407:     function _increaseTotalAndPseudoTotalPool(

424:     function setPoolFee(

434:     function _checkOwnerPosition(

447:     function _validateNonZero(

458:     function _validateZero(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L7), [9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L9), [14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L14), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L25), [39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L39), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L49), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L59), [69](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L69), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L79), [89](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L89), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L99), [110](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L110), [121](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L121), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L134), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L144), [155](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L155), [165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L165), [176](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L176), [188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L188), [197](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L197), [206](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L206), [215](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L215), [224](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L224), [233](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L233), [242](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L242), [251](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L251), [260](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L260), [269](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L269), [278](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L278), [287](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L287), [296](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L296), [305](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L305), [314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L314), [323](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L323), [332](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L332), [341](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L341), [350](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L350), [363](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L363), [371](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L371), [382](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L382), [393](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L393), [407](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L407), [424](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L424), [434](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L434), [447](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L447), [458](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L458)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

33: abstract contract Declarations is OwnableMaster {

45:     constructor(

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L33), [45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L45)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

7: abstract contract OracleHelper is Declarations {

32:     function _addAggregator(

60:     function _checkFunctionExistence(

87:     function _compareMinMax(

131:     function _validateAnswer(

216:     function _getRelativeDifference(

235:     function _compareDifference(

246:     function _getChainlinkAnswer(

265:     function getETHPriceInUSD()

394:     function _getOneUnit(

406:     function _getAverageTick(

460:     function _getTwapDerivatePrice(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L7), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L32), [60](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L60), [87](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L87), [131](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L131), [216](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L216), [235](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L235), [246](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L246), [265](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L265), [394](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L394), [406](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L406), [460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L460)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

33:     constructor(

85:     function getTokenDecimals(

96:     function getTokensInUSD(

171:     function getTokensFromUSD(

403:     function addAggregator(

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L33), [85](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L85), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L96), [171](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L171), [403](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L403)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

24: contract WiseSecurity is WiseSecurityHelper, ApprovalHelper {

26:     modifier onlyWiseLending() {

31:     function _onlyWiseLending()

42:     constructor(

1011:     function securityShutdown()

1078:     function checkMinDepositValue(

1092:     function _checkMinDepositValue(

1111:     function changeMinDepositValue(

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L24), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L26), [31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L31), [42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L42), [1011](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1011), [1078](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1078), [1092](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1092), [1111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1111)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

45: contract WiseSecurityDeclarations is OwnableMaster {

47:     event SecurityShutdown(

52:     constructor(

118:     function _setLiquidationSettings(

```
*Github:* [[45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L45), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L47), [52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L52), [118](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L118)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

7: abstract contract WiseSecurityHelper is WiseSecurityDeclarations {

340:     function _getTokensInEth(

806:     function _getState(

1057:     function _setPoolState(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L7), [340](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L340), [806](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L806), [1057](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1057)]


```solidity
File: contracts/WrapperHub/AaveEvents.sol

5: contract AaveEvents {

7:     event SetAaveTokenAddress(

13:     event IsDepositAave(

18:     event IsWithdrawAave(

23:     event IsBorrowAave(

28:     event IsPaybackAave(

33:     event IsSolelyDepositAave(

38:     event IsSolelyWithdrawAave(

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L5), [7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L7), [13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L13), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L18), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L23), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L28), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L33), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L38)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

7: abstract contract AaveHelper is Declarations {

9:     modifier nonReentrant() {

14:     modifier validToken(

23:     function _validToken(

34:     function _nonReentrantCheck()

47:     function _reservePosition()

56:     function _wrapDepositExactAmount(

83:     function _wrapWithdrawExactAmount(

113:     function _wrapWithdrawExactShares(

141:     function _wrapBorrowExactAmount(

165:     function _wrapAaveReturnValueDeposit(

196:     function _sendValue(

219:     function _getInfoPayback(

243:     function _prepareCollaterals(

279:     function _prepareBorrows(

315:     function getAavePoolAPY(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L7), [9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L9), [14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L14), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L23), [34](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L34), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L47), [56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L56), [83](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L83), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L113), [141](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L141), [165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L165), [196](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L196), [219](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L219), [243](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L243), [279](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L279), [315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L315)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

27:     constructor(

611:     function skimAave(

664:     function _setAaveTokenAddress(

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L27), [611](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L611), [664](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L664)]


```solidity
File: contracts/WrapperHub/Declarations.sol

21: contract Declarations is OwnableMaster, AaveEvents, WrapperHelper {

43:     constructor(

81:     function _checkOwner(

93:     function _checkPositionLocked(

105:     function setWiseSecurity(

```
*Github:* [[21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L21), [43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L43), [81](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L81), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L93), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L105)]


</details>


<a name="NC-53"></a> 
### [NC-53] Public variable declarations should have NatSpec descriptions

<details>
<summary>
There are <b>162</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

7:     address public master;

8:     uint256 public lastUpdateGlobal;

10:     uint80 public globalRoundId;

12:     mapping(uint80 => uint256) public timeStampByRoundId;

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L7), [8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L8), [10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L10), [12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L12)]


```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

15:     IPriceFeed public priceFeedPendleLpOracle;

16:     IPendleChildToken public pendleChildToken;

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L15), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L16)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

58:     address public immutable PENDLE_MARKET_ADDRESS;

59:     IPendleMarket public immutable PENDLE_MARKET;

62:     IPendleSy public immutable PENDLE_SY;

63:     IPriceFeed public immutable FEED_ASSET;

64:     IOraclePendle public immutable ORACLE_PENDLE_PT;

73:     uint32 public immutable TWAP_DURATION;

76:     string public name;

```
*Github:* [[58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L58), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L59), [62](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L62), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L63), [64](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L64), [73](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L73), [76](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L76)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

50:     IPriceFeed public immutable USD_FEED_ASSET;

53:     IPriceFeed public immutable ETH_FEED_ASSET;

56:     IOraclePendle public immutable ORACLE_PENDLE_PT;

59:     uint256 public immutable POW_USD_FEED;

62:     uint256 public immutable POW_ETH_USD_FEED;

71:     uint32 public immutable TWAP_DURATION;

74:     string public name;

```
*Github:* [[50](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L50), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L53), [56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L56), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L59), [62](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L62), [71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L71), [74](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L74)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

44:     address public immutable PENDLE_MARKET_ADDRESS;

47:     IPriceFeed public immutable FEED_ASSET;

48:     IOraclePendle public immutable ORACLE_PENDLE_PT;

57:     uint32 public immutable DURATION;

60:     string public name;

```
*Github:* [[44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L44), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L47), [48](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L48), [57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L57), [60](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L60)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

100:     IAave public immutable AAVE;

103:     IWiseLending public immutable WISE_LENDING;

106:     IPositionNFTs public immutable POSITION_NFTS;

109:     IWiseSecurity public immutable WISE_SECURITY;

112:     IWiseOracleHub public immutable ORACLE_HUB;

117:     uint256 public totalBadDebtETH;

120:     uint256 public paybackIncentive;

123:     address[] public poolTokenAddresses;

126:     address public incentiveMaster;

129:     address public proposedIncentiveMaster;

132:     address public incentiveOwnerA;

135:     address public incentiveOwnerB;

140:     mapping(uint256 => uint256) public badDebtPosition;

143:     mapping(address => uint256) public feeTokens;

146:     mapping(address => uint256) public incentiveUSD;

149:     mapping(address => bool) public poolTokenAdded;

152:     mapping(address => bool) public isAaveToken;

155:     mapping(address => address) public underlyingToken;

158:     mapping(address => mapping(address => bool)) public allowedTokens;

161:     mapping(address => mapping(address => uint256)) public gatheredIncentiveToken;

164:     uint256 public immutable FEE_MANAGER_NFT;

172:     uint256 public constant INCENTIVE_PORTION = 5 * PRECISION_FACTOR_E15;

```
*Github:* [[100](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L100), [103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L103), [106](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L106), [109](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L109), [112](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L112), [117](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L117), [120](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L120), [123](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L123), [126](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L126), [129](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L129), [132](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L132), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L135), [140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L140), [143](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L143), [146](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L146), [149](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L149), [152](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L152), [155](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L155), [158](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L158), [161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L161), [164](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L164), [172](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L172)]


```solidity
File: contracts/OwnableMaster.sol

11:     address public master;

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L11)]


```solidity
File: contracts/PositionNFTs.sol

13:     string public baseURI;

14:     string public baseExtension;

16:     address public feeManager;

17:     uint256 public totalReserved;

18:     uint256 public immutable FEE_MANAGER_NFT;

20:     mapping(address => uint256) public reserved;

21:     mapping(address => bool) public reserveRole;

23:     bool public reservePublicBlocked;

```
*Github:* [[13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L13), [14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L14), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L17), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L18), [20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L20), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L21), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L23)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

43:     bool public isShutdown;

46:     bool public allowEnter;

49:     uint256 public collateralFactor;

54:     address public immutable aaveTokenAddresses;

55:     address public immutable borrowTokenAddresses;

57:     address public immutable ENTRY_ASSET;

58:     address public immutable PENDLE_CHILD;

66:     IAave public immutable AAVE;

67:     IAaveHub public immutable AAVE_HUB;

68:     IWiseLending public immutable WISE_LENDING;

69:     IWiseOracleHub public immutable ORACLE_HUB;

70:     IWiseSecurity public immutable WISE_SECURITY;

71:     IBalancerVault public immutable BALANCER_VAULT;

72:     IPositionNFTs public immutable POSITION_NFT;

73:     IStETH public immutable ST_ETH;

74:     ICurve public immutable CURVE;

75:     IUniswapV3 public immutable UNISWAP_V3_ROUTER;

77:     IPendleSy public immutable PENDLE_SY;

78:     IPendleRouter public immutable PENDLE_ROUTER;

79:     IPendleMarket public immutable PENDLE_MARKET;

80:     IPendleRouterStatic public immutable PENDLE_ROUTER_STATIC;

108:     mapping(uint256 => bool) public isAave;

```
*Github:* [[43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L43), [46](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L46), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L49), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L54), [55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L55), [57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L57), [58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L58), [66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L66), [67](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L67), [68](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L68), [69](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L69), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L70), [71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L71), [72](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L72), [73](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L73), [74](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L74), [75](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L75), [77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L77), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L78), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L79), [80](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L80), [108](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L108)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

10:     PendlePowerFarmTokenFactory public immutable PENDLE_POWER_FARM_TOKEN_FACTORY;

```
*Github:* [[10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L10)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

56:     uint256 public reservedPendleForLocking;

58:     mapping(address => address) public pendleChildAddress;

61:     address[] public activePendleMarkets;

66:     uint256 public exchangeIncentive;

68:     IPendleLock immutable public PENDLE_LOCK;

69:     IPendleVoter immutable public PENDLE_VOTER;

70:     IPendleVoteRewards immutable public PENDLE_VOTE_REWARDS;

72:     IArbRewardsClaimer public ARB_REWARDS;

```
*Github:* [[56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L56), [58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L58), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L61), [66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L66), [68](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L68), [69](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L69), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L70), [72](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L72)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

28:     address public UNDERLYING_PENDLE_MARKET;

29:     address public PENDLE_POWER_FARM_CONTROLLER;

32:     uint256 public underlyingLpAssetsCurrent;

35:     uint256 public totalLpAssetsToDistribute;

38:     IPendleMarket public PENDLE_MARKET;

41:     IPendleSy public PENDLE_SY;

44:     IPendleController public PENDLE_CONTROLLER;

47:     uint16 public MAX_CARDINALITY;

49:     uint256 public mintFee;

50:     uint256 public lastInteraction;

```
*Github:* [[28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L28), [29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L29), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L32), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L35), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L38), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L41), [44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L44), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L47), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L49), [50](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L50)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

13:     address public immutable IMPLEMENTATION_TARGET;

14:     address public immutable PENDLE_POWER_FARM_CONTROLLER;

```
*Github:* [[13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L13), [14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L14)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

15:     uint256 public totalMinted;

18:     uint256 public totalReserved;

21:     uint256 public availableNFTCount;

24:     mapping(uint256 => uint256) public farmingKeys;

27:     mapping(address => uint256) public reservedKeys;

30:     mapping(uint256 => uint256) public availableNFTs;

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L15), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L18), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L21), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L24), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L27), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L30)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

26:     string public baseURI;

27:     string public baseExtension;

28:     address public farmContract;

```
*Github:* [[26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L26), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L27), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L28)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

10:     bool public sendingProgress;

```
*Github:* [[10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L10)]


```solidity
File: contracts/WiseLendingDeclaration.sol

165:     address public immutable WETH_ADDRESS;

174:     IWiseSecurity public WISE_SECURITY;

180:     IPositionNFTs public immutable POSITION_NFT;

183:     IWiseOracleHub public immutable WISE_ORACLE;

268:     mapping(address => uint256) public maxDepositValueToken;

270:     mapping(uint256 => address[]) public positionLendTokenData;

271:     mapping(uint256 => address[]) public positionBorrowTokenData;

273:     mapping(uint256 => mapping(address => uint256)) public userBorrowShares;

274:     mapping(uint256 => mapping(address => uint256)) public pureCollateralAmount;

275:     mapping(uint256 => mapping(address => LendingEntry)) public userLendingData;

278:     mapping(address => BorrowRatesEntry) public borrowRatesData;

279:     mapping(address => AlgorithmEntry) public algorithmData;

280:     mapping(address => GlobalPoolEntry) public globalPoolData;

281:     mapping(address => LendingPoolEntry) public lendingPoolData;

282:     mapping(address => BorrowPoolEntry) public borrowPoolData;

283:     mapping(address => TimestampsPoolEntry) public timestampsPoolData;

286:     mapping(uint256 => bool) public positionLocked;

288:     mapping(address => bool) public verifiedIsolationPool;

```
*Github:* [[165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L165), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L174), [180](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L180), [183](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L183), [268](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L268), [270](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L270), [271](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L271), [273](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L273), [274](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L274), [275](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L275), [278](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L278), [279](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L279), [280](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L280), [281](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L281), [282](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L282), [283](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L283), [286](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L286), [288](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L288)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

76:     address public immutable WETH_ADDRESS;

79:     address public constant SEQUENCER_ADDRESS = 0xFdB631F5EE196F0ed6FAa767959853A9F217697D;

82:     address public immutable ETH_USD_PLACEHOLDER;

88:     IPriceFeed public immutable ETH_PRICE_FEED;

91:     IPriceFeed public immutable SEQUENCER;

94:     IUniswapV3Factory public immutable UNI_V3_FACTORY;

142:     mapping(address => IPriceFeed) public priceFeed;

145:     mapping(address => uint256) public heartBeat;

148:     mapping(address => IAggregator) public tokenAggregatorFromTokenAddress;

151:     mapping(address => address[]) public underlyingFeedTokens;

154:     mapping(address => UniTwapPoolInfo) public uniTwapPoolInfo;

157:     mapping(address => DerivativePartnerInfo) public derivativePartnerTwap;

```
*Github:* [[76](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L76), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L79), [82](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L82), [88](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L88), [91](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L91), [94](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L94), [142](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L142), [145](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L145), [148](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L148), [151](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L151), [154](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L154), [157](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L157)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

185:     uint256 public constant BORROW_PERCENTAGE_CAP = 95 * PRECISION_FACTOR_E16;

186:     address public immutable AAVE_HUB;

191:     IFeeManager public immutable FEE_MANAGER;

194:     IWiseLending public immutable WISE_LENDING;

197:     IPositionNFTs public immutable POSITION_NFTS;

200:     IWiseOracleHub public immutable WISE_ORACLE;

203:     IWiseLiquidation public immutable WISE_LIQUIDATION;

214:     uint256 public minDepositEthValue = 1; // in wei?

238:     mapping(address => bool) public wasBlacklisted;

241:     mapping(address => CurveSwapStructData) public curveSwapInfoData;

244:     mapping(address => CurveSwapStructToken) public curveSwapInfoToken;

247:     mapping(address => bool) public securityWorker;

252:     uint256 public maxFeeETH;

255:     uint256 public maxFeeFarmETH;

258:     uint256 public baseRewardLiquidation;

261:     uint256 public baseRewardLiquidationFarm;

```
*Github:* [[185](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L185), [186](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L186), [191](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L191), [194](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L194), [197](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L197), [200](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L200), [203](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L203), [214](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L214), [238](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L238), [241](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L241), [244](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L244), [247](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L247), [252](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L252), [255](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L255), [258](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L258), [261](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L261)]


```solidity
File: contracts/WrapperHub/Declarations.sol

25:     bool public sendingProgressAaveHub;

29:     IWiseLending immutable public WISE_LENDING;

30:     IPositionNFTs immutable public POSITION_NFT;

32:     IWiseSecurity public WISE_SECURITY;

34:     address immutable public WETH_ADDRESS;

35:     address immutable public AAVE_ADDRESS;

41:     mapping(address => address) public aaveTokenAddress;

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L25), [29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L29), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L30), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L32), [34](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L34), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L35), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L41)]


</details>


<a name="NC-54"></a> 
### [NC-54] Missing NatSpec `@notice` from contract/event/function/modifier declarations
Some contract definitions have an incomplete NatSpec: add a `@notice` notation to improve the code documentation.

<details>
<summary>
There are <b>722</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

5: contract CustomOracleSetup {

14:     modifier onlyOwner() {

22:     constructor() {

26:     function renounceOwnership()

33:     function setLastUpdateGlobal(

42:     function setRoundData(

52:     function setGlobalAggregatorRoundId(

61:     function getTimeStamp()

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L5), [14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L14), [22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L22), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L26), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L33), [42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L42), [52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L52), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L61)]


```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

13: contract PendleChildLpOracle is CustomOracleSetup  {

21:     constructor(

35:     function latestAnswer()

47:     function decimals()

55:     function latestRoundData()

78:     function getRoundData(

```
*Github:* [[13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L13), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L21), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L35), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L47), [55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L55), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L78)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

28: contract PendleLpOracle {

32:     constructor(

83:     function latestAnswer()

122:     function _getLpToAssetRateWrapper(

139:     function decimals()

151:     function latestRoundData()

```
*Github:* [[28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L28), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L32), [83](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L83), [122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L122), [139](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L139), [151](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L151)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

22: contract PtOracleDerivative {

24:     constructor(

81:     function latestAnswer()

134:     function decimals()

146:     function latestRoundData()

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L22), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L24), [81](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L81), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L134), [146](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L146)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

22: contract PtOraclePure {

24:     constructor(

68:     function latestAnswer()

113:     function decimals()

125:     function latestRoundData()

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L22), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L24), [68](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L68), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L113), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L125)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

31: contract DeclarationsFeeManager is FeeManagerEvents, OwnableMaster {

33:     constructor(

176:     modifier onlyWiseSecurity() {

181:     modifier onlyWiseLending() {

186:     modifier onlyIncentiveMaster() {

191:     function _onlyIncentiveMaster()

202:     function _onlyWiseSecurity()

213:     function _onlyWiseLending()

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L31), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L33), [176](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L176), [181](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L181), [186](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L186), [191](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L191), [202](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L202), [213](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L213)]


```solidity
File: contracts/FeeManager/FeeManager.sol

25: contract FeeManager is FeeManagerHelper {

27:     constructor(

49:     function setRepayBadDebtIncentive(

66:     function setAaveFlag(

82:     function setAaveFlagBulk(

108:     function setPoolFee(

135:     function setPoolFeeBulk(

173:     function proposeIncentiveMaster(

194:     function claimOwnershipIncentiveMaster()

214:     function increaseIncentiveA(

232:     function increaseIncentiveB(

249:     function claimIncentivesBulk()

284:     function claimIncentives(

315:     function changeIncentiveUSDA(

352:     function changeIncentiveUSDB(

390:     function addPoolTokenAddress(

412:     function addPoolTokenAddressManual(

438:     function removePoolTokenManual(

494:     function increaseTotalBadDebtLiquidation(

514:     function setBadDebtUserLiquidation(

538:     function setBeneficial(

571:     function revokeBeneficial(

603:     function claimWiseFeesBulk()

628:     function claimWiseFees(

689:     function claimFeesBeneficial(

730:     function paybackBadDebtForToken(

816:     function paybackBadDebtNoReward(

872:     function getPoolTokenAddressesLength()

884:     function getPoolTokenAdressesByIndex(

898:     function syncAllPools()

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L25), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L27), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L49), [66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L66), [82](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L82), [108](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L108), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L135), [173](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L173), [194](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L194), [214](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L214), [232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L232), [249](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L249), [284](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L284), [315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L315), [352](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L352), [390](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L390), [412](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L412), [438](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L438), [494](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L494), [514](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L514), [538](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L538), [571](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L571), [603](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L603), [628](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L628), [689](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L689), [730](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L730), [816](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L816), [872](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L872), [884](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L884), [898](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L898)]


```solidity
File: contracts/FeeManager/FeeManagerEvents.sol

5: contract FeeManagerEvents {

7:     event ClaimedFeesWiseBulk(

11:     event PoolTokenRemoved(

16:     event PoolTokenAdded(

21:     event IncentiveOwnerBChanged(

26:     event IncentiveOwnerAChanged(

31:     event ClaimedOwnershipIncentiveMaster(

36:     event IncentiveMasterProposed(

41:     event PoolFeeChanged(

47:     event ClaimedIncentives(

54:     event ClaimedIncentivesBulk(

58:     event IncentiveIncreasedB(

63:     event IncentiveIncreasedA(

68:     event BadDebtIncreasedLiquidation(

73:     event TotalBadDebtIncreased(

78:     event TotalBadDebtDecreased(

83:     event SetBadDebtPosition(

89:     event UpdateBadDebtPosition(

95:     event SetBeneficial(

101:     event RevokeBeneficial(

107:     event ClaimedFeesWise(

113:     event ClaimedFeesBeneficial(

120:     event PayedBackBadDebt(

129:     event PayedBackBadDebtFree(

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L5), [7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L7), [11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L11), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L16), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L21), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L26), [31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L31), [36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L36), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L41), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L47), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L54), [58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L58), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L63), [68](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L68), [73](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L73), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L78), [83](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L83), [89](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L89), [95](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L95), [101](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L101), [107](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L107), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L113), [120](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L120), [129](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L129)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

8: abstract contract FeeManagerHelper is DeclarationsFeeManager, TransferHelper {

15:     function _prepareBorrows(

47:     function _prepareCollaterals(

77:     function _setBadDebtPosition(

89:     function _increaseTotalBadDebt(

105:     function _decreaseTotalBadDebt(

121:     function _eraseBadDebtUser(

134:     function _updateUserBadDebt(

195:     function _increaseFeeTokens(

208:     function _decreaseFeeTokens(

220:     function _setAllowedTokens(

230:     function _setAaveFlag(

244:     function getReceivingToken(

270:     function updatePositionCurrentBadDebt(

292:     function _distributeIncentives(

330:     function _gatherIncentives(

383:     function _checkValue(

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L8), [15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L15), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L47), [77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L77), [89](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L89), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L105), [121](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L121), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L134), [195](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L195), [208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L208), [220](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L220), [230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L230), [244](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L244), [270](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L270), [292](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L292), [330](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L330), [383](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L383)]


```solidity
File: contracts/MainHelper.sol

7: abstract contract MainHelper is WiseLowLevelHelper {

17:     function calculateLendingShares(

33:     function _calculateShares(

55:     function calculateBorrowShares(

79:     function cashoutAmount(

93:     function _cashoutAmount(

114:     function paybackAmount(

135:     function _preparationsWithdraw(

163:     function _getValueUtilization(

187:     function _updateUtilization(

202:     function _checkCleanUp(

217:     function _onlyIsolationPool(

232:     function _validateIsolationPoolLiquidation(

258:     function _checkLiquidatorNft(

278:     function _getBalance(

298:     function _cleanUp(

350:     function _getAllowedDifference(

372:     function _preparePool(

391:     function _preparationTokens(

417:     function _prepareTokens(

454:     function _curveSecurityChecks(

473:     function _whileLoopCurveSecurity(

500:     function _updatePseudoTotalAmounts(

584:     function _increasePositionLendingDeposit(

599:     function _decreaseLendingShares(

614:     function _addPositionTokenData(

647:     function _getHash(

667:     function _removePositionData(

733:     function _deleteLastPositionLendingData(

752:     function _corePayback(

794:     function _deleteLastPositionBorrowData(

814:     function isUncollateralized(

830:     function _checkLendingDataEmpty(

851:     function _calculateNewBorrowRate(

877:     function _newBorrowRate(

896:     function _aboveThreshold(

911:     function _scalingAlgorithm(

947:     function _newMaxPoolShares(

969:     function _saveUp(

987:     function _resonanceOutcome(

1006:     function _resetResonanceFactor(

1030:     function _revertDirectionState(

1045:     function _updateResonanceFactor(

1061:     function _reversedResonanceFactor(

1078:     function _changingResonanceFactor(

1094:     function _increaseResonanceFactor(

1125:     function _decreaseResonanceFactor(

1155:     function _removeEmptyLendingData(

1184:     function _updatePoolStorage(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L7), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L17), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L33), [55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L55), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L79), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L93), [114](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L114), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L135), [163](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L163), [187](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L187), [202](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L202), [217](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L217), [232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L232), [258](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L258), [278](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L278), [298](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L298), [350](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L350), [372](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L372), [391](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L391), [417](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L417), [454](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L454), [473](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L473), [500](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L500), [584](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L584), [599](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L599), [614](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L614), [647](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L647), [667](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L667), [733](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L733), [752](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L752), [794](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L794), [814](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L814), [830](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L830), [851](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L851), [877](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L877), [896](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L896), [911](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L911), [947](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L947), [969](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L969), [987](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L987), [1006](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1006), [1030](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1030), [1045](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1045), [1061](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1061), [1078](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1078), [1094](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1094), [1125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1125), [1155](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1155), [1184](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1184)]


```solidity
File: contracts/OwnableMaster.sol

9: contract OwnableMaster {

16:     modifier onlyProposed() {

21:     function _onlyMaster()

32:     modifier onlyMaster() {

37:     function _onlyProposed()

48:     event MasterProposed(

53:     event RenouncedOwnership(

57:     constructor(

70:     function proposeOwner(

92:     function claimOwnership()

103:     function renounceOwnership()

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L9), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L16), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L21), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L32), [37](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L37), [48](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L48), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L53), [57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L57), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L70), [92](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L92), [103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L103)]


```solidity
File: contracts/PoolManager.sol

8: abstract contract PoolManager is WiseCore {

25:     function setParamsLASA(

100:     function setPoolParameters(

125:     function setVerifiedIsolationPool(

135:     function createPool(

146:     function createCurvePool(

164:     function _createPool(

277:     function _getPoleValue(

293:     function _getDeltaPole(

304:     function _getStartValue(

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L8), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L25), [100](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L100), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L125), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L135), [146](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L146), [164](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L164), [277](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L277), [293](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L293), [304](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L304)]


```solidity
File: contracts/PositionNFTs.sol

11: contract PositionNFTs is ERC721Enumerable, OwnableMaster {

25:     constructor(

45:     modifier onlyReserveRole() {

54:     function assignReserveRole(

64:     function blockReservePublic()

71:     function forwardFeeManagerNFT(

90:     function reservePosition()

99:     function reservePositionForUser(

111:     function _reservePositionForUser(

130:     function getNextExpectedId()

142:     function mintPosition()

154:     function getApprovedSoft(

174:     function mintPositionForUser(

193:     function _mintPositionForUser(

222:     function isOwner(

245:     function approveMint(

271:     function walletOfOwner(

319:     function setBaseURI(

328:     function setBaseExtension(

340:     function tokenURI(

371:     function _toString(

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L11), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L25), [45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L45), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L54), [64](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L64), [71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L71), [90](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L90), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L99), [111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L111), [130](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L130), [142](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L142), [154](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L154), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L174), [193](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L193), [222](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L222), [245](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L245), [271](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L271), [319](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L319), [328](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L328), [340](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L340), [371](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L371)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

7: abstract contract PendlePowerFarm is PendlePowerFarmLeverageLogic {

15:     function getApproxNetAPY(

41:     function getNewBorrowRate(

57:     function getLiveDebtRatio(

93:     function liquidatePartiallyFromToken(

119:     function _manuallyPaybackShares(

157:     function _manuallyWithdrawShares(

185:     function _openPosition(

230:     function _closingPosition(

274:     function _registrationFarm(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L7), [15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L15), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L41), [57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L57), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L93), [119](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L119), [157](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L157), [185](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L185), [230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L230), [274](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L274)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

36: contract PendlePowerFarmDeclarations is

110:     event FarmEntry(

118:     event FarmExit(

125:     event FarmStatus(

130:     event ManualPaybackShares(

137:     event ManualWithdrawShares(

144:     event MinDepositChange(

149:     event ETHReceived(

154:     event RegistrationFarm(

159:     constructor(

266:     function doApprovals()

274:     function _doApprovals(

356:     modifier isActive() {

361:     function _isActive()

```
*Github:* [[36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L36), [110](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L110), [118](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L118), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L125), [130](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L130), [137](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L137), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L144), [149](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L149), [154](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L154), [159](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L159), [266](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L266), [274](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L274), [356](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L356), [361](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L361)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

7: abstract contract PendlePowerFarmLeverageLogic is

15:     function _executeBalancerFlashLoan(

59:     function receiveFlashLoan(

134:     function _logicClosePosition(

232:     function _getEthBack(

264:     function _getTokensUniV3(

293:     function _swapStETHintoETH(

310:     function _withdrawPendleLPs(

326:     function _paybackExactShares(

354:     function _closingRouteToken(

383:     function _closingRouteETH(

414:     function _logicOpenPosition(

531:     function _borrowExactAmount(

560:     function _coreLiquidation(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L7), [15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L15), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L59), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L134), [232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L232), [264](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L264), [293](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L293), [310](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L310), [326](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L326), [354](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L354), [383](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L383), [414](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L414), [531](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L531), [560](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L560)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

7: abstract contract PendlePowerFarmMathLogic is PendlePowerFarmDeclarations {

9:     modifier updatePools() {

19:     function _updatePools()

35:     function _checkReentrancy()

57:     function _getPositionBorrowShares(

75:     function _getPositionBorrowSharesAave(

92:     function _getPositionBorrowTokenAmount(

111:     function _getPositionBorrowTokenAmountAave(

136:     function _getPositionLendingShares(

153:     function _getPostionCollateralTokenAmount(

174:     function getPositionBorrowETH(

229:     function getTotalWeightedCollateralETH(

244:     function _getTokensInETH(

258:     function _getEthInTokens(

272:     function getLeverageAmount(

289:     function _getApproxNetAPY(

344:     function _getNewBorrowRate(

389:     function _checkDebtRatio(

416:     function _notBelowMinDepositAmount(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L7), [9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L9), [19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L19), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L35), [57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L57), [75](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L75), [92](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L92), [111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L111), [136](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L136), [153](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L153), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L174), [229](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L229), [244](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L244), [258](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L258), [272](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L272), [289](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L289), [344](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L344), [389](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L389), [416](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L416)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

15: contract PendlePowerManager is OwnableMaster, PendlePowerFarm, MinterReserver {

21:     receive()

31:     constructor(

63:     function changeMinDeposit(

82:     function shutDownFarm(

96:     function enterFarm(

142:     function enterFarmETH(

185:     function _getWiseLendingNFT()

210:     function exitFarm(

254:     function manuallyPaybackShares(

274:     function manuallyWithdrawShares(

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L15), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L21), [31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L31), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L63), [82](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L82), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L96), [142](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L142), [185](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L185), [210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L210), [254](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L254), [274](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L274)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

8: contract PendlePowerFarmController is PendlePowerFarmControllerHelper {

12:     constructor(

32:     function withdrawLp(

53:     function exchangeRewardsForCompoundingWithIncentive(

113:     function exchangeLpFeesForPendleWithIncentive(

172:     function skim(

211:     function addPendleMarket(

293:     function updateRewardTokens(

321:     function changeExchangeIncentive(

334:     function changeMintFee(

364:     function lockPendle(

431:     function claimArb(

451:     function withdrawLock()

497:     function increaseReservedForCompound(

526:     function overWriteIndex(

544:     function overWriteIndexAll(

566:     function overWriteAmounts(

581:     function claimVoteRewards(

600:     function forwardETH(

612:     function vote(

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L8), [12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L12), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L32), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L53), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L113), [172](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L172), [211](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L211), [293](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L293), [321](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L321), [334](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L334), [364](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L364), [431](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L431), [451](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L451), [497](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L497), [526](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L526), [544](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L544), [566](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L566), [581](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L581), [600](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L600), [612](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L612)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

30: contract PendlePowerFarmControllerBase is

79:     constructor(

125:     receive()

135:     event ETHReceived(

140:     event ChangeExchangeIncentive(

144:     event WithdrawLp(

150:     event ExchangeRewardsForCompounding(

157:     event ExchangeLpFeesForPendle(

164:     event AddPendleMarket(

169:     event UpdateRewardTokens(

174:     event ChangeMintFee(

179:     event LockPendle(

188:     event ClaimArb(

194:     event IncreaseReservedForCompound(

199:     event ClaimVoteRewards(

205:     event WithdrawLock(

210:     modifier syncSupply(

220:     modifier onlyChildContract(

230:     modifier onlyArbitrum()

236:     function _onlyArbitrum()

245:     function _onlyChildContract(

256:     function _syncSupply(

272:     function syncAllSupply()

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L30), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L79), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L125), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L135), [140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L140), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L144), [150](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L150), [157](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L157), [164](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L164), [169](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L169), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L174), [179](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L179), [188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L188), [194](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L194), [199](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L199), [205](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L205), [210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L210), [220](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L220), [230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L230), [236](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L236), [245](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L245), [256](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L256), [272](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L272)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

7: abstract contract PendlePowerFarmControllerHelper is PendlePowerFarmControllerBase {

9:     function _findIndex(

32:     function _calcExpiry(

45:     function _getExpiry()

53:     function _getLockAmount()

61:     function _getPositionData(

73:     function _getAmountToSend(

95:     function pendleChildCompoundInfoReservedForCompound(

105:     function pendleChildCompoundInfoLastIndex(

115:     function pendleChildCompoundInfoRewardTokens(

125:     function activePendleMarketsLength()

133:     function _checkFeed(

144:     function _getRewardTokens(

156:     function _getUserReward(

173:     function _getUserRewardIndex(

189:     function _getTokensInETH(

203:     function _getTokensFromETH(

217:     function _compareHashes(

236:     function _setRewardTokens(

245:     function getExpiry()

253:     function getLockAmount()

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L7), [9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L9), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L32), [45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L45), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L53), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L61), [73](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L73), [95](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L95), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L105), [115](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L115), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L125), [133](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L133), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L144), [156](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L156), [173](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L173), [189](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L189), [203](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L203), [217](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L217), [236](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L236), [245](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L245), [253](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L253)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

25: contract PendlePowerFarmToken is SimpleERC20, TransferHelper {

67:     modifier onlyController() {

72:     function _onlyController()

81:     modifier syncSupply()

98:     function _validateSharePrice(

114:     function _validateSharePriceGrowth(

132:     function _overWriteCheck()

140:     function _triggerIndexUpdate()

149:     function _wrapOverWrites(

160:     function _updateRewardTokens()

169:     function _overWriteIndexAll()

177:     function _overWriteIndex(

188:     function _overWriteAmounts()

196:     function _updateRewards()

218:     function _calculateRewardsClaimedOutside()

305:     function _getBalanceLpBalanceController()

315:     function _getActiveBalance()

325:     function _getSharePrice()

334:     function _syncSupply()

347:     function _increaseCardinalityNext()

359:     function _withdrawLp(

372:     function _getUserReward(

386:     function previewDistribution()

416:     function _setLastInteraction()

422:     function _applyMintFee(

434:     function totalLpAssets()

443:     function previewUnderlyingLpAssets()

452:     function previewMintShares(

465:     function previewAmountWithdrawShares(

478:     function previewBurnShares(

494:     function manualSync()

502:     function addCompoundRewards(

529:     function depositExactAmount(

592:     function changeMintFee(

608:     function withdrawExactShares(

647:     function withdrawExactAmount(

682:     function initialize(

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L25), [67](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L67), [72](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L72), [81](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L81), [98](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L98), [114](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L114), [132](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L132), [140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L140), [149](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L149), [160](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L160), [169](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L169), [177](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L177), [188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L188), [196](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L196), [218](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L218), [305](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L305), [315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L315), [325](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L325), [334](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L334), [347](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L347), [359](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L359), [372](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L372), [386](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L386), [416](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L416), [422](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L422), [434](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L434), [443](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L443), [452](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L452), [465](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L465), [478](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L478), [494](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L494), [502](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L502), [529](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L529), [592](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L592), [608](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L608), [647](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L647), [682](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L682)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

9: contract PendlePowerFarmTokenFactory {

16:     constructor(

35:     function deploy(

56:     function _clone(

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L9), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L16), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L35), [56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L56)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

10: contract MinterReserver {

32:     modifier onlyKeyOwner(

41:     function _onlyKeyOwner(

55:     constructor(

63:     function _incrementReserved()

70:     function _getNextReserveKey()

77:     function _reserveKey(

96:     function isOwner(

115:     function _mintKeyForUser(

141:     function mintReserved()

153:     event ERC721Received(

160:     function onERC721Received(

```
*Github:* [[10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L10), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L32), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L41), [55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L55), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L63), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L70), [77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L77), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L96), [115](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L115), [141](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L141), [153](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L153), [160](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L160)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

14: interface IFarmContract {

16:     function reservedKeys(

24: contract PowerFarmNFTs is ERC721Enumerable, OwnableMaster {

30:     modifier onlyFarmContract() {

38:     constructor(

51:     function setFarmContract(

66:     function mintKey(

82:     function burnKey(

93:     function checkOwner(

109:     function walletOfOwner(

161:     function setBaseURI(

170:     function setBaseExtension(

182:     function tokenURI(

213:     function _toString(

```
*Github:* [[14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L14), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L16), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L24), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L30), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L38), [51](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L51), [66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L66), [82](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L82), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L93), [109](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L109), [161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L161), [170](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L170), [182](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L182), [213](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L213)]


```solidity
File: contracts/TransferHub/ApprovalHelper.sol

7: contract ApprovalHelper is CallOptionalReturn {

13:     function _safeApprove(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/ApprovalHelper.sol#L7), [13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/ApprovalHelper.sol#L13)]


```solidity
File: contracts/TransferHub/CallOptionalReturn.sol

7: contract CallOptionalReturn {

12:     function _callOptionalReturn(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/CallOptionalReturn.sol#L7), [12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/CallOptionalReturn.sol#L12)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

8: contract SendValueHelper {

12:     function _sendValue(

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L8), [12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L12)]


```solidity
File: contracts/TransferHub/TransferHelper.sol

7: contract TransferHelper is CallOptionalReturn {

13:     function _safeTransfer(

34:     function _safeTransferFrom(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/TransferHelper.sol#L7), [13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/TransferHelper.sol#L13), [34](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/TransferHelper.sol#L34)]


```solidity
File: contracts/TransferHub/WrapperHelper.sol

7: contract WrapperHelper {

11:     constructor(

24:     function _wrapETH(

38:     function _unwrapETH(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L7), [11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L11), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L24), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L38)]


```solidity
File: contracts/WiseCore.sol

8: abstract contract WiseCore is MainHelper, TransferHelper {

15:     function _prepareAssociatedTokens(

44:     function _coreWithdrawToken(

106:     function _handleDeposit(

173:     function checkPositionLocked(

193:     function _checkPositionLocked(

215:     function checkDeposit(

236:     function _checkDeposit(

271:     function _checkAllowDeposit(

294:     function _checkMaxDepositValue(

316:     function _coreWithdrawBare(

349:     function _coreBorrowTokens(

428:     function _withdrawPureCollateralLiquidation(

460:     function _withdrawOrAllocateSharesLiquidation(

543:     function _calculateReceiveAmount(

604:     function _calculatePotentialPureExtraCashout(

625:     function _coreLiquidation(

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L8), [15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L15), [44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L44), [106](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L106), [173](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L173), [193](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L193), [215](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L215), [236](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L236), [271](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L271), [294](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L294), [316](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L316), [349](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L349), [428](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L428), [460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L460), [543](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L543), [604](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L604), [625](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L625)]


```solidity
File: contracts/WiseLending.sol

43: contract WiseLending is PoolManager {

49:     receive()

67:     modifier healthStateCheck(

77:     function _healthStateCheck(

97:     modifier syncPool(

116:     constructor(

128:     function _emitFundsSolelyWithdrawn(

145:     function _emitFundsSolelyDeposited(

165:     function _getSharePrice(

192:     function _checkHealthState(

210:     function _compareSharePrices(

255:     function _getCurrentSharePriceMax(

275:     function _syncPoolBeforeCodeExecution(

308:     function _syncPoolAfterCodeExecution(

329:     function collateralizeDeposit(

348:     function unCollateralizeDeposit(

388:     function depositExactAmountETH(

401:     function _depositExactAmountETH(

426:     function depositExactAmountETHMint()

442:     function depositExactAmountMint(

460:     function depositExactAmount(

493:     function solelyDepositETHMint()

508:     function solelyDepositETH(

539:     function _handleSolelyDeposit(

581:     function solelyDepositMint(

600:     function solelyDeposit(

636:     function withdrawExactAmountETH(

675:     function withdrawExactSharesETH(

714:     function withdrawExactAmount(

751:     function solelyWithdrawETH(

780:     function solelyWithdraw(

808:     function _coreSolelyWithdraw(

859:     function withdrawOnBehalfExactAmount(

902:     function withdrawExactShares(

939:     function withdrawOnBehalfExactShares(

975:     function borrowExactAmountETH(

1016:     function borrowExactAmount(

1055:     function borrowOnBehalfExactAmount(

1088:     function paybackExactAmountETH(

1161:     function paybackExactAmount(

1204:     function paybackExactShares(

1250:     function liquidatePartiallyFromTokens(

1314:     function coreLiquidationIsolationPools(

1367:     function syncManually(

1386:     function setRegistrationIsolationPool(

1412:     function corePaybackFeeManager(

1434:     function _handlePayback(

1460:     function _handleWithdrawAmount(

1489:     function _handleSolelyWithdraw(

1517:     function _handleWithdrawShares(

1553:     function _handleBorrowExactAmount(

1588:     function _reservePosition()

```
*Github:* [[43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L43), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L49), [67](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L67), [77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L77), [97](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L97), [116](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L116), [128](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L128), [145](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L145), [165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L165), [192](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L192), [210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L210), [255](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L255), [275](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L275), [308](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L308), [329](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L329), [348](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L348), [388](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L388), [401](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L401), [426](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L426), [442](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L442), [460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L460), [493](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L493), [508](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L508), [539](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L539), [581](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L581), [600](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L600), [636](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L636), [675](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L675), [714](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L714), [751](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L751), [780](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L780), [808](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L808), [859](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L859), [902](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L902), [939](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L939), [975](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L975), [1016](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1016), [1055](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1055), [1088](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1088), [1161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1161), [1204](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1204), [1250](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1250), [1314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1314), [1367](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1367), [1386](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1386), [1412](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1412), [1434](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1434), [1460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1460), [1489](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1489), [1517](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1517), [1553](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1553), [1588](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1588)]


```solidity
File: contracts/WiseLendingDeclaration.sol

30: contract WiseLendingDeclaration is

35:     event FundsDeposited(

44:     event FundsSolelyDeposited(

52:     event FundsWithdrawn(

61:     event FundsWithdrawnOnBehalf(

70:     event FundsSolelyWithdrawn(

78:     event FundsBorrowed(

87:     event FundsBorrowedOnBehalf(

96:     event FundsReturned(

105:     constructor(

140:     function setSecurity(

252:     modifier onlyAaveHub() {

257:     function _onlyAaveHub()

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L30), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L35), [44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L44), [52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L52), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L61), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L70), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L78), [87](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L87), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L96), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L105), [140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L140), [252](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L252), [257](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L257)]


```solidity
File: contracts/WiseLowLevelHelper.sol

7: abstract contract WiseLowLevelHelper is WiseLendingDeclaration {

9:     modifier onlyFeeManager() {

14:     function _onlyFeeManager()

25:     function _validateParameter(

39:     function getTotalPool(

49:     function getPseudoTotalPool(

59:     function getTotalBareToken(

69:     function getPseudoTotalBorrowAmount(

79:     function getTotalDepositShares(

89:     function getTotalBorrowShares(

99:     function getPositionLendingShares(

110:     function getPositionBorrowShares(

121:     function getPureCollateralAmount(

134:     function getTimeStamp(

144:     function getPositionLendingTokenByIndex(

155:     function getPositionLendingTokenLength(

165:     function getPositionBorrowTokenByIndex(

176:     function getPositionBorrowTokenLength(

188:     function _setMaxValue(

197:     function _setBestPole(

206:     function _setIncreasePole(

215:     function _setPole(

224:     function _increaseTotalPool(

233:     function _decreaseTotalPool(

242:     function _increaseTotalDepositShares(

251:     function _decreaseTotalDepositShares(

260:     function _increasePseudoTotalBorrowAmount(

269:     function _decreasePseudoTotalBorrowAmount(

278:     function _increaseTotalBorrowShares(

287:     function _decreaseTotalBorrowShares(

296:     function _increasePseudoTotalPool(

305:     function _decreasePseudoTotalPool(

314:     function _setTimeStamp(

323:     function _setTimeStampScaling(

332:     function _increaseTotalBareToken(

341:     function _decreaseTotalBareToken(

350:     function _checkReentrancy()

363:     function _sendingProgressAaveHub()

371:     function _decreasePositionMappingValue(

382:     function _increaseMappingValue(

393:     function _byPassCase(

407:     function _increaseTotalAndPseudoTotalPool(

424:     function setPoolFee(

434:     function _checkOwnerPosition(

447:     function _validateNonZero(

458:     function _validateZero(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L7), [9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L9), [14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L14), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L25), [39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L39), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L49), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L59), [69](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L69), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L79), [89](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L89), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L99), [110](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L110), [121](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L121), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L134), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L144), [155](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L155), [165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L165), [176](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L176), [188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L188), [197](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L197), [206](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L206), [215](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L215), [224](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L224), [233](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L233), [242](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L242), [251](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L251), [260](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L260), [269](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L269), [278](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L278), [287](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L287), [296](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L296), [305](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L305), [314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L314), [323](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L323), [332](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L332), [341](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L341), [350](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L350), [363](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L363), [371](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L371), [382](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L382), [393](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L393), [407](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L407), [424](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L424), [434](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L434), [447](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L447), [458](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L458)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

33: abstract contract Declarations is OwnableMaster {

45:     constructor(

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L33), [45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L45)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

7: abstract contract OracleHelper is Declarations {

12:     function _addOracle(

32:     function _addAggregator(

60:     function _checkFunctionExistence(

87:     function _compareMinMax(

106:     function latestResolverTwap(

131:     function _validateAnswer(

179:     function _writeUniTwapPoolInfoStruct(

195:     function _writeUniTwapPoolInfoStructDerivative(

216:     function _getRelativeDifference(

235:     function _compareDifference(

246:     function _getChainlinkAnswer(

265:     function getETHPriceInUSD()

283:     function _getPool(

303:     function _validateTokenAddress(

324:     function _validatePoolAddress(

344:     function _validatePriceFeed(

359:     function _validateTwapOracle(

374:     function _getTwapPrice(

394:     function _getOneUnit(

406:     function _getAverageTick(

450:     function decimals(

460:     function _getTwapDerivatePrice(

507:     function _recalibrate(

521:     function sequencerIsDead()

556:     function _chainLinkIsDead(

592:     function _recalibratePreview(

658:     function _getIterationCount(

674:     function _getRoundTimestamp(

699:     function getLatestRoundId(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L7), [12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L12), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L32), [60](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L60), [87](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L87), [106](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L106), [131](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L131), [179](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L179), [195](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L195), [216](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L216), [235](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L235), [246](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L246), [265](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L265), [283](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L283), [303](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L303), [324](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L324), [344](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L344), [359](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L359), [374](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L374), [394](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L394), [406](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L406), [450](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L450), [460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L460), [507](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L507), [521](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L521), [556](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L556), [592](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L592), [658](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L658), [674](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L674), [699](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L699)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

31: contract WiseOracleHub is OracleHelper {

33:     constructor(

69:     function latestResolver(

85:     function getTokenDecimals(

96:     function getTokensInUSD(

123:     function getTokensPriceInUSD(

143:     function getTokensInETH(

171:     function getTokensFromUSD(

198:     function getTokensPriceFromUSD(

218:     function addTwapOracle(

266:     function addTwapOracleDerivative(

327:     function getTokensFromETH(

359:     function addOracle(

379:     function addOracleBulk(

403:     function addAggregator(

419:     function recalibratePreview(

439:     function chainLinkIsDead(

487:     function recalibrate(

501:     function recalibrateBulk(

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L31), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L33), [69](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L69), [85](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L85), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L96), [123](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L123), [143](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L143), [171](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L171), [198](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L198), [218](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L218), [266](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L266), [327](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L327), [359](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L359), [379](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L379), [403](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L403), [419](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L419), [439](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L439), [487](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L487), [501](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L501)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

24: contract WiseSecurity is WiseSecurityHelper, ApprovalHelper {

26:     modifier onlyWiseLending() {

31:     function _onlyWiseLending()

42:     constructor(

59:     function getLiveDebtRatio(

85:     function setLiquidationSettings(

105:     function checksLiquidation(

142:     function prepareCurvePools(

193:     function curveSecurityCheck(

237:     function checksWithdraw(

275:     function checksSolelyWithdraw(

306:     function checksBorrow(

335:     function checksCollateralizeDeposit(

360:     function checkUncollateralizedDeposit(

388:     function checkHealthState(

405:     function checkBadDebtLiquidation(

442:     function overallLendingAPY(

499:     function overallBorrowAPY(

556:     function overallNetAPY(

641:     function safeLimitPosition(

695:     function positionBlackListToken(

764:     function maximumWithdrawToken(

826:     function maximumWithdrawTokenSolely(

868:     function maximumBorrowToken(

906:     function getExpectedPaybackAmount(

943:     function getExpectedLendingAmount(

980:     function setBlacklistToken(

995:     function setSecurityWorker(

1011:     function securityShutdown()

1032:     function revokeShutdown()

1045:     function checkPoolCondition(

1060:     function checkPoolWithMinDeposit(

1078:     function checkMinDepositValue(

1092:     function _checkMinDepositValue(

1111:     function changeMinDepositValue(

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L24), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L26), [31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L31), [42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L42), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L59), [85](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L85), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L105), [142](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L142), [193](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L193), [237](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L237), [275](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L275), [306](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L306), [335](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L335), [360](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L360), [388](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L388), [405](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L405), [442](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L442), [499](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L499), [556](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L556), [641](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L641), [695](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L695), [764](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L764), [826](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L826), [868](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L868), [906](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L906), [943](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L943), [980](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L980), [995](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L995), [1011](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1011), [1032](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1032), [1045](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1045), [1060](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1060), [1078](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1078), [1092](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1092), [1111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1111)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

45: contract WiseSecurityDeclarations is OwnableMaster {

47:     event SecurityShutdown(

52:     constructor(

118:     function _setLiquidationSettings(

```
*Github:* [[45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L45), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L47), [52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L52), [118](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L118)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

7: abstract contract WiseSecurityHelper is WiseSecurityDeclarations {

15:     function overallETHCollateralsBoth(

65:     function overallETHCollateralsWeighted(

107:     function overallETHCollateralsBare(

145:     function _overallETHCollateralsWeighted(

190:     function getFullCollateralETH(

224:     function _isUncollateralized(

246:     function _getCollateralOfTokenETHUpdated(

281:     function getETHCollateralUpdated(

323:     function getETHCollateral(

340:     function _getTokensInEth(

360:     function overallETHBorrowBare(

394:     function overallETHBorrowHeartbeat(

430:     function overallETHBorrow(

470:     function _checkBlacklisted(

486:     function _overallETHBorrow(

530:     function _getUpdatedPseudoBorrow(

554:     function _getUpdatedPseudoPool(

578:     function _getInterest(

610:     function _getETHBorrowUpdated(

651:     function getETHBorrow(

672:     function checkTokenAllowed(

687:     function checkHeartbeat(

701:     function _checkPositionLocked(

716:     function checkMaxFee(

736:     function _checkMaxFee(

760:     function calculateWishPercentage(

794:     function _checkHealthState(

806:     function _getState(

837:     function checksRegister(

859:     function canLiquidate(

876:     function checkMaxShares(

906:     function checkBadDebtThreshold(

922:     function getPositionLendingAmount(

945:     function getPositionBorrowAmount(

966:     function checkOwnerPosition(

985:     function getBorrowRate(

999:     function getLendingRate(

1029:     function _getPossibleWithdrawAmount(

1057:     function _setPoolState(

1080:     function _checkPoolCondition(

1096:     function _checkSuccess(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L7), [15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L15), [65](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L65), [107](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L107), [145](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L145), [190](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L190), [224](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L224), [246](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L246), [281](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L281), [323](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L323), [340](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L340), [360](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L360), [394](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L394), [430](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L430), [470](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L470), [486](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L486), [530](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L530), [554](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L554), [578](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L578), [610](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L610), [651](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L651), [672](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L672), [687](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L687), [701](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L701), [716](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L716), [736](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L736), [760](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L760), [794](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L794), [806](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L806), [837](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L837), [859](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L859), [876](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L876), [906](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L906), [922](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L922), [945](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L945), [966](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L966), [985](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L985), [999](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L999), [1029](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1029), [1057](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1057), [1080](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1080), [1096](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1096)]


```solidity
File: contracts/WrapperHub/AaveEvents.sol

5: contract AaveEvents {

7:     event SetAaveTokenAddress(

13:     event IsDepositAave(

18:     event IsWithdrawAave(

23:     event IsBorrowAave(

28:     event IsPaybackAave(

33:     event IsSolelyDepositAave(

38:     event IsSolelyWithdrawAave(

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L5), [7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L7), [13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L13), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L18), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L23), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L28), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L33), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L38)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

7: abstract contract AaveHelper is Declarations {

9:     modifier nonReentrant() {

14:     modifier validToken(

23:     function _validToken(

34:     function _nonReentrantCheck()

47:     function _reservePosition()

56:     function _wrapDepositExactAmount(

83:     function _wrapWithdrawExactAmount(

113:     function _wrapWithdrawExactShares(

141:     function _wrapBorrowExactAmount(

165:     function _wrapAaveReturnValueDeposit(

196:     function _sendValue(

219:     function _getInfoPayback(

243:     function _prepareCollaterals(

279:     function _prepareBorrows(

315:     function getAavePoolAPY(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L7), [9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L9), [14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L14), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L23), [34](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L34), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L47), [56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L56), [83](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L83), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L113), [141](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L141), [165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L165), [196](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L196), [219](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L219), [243](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L243), [279](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L279), [315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L315)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

25: contract AaveHub is AaveHelper, TransferHelper, ApprovalHelper {

27:     constructor(

44:     function setAaveTokenAddress(

64:     function setAaveTokenAddressBulk(

83:     receive()

103:     function depositExactAmountMint(

122:     function depositExactAmount(

158:     function depositExactAmountETHMint()

172:     function depositExactAmountETH(

202:     function withdrawExactAmount(

238:     function withdrawExactAmountETH(

281:     function withdrawExactShares(

314:     function withdrawExactSharesETH(

357:     function borrowExactAmount(

393:     function borrowExactAmountETH(

433:     function paybackExactAmount(

482:     function paybackExactAmountETH(

556:     function paybackExactShares(

611:     function skimAave(

635:     function getLendingRate(

664:     function _setAaveTokenAddress(

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L25), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L27), [44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L44), [64](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L64), [83](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L83), [103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L103), [122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L122), [158](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L158), [172](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L172), [202](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L202), [238](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L238), [281](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L281), [314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L314), [357](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L357), [393](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L393), [433](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L433), [482](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L482), [556](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L556), [611](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L611), [635](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L635), [664](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L664)]


```solidity
File: contracts/WrapperHub/Declarations.sol

21: contract Declarations is OwnableMaster, AaveEvents, WrapperHelper {

43:     constructor(

81:     function _checkOwner(

93:     function _checkPositionLocked(

105:     function setWiseSecurity(

```
*Github:* [[21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L21), [43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L43), [81](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L81), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L93), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L105)]


</details>


<a name="NC-55"></a> 
### [NC-55] Missing NatSpec `@param` from event/function/modifier declarations
Some event definitions have an incomplete NatSpec: add a `@param` notation to improve the code documentation.

<details>
<summary>
There are <b>576</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

/// @audit missing @param for `_time`
33:     function setLastUpdateGlobal(
            uint256 _time
        )
            external
            onlyOwner
        {

/// @audit missing @param for `_roundId`
/// @audit missing @param for `_updateTime`
42:     function setRoundData(
            uint80 _roundId,
            uint256 _updateTime
        )
            external
            onlyOwner
        {

/// @audit missing @param for `_aggregatorRoundId`
52:     function setGlobalAggregatorRoundId(
            uint80 _aggregatorRoundId
        )
            external
            onlyOwner
        {

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L33), [42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L42), [52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L52)]


```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

/// @audit missing @param for `_pendleLpOracle`
/// @audit missing @param for `_pendleChild`
21:     constructor(
            address _pendleLpOracle,
            address _pendleChild
        )
            CustomOracleSetup()
        {

/// @audit missing @param for `_roundId`
78:     function getRoundData(
            uint80 _roundId
        )
            external
            view
            returns (
                uint80 roundId,
                int256 answer,
                uint256 startedAt,
                uint256 updatedAt,
                uint80 answeredInRound
            )
        {

```
*Github:* [[21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L21), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L78)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

/// @audit missing @param for `_pendleMarketAddress`
/// @audit missing @param for `_priceFeedChainLinkEth`
/// @audit missing @param for `_oraclePendlePt`
/// @audit missing @param for `_oracleName`
/// @audit missing @param for `_twapDuration`
32:     constructor(
            address _pendleMarketAddress,
            IPriceFeed _priceFeedChainLinkEth,
            IOraclePendle _oraclePendlePt,
            string memory _oracleName,
            uint32 _twapDuration
        )
        {

/// @audit missing @param for `_market`
/// @audit missing @param for `_duration`
122:     function _getLpToAssetRateWrapper(
             IPMarket _market,
             uint32 _duration
         )
             internal
             view
             returns (uint256)
         {

```
*Github:* [[32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L32), [122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L122)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

/// @audit missing @param for `_pendleMarketAddress`
/// @audit missing @param for `_priceFeedChainLinkUsd`
/// @audit missing @param for `_priceFeedChainLinkEthUsd`
/// @audit missing @param for `_oraclePendlePt`
/// @audit missing @param for `_oracleName`
/// @audit missing @param for `_twapDuration`
24:     constructor(
            address _pendleMarketAddress,
            IPriceFeed _priceFeedChainLinkUsd,
            IPriceFeed _priceFeedChainLinkEthUsd,
            IOraclePendle _oraclePendlePt,
            string memory _oracleName,
            uint32 _twapDuration
        )
        {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L24)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

/// @audit missing @param for `_pendleMarketAddress`
/// @audit missing @param for `_priceFeedChainLinkEth`
/// @audit missing @param for `_oraclePendlePt`
/// @audit missing @param for `_oracleName`
/// @audit missing @param for `_twapDuration`
24:     constructor(
            address _pendleMarketAddress,
            IPriceFeed _priceFeedChainLinkEth,
            IOraclePendle _oraclePendlePt,
            string memory _oracleName,
            uint32 _twapDuration
        )
        {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L24)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

/// @audit missing @param for `_master`
/// @audit missing @param for `_aaveAddress`
/// @audit missing @param for `_wiseLendingAddress`
/// @audit missing @param for `_oracleHubAddress`
/// @audit missing @param for `_wiseSecurityAddress`
/// @audit missing @param for `_positionNFTAddress`
33:     constructor(
            address _master,
            address _aaveAddress,
            address _wiseLendingAddress,
            address _oracleHubAddress,
            address _wiseSecurityAddress,
            address _positionNFTAddress
        )
            OwnableMaster(
                _master
            )
        {

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L33)]


```solidity
File: contracts/FeeManager/FeeManager.sol

/// @audit missing @param for `_master`
/// @audit missing @param for `_aaveAddress`
/// @audit missing @param for `_wiseLendingAddress`
/// @audit missing @param for `_oracleHubAddress`
/// @audit missing @param for `_wiseSecurityAddress`
/// @audit missing @param for `_positionNFTAddress`
27:     constructor(
            address _master,
            address _aaveAddress,
            address _wiseLendingAddress,
            address _oracleHubAddress,
            address _wiseSecurityAddress,
            address _positionNFTAddress
        )
            DeclarationsFeeManager(
                _master,
                _aaveAddress,
                _wiseLendingAddress,
                _oracleHubAddress,
                _wiseSecurityAddress,
                _positionNFTAddress
            )
        {}

/// @audit missing @param for `_percent`
49:     function setRepayBadDebtIncentive(
            uint256 _percent
        )
            external
            onlyMaster
        {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_underlyingToken`
66:     function setAaveFlag(
            address _poolToken,
            address _underlyingToken
        )
            external
            onlyMaster
        {

/// @audit missing @param for `_poolTokens`
/// @audit missing @param for `_underlyingTokens`
82:     function setAaveFlagBulk(
            address[] calldata _poolTokens,
            address[] calldata _underlyingTokens
        )
            external
            onlyMaster
        {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_newFee`
108:     function setPoolFee(
             address _poolToken,
             uint256 _newFee
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_poolTokens`
/// @audit missing @param for `_newFees`
135:     function setPoolFeeBulk(
             address[] calldata _poolTokens,
             uint256[] calldata _newFees
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_proposedIncentiveMaster`
173:     function proposeIncentiveMaster(
             address _proposedIncentiveMaster
         )
             external
             onlyIncentiveMaster
         {

/// @audit missing @param for `_value`
214:     function increaseIncentiveA(
             uint256 _value
         )
             external
             onlyIncentiveMaster
         {

/// @audit missing @param for `_value`
232:     function increaseIncentiveB(
             uint256 _value
         )
             external
             onlyIncentiveMaster
         {

/// @audit missing @param for `_feeToken`
284:     function claimIncentives(
             address _feeToken
         )
             public
         {

/// @audit missing @param for `_newOwner`
315:     function changeIncentiveUSDA(
             address _newOwner
         )
             external
         {

/// @audit missing @param for `_newOwner`
352:     function changeIncentiveUSDB(
             address _newOwner
         )
             external
         {

/// @audit missing @param for `_poolToken`
390:     function addPoolTokenAddress(
             address _poolToken
         )
             external
             onlyWiseLending
         {

/// @audit missing @param for `_poolToken`
412:     function addPoolTokenAddressManual(
             address _poolToken
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_poolToken`
438:     function removePoolTokenManual(
             address _poolToken
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_amount`
494:     function increaseTotalBadDebtLiquidation(
             uint256 _amount
         )
             external
             onlyWiseSecurity
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_amount`
514:     function setBadDebtUserLiquidation(
             uint256 _nftId,
             uint256 _amount
         )
             external
             onlyWiseSecurity
         {

/// @audit missing @param for `_user`
/// @audit missing @param for `_feeTokens`
538:     function setBeneficial(
             address _user,
             address[] calldata _feeTokens
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_user`
/// @audit missing @param for `_feeTokens`
571:     function revokeBeneficial(
             address _user,
             address[] memory _feeTokens
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_poolToken`
628:     function claimWiseFees(
             address _poolToken
         )
             public
         {

/// @audit missing @param for `_feeToken`
/// @audit missing @param for `_amount`
689:     function claimFeesBeneficial(
             address _feeToken,
             uint256 _amount
         )
             external
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_paybackToken`
/// @audit missing @param for `_receivingToken`
/// @audit missing @param for `_shares`
730:     function paybackBadDebtForToken(
             uint256 _nftId,
             address _paybackToken,
             address _receivingToken,
             uint256 _shares
         )
             external
             returns (
                 uint256 paybackAmount,
                 uint256 receivingAmount
             )
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_paybackToken`
/// @audit missing @param for `_shares`
816:     function paybackBadDebtNoReward(
             uint256 _nftId,
             address _paybackToken,
             uint256 _shares
         )
             external
             returns (uint256 paybackAmount)
         {

/// @audit missing @param for `_index`
884:     function getPoolTokenAdressesByIndex(
             uint256 _index
         )
             external
             view
             returns (address)
         {

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L27), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L49), [66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L66), [82](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L82), [108](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L108), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L135), [173](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L173), [214](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L214), [232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L232), [284](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L284), [315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L315), [352](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L352), [390](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L390), [412](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L412), [438](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L438), [494](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L494), [514](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L514), [538](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L538), [571](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L571), [628](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L628), [689](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L689), [730](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L730), [816](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L816), [884](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L884)]


```solidity
File: contracts/FeeManager/FeeManagerEvents.sol

7:     event ClaimedFeesWiseBulk(

11:     event PoolTokenRemoved(

16:     event PoolTokenAdded(

21:     event IncentiveOwnerBChanged(

26:     event IncentiveOwnerAChanged(

31:     event ClaimedOwnershipIncentiveMaster(

36:     event IncentiveMasterProposed(

41:     event PoolFeeChanged(

47:     event ClaimedIncentives(

54:     event ClaimedIncentivesBulk(

58:     event IncentiveIncreasedB(

63:     event IncentiveIncreasedA(

68:     event BadDebtIncreasedLiquidation(

73:     event TotalBadDebtIncreased(

78:     event TotalBadDebtDecreased(

83:     event SetBadDebtPosition(

89:     event UpdateBadDebtPosition(

95:     event SetBeneficial(

101:     event RevokeBeneficial(

107:     event ClaimedFeesWise(

113:     event ClaimedFeesBeneficial(

120:     event PayedBackBadDebt(

129:     event PayedBackBadDebtFree(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L7), [11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L11), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L16), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L21), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L26), [31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L31), [36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L36), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L41), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L47), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L54), [58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L58), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L63), [68](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L68), [73](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L73), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L78), [83](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L83), [89](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L89), [95](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L95), [101](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L101), [107](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L107), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L113), [120](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L120), [129](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L129)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

/// @audit missing @param for `_nftId`
15:     function _prepareBorrows(
            uint256 _nftId
        )
            internal
        {

/// @audit missing @param for `_nftId`
47:     function _prepareCollaterals(
            uint256 _nftId
        )
            internal
        {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_amount`
77:     function _setBadDebtPosition(
            uint256 _nftId,
            uint256 _amount
        )
            internal
        {

/// @audit missing @param for `_amount`
89:     function _increaseTotalBadDebt(
            uint256 _amount
        )
            internal
        {

/// @audit missing @param for `_amount`
105:     function _decreaseTotalBadDebt(
             uint256 _amount
         )
             internal
         {

/// @audit missing @param for `_nftId`
121:     function _eraseBadDebtUser(
             uint256 _nftId
         )
             internal
         {

/// @audit missing @param for `_nftId`
134:     function _updateUserBadDebt(
             uint256 _nftId
         )
             internal
         {

/// @audit missing @param for `_feeToken`
/// @audit missing @param for `_amount`
195:     function _increaseFeeTokens(
             address _feeToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing @param for `_feeToken`
/// @audit missing @param for `_amount`
208:     function _decreaseFeeTokens(
             address _feeToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing @param for `_user`
/// @audit missing @param for `_feeToken`
/// @audit missing @param for `_state`
220:     function _setAllowedTokens(
             address _user,
             address _feeToken,
             bool _state
         )
             internal
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_underlyingToken`
230:     function _setAaveFlag(
             address _poolToken,
             address _underlyingToken
         )
             internal
         {

/// @audit missing @param for `_paybackToken`
/// @audit missing @param for `_receivingToken`
/// @audit missing @param for `_paybackAmount`
244:     function getReceivingToken(
             address _paybackToken,
             address _receivingToken,
             uint256 _paybackAmount
         )
             public
             view
             returns (uint256 receivingAmount)
         {

/// @audit missing @param for `_nftId`
270:     function updatePositionCurrentBadDebt(
             uint256 _nftId
         )
             public
         {

/// @audit missing @param for `_amount`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_underlyingToken`
292:     function _distributeIncentives(
             uint256 _amount,
             address _poolToken,
             address _underlyingToken
         )
             internal
             returns (uint256)
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_underlyingToken`
/// @audit missing @param for `_incentiveOwner`
/// @audit missing @param for `_amount`
330:     function _gatherIncentives(
             address _poolToken,
             address _underlyingToken,
             address _incentiveOwner,
             uint256 _amount
         )
             internal
             returns (uint256)
         {

/// @audit missing @param for `_value`
383:     function _checkValue(
             uint256 _value
         )
             internal
             pure
         {

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L15), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L47), [77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L77), [89](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L89), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L105), [121](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L121), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L134), [195](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L195), [208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L208), [220](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L220), [230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L230), [244](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L244), [270](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L270), [292](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L292), [330](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L330), [383](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L383)]


```solidity
File: contracts/MainHelper.sol

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
/// @audit missing @param for `_maxSharePrice`
17:     function calculateLendingShares(
            address _poolToken,
            uint256 _amount,
            bool _maxSharePrice
        )
            public
            view
            returns (uint256)
        {

/// @audit missing @param for `_product`
/// @audit missing @param for `_pseudo`
/// @audit missing @param for `_maxSharePrice`
33:     function _calculateShares(
            uint256 _product,
            uint256 _pseudo,
            bool _maxSharePrice
        )
            private
            pure
            returns (uint256)
        {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
/// @audit missing @param for `_maxSharePrice`
55:     function calculateBorrowShares(
            address _poolToken,
            uint256 _amount,
            bool _maxSharePrice
        )
            public
            view
            returns (uint256)
        {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_shares`
79:     function cashoutAmount(
            address _poolToken,
            uint256 _shares
        )
            external
            view
            returns (uint256)
        {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_shares`
93:     function _cashoutAmount(
            address _poolToken,
            uint256 _shares
        )
            internal
            view
            returns (uint256)
        {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_shares`
114:     function paybackAmount(
             address _poolToken,
             uint256 _shares
         )
             public
             view
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_caller`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
135:     function _preparationsWithdraw(
             uint256 _nftId,
             address _caller,
             address _poolToken,
             uint256 _amount
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing @param for `_poolToken`
163:     function _getValueUtilization(
             address _poolToken
         )
             private
             view
             returns (uint256)
         {

/// @audit missing @param for `_poolToken`
187:     function _updateUtilization(
             address _poolToken
         )
             private
         {

/// @audit missing @param for `_amountContract`
/// @audit missing @param for `_totalPool`
/// @audit missing @param for `_bareAmount`
202:     function _checkCleanUp(
             uint256 _amountContract,
             uint256 _totalPool,
             uint256 _bareAmount
         )
             private
             pure
             returns (bool)
         {

/// @audit missing @param for `_poolAddress`
217:     function _onlyIsolationPool(
             address _poolAddress
         )
             internal
             view
         {

/// @audit missing @param for `_caller`
/// @audit missing @param for `_nftId`
/// @audit missing @param for `_nftIdLiquidator`
232:     function _validateIsolationPoolLiquidation(
             address _caller,
             uint256 _nftId,
             uint256 _nftIdLiquidator
         )
             internal
             view
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_nftIdLiquidator`
258:     function _checkLiquidatorNft(
             uint256 _nftId,
             uint256 _nftIdLiquidator
         )
             internal
             view
         {

/// @audit missing @param for `_tokenAddress`
278:     function _getBalance(
             address _tokenAddress
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing @param for `_poolToken`
298:     function _cleanUp(
             address _poolToken
         )
             internal
         {

/// @audit missing @param for `_poolToken`
350:     function _getAllowedDifference(
             address _poolToken
         )
             private
             view
             returns (uint256)
         {

/// @audit missing @param for `_poolToken`
372:     function _preparePool(
             address _poolToken
         )
             internal
         {

/// @audit missing @param for `_userTokenData`
/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
391:     function _preparationTokens(
             mapping(uint256 => address[]) storage _userTokenData,
             uint256 _nftId,
             address _poolToken
         )
             internal
             returns (address[] memory)
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_tokens`
417:     function _prepareTokens(
             address _poolToken,
             address[] memory _tokens
         )
             private
         {

/// @audit missing @param for `_lendTokens`
/// @audit missing @param for `_borrowTokens`
454:     function _curveSecurityChecks(
             address[] memory _lendTokens,
             address[] memory _borrowTokens
         )
             internal
         {

/// @audit missing @param for `_tokens`
473:     function _whileLoopCurveSecurity(
             address[] memory _tokens
         )
             private
         {

/// @audit missing @param for `_poolToken`
500:     function _updatePseudoTotalAmounts(
             address _poolToken
         )
             private
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_shares`
584:     function _increasePositionLendingDeposit(
             uint256 _nftId,
             address _poolToken,
             uint256 _shares
         )
             internal
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_shares`
599:     function _decreaseLendingShares(
             uint256 _nftId,
             address _poolToken,
             uint256 _shares
         )
             internal
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `hashMap`
/// @audit missing @param for `userTokenData`
614:     function _addPositionTokenData(
             uint256 _nftId,
             address _poolToken,
             mapping(bytes32 => bool) storage hashMap,
             mapping(uint256 => address[]) storage userTokenData
         )
             internal
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
647:     function _getHash(
             uint256 _nftId,
             address _poolToken
         )
             private
             pure
             returns (bytes32)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_getPositionTokenLength`
/// @audit missing @param for `_getPositionTokenByIndex`
/// @audit missing @param for `_deleteLastPositionData`
/// @audit missing @param for `isLending`
667:     function _removePositionData(
             uint256 _nftId,
             address _poolToken,
             function(uint256) view returns (uint256) _getPositionTokenLength,
             function(uint256, uint256) view returns (address) _getPositionTokenByIndex,
             function(uint256, address) internal _deleteLastPositionData,
             bool isLending
         )
             private
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
733:     function _deleteLastPositionLendingData(
             uint256 _nftId,
             address _poolToken
         )
             private
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
/// @audit missing @param for `_shares`
752:     function _corePayback(
             uint256 _nftId,
             address _poolToken,
             uint256 _amount,
             uint256 _shares
         )
             internal
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
794:     function _deleteLastPositionBorrowData(
             uint256 _nftId,
             address _poolToken
         )
             private
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
814:     function isUncollateralized(
             uint256 _nftId,
             address _poolToken
         )
             external
             view
             returns (bool)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
830:     function _checkLendingDataEmpty(
             uint256 _nftId,
             address _poolToken
         )
             private
             view
             returns (bool)
         {

/// @audit missing @param for `_poolToken`
851:     function _calculateNewBorrowRate(
             address _poolToken
         )
             internal
         {

/// @audit missing @param for `_poolToken`
877:     function _newBorrowRate(
             address _poolToken
         )
             internal
         {

/// @audit missing @param for `_poolToken`
896:     function _aboveThreshold(
             address _poolToken
         )
             internal
             view
             returns (bool)
         {

/// @audit missing @param for `_poolToken`
911:     function _scalingAlgorithm(
             address _poolToken
         )
             internal
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_shareValue`
947:     function _newMaxPoolShares(
             address _poolToken,
             uint256 _shareValue
         )
             private
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_shareValue`
969:     function _saveUp(
             address _poolToken,
             uint256 _shareValue
         )
             private
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_shareValue`
987:     function _resonanceOutcome(
             address _poolToken,
             uint256 _shareValue
         )
             private
             view
             returns (bool)
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_shareValue`
1006:     function _resetResonanceFactor(
              address _poolToken,
              uint256 _shareValue
          )
              private
          {

/// @audit missing @param for `_poolToken`
1030:     function _revertDirectionState(
              address _poolToken
          )
              private
          {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_shareValues`
1045:     function _updateResonanceFactor(
              address _poolToken,
              uint256 _shareValues
          )
              private
          {

/// @audit missing @param for `_poolToken`
1061:     function _reversedResonanceFactor(
              address _poolToken
          )
              private
          {

/// @audit missing @param for `_poolToken`
1078:     function _changingResonanceFactor(
              address _poolToken
          )
              private
          {

/// @audit missing @param for `_poolToken`
1094:     function _increaseResonanceFactor(
              address _poolToken
          )
              private
          {

/// @audit missing @param for `_poolToken`
1125:     function _decreaseResonanceFactor(
              address _poolToken
          )
              private
          {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
1155:     function _removeEmptyLendingData(
              uint256 _nftId,
              address _poolToken
          )
              internal
          {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
/// @audit missing @param for `_shares`
/// @audit missing @param for `functionAmountA`
/// @audit missing @param for `functionAmountB`
/// @audit missing @param for `functionSharesA`
1184:     function _updatePoolStorage(
              address _poolToken,
              uint256 _amount,
              uint256 _shares,
              function(address, uint256) functionAmountA,
              function(address, uint256) functionAmountB,
              function(address, uint256) functionSharesA
          )
              internal
          {

```
*Github:* [[17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L17), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L33), [55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L55), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L79), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L93), [114](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L114), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L135), [163](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L163), [187](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L187), [202](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L202), [217](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L217), [232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L232), [258](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L258), [278](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L278), [298](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L298), [350](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L350), [372](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L372), [391](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L391), [417](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L417), [454](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L454), [473](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L473), [500](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L500), [584](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L584), [599](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L599), [614](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L614), [647](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L647), [667](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L667), [733](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L733), [752](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L752), [794](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L794), [814](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L814), [830](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L830), [851](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L851), [877](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L877), [896](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L896), [911](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L911), [947](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L947), [969](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L969), [987](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L987), [1006](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1006), [1030](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1030), [1045](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1045), [1061](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1061), [1078](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1078), [1094](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1094), [1125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1125), [1155](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1155), [1184](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1184)]


```solidity
File: contracts/OwnableMaster.sol

48:     event MasterProposed(

53:     event RenouncedOwnership(

/// @audit missing @param for `_master`
57:     constructor(
            address _master
        ) {

/// @audit missing @param for `_proposedOwner`
70:     function proposeOwner(
            address _proposedOwner
        )
            external
            onlyMaster
        {

```
*Github:* [[48](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L48), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L53), [57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L57), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L70)]


```solidity
File: contracts/PoolManager.sol

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_poolMulFactor`
/// @audit missing @param for `_upperBoundMaxRate`
/// @audit missing @param for `_lowerBoundMaxRate`
/// @audit missing @param for `_steppingDirection`
/// @audit missing @param for `_isFinal`
25:     function setParamsLASA(
            address _poolToken,
            uint256 _poolMulFactor,
            uint256 _upperBoundMaxRate,
            uint256 _lowerBoundMaxRate,
            bool _steppingDirection,
            bool _isFinal
        )
            external
            onlyMaster
        {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_collateralFactor`
/// @audit missing @param for `_maximumDeposit`
100:     function setPoolParameters(
             address _poolToken,
             uint256 _collateralFactor,
             uint256 _maximumDeposit
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_isolationPool`
/// @audit missing @param for `_state`
125:     function setVerifiedIsolationPool(
             address _isolationPool,
             bool _state
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_params`
135:     function createPool(
             CreatePool calldata _params
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_params`
/// @audit missing @param for `_settings`
146:     function createCurvePool(
             CreatePool calldata _params,
             CurvePoolSettings calldata _settings
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_params`
164:     function _createPool(
             CreatePool calldata _params
         )
             private
         {

/// @audit missing @param for `_poolMulFactor`
/// @audit missing @param for `_poleBoundRate`
277:     function _getPoleValue(
             uint256 _poolMulFactor,
             uint256 _poleBoundRate
         )
             private
             pure
             returns (uint256)
         {

/// @audit missing @param for `_maxPole`
/// @audit missing @param for `_minPole`
293:     function _getDeltaPole(
             uint256 _maxPole,
             uint256 _minPole
         )
             private
             pure
             returns (uint256)
         {

/// @audit missing @param for `_maxPole`
/// @audit missing @param for `_minPole`
304:     function _getStartValue(
             uint256 _maxPole,
             uint256 _minPole
         )
             private
             pure
             returns (uint256)
         {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L25), [100](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L100), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L125), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L135), [146](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L146), [164](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L164), [277](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L277), [293](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L293), [304](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L304)]


```solidity
File: contracts/PositionNFTs.sol

/// @audit missing @param for `_name`
/// @audit missing @param for `_symbol`
/// @audit missing @param for `_baseURI`
25:     constructor(
            string memory _name,
            string memory _symbol,
            string memory _baseURI
        )
            ERC721(
                _name,
                _symbol
            )
            OwnableMaster(
                msg.sender
            )
        {

/// @audit missing @param for `_reserverForOthers`
/// @audit missing @param for `_state`
54:     function assignReserveRole(
            address _reserverForOthers,
            bool _state
        )
            external
            onlyMaster
        {

/// @audit missing @param for `_feeManagerContract`
71:     function forwardFeeManagerNFT(
            address _feeManagerContract
        )
            external
            onlyMaster
        {

/// @audit missing @param for `_user`
99:     function reservePositionForUser(
            address _user
        )
            onlyReserveRole
            external
            returns (uint256)
        {

/// @audit missing @param for `_user`
111:     function _reservePositionForUser(
             address _user
         )
             internal
             returns (uint256)
         {

/// @audit missing @param for `tokenId`
154:     function getApprovedSoft(
             uint256 tokenId
         )
             external
             view
             returns (address)
         {

/// @audit missing @param for `_user`
174:     function mintPositionForUser(
             address _user
         )
             external
             returns (uint256)
         {

/// @audit missing @param for `_user`
193:     function _mintPositionForUser(
             address _user
         )
             internal
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_owner`
222:     function isOwner(
             uint256 _nftId,
             address _owner
         )
             external
             view
             returns (bool)
         {

/// @audit missing @param for `_spender`
/// @audit missing @param for `_nftId`
245:     function approveMint(
             address _spender,
             uint256 _nftId
         )
             external
         {

/// @audit missing @param for `_owner`
271:     function walletOfOwner(
             address _owner
         )
             external
             view
             returns (uint256[] memory)
         {

/// @audit missing @param for `_newBaseURI`
319:     function setBaseURI(
             string memory _newBaseURI
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_newBaseExtension`
328:     function setBaseExtension(
             string memory _newBaseExtension
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_tokenId`
340:     function tokenURI(
             uint256 _tokenId
         )
             public
             view
             override
             returns (string memory)
         {

/// @audit missing @param for `_tokenId`
371:     function _toString(
             uint256 _tokenId
         )
             internal
             pure
             returns (string memory str)
         {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L25), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L54), [71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L71), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L99), [111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L111), [154](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L154), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L174), [193](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L193), [222](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L222), [245](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L245), [271](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L271), [319](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L319), [328](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L328), [340](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L340), [371](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L371)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

/// @audit missing @param for `_initialAmount`
/// @audit missing @param for `_leverage`
/// @audit missing @param for `_pendleChildApy`
15:     function getApproxNetAPY(
            uint256 _initialAmount,
            uint256 _leverage,
            uint256 _pendleChildApy
        )
            external
            view
            returns (
                uint256,
                bool
            )
        {

/// @audit missing @param for `_borrowAmount`
41:     function getNewBorrowRate(
            uint256 _borrowAmount
        )
            external
            view
            returns (uint256)
        {

/// @audit missing @param for `_nftId`
57:     function getLiveDebtRatio(
            uint256 _nftId
        )
            external
            view
            returns (uint256)
        {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_nftIdLiquidator`
/// @audit missing @param for `_shareAmountToPay`
93:     function liquidatePartiallyFromToken(
            uint256 _nftId,
            uint256 _nftIdLiquidator,
            uint256 _shareAmountToPay
        )
            external
            updatePools
            returns (
                uint256 paybackAmount,
                uint256 receivingAmount
            )
        {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_paybackShares`
119:     function _manuallyPaybackShares(
             uint256 _nftId,
             uint256 _paybackShares
         )
             internal
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_withdrawShares`
157:     function _manuallyWithdrawShares(
             uint256 _nftId,
             uint256 _withdrawShares
         )
             internal
         {

/// @audit missing @param for `_isAave`
/// @audit missing @param for `_nftId`
/// @audit missing @param for `_initialAmount`
/// @audit missing @param for `_leverage`
/// @audit missing @param for `_allowedSpread`
185:     function _openPosition(
             bool _isAave,
             uint256 _nftId,
             uint256 _initialAmount,
             uint256 _leverage,
             uint256 _allowedSpread
         )
             internal
         {

/// @audit missing @param for `_isAave`
/// @audit missing @param for `_nftId`
/// @audit missing @param for `_allowedSpread`
/// @audit missing @param for `_ethBack`
230:     function _closingPosition(
             bool _isAave,
             uint256 _nftId,
             uint256 _allowedSpread,
             bool _ethBack
         )
             internal
         {

/// @audit missing @param for `_nftId`
274:     function _registrationFarm(
             uint256 _nftId
         )
             internal
         {

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L15), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L41), [57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L57), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L93), [119](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L119), [157](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L157), [185](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L185), [230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L230), [274](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L274)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

110:     event FarmEntry(

118:     event FarmExit(

125:     event FarmStatus(

130:     event ManualPaybackShares(

137:     event ManualWithdrawShares(

144:     event MinDepositChange(

149:     event ETHReceived(

154:     event RegistrationFarm(

/// @audit missing @param for `_wiseLendingAddress`
/// @audit missing @param for `_pendleChilTokenAddress`
/// @audit missing @param for `_pendleRouter`
/// @audit missing @param for `_entryAsset`
/// @audit missing @param for `_pendleSy`
/// @audit missing @param for `_underlyingMarket`
/// @audit missing @param for `_routerStatic`
/// @audit missing @param for `_dexAddress`
/// @audit missing @param for `_collateralFactor`
159:     constructor(
             address _wiseLendingAddress,
             address _pendleChilTokenAddress,
             address _pendleRouter,
             address _entryAsset,
             address _pendleSy,
             address _underlyingMarket,
             address _routerStatic,
             address _dexAddress,
             uint256 _collateralFactor
         )
             WrapperHelper(
                 IWiseLending(
                     _wiseLendingAddress
                 ).WETH_ADDRESS()
             )
         {

/// @audit missing @param for `_wiseLendingAddress`
274:     function _doApprovals(
             address _wiseLendingAddress
         )
             internal
         {

```
*Github:* [[110](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L110), [118](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L118), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L125), [130](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L130), [137](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L137), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L144), [149](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L149), [154](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L154), [159](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L159), [274](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L274)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_flashAmount`
/// @audit missing @param for `_initialAmount`
/// @audit missing @param for `_lendingShares`
/// @audit missing @param for `_borrowShares`
/// @audit missing @param for `_allowedSpread`
/// @audit missing @param for `_ethBack`
/// @audit missing @param for `_isAave`
15:     function _executeBalancerFlashLoan(
            uint256 _nftId,
            uint256 _flashAmount,
            uint256 _initialAmount,
            uint256 _lendingShares,
            uint256 _borrowShares,
            uint256 _allowedSpread,
            bool _ethBack,
            bool _isAave
        )
            internal
        {

/// @audit missing @param for `_flashloanToken`
/// @audit missing @param for `_flashloanAmounts`
/// @audit missing @param for `_feeAmounts`
/// @audit missing @param for `_userData`
59:     function receiveFlashLoan(
            IERC20[] memory _flashloanToken,
            uint256[] memory _flashloanAmounts,
            uint256[] memory _feeAmounts,
            bytes memory _userData
        )
            external
        {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_borrowShares`
/// @audit missing @param for `_lendingShares`
/// @audit missing @param for `_totalDebtBalancer`
/// @audit missing @param for `_allowedSpread`
/// @audit missing @param for `_caller`
/// @audit missing @param for `_ethBack`
/// @audit missing @param for `_isAave`
134:     function _logicClosePosition(
             uint256 _nftId,
             uint256 _borrowShares,
             uint256 _lendingShares,
             uint256 _totalDebtBalancer,
             uint256 _allowedSpread,
             address _caller,
             bool _ethBack,
             bool _isAave
         )
             private
         {

/// @audit missing @param for `_swapAmount`
/// @audit missing @param for `_minOutAmount`
232:     function _getEthBack(
             uint256 _swapAmount,
             uint256 _minOutAmount
         )
             internal
             returns (uint256)
         {

/// @audit missing @param for `_amountIn`
/// @audit missing @param for `_minOutAmount`
/// @audit missing @param for `_tokenIn`
/// @audit missing @param for `_tokenOut`
264:     function _getTokensUniV3(
             uint256 _amountIn,
             uint256 _minOutAmount,
             address _tokenIn,
             address _tokenOut
         )
             internal
             returns (uint256)
         {

/// @audit missing @param for `_swapAmount`
/// @audit missing @param for `_minOutAmount`
293:     function _swapStETHintoETH(
             uint256 _swapAmount,
             uint256 _minOutAmount
         )
             internal
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_lendingShares`
310:     function _withdrawPendleLPs(
             uint256 _nftId,
             uint256 _lendingShares
         )
             private
             returns (uint256 withdrawnLpsAmount)
         {

/// @audit missing @param for `_isAave`
/// @audit missing @param for `_nftId`
/// @audit missing @param for `_borrowShares`
326:     function _paybackExactShares(
             bool _isAave,
             uint256 _nftId,
             uint256 _borrowShares
         )
             internal
         {

/// @audit missing @param for `_tokenAmount`
/// @audit missing @param for `_totalDebtBalancer`
/// @audit missing @param for `_caller`
354:     function _closingRouteToken(
             uint256 _tokenAmount,
             uint256 _totalDebtBalancer,
             address _caller
         )
             private
         {

/// @audit missing @param for `_ethAmount`
/// @audit missing @param for `_totalDebtBalancer`
/// @audit missing @param for `_caller`
383:     function _closingRouteETH(
             uint256 _ethAmount,
             uint256 _totalDebtBalancer,
             address _caller
         )
             internal
         {

/// @audit missing @param for `_isAave`
/// @audit missing @param for `_nftId`
/// @audit missing @param for `_depositAmount`
/// @audit missing @param for `_totalDebtBalancer`
/// @audit missing @param for `_allowedSpread`
414:     function _logicOpenPosition(
             bool _isAave,
             uint256 _nftId,
             uint256 _depositAmount,
             uint256 _totalDebtBalancer,
             uint256 _allowedSpread
         )
             internal
         {

/// @audit missing @param for `_isAave`
/// @audit missing @param for `_nftId`
/// @audit missing @param for `_totalDebtBalancer`
531:     function _borrowExactAmount(
             bool _isAave,
             uint256 _nftId,
             uint256 _totalDebtBalancer
         )
             internal
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_nftIdLiquidator`
/// @audit missing @param for `_shareAmountToPay`
560:     function _coreLiquidation(
             uint256 _nftId,
             uint256 _nftIdLiquidator,
             uint256 _shareAmountToPay
         )
             internal
             returns (
                 uint256 paybackAmount,
                 uint256 receivingAmount
             )
         {

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L15), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L59), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L134), [232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L232), [264](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L264), [293](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L293), [310](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L310), [326](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L326), [354](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L354), [383](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L383), [414](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L414), [531](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L531), [560](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L560)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

/// @audit missing @param for `_nftId`
57:     function _getPositionBorrowShares(
            uint256 _nftId
        )
            internal
            view
            returns (uint256)
        {

/// @audit missing @param for `_nftId`
75:     function _getPositionBorrowSharesAave(
            uint256 _nftId
        )
            internal
            view
            returns (uint256)
        {

/// @audit missing @param for `_nftId`
92:     function _getPositionBorrowTokenAmount(
            uint256 _nftId
        )
            internal
            view
            returns (uint256 tokenAmount)
        {

/// @audit missing @param for `_nftId`
111:     function _getPositionBorrowTokenAmountAave(
             uint256 _nftId
         )
             internal
             view
             returns (uint256 tokenAmountAave)
         {

/// @audit missing @param for `_nftId`
136:     function _getPositionLendingShares(
             uint256 _nftId
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
153:     function _getPostionCollateralTokenAmount(
             uint256 _nftId
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
174:     function getPositionBorrowETH(
             uint256 _nftId
         )
             public
             view
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
229:     function getTotalWeightedCollateralETH(
             uint256 _nftId
         )
             public
             view
             returns (uint256)
         {

/// @audit missing @param for `_tokenAddress`
/// @audit missing @param for `_tokenAmount`
244:     function _getTokensInETH(
             address _tokenAddress,
             uint256 _tokenAmount
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing @param for `_tokenAddress`
/// @audit missing @param for `_ethAmount`
258:     function _getEthInTokens(
             address _tokenAddress,
             uint256 _ethAmount
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing @param for `_initialAmount`
/// @audit missing @param for `_leverage`
272:     function getLeverageAmount(
             uint256 _initialAmount,
             uint256 _leverage
         )
             public
             pure
             returns (uint256)
         {

/// @audit missing @param for `_initialAmount`
/// @audit missing @param for `_leverage`
/// @audit missing @param for `_wstETHAPY`
289:     function _getApproxNetAPY(
             uint256 _initialAmount,
             uint256 _leverage,
             uint256 _wstETHAPY
         )
             internal
             view
             returns (
                 uint256,
                 bool
             )
         {

/// @audit missing @param for `_borrowAmount`
344:     function _getNewBorrowRate(
             uint256 _borrowAmount
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
389:     function _checkDebtRatio(
             uint256 _nftId
         )
             internal
             view
             returns (bool)
         {

/// @audit missing @param for `_amount`
416:     function _notBelowMinDepositAmount(
             uint256 _amount
         )
             internal
             view
             returns (bool)
         {

```
*Github:* [[57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L57), [75](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L75), [92](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L92), [111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L111), [136](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L136), [153](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L153), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L174), [229](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L229), [244](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L244), [258](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L258), [272](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L272), [289](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L289), [344](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L344), [389](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L389), [416](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L416)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

/// @audit missing @param for `_wiseLendingAddress`
/// @audit missing @param for `_pendleChilTokenAddress`
/// @audit missing @param for `_pendleRouter`
/// @audit missing @param for `_entryAsset`
/// @audit missing @param for `_pendleSy`
/// @audit missing @param for `_underlyingMarket`
/// @audit missing @param for `_routerStatic`
/// @audit missing @param for `_dexAddress`
/// @audit missing @param for `_collateralFactor`
/// @audit missing @param for `_powerFarmNFTs`
31:     constructor(
            address _wiseLendingAddress,
            address _pendleChilTokenAddress,
            address _pendleRouter,
            address _entryAsset,
            address _pendleSy,
            address _underlyingMarket,
            address _routerStatic,
            address _dexAddress,
            uint256 _collateralFactor,
            address _powerFarmNFTs
        )
            OwnableMaster(
                msg.sender
            )
            MinterReserver(
                _powerFarmNFTs
            )
            PendlePowerFarmDeclarations(
                _wiseLendingAddress,
                _pendleChilTokenAddress,
                _pendleRouter,
                _entryAsset,
                _pendleSy,
                _underlyingMarket,
                _routerStatic,
                _dexAddress,
                _collateralFactor
            )
        {

/// @audit missing @param for `_newMinDeposit`
63:     function changeMinDeposit(
            uint256 _newMinDeposit
        )
            external
            onlyMaster
        {

/// @audit missing @param for `_state`
82:     function shutDownFarm(
            bool _state
        )
            external
            onlyMaster
        {

/// @audit missing @param for `_isAave`
/// @audit missing @param for `_amount`
/// @audit missing @param for `_leverage`
/// @audit missing @param for `_allowedSpread`
96:     function enterFarm(
            bool _isAave,
            uint256 _amount,
            uint256 _leverage,
            uint256 _allowedSpread
        )
            external
            isActive
            updatePools
            returns (uint256)
        {

/// @audit missing @param for `_isAave`
/// @audit missing @param for `_leverage`
/// @audit missing @param for `_allowedSpread`
142:     function enterFarmETH(
             bool _isAave,
             uint256 _leverage,
             uint256 _allowedSpread
         )
             external
             payable
             isActive
             updatePools
             returns (uint256)
         {

/// @audit missing @param for `_keyId`
/// @audit missing @param for `_allowedSpread`
/// @audit missing @param for `_ethBack`
210:     function exitFarm(
             uint256 _keyId,
             uint256 _allowedSpread,
             bool _ethBack
         )
             external
             updatePools
             onlyKeyOwner(_keyId)
         {

/// @audit missing @param for `_keyId`
/// @audit missing @param for `_paybackShares`
254:     function manuallyPaybackShares(
             uint256 _keyId,
             uint256 _paybackShares
         )
             external
             updatePools
         {

/// @audit missing @param for `_keyId`
/// @audit missing @param for `_withdrawShares`
274:     function manuallyWithdrawShares(
             uint256 _keyId,
             uint256 _withdrawShares
         )
             external
             updatePools
             onlyKeyOwner(_keyId)
         {

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L31), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L63), [82](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L82), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L96), [142](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L142), [210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L210), [254](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L254), [274](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L274)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

/// @audit missing @param for `_vePendle`
/// @audit missing @param for `_pendleToken`
/// @audit missing @param for `_voterContract`
/// @audit missing @param for `_voterRewardsClaimerAddress`
/// @audit missing @param for `_wiseOracleHub`
12:     constructor(
            address _vePendle,
            address _pendleToken,
            address _voterContract,
            address _voterRewardsClaimerAddress,
            address _wiseOracleHub
        )
            PendlePowerFarmControllerBase(
                _vePendle,
                _pendleToken,
                _voterContract,
                _voterRewardsClaimerAddress,
                _wiseOracleHub
            )
        {

/// @audit missing @param for `_pendleMarket`
/// @audit missing @param for `_to`
/// @audit missing @param for `_amount`
32:     function withdrawLp(
            address _pendleMarket,
            address _to,
            uint256 _amount
        )
            external
            onlyChildContract(_pendleMarket)
        {

/// @audit missing @param for `_pendleMarket`
/// @audit missing @param for `_rewardToken`
/// @audit missing @param for `_rewardAmount`
53:     function exchangeRewardsForCompoundingWithIncentive(
            address _pendleMarket,
            address _rewardToken,
            uint256 _rewardAmount
        )
            external
            syncSupply(_pendleMarket)
            returns (uint256)
        {

/// @audit missing @param for `_pendleMarket`
/// @audit missing @param for `_pendleChildShares`
113:     function exchangeLpFeesForPendleWithIncentive(
             address _pendleMarket,
             uint256 _pendleChildShares
         )
             external
             syncSupply(_pendleMarket)
             returns (
                 uint256,
                 uint256
             )
         {

/// @audit missing @param for `_pendleMarket`
172:     function skim(
             address _pendleMarket
         )
             external
             returns (uint256)
         {

/// @audit missing @param for `_pendleMarket`
/// @audit missing @param for `_tokenName`
/// @audit missing @param for `_symbolName`
/// @audit missing @param for `_maxCardinality`
211:     function addPendleMarket(
             address _pendleMarket,
             string memory _tokenName,
             string memory _symbolName,
             uint16 _maxCardinality
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_pendleMarket`
293:     function updateRewardTokens(
             address _pendleMarket
         )
             external
             onlyChildContract(_pendleMarket)
             returns (bool)
         {

/// @audit missing @param for `_newExchangeIncentive`
321:     function changeExchangeIncentive(
             uint256 _newExchangeIncentive
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_pendleMarket`
/// @audit missing @param for `_newFee`
334:     function changeMintFee(
             address _pendleMarket,
             uint256 _newFee
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_amount`
/// @audit missing @param for `_weeks`
/// @audit missing @param for `_fromInside`
/// @audit missing @param for `_sameExpiry`
364:     function lockPendle(
             uint256 _amount,
             uint128 _weeks,
             bool _fromInside,
             bool _sameExpiry
         )
             external
             onlyMaster
             returns (uint256 newVeBalance)
         {

/// @audit missing @param for `_accrued`
/// @audit missing @param for `_proof`
431:     function claimArb(
             uint256 _accrued,
             bytes32[] calldata _proof
         )
             external
             onlyArbitrum
         {

/// @audit missing @param for `_pendleMarket`
/// @audit missing @param for `_amounts`
497:     function increaseReservedForCompound(
             address _pendleMarket,
             uint256[] calldata _amounts
         )
             external
             onlyChildContract(_pendleMarket)
         {

/// @audit missing @param for `_pendleMarket`
/// @audit missing @param for `_tokenIndex`
526:     function overWriteIndex(
             address _pendleMarket,
             uint256 _tokenIndex
         )
             public
             onlyChildContract(_pendleMarket)
         {

/// @audit missing @param for `_pendleMarket`
544:     function overWriteIndexAll(
             address _pendleMarket
         )
             external
             onlyChildContract(_pendleMarket)
         {

/// @audit missing @param for `_pendleMarket`
566:     function overWriteAmounts(
             address _pendleMarket
         )
             external
             onlyChildContract(_pendleMarket)
         {

/// @audit missing @param for `_amount`
/// @audit missing @param for `_merkleProof`
581:     function claimVoteRewards(
             uint256 _amount,
             bytes32[] calldata _merkleProof
         )
             external
         {

/// @audit missing @param for `_to`
/// @audit missing @param for `_amount`
600:     function forwardETH(
             address _to,
             uint256 _amount
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_pools`
/// @audit missing @param for `_weights`
612:     function vote(
             address[] calldata _pools,
             uint64[] calldata _weights
         )
             external
             onlyMaster
         {

```
*Github:* [[12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L12), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L32), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L53), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L113), [172](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L172), [211](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L211), [293](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L293), [321](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L321), [334](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L334), [364](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L364), [431](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L431), [497](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L497), [526](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L526), [544](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L544), [566](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L566), [581](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L581), [600](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L600), [612](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L612)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

/// @audit missing @param for `_vePendle`
/// @audit missing @param for `_pendleToken`
/// @audit missing @param for `_voterContract`
/// @audit missing @param for `_voterRewardsClaimerAddress`
/// @audit missing @param for `_wiseOracleHub`
79:     constructor(
            address _vePendle,
            address _pendleToken,
            address _voterContract,
            address _voterRewardsClaimerAddress,
            address _wiseOracleHub
        )
            OwnableMaster(
                msg.sender
            )
        {

135:     event ETHReceived(

140:     event ChangeExchangeIncentive(

144:     event WithdrawLp(

150:     event ExchangeRewardsForCompounding(

157:     event ExchangeLpFeesForPendle(

164:     event AddPendleMarket(

169:     event UpdateRewardTokens(

174:     event ChangeMintFee(

179:     event LockPendle(

188:     event ClaimArb(

194:     event IncreaseReservedForCompound(

199:     event ClaimVoteRewards(

205:     event WithdrawLock(

210:     modifier syncSupply(

220:     modifier onlyChildContract(

/// @audit missing @param for `_pendleMarket`
245:     function _onlyChildContract(
             address _pendleMarket
         )
             private
             view
         {

/// @audit missing @param for `_pendleMarket`
256:     function _syncSupply(
             address _pendleMarket
         )
             internal
         {

```
*Github:* [[79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L79), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L135), [140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L140), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L144), [150](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L150), [157](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L157), [164](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L164), [169](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L169), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L174), [179](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L179), [188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L188), [194](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L194), [199](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L199), [205](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L205), [210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L210), [220](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L220), [245](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L245), [256](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L256)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

/// @audit missing @param for `_array`
/// @audit missing @param for `_value`
9:     function _findIndex(
           address[] memory _array,
           address _value
       )
           internal
           pure
           returns (uint256)
       {

/// @audit missing @param for `_weeks`
32:     function _calcExpiry(
            uint128 _weeks
        )
            internal
            view
            returns (uint128)
        {

/// @audit missing @param for `_user`
61:     function _getPositionData(
            address _user
        )
            private
            view
            returns (LockedPosition memory)
        {

/// @audit missing @param for `_tokenAddress`
/// @audit missing @param for `_rewardValue`
73:     function _getAmountToSend(
            address _tokenAddress,
            uint256 _rewardValue
        )
            internal
            view
            returns (uint256)
        {

/// @audit missing @param for `_pendleMarket`
95:     function pendleChildCompoundInfoReservedForCompound(
            address _pendleMarket
        )
            external
            view
            returns (uint256[] memory)
        {

/// @audit missing @param for `_pendleMarket`
105:     function pendleChildCompoundInfoLastIndex(
             address _pendleMarket
         )
             external
             view
             returns (uint128[] memory)
         {

/// @audit missing @param for `_pendleMarket`
115:     function pendleChildCompoundInfoRewardTokens(
             address _pendleMarket
         )
             external
             view
             returns (address[] memory)
         {

/// @audit missing @param for `token`
133:     function _checkFeed(
             address token
         )
             internal
             view
         {

/// @audit missing @param for `_pendleMarket`
144:     function _getRewardTokens(
             address _pendleMarket
         )
             internal
             view
             returns (address[] memory)
         {

/// @audit missing @param for `_pendleMarket`
/// @audit missing @param for `_rewardToken`
/// @audit missing @param for `_user`
156:     function _getUserReward(
             address _pendleMarket,
             address _rewardToken,
             address _user
         )
             internal
             view
             returns (UserReward memory)
         {

/// @audit missing @param for `_pendleMarket`
/// @audit missing @param for `_rewardToken`
/// @audit missing @param for `_user`
173:     function _getUserRewardIndex(
             address _pendleMarket,
             address _rewardToken,
             address _user
         )
             internal
             view
             returns (uint128)
         {

/// @audit missing @param for `_tokenAddress`
/// @audit missing @param for `_tokenAmount`
189:     function _getTokensInETH(
             address _tokenAddress,
             uint256 _tokenAmount
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing @param for `_tokenAddress`
/// @audit missing @param for `_ethValue`
203:     function _getTokensFromETH(
             address _tokenAddress,
             uint256 _ethValue
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing @param for `_pendleMarket`
/// @audit missing @param for `rewardTokensToCompare`
217:     function _compareHashes(
             address _pendleMarket,
             address[] memory rewardTokensToCompare
         )
             internal
             view
             returns (bool)
         {

/// @audit missing @param for `_pendleMarket`
/// @audit missing @param for `_rewardTokens`
236:     function _setRewardTokens(
             address _pendleMarket,
             address[] memory _rewardTokens
         )
             internal
         {

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L9), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L32), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L61), [73](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L73), [95](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L95), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L105), [115](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L115), [133](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L133), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L144), [156](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L156), [173](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L173), [189](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L189), [203](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L203), [217](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L217), [236](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L236)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit missing @param for `_sharePriceBefore`
98:     function _validateSharePrice(
            uint256 _sharePriceBefore
        )
            private
            view
            returns (uint256)
        {

/// @audit missing @param for `_sharePriceNow`
114:     function _validateSharePriceGrowth(
             uint256 _sharePriceNow
         )
             private
             view
         {

/// @audit missing @param for `_overWritten`
149:     function _wrapOverWrites(
             bool _overWritten
         )
             internal
         {

/// @audit missing @param for `_index`
177:     function _overWriteIndex(
             uint256 _index
         )
             private
         {

/// @audit missing @param for `_to`
/// @audit missing @param for `_amount`
359:     function _withdrawLp(
             address _to,
             uint256 _amount
         )
             internal
         {

/// @audit missing @param for `_rewardToken`
/// @audit missing @param for `_user`
372:     function _getUserReward(
             address _rewardToken,
             address _user
         )
             internal
             view
             returns (UserReward memory)
         {

/// @audit missing @param for `_amount`
422:     function _applyMintFee(
             uint256 _amount
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing @param for `_underlyingAssetAmount`
/// @audit missing @param for `_underlyingLpAssetsCurrent`
452:     function previewMintShares(
             uint256 _underlyingAssetAmount,
             uint256 _underlyingLpAssetsCurrent
         )
             public
             view
             returns (uint256)
         {

/// @audit missing @param for `_shares`
/// @audit missing @param for `_underlyingLpAssetsCurrent`
465:     function previewAmountWithdrawShares(
             uint256 _shares,
             uint256 _underlyingLpAssetsCurrent
         )
             public
             view
             returns (uint256)
         {

/// @audit missing @param for `_underlyingAssetAmount`
/// @audit missing @param for `_underlyingLpAssetsCurrent`
478:     function previewBurnShares(
             uint256 _underlyingAssetAmount,
             uint256 _underlyingLpAssetsCurrent
         )
             public
             view
             returns (uint256)
         {

/// @audit missing @param for `_amount`
502:     function addCompoundRewards(
             uint256 _amount
         )
             external
             syncSupply
         {

/// @audit missing @param for `_underlyingLpAssetAmount`
529:     function depositExactAmount(
             uint256 _underlyingLpAssetAmount
         )
             external
             syncSupply
             returns (
                 uint256,
                 uint256
             )
         {

/// @audit missing @param for `_newFee`
592:     function changeMintFee(
             uint256 _newFee
         )
             external
             onlyController
         {

/// @audit missing @param for `_shares`
608:     function withdrawExactShares(
             uint256 _shares
         )
             external
             syncSupply
             returns (uint256)
         {

/// @audit missing @param for `_underlyingLpAssetAmount`
647:     function withdrawExactAmount(
             uint256 _underlyingLpAssetAmount
         )
             external
             syncSupply
             returns (uint256)
         {

/// @audit missing @param for `_underlyingPendleMarket`
/// @audit missing @param for `_pendleController`
/// @audit missing @param for `_tokenName`
/// @audit missing @param for `_symbolName`
/// @audit missing @param for `_maxCardinality`
682:     function initialize(
             address _underlyingPendleMarket,
             address _pendleController,
             string memory _tokenName,
             string memory _symbolName,
             uint16 _maxCardinality
         )
             external
         {

```
*Github:* [[98](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L98), [114](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L114), [149](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L149), [177](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L177), [359](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L359), [372](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L372), [422](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L422), [452](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L452), [465](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L465), [478](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L478), [502](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L502), [529](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L529), [592](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L592), [608](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L608), [647](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L647), [682](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L682)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

/// @audit missing @param for `_pendlePowerFarmController`
16:     constructor(
            address _pendlePowerFarmController
        )
        {

/// @audit missing @param for `_underlyingPendleMarket`
/// @audit missing @param for `_tokenName`
/// @audit missing @param for `_symbolName`
/// @audit missing @param for `_maxCardinality`
35:     function deploy(
            address _underlyingPendleMarket,
            string memory _tokenName,
            string memory _symbolName,
            uint16 _maxCardinality
        )
            external
            returns (address)
        {

/// @audit missing @param for `_underlyingPendleMarket`
/// @audit missing @param for `_tokenName`
/// @audit missing @param for `_symbolName`
/// @audit missing @param for `_maxCardinality`
56:     function _clone(
            address _underlyingPendleMarket,
            string memory _tokenName,
            string memory _symbolName,
            uint16 _maxCardinality
        )
            private
            returns (address pendlePowerFarmTokenAddress)
        {

```
*Github:* [[16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L16), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L35), [56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L56)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

32:     modifier onlyKeyOwner(

/// @audit missing @param for `_keyId`
41:     function _onlyKeyOwner(
            uint256 _keyId
        )
            private
            view
        {

/// @audit missing @param for `_powerFarmNFTs`
55:     constructor(
            address _powerFarmNFTs
        ) {

/// @audit missing @param for `_userAddress`
/// @audit missing @param for `_wiseLendingNFT`
77:     function _reserveKey(
            address _userAddress,
            uint256 _wiseLendingNFT
        )
            internal
            returns (uint256)
        {

/// @audit missing @param for `_keyId`
/// @audit missing @param for `_owner`
96:     function isOwner(
            uint256 _keyId,
            address _owner
        )
            public
            view
            returns (bool)
        {

/// @audit missing @param for `_keyId`
/// @audit missing @param for `_userAddress`
115:     function _mintKeyForUser(
             uint256 _keyId,
             address _userAddress
         )
             internal
             returns (uint256)
         {

153:     event ERC721Received(

/// @audit missing @param for `_operator`
/// @audit missing @param for `_from`
/// @audit missing @param for `_tokenId`
/// @audit missing @param for `_data`
160:     function onERC721Received(
             address _operator,
             address _from,
             uint256 _tokenId,
             bytes calldata _data
         )
             external
             returns (bytes4)
         {

```
*Github:* [[32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L32), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L41), [55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L55), [77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L77), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L96), [115](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L115), [153](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L153), [160](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L160)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

/// @audit missing @param for `_owner`
16:     function reservedKeys(

/// @audit missing @param for `_name`
/// @audit missing @param for `_symbol`
38:     constructor(
            string memory _name,
            string memory _symbol
        )
            ERC721(
                _name,
                _symbol
            )
            OwnableMaster(
                msg.sender
            )
        {}

/// @audit missing @param for `_farmContract`
51:     function setFarmContract(
            address _farmContract
        )
            external
            onlyMaster
        {

/// @audit missing @param for `_keyOwner`
/// @audit missing @param for `_keyId`
66:     function mintKey(
            address _keyOwner,
            uint256 _keyId
        )
            external
            onlyFarmContract
        {

/// @audit missing @param for `_keyId`
82:     function burnKey(
            uint256 _keyId
        )
            external
            onlyFarmContract
        {

/// @audit missing @param for `_keyId`
/// @audit missing @param for `_ownerAddress`
93:     function checkOwner(
            uint256 _keyId,
            address _ownerAddress
        )
            external
            view
            returns (bool)
        {

/// @audit missing @param for `_owner`
109:     function walletOfOwner(
             address _owner
         )
             external
             view
             returns (uint256[] memory)
         {

/// @audit missing @param for `_newBaseURI`
161:     function setBaseURI(
             string calldata _newBaseURI
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_newBaseExtension`
170:     function setBaseExtension(
             string calldata _newBaseExtension
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_tokenId`
182:     function tokenURI(
             uint256 _tokenId
         )
             public
             view
             override
             returns (string memory)
         {

/// @audit missing @param for `_tokenId`
213:     function _toString(
             uint256 _tokenId
         )
             internal
             pure
             returns (string memory str)
         {

```
*Github:* [[16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L16), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L38), [51](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L51), [66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L66), [82](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L82), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L93), [109](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L109), [161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L161), [170](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L170), [182](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L182), [213](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L213)]


```solidity
File: contracts/TransferHub/ApprovalHelper.sol

/// @audit missing @param for `_token`
/// @audit missing @param for `_spender`
/// @audit missing @param for `_value`
13:     function _safeApprove(
            address _token,
            address _spender,
            uint256 _value
        )
            internal
        {

```
*Github:* [[13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/ApprovalHelper.sol#L13)]


```solidity
File: contracts/TransferHub/CallOptionalReturn.sol

/// @audit missing @param for `token`
/// @audit missing @param for `data`
12:     function _callOptionalReturn(
            address token,
            bytes memory data
        )
            internal
            returns (bool call)
        {

```
*Github:* [[12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/CallOptionalReturn.sol#L12)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

/// @audit missing @param for `_recipient`
/// @audit missing @param for `_amount`
12:     function _sendValue(
            address _recipient,
            uint256 _amount
        )
            internal
        {

```
*Github:* [[12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L12)]


```solidity
File: contracts/TransferHub/TransferHelper.sol

/// @audit missing @param for `_token`
/// @audit missing @param for `_to`
/// @audit missing @param for `_value`
13:     function _safeTransfer(
            address _token,
            address _to,
            uint256 _value
        )
            internal
        {

/// @audit missing @param for `_token`
/// @audit missing @param for `_from`
/// @audit missing @param for `_to`
/// @audit missing @param for `_value`
34:     function _safeTransferFrom(
            address _token,
            address _from,
            address _to,
            uint256 _value
        )
            internal
        {

```
*Github:* [[13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/TransferHelper.sol#L13), [34](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/TransferHelper.sol#L34)]


```solidity
File: contracts/TransferHub/WrapperHelper.sol

/// @audit missing @param for `_wethAddress`
11:     constructor(
            address _wethAddress
        )
        {

/// @audit missing @param for `_value`
24:     function _wrapETH(
            uint256 _value
        )
            internal
        {

/// @audit missing @param for `_value`
38:     function _unwrapETH(
            uint256 _value
        )
            internal
        {

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L11), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L24), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L38)]


```solidity
File: contracts/WiseCore.sol

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolTokenLend`
/// @audit missing @param for `_poolTokenBorrow`
15:     function _prepareAssociatedTokens(
            uint256 _nftId,
            address _poolTokenLend,
            address _poolTokenBorrow
        )
            internal
            returns (
                address[] memory,
                address[] memory
            )
        {

/// @audit missing @param for `_caller`
/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
/// @audit missing @param for `_shares`
/// @audit missing @param for `_onBehalf`
44:     function _coreWithdrawToken(
            address _caller,
            uint256 _nftId,
            address _poolToken,
            uint256 _amount,
            uint256 _shares,
            bool _onBehalf
        )
            internal
        {

/// @audit missing @param for `_caller`
/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
106:     function _handleDeposit(
             address _caller,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             internal
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_caller`
173:     function checkPositionLocked(
             uint256 _nftId,
             address _caller
         )
             external
             view
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_caller`
193:     function _checkPositionLocked(
             uint256 _nftId,
             address _caller
         )
             internal
             view
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_caller`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
215:     function checkDeposit(
             uint256 _nftId,
             address _caller,
             address _poolToken,
             uint256 _amount
         )
             external
             view
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_caller`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
236:     function _checkDeposit(
             uint256 _nftId,
             address _caller,
             address _poolToken,
             uint256 _amount
         )
             internal
             view
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_caller`
271:     function _checkAllowDeposit(
             uint256 _nftId,
             address _caller
         )
             internal
             view
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
294:     function _checkMaxDepositValue(
             address _poolToken,
             uint256 _amount
         )
             private
             view
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
/// @audit missing @param for `_shares`
316:     function _coreWithdrawBare(
             uint256 _nftId,
             address _poolToken,
             uint256 _amount,
             uint256 _shares
         )
             private
         {

/// @audit missing @param for `_caller`
/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
/// @audit missing @param for `_shares`
/// @audit missing @param for `_onBehalf`
349:     function _coreBorrowTokens(
             address _caller,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount,
             uint256 _shares,
             bool _onBehalf
         )
             internal
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_percentLiquidation`
428:     function _withdrawPureCollateralLiquidation(
             uint256 _nftId,
             address _poolToken,
             uint256 _percentLiquidation
         )
             private
             returns (uint256 transferAmount)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_nftIdLiquidator`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_percentWishCollateral`
460:     function _withdrawOrAllocateSharesLiquidation(
             uint256 _nftId,
             uint256 _nftIdLiquidator,
             address _poolToken,
             uint256 _percentWishCollateral
         )
             private
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_nftIdLiquidator`
/// @audit missing @param for `_receiveTokens`
/// @audit missing @param for `_removePercentage`
543:     function _calculateReceiveAmount(
             uint256 _nftId,
             uint256 _nftIdLiquidator,
             address _receiveTokens,
             uint256 _removePercentage
         )
             private
             returns (uint256 receiveAmount)
         {

/// @audit missing @param for `_userShares`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_removePercentage`
604:     function _calculatePotentialPureExtraCashout(
             uint256 _userShares,
             address _poolToken,
             uint256 _removePercentage
         )
             private
             view
             returns (uint256)
         {

/// @audit missing @param for `_data`
625:     function _coreLiquidation(
             CoreLiquidationStruct memory _data
         )
             internal
             returns (uint256 receiveAmount)
         {

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L15), [44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L44), [106](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L106), [173](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L173), [193](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L193), [215](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L215), [236](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L236), [271](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L271), [294](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L294), [316](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L316), [349](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L349), [428](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L428), [460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L460), [543](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L543), [604](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L604), [625](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L625)]


```solidity
File: contracts/WiseLending.sol

67:     modifier healthStateCheck(

/// @audit missing @param for `_nftId`
77:     function _healthStateCheck(
            uint256 _nftId
        )
            private
        {

97:     modifier syncPool(

/// @audit missing @param for `_master`
/// @audit missing @param for `_wiseOracleHubAddress`
/// @audit missing @param for `_nftContract`
116:     constructor(
             address _master,
             address _wiseOracleHubAddress,
             address _nftContract
         )
             WiseLendingDeclaration(
                 _master,
                 _wiseOracleHubAddress,
                 _nftContract
             )
         {}

/// @audit missing @param for `_caller`
/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
128:     function _emitFundsSolelyWithdrawn(
             address _caller,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             private
         {

/// @audit missing @param for `_caller`
/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
145:     function _emitFundsSolelyDeposited(
             address _caller,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             private
         {

/// @audit missing @param for `_poolToken`
165:     function _getSharePrice(
             address _poolToken
         )
             private
             view
             returns (
                 uint256,
                 uint256
             )
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_powerFarm`
192:     function _checkHealthState(
             uint256 _nftId,
             bool _powerFarm
         )
             internal
             view
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_lendSharePriceBefore`
/// @audit missing @param for `_borrowSharePriceBefore`
210:     function _compareSharePrices(
             address _poolToken,
             uint256 _lendSharePriceBefore,
             uint256 _borrowSharePriceBefore
         )
             private
             view
         {

/// @audit missing @param for `_poolToken`
255:     function _getCurrentSharePriceMax(
             address _poolToken
         )
             private
             view
             returns (uint256)
         {

/// @audit missing @param for `_poolToken`
275:     function _syncPoolBeforeCodeExecution(
             address _poolToken
         )
             private
             returns (
                 uint256 lendSharePrice,
                 uint256 borrowSharePrice
             )
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_lendSharePriceBefore`
/// @audit missing @param for `_borrowSharePriceBefore`
308:     function _syncPoolAfterCodeExecution(
             address _poolToken,
             uint256 _lendSharePriceBefore,
             uint256 _borrowSharePriceBefore
         )
             private
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
329:     function collateralizeDeposit(
             uint256 _nftId,
             address _poolToken
         )
             external
             syncPool(_poolToken)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
348:     function unCollateralizeDeposit(
             uint256 _nftId,
             address _poolToken
         )
             external
             syncPool(_poolToken)
         {

/// @audit missing @param for `_nftId`
388:     function depositExactAmountETH(
             uint256 _nftId
         )
             external
             payable
             syncPool(WETH_ADDRESS)
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
401:     function _depositExactAmountETH(
             uint256 _nftId
         )
             private
             returns (uint256)
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
442:     function depositExactAmountMint(
             address _poolToken,
             uint256 _amount
         )
             external
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
460:     function depositExactAmount(
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             public
             syncPool(_poolToken)
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
508:     function solelyDepositETH(
             uint256 _nftId
         )
             public
             payable
             syncPool(WETH_ADDRESS)
         {

/// @audit missing @param for `_caller`
/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
539:     function _handleSolelyDeposit(
             address _caller,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             private
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
581:     function solelyDepositMint(
             address _poolToken,
             uint256 _amount
         )
             external
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
600:     function solelyDeposit(
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             public
             syncPool(_poolToken)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_amount`
636:     function withdrawExactAmountETH(
             uint256 _nftId,
             uint256 _amount
         )
             external
             syncPool(WETH_ADDRESS)
             healthStateCheck(_nftId)
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_shares`
675:     function withdrawExactSharesETH(
             uint256 _nftId,
             uint256 _shares
         )
             external
             syncPool(WETH_ADDRESS)
             healthStateCheck(_nftId)
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_withdrawAmount`
714:     function withdrawExactAmount(
             uint256 _nftId,
             address _poolToken,
             uint256 _withdrawAmount
         )
             external
             syncPool(_poolToken)
             healthStateCheck(_nftId)
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_withdrawAmount`
751:     function solelyWithdrawETH(
             uint256 _nftId,
             uint256 _withdrawAmount
         )
             external
             syncPool(WETH_ADDRESS)
             healthStateCheck(_nftId)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_withdrawAmount`
780:     function solelyWithdraw(
             uint256 _nftId,
             address _poolToken,
             uint256 _withdrawAmount
         )
             external
             syncPool(_poolToken)
             healthStateCheck(_nftId)
         {

/// @audit missing @param for `_caller`
/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
808:     function _coreSolelyWithdraw(
             address _caller,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             private
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_withdrawAmount`
859:     function withdrawOnBehalfExactAmount(
             uint256 _nftId,
             address _poolToken,
             uint256 _withdrawAmount
         )
             external
             onlyAaveHub
             syncPool(_poolToken)
             healthStateCheck(_nftId)
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_shares`
902:     function withdrawExactShares(
             uint256 _nftId,
             address _poolToken,
             uint256 _shares
         )
             external
             syncPool(_poolToken)
             healthStateCheck(_nftId)
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_shares`
939:     function withdrawOnBehalfExactShares(
             uint256 _nftId,
             address _poolToken,
             uint256 _shares
         )
             external
             onlyAaveHub
             syncPool(_poolToken)
             healthStateCheck(_nftId)
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_amount`
975:     function borrowExactAmountETH(
             uint256 _nftId,
             uint256 _amount
         )
             external
             syncPool(WETH_ADDRESS)
             healthStateCheck(_nftId)
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
1016:     function borrowExactAmount(
              uint256 _nftId,
              address _poolToken,
              uint256 _amount
          )
              external
              syncPool(_poolToken)
              healthStateCheck(_nftId)
              returns (uint256)
          {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
1055:     function borrowOnBehalfExactAmount(
              uint256 _nftId,
              address _poolToken,
              uint256 _amount
          )
              external
              onlyAaveHub
              syncPool(_poolToken)
              healthStateCheck(_nftId)
              returns (uint256)
          {

/// @audit missing @param for `_nftId`
1088:     function paybackExactAmountETH(
              uint256 _nftId
          )
              external
              payable
              syncPool(WETH_ADDRESS)
              returns (uint256)
          {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
1161:     function paybackExactAmount(
              uint256 _nftId,
              address _poolToken,
              uint256 _amount
          )
              external
              syncPool(_poolToken)
              returns (uint256)
          {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_shares`
1204:     function paybackExactShares(
              uint256 _nftId,
              address _poolToken,
              uint256 _shares
          )
              external
              syncPool(_poolToken)
              returns (uint256)
          {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_nftIdLiquidator`
/// @audit missing @param for `_paybackToken`
/// @audit missing @param for `_receiveToken`
/// @audit missing @param for `_shareAmountToPay`
1250:     function liquidatePartiallyFromTokens(
              uint256 _nftId,
              uint256 _nftIdLiquidator,
              address _paybackToken,
              address _receiveToken,
              uint256 _shareAmountToPay
          )
              external
              syncPool(_paybackToken)
              syncPool(_receiveToken)
              returns (uint256)
          {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_nftIdLiquidator`
/// @audit missing @param for `_caller`
/// @audit missing @param for `_paybackToken`
/// @audit missing @param for `_receiveToken`
/// @audit missing @param for `_paybackAmount`
/// @audit missing @param for `_shareAmountToPay`
1314:     function coreLiquidationIsolationPools(
              uint256 _nftId,
              uint256 _nftIdLiquidator,
              address _caller,
              address _paybackToken,
              address _receiveToken,
              uint256 _paybackAmount,
              uint256 _shareAmountToPay
          )
              external
              syncPool(_paybackToken)
              syncPool(_receiveToken)
              returns (uint256)
          {

/// @audit missing @param for `_poolToken`
1367:     function syncManually(
              address _poolToken
          )
              external
              syncPool(_poolToken)
          {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_registerState`
1386:     function setRegistrationIsolationPool(
              uint256 _nftId,
              bool _registerState
          )
              external
          {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_nftId`
/// @audit missing @param for `_amount`
/// @audit missing @param for `_shares`
1412:     function corePaybackFeeManager(
              address _poolToken,
              uint256 _nftId,
              uint256 _amount,
              uint256 _shares
          )
              external
              onlyFeeManager
              syncPool(_poolToken)
          {

/// @audit missing @param for `_caller`
/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
/// @audit missing @param for `_shares`
1434:     function _handlePayback(
              address _caller,
              uint256 _nftId,
              address _poolToken,
              uint256 _amount,
              uint256 _shares
          )
              private
          {

/// @audit missing @param for `_caller`
/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
/// @audit missing @param for `_onBehalf`
1460:     function _handleWithdrawAmount(
              address _caller,
              uint256 _nftId,
              address _poolToken,
              uint256 _amount,
              bool _onBehalf
          )
              private
              returns (uint256 withdrawShares)
          {

/// @audit missing @param for `_caller`
/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
1489:     function _handleSolelyWithdraw(
              address _caller,
              uint256 _nftId,
              address _poolToken,
              uint256 _amount
          )
              private
          {

/// @audit missing @param for `_caller`
/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_shares`
/// @audit missing @param for `_onBehalf`
1517:     function _handleWithdrawShares(
              address _caller,
              uint256 _nftId,
              address _poolToken,
              uint256 _shares,
              bool _onBehalf
          )
              private
              returns (uint256)
          {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
/// @audit missing @param for `_onBehalf`
1553:     function _handleBorrowExactAmount(
              uint256 _nftId,
              address _poolToken,
              uint256 _amount,
              bool _onBehalf
          )
              private
              returns (uint256)
          {

```
*Github:* [[67](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L67), [77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L77), [97](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L97), [116](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L116), [128](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L128), [145](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L145), [165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L165), [192](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L192), [210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L210), [255](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L255), [275](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L275), [308](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L308), [329](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L329), [348](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L348), [388](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L388), [401](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L401), [442](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L442), [460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L460), [508](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L508), [539](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L539), [581](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L581), [600](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L600), [636](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L636), [675](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L675), [714](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L714), [751](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L751), [780](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L780), [808](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L808), [859](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L859), [902](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L902), [939](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L939), [975](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L975), [1016](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1016), [1055](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1055), [1088](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1088), [1161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1161), [1204](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1204), [1250](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1250), [1314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1314), [1367](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1367), [1386](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1386), [1412](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1412), [1434](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1434), [1460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1460), [1489](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1489), [1517](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1517), [1553](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1553)]


```solidity
File: contracts/WiseLendingDeclaration.sol

35:     event FundsDeposited(

44:     event FundsSolelyDeposited(

52:     event FundsWithdrawn(

61:     event FundsWithdrawnOnBehalf(

70:     event FundsSolelyWithdrawn(

78:     event FundsBorrowed(

87:     event FundsBorrowedOnBehalf(

96:     event FundsReturned(

/// @audit missing @param for `_master`
/// @audit missing @param for `_wiseOracleHub`
/// @audit missing @param for `_nftContract`
105:     constructor(
             address _master,
             address _wiseOracleHub,
             address _nftContract
         )
             OwnableMaster(
                 _master
             )
             WrapperHelper(
                 IWiseOracleHub(
                     _wiseOracleHub
                 ).WETH_ADDRESS()
             )
         {

/// @audit missing @param for `_wiseSecurity`
140:     function setSecurity(
             address _wiseSecurity
         )
             external
             onlyMaster
         {

```
*Github:* [[35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L35), [44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L44), [52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L52), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L61), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L70), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L78), [87](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L87), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L96), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L105), [140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L140)]


```solidity
File: contracts/WiseLowLevelHelper.sol

/// @audit missing @param for `_parameterValue`
/// @audit missing @param for `_parameterLimit`
25:     function _validateParameter(
            uint256 _parameterValue,
            uint256 _parameterLimit
        )
            internal
            pure
        {

/// @audit missing @param for `_poolToken`
39:     function getTotalPool(
            address _poolToken
        )
            public
            view
            returns (uint256)
        {

/// @audit missing @param for `_poolToken`
49:     function getPseudoTotalPool(
            address _poolToken
        )
            public
            view
            returns (uint256)
        {

/// @audit missing @param for `_poolToken`
59:     function getTotalBareToken(
            address _poolToken
        )
            external
            view
            returns (uint256)
        {

/// @audit missing @param for `_poolToken`
69:     function getPseudoTotalBorrowAmount(
            address _poolToken
        )
            external
            view
            returns (uint256)
        {

/// @audit missing @param for `_poolToken`
79:     function getTotalDepositShares(
            address _poolToken
        )
            external
            view
            returns (uint256)
        {

/// @audit missing @param for `_poolToken`
89:     function getTotalBorrowShares(
            address _poolToken
        )
            external
            view
            returns (uint256)
        {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
99:     function getPositionLendingShares(
            uint256 _nftId,
            address _poolToken
        )
            external
            view
            returns (uint256)
        {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
110:     function getPositionBorrowShares(
             uint256 _nftId,
             address _poolToken
         )
             external
             view
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
121:     function getPureCollateralAmount(
             uint256 _nftId,
             address _poolToken
         )
             external
             view
             returns (uint256)
         {

/// @audit missing @param for `_poolToken`
134:     function getTimeStamp(
             address _poolToken
         )
             external
             view
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_index`
144:     function getPositionLendingTokenByIndex(
             uint256 _nftId,
             uint256 _index
         )
             public
             view
             returns (address)
         {

/// @audit missing @param for `_nftId`
155:     function getPositionLendingTokenLength(
             uint256 _nftId
         )
             public
             view
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_index`
165:     function getPositionBorrowTokenByIndex(
             uint256 _nftId,
             uint256 _index
         )
             public
             view
             returns (address)
         {

/// @audit missing @param for `_nftId`
176:     function getPositionBorrowTokenLength(
             uint256 _nftId
         )
             public
             view
             returns (uint256)
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_value`
188:     function _setMaxValue(
             address _poolToken,
             uint256 _value
         )
             internal
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_value`
197:     function _setBestPole(
             address _poolToken,
             uint256 _value
         )
             internal
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_state`
206:     function _setIncreasePole(
             address _poolToken,
             bool _state
         )
             internal
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_value`
215:     function _setPole(
             address _poolToken,
             uint256 _value
         )
             internal
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
224:     function _increaseTotalPool(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
233:     function _decreaseTotalPool(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
242:     function _increaseTotalDepositShares(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
251:     function _decreaseTotalDepositShares(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
260:     function _increasePseudoTotalBorrowAmount(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
269:     function _decreasePseudoTotalBorrowAmount(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
278:     function _increaseTotalBorrowShares(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
287:     function _decreaseTotalBorrowShares(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
296:     function _increasePseudoTotalPool(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
305:     function _decreasePseudoTotalPool(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_time`
314:     function _setTimeStamp(
             address _poolToken,
             uint256 _time
         )
             internal
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_time`
323:     function _setTimeStampScaling(
             address _poolToken,
             uint256 _time
         )
             internal
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
332:     function _increaseTotalBareToken(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
341:     function _decreaseTotalBareToken(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing @param for `userMapping`
/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
371:     function _decreasePositionMappingValue(
             mapping(uint256 => mapping(address => uint256)) storage userMapping,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing @param for `userMapping`
/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
382:     function _increaseMappingValue(
             mapping(uint256 => mapping(address => uint256)) storage userMapping,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing @param for `_sender`
393:     function _byPassCase(
             address _sender
         )
             internal
             view
             returns (bool)
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
407:     function _increaseTotalAndPseudoTotalPool(
             address _poolToken,
             uint256 _amount
         )
             internal
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_newFee`
424:     function setPoolFee(
             address _poolToken,
             uint256 _newFee
         )
             external
             onlyFeeManager
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_msgSender`
434:     function _checkOwnerPosition(
             uint256 _nftId,
             address _msgSender
         )
             internal
             view
         {

/// @audit missing @param for `_value`
447:     function _validateNonZero(
             uint256 _value
         )
             internal
             pure
         {

/// @audit missing @param for `_value`
458:     function _validateZero(
             uint256 _value
         )
             internal
             pure
         {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L25), [39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L39), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L49), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L59), [69](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L69), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L79), [89](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L89), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L99), [110](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L110), [121](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L121), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L134), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L144), [155](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L155), [165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L165), [176](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L176), [188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L188), [197](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L197), [206](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L206), [215](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L215), [224](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L224), [233](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L233), [242](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L242), [251](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L251), [260](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L260), [269](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L269), [278](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L278), [287](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L287), [296](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L296), [305](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L305), [314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L314), [323](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L323), [332](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L332), [341](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L341), [371](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L371), [382](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L382), [393](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L393), [407](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L407), [424](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L424), [434](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L434), [447](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L447), [458](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L458)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

/// @audit missing @param for `_wethAddress`
/// @audit missing @param for `_ethPriceFeed`
/// @audit missing @param for `_uniswapV3Factory`
45:     constructor(
            address _wethAddress,
            address _ethPriceFeed,
            address _uniswapV3Factory
        )
            OwnableMaster(
                msg.sender
            )
        {

```
*Github:* [[45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L45)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

/// @audit missing @param for `_tokenAddress`
/// @audit missing @param for `_priceFeedAddress`
/// @audit missing @param for `_underlyingFeedTokens`
12:     function _addOracle(
            address _tokenAddress,
            IPriceFeed _priceFeedAddress,
            address[] calldata _underlyingFeedTokens
        )
            internal
        {

/// @audit missing @param for `_tokenAddress`
32:     function _addAggregator(
            address _tokenAddress
        )
            internal
        {

/// @audit missing @param for `_tokenAggregator`
60:     function _checkFunctionExistence(
            address _tokenAggregator
        )
            internal
            returns (bool)
        {

/// @audit missing @param for `_tokenAggregator`
/// @audit missing @param for `_answer`
87:     function _compareMinMax(
            IAggregator _tokenAggregator,
            int192 _answer
        )
            internal
            view
        {

/// @audit missing @param for `_tokenAddress`
106:     function latestResolverTwap(
             address _tokenAddress
         )
             public
             view
             returns (uint256)
         {

/// @audit missing @param for `_tokenAddress`
131:     function _validateAnswer(
             address _tokenAddress
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing @param for `_tokenAddress`
/// @audit missing @param for `_oracle`
/// @audit missing @param for `_isUniPool`
179:     function _writeUniTwapPoolInfoStruct(
             address _tokenAddress,
             address _oracle,
             bool _isUniPool
         )
             internal
         {

/// @audit missing @param for `_tokenAddress`
/// @audit missing @param for `_partnerTokenAddress`
/// @audit missing @param for `_oracleAddress`
/// @audit missing @param for `_partnerOracleAddress`
/// @audit missing @param for `_isUniPool`
195:     function _writeUniTwapPoolInfoStructDerivative(
             address _tokenAddress,
             address _partnerTokenAddress,
             address _oracleAddress,
             address _partnerOracleAddress,
             bool _isUniPool
         )
             internal
         {

/// @audit missing @param for `_answerUint256`
/// @audit missing @param for `_fetchTwapValue`
216:     function _getRelativeDifference(
             uint256 _answerUint256,
             uint256 _fetchTwapValue
         )
             internal
             pure
             returns (uint256)
         {

/// @audit missing @param for `_relativeDifference`
235:     function _compareDifference(
             uint256 _relativeDifference
         )
             internal
             view
         {

/// @audit missing @param for `_tokenAddress`
246:     function _getChainlinkAnswer(
             address _tokenAddress
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing @param for `_token0`
/// @audit missing @param for `_token1`
/// @audit missing @param for `_fee`
283:     function _getPool(
             address _token0,
             address _token1,
             uint24 _fee
         )
             internal
             view
             returns (address pool)
         {

/// @audit missing @param for `_tokenAddress`
/// @audit missing @param for `_token0`
/// @audit missing @param for `_token1`
303:     function _validateTokenAddress(
             address _tokenAddress,
             address _token0,
             address _token1
         )
             internal
             pure
         {

/// @audit missing @param for `_pool`
/// @audit missing @param for `_expectedPool`
324:     function _validatePoolAddress(
             address _pool,
             address _expectedPool
         )
             internal
             pure
         {

/// @audit missing @param for `_tokenAddress`
344:     function _validatePriceFeed(
             address _tokenAddress
         )
             internal
             view
         {

/// @audit missing @param for `_tokenAddress`
359:     function _validateTwapOracle(
             address _tokenAddress
         )
             internal
             view
         {

/// @audit missing @param for `_tokenAddress`
/// @audit missing @param for `_oracle`
374:     function _getTwapPrice(
             address _tokenAddress,
             address _oracle
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing @param for `_tokenAddress`
394:     function _getOneUnit(
             address _tokenAddress
         )
             internal
             view
             returns (uint128)
         {

/// @audit missing @param for `_oracle`
406:     function _getAverageTick(
             address _oracle
         )
             internal
             view
             returns (int24)
         {

/// @audit missing @param for `_tokenAddress`
450:     function decimals(
             address _tokenAddress
         )
             public
             view
             returns (uint8)
         {

/// @audit missing @param for `_tokenAddress`
/// @audit missing @param for `_uniTwapPoolInfo`
460:     function _getTwapDerivatePrice(
             address _tokenAddress,
             UniTwapPoolInfo memory _uniTwapPoolInfo
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing @param for `_tokenAddress`
507:     function _recalibrate(
             address _tokenAddress
         )
             internal
         {

/// @audit missing @param for `_tokenAddress`
556:     function _chainLinkIsDead(
             address _tokenAddress
         )
             internal
             view
             returns (bool)
         {

/// @audit missing @param for `_tokenAddress`
592:     function _recalibratePreview(
             address _tokenAddress
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing @param for `_latestAggregatorRoundId`
658:     function _getIterationCount(
             uint80 _latestAggregatorRoundId
         )
             internal
             pure
             returns (uint80 res)
         {

/// @audit missing @param for `_tokenAddress`
/// @audit missing @param for `_roundId`
674:     function _getRoundTimestamp(
             address _tokenAddress,
             uint80 _roundId
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing @param for `_tokenAddress`
699:     function getLatestRoundId(
             address _tokenAddress
         )
             public
             view
             returns (
                 uint80 roundId
             )
         {

```
*Github:* [[12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L12), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L32), [60](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L60), [87](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L87), [106](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L106), [131](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L131), [179](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L179), [195](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L195), [216](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L216), [235](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L235), [246](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L246), [283](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L283), [303](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L303), [324](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L324), [344](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L344), [359](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L359), [374](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L374), [394](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L394), [406](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L406), [450](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L450), [460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L460), [507](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L507), [556](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L556), [592](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L592), [658](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L658), [674](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L674), [699](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L699)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

/// @audit missing @param for `_wethAddrss`
/// @audit missing @param for `_ethPricingFeed`
/// @audit missing @param for `_uniswapFactoryV3`
33:     constructor(
            address _wethAddrss,
            address _ethPricingFeed,
            address _uniswapFactoryV3
        )
            Declarations(
                _wethAddrss,
                _ethPricingFeed,
                _uniswapFactoryV3
            )
        {

/// @audit missing @param for `_tokenAddress`
69:     function latestResolver(
            address _tokenAddress
        )
            public
            view
            returns (uint256)
        {

/// @audit missing @param for `_tokenAddress`
85:     function getTokenDecimals(
            address _tokenAddress
        )
            external
            view
            returns (uint8)
        {

/// @audit missing @param for `_tokenAddress`
/// @audit missing @param for `_tokenAmount`
96:     function getTokensInUSD(
            address _tokenAddress,
            uint256 _tokenAmount
        )
            external
            view
            returns (uint256)
        {

/// @audit missing @param for `_tokenAddress`
/// @audit missing @param for `_tokenAmount`
123:     function getTokensPriceInUSD(
             address _tokenAddress,
             uint256 _tokenAmount
         )
             external
             view
             returns (uint256)
         {

/// @audit missing @param for `_tokenAddress`
/// @audit missing @param for `_tokenAmount`
143:     function getTokensInETH(
             address _tokenAddress,
             uint256 _tokenAmount
         )
             public
             view
             returns (uint256)
         {

/// @audit missing @param for `_tokenAddress`
/// @audit missing @param for `_usdValue`
171:     function getTokensFromUSD(
             address _tokenAddress,
             uint256 _usdValue
         )
             external
             view
             returns (uint256)
         {

/// @audit missing @param for `_tokenAddress`
/// @audit missing @param for `_usdValue`
198:     function getTokensPriceFromUSD(
             address _tokenAddress,
             uint256 _usdValue
         )
             external
             view
             returns (uint256)
         {

/// @audit missing @param for `_tokenAddress`
/// @audit missing @param for `_uniPoolAddress`
/// @audit missing @param for `_token0`
/// @audit missing @param for `_token1`
/// @audit missing @param for `_fee`
218:     function addTwapOracle(
             address _tokenAddress,
             address _uniPoolAddress,
             address _token0,
             address _token1,
             uint24 _fee
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_tokenAddress`
/// @audit missing @param for `_partnerTokenAddress`
/// @audit missing @param for `_uniPools`
/// @audit missing @param for `_token0Array`
/// @audit missing @param for `_token1Array`
/// @audit missing @param for `_feeArray`
266:     function addTwapOracleDerivative(
             address _tokenAddress,
             address _partnerTokenAddress,
             address[2] calldata _uniPools,
             address[2] calldata _token0Array,
             address[2] calldata _token1Array,
             uint24[2] calldata _feeArray
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_tokenAddress`
/// @audit missing @param for `_ethAmount`
327:     function getTokensFromETH(
             address _tokenAddress,
             uint256 _ethAmount
         )
             public
             view
             returns (uint256)
         {

/// @audit missing @param for `_tokenAddress`
/// @audit missing @param for `_priceFeedAddress`
/// @audit missing @param for `_underlyingFeedTokens`
359:     function addOracle(
             address _tokenAddress,
             IPriceFeed _priceFeedAddress,
             address[] calldata _underlyingFeedTokens
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_tokenAddresses`
/// @audit missing @param for `_priceFeedAddresses`
/// @audit missing @param for `_underlyingFeedTokens`
379:     function addOracleBulk(
             address[] calldata _tokenAddresses,
             IPriceFeed[] calldata _priceFeedAddresses,
             address[][] calldata _underlyingFeedTokens
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_tokenAddress`
403:     function addAggregator(
             address _tokenAddress
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_tokenAddress`
419:     function recalibratePreview(
             address _tokenAddress
         )
             external
             view
             returns (uint256)
         {

/// @audit missing @param for `_tokenAddress`
439:     function chainLinkIsDead(
             address _tokenAddress
         )
             public
             view
             returns (bool state)
         {

/// @audit missing @param for `_tokenAddress`
487:     function recalibrate(
             address _tokenAddress
         )
             external
         {

/// @audit missing @param for `_tokenAddresses`
501:     function recalibrateBulk(
             address[] calldata _tokenAddresses
         )
             external
         {

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L33), [69](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L69), [85](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L85), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L96), [123](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L123), [143](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L143), [171](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L171), [198](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L198), [218](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L218), [266](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L266), [327](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L327), [359](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L359), [379](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L379), [403](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L403), [419](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L419), [439](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L439), [487](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L487), [501](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L501)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

/// @audit missing @param for `_master`
/// @audit missing @param for `_wiseLendingAddress`
/// @audit missing @param for `_aaveHubAddress`
42:     constructor(
            address _master,
            address _wiseLendingAddress,
            address _aaveHubAddress
        )
            WiseSecurityDeclarations(
                _master,
                _wiseLendingAddress,
                _aaveHubAddress
            )
        {}

/// @audit missing @param for `_nftId`
59:     function getLiveDebtRatio(
            uint256 _nftId
        )
            external
            view
            returns (uint256)
        {

/// @audit missing @param for `_baseReward`
/// @audit missing @param for `_baseRewardFarm`
/// @audit missing @param for `_newMaxFeeETH`
/// @audit missing @param for `_newMaxFeeFarmETH`
85:     function setLiquidationSettings(
            uint256 _baseReward,
            uint256 _baseRewardFarm,
            uint256 _newMaxFeeETH,
            uint256 _newMaxFeeFarmETH
        )
            external
            onlyMaster
        {

/// @audit missing @param for `_nftIdLiquidate`
/// @audit missing @param for `_tokenToPayback`
/// @audit missing @param for `_shareAmountToPay`
105:     function checksLiquidation(
             uint256 _nftIdLiquidate,
             address _tokenToPayback,
             uint256 _shareAmountToPay
         )
             external
             view
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_curveSwapStructData`
/// @audit missing @param for `_curveSwapStructToken`
142:     function prepareCurvePools(
             address _poolToken,
             CurveSwapStructData calldata _curveSwapStructData,
             CurveSwapStructToken calldata _curveSwapStructToken
         )
             external
             onlyWiseLending
         {

/// @audit missing @param for `_poolToken`
193:     function curveSecurityCheck(
             address _poolToken
         )
             external
             onlyWiseLending
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_caller`
/// @audit missing @param for `_poolToken`
237:     function checksWithdraw(
             uint256 _nftId,
             address _caller,
             address _poolToken
         )
             external
             view
             returns (bool specialCase)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_caller`
/// @audit missing @param for `_poolToken`
275:     function checksSolelyWithdraw(
             uint256 _nftId,
             address _caller,
             address _poolToken
         )
             external
             view
             returns (bool specialCase)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_caller`
/// @audit missing @param for `_poolToken`
306:     function checksBorrow(
             uint256 _nftId,
             address _caller,
             address _poolToken
         )
             external
             view
             returns (bool specialCase)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_caller`
/// @audit missing @param for `_poolAddress`
335:     function checksCollateralizeDeposit(
             uint256 _nftId,
             address _caller,
             address _poolAddress
         )
             external
             view
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
360:     function checkUncollateralizedDeposit(
             uint256 _nftId,
             address _poolToken
         )
             external
             view
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_isPowerFarm`
388:     function checkHealthState(
             uint256 _nftId,
             bool _isPowerFarm
         )
             external
             view
         {

/// @audit missing @param for `_nftId`
405:     function checkBadDebtLiquidation(
             uint256 _nftId
         )
             external
             onlyWiseLending
         {

/// @audit missing @param for `_nftId`
442:     function overallLendingAPY(
             uint256 _nftId
         )
             external
             view
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
499:     function overallBorrowAPY(
             uint256 _nftId
         )
             external
             view
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
556:     function overallNetAPY(
             uint256 _nftId
         )
             external
             view
             returns (uint256, bool)
         {

/// @audit missing @param for `_nftId`
641:     function safeLimitPosition(
             uint256 _nftId
         )
             external
             view
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
695:     function positionBlackListToken(
             uint256 _nftId
         )
             external
             view
             returns (bool, address)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_interval`
/// @audit missing @param for `_solelyWithdrawAmount`
764:     function maximumWithdrawToken(
             uint256 _nftId,
             address _poolToken,
             uint256 _interval,
             uint256 _solelyWithdrawAmount
         )
             external
             view
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_interval`
/// @audit missing @param for `_poolWithdrawAmount`
826:     function maximumWithdrawTokenSolely(
             uint256 _nftId,
             address _poolToken,
             uint256 _interval,
             uint256 _poolWithdrawAmount
         )
             external
             view
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_interval`
868:     function maximumBorrowToken(
             uint256 _nftId,
             address _poolToken,
             uint256 _interval
         )
             external
             view
             returns (uint256 tokenAmount)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_interval`
906:     function getExpectedPaybackAmount(
             uint256 _nftId,
             address _poolToken,
             uint256 _interval
         )
             external
             view
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_interval`
943:     function getExpectedLendingAmount(
             uint256 _nftId,
             address _poolToken,
             uint256 _interval
         )
             public
             view
             returns (uint256)
         {

/// @audit missing @param for `_tokenAddress`
/// @audit missing @param for `_state`
980:     function setBlacklistToken(
             address _tokenAddress,
             bool _state
         )
             external
             onlyMaster()
         {

/// @audit missing @param for `_entitiy`
/// @audit missing @param for `_state`
995:     function setSecurityWorker(
             address _entitiy,
             bool _state
         )
             external
             onlyMaster
         {

/// @audit missing @param for `_token`
1045:     function checkPoolCondition(
              address _token
          )
              external
              view
          {

/// @audit missing @param for `_token`
/// @audit missing @param for `_amount`
1060:     function checkPoolWithMinDeposit(
              address _token,
              uint256 _amount
          )
              external
              view
              returns (bool)
          {

/// @audit missing @param for `_token`
/// @audit missing @param for `_amount`
1078:     function checkMinDepositValue(
              address _token,
              uint256 _amount
          )
              external
              view
              returns (bool)
          {

/// @audit missing @param for `_token`
/// @audit missing @param for `_amount`
1092:     function _checkMinDepositValue(
              address _token,
              uint256 _amount
          )
              private
              view
              returns (bool)
          {

/// @audit missing @param for `_newMinDepositValue`
1111:     function changeMinDepositValue(
              uint256 _newMinDepositValue
          )
              external
              onlyMaster
          {

```
*Github:* [[42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L42), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L59), [85](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L85), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L105), [142](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L142), [193](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L193), [237](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L237), [275](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L275), [306](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L306), [335](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L335), [360](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L360), [388](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L388), [405](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L405), [442](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L442), [499](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L499), [556](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L556), [641](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L641), [695](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L695), [764](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L764), [826](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L826), [868](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L868), [906](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L906), [943](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L943), [980](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L980), [995](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L995), [1045](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1045), [1060](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1060), [1078](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1078), [1092](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1092), [1111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1111)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

47:     event SecurityShutdown(

/// @audit missing @param for `_master`
/// @audit missing @param for `_wiseLendingAddress`
/// @audit missing @param for `_aaveHubAddress`
52:     constructor(
            address _master,
            address _wiseLendingAddress,
            address _aaveHubAddress
        )
            OwnableMaster(
                _master
            )
        {

/// @audit missing @param for `_baseReward`
/// @audit missing @param for `_baseRewardFarm`
/// @audit missing @param for `_newMaxFeeETH`
/// @audit missing @param for `_newMaxFeeFarmETH`
118:     function _setLiquidationSettings(
             uint256 _baseReward,
             uint256 _baseRewardFarm,
             uint256 _newMaxFeeETH,
             uint256 _newMaxFeeFarmETH
         )
             internal
         {

```
*Github:* [[47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L47), [52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L52), [118](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L118)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

/// @audit missing @param for `_nftId`
15:     function overallETHCollateralsBoth(
            uint256 _nftId
        )
            public
            view
            returns (uint256, uint256)
        {

/// @audit missing @param for `_nftId`
65:     function overallETHCollateralsWeighted(
            uint256 _nftId
        )
            public
            view
            returns (uint256 weightedTotal)
        {

/// @audit missing @param for `_nftId`
107:     function overallETHCollateralsBare(
             uint256 _nftId
         )
             public
             view
             returns (uint256 amount)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_interval`
145:     function _overallETHCollateralsWeighted(
             uint256 _nftId,
             uint256 _interval
         )
             internal
             view
             returns (uint256 weightedTotal)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
190:     function getFullCollateralETH(
             uint256 _nftId,
             address _poolToken
         )
             public
             view
             returns (uint256 ethCollateral)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
224:     function _isUncollateralized(
             uint256 _nftId,
             address _poolToken
         )
             internal
             view
             returns (bool)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_interval`
246:     function _getCollateralOfTokenETHUpdated(
             uint256 _nftId,
             address _poolToken,
             uint256 _interval
         )
             internal
             view
             returns (uint256 ethCollateral)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_interval`
281:     function getETHCollateralUpdated(
             uint256 _nftId,
             address _poolToken,
             uint256 _interval
         )
             public
             view
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
323:     function getETHCollateral(
             uint256 _nftId,
             address _poolToken
         )
             public
             view
             returns (uint256)
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_amount`
340:     function _getTokensInEth(
             address _poolToken,
             uint256 _amount
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
360:     function overallETHBorrowBare(
             uint256 _nftId
         )
             public
             view
             returns (uint256 buffer)
         {

/// @audit missing @param for `_nftId`
394:     function overallETHBorrowHeartbeat(
             uint256 _nftId
         )
             public
             view
             returns (uint256 buffer)
         {

/// @audit missing @param for `_nftId`
430:     function overallETHBorrow(
             uint256 _nftId
         )
             public
             view
             returns (uint256 buffer)
         {

/// @audit missing @param for `_poolToken`
470:     function _checkBlacklisted(
             address _poolToken
         )
             internal
             view
             returns (bool)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_interval`
486:     function _overallETHBorrow(
             uint256 _nftId,
             uint256 _interval
         )
             internal
             view
             returns (uint256 buffer)
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_interval`
530:     function _getUpdatedPseudoBorrow(
             address _poolToken,
             uint256 _interval
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_interval`
554:     function _getUpdatedPseudoPool(
             address _poolToken,
             uint256 _interval
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_interval`
578:     function _getInterest(
             address _poolToken,
             uint256 _interval
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_intervall`
610:     function _getETHBorrowUpdated(
             uint256 _nftId,
             address _poolToken,
             uint256 _intervall
         )
             internal
             view
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
651:     function getETHBorrow(
             uint256 _nftId,
             address _poolToken
         )
             public
             view
             returns (uint256)
         {

/// @audit missing @param for `_poolAddress`
672:     function checkTokenAllowed(
             address _poolAddress
         )
             public
             view
         {

/// @audit missing @param for `_poolToken`
687:     function checkHeartbeat(
             address _poolToken
         )
             public
             view
             returns (bool)
         {

/// @audit missing @param for `_nftId`
701:     function _checkPositionLocked(
             uint256 _nftId
         )
             internal
             view
         {

/// @audit missing @param for `_paybackETH`
/// @audit missing @param for `_feeLiquidation`
/// @audit missing @param for `_maxFeeETH`
716:     function checkMaxFee(
             uint256 _paybackETH,
             uint256 _feeLiquidation,
             uint256 _maxFeeETH
         )
             external
             pure
             returns (uint256)
         {

/// @audit missing @param for `_paybackETH`
/// @audit missing @param for `_liquidationFee`
/// @audit missing @param for `_maxFeeETH`
736:     function _checkMaxFee(
             uint256 _paybackETH,
             uint256 _liquidationFee,
             uint256 _maxFeeETH
         )
             internal
             pure
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_receiveToken`
/// @audit missing @param for `_paybackETH`
/// @audit missing @param for `_maxFeeETH`
/// @audit missing @param for `_baseRewardLiquidation`
760:     function calculateWishPercentage(
             uint256 _nftId,
             address _receiveToken,
             uint256 _paybackETH,
             uint256 _maxFeeETH,
             uint256 _baseRewardLiquidation
         )
             external
             view
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_powerFarm`
794:     function _checkHealthState(
             uint256 _nftId,
             bool _powerFarm
         )
             internal
             view
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_powerFarm`
806:     function _getState(
             uint256 _nftId,
             bool _powerFarm
         )
             internal
             view
             returns (bool)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_caller`
837:     function checksRegister(
             uint256 _nftId,
             address _caller
         )
             public
             view
         {

/// @audit missing @param for `_borrowETHTotal`
/// @audit missing @param for `_weightedCollateralETH`
859:     function canLiquidate(
             uint256 _borrowETHTotal,
             uint256 _weightedCollateralETH
         )
             public
             pure
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_tokenToPayback`
/// @audit missing @param for `_borrowETHTotal`
/// @audit missing @param for `_unweightedCollateralETH`
/// @audit missing @param for `_shareAmountToPay`
876:     function checkMaxShares(
             uint256 _nftId,
             address _tokenToPayback,
             uint256 _borrowETHTotal,
             uint256 _unweightedCollateralETH,
             uint256 _shareAmountToPay
         )
             public
             view
         {

/// @audit missing @param for `_borrowETHTotal`
/// @audit missing @param for `_unweightedCollateral`
906:     function checkBadDebtThreshold(
             uint256 _borrowETHTotal,
             uint256 _unweightedCollateral
         )
             public
             pure
             returns (bool)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
922:     function getPositionLendingAmount(
             uint256 _nftId,
             address _poolToken
         )
             public
             view
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
945:     function getPositionBorrowAmount(
             uint256 _nftId,
             address _poolToken
         )
             public
             view
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_caller`
966:     function checkOwnerPosition(
             uint256 _nftId,
             address _caller
         )
             public
             view
         {

/// @audit missing @param for `_poolToken`
985:     function getBorrowRate(
             address _poolToken
         )
             public
             view
             returns (uint256)
         {

/// @audit missing @param for `_poolToken`
999:     function getLendingRate(
             address _poolToken
         )
             public
             view
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
/// @audit missing @param for `_interval`
1029:     function _getPossibleWithdrawAmount(
              uint256 _nftId,
              address _poolToken,
              uint256 _interval
          )
              internal
              view
              returns (uint256)
          {

/// @audit missing @param for `_state`
1057:     function _setPoolState(
              bool _state
          )
              internal
          {

/// @audit missing @param for `_poolToken`
1080:     function _checkPoolCondition(
              address _poolToken
          )
              internal
              view
          {

/// @audit missing @param for `_success`
1096:     function _checkSuccess(
              bool _success
          )
              internal
              pure
          {

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L15), [65](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L65), [107](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L107), [145](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L145), [190](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L190), [224](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L224), [246](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L246), [281](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L281), [323](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L323), [340](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L340), [360](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L360), [394](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L394), [430](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L430), [470](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L470), [486](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L486), [530](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L530), [554](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L554), [578](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L578), [610](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L610), [651](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L651), [672](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L672), [687](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L687), [701](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L701), [716](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L716), [736](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L736), [760](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L760), [794](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L794), [806](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L806), [837](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L837), [859](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L859), [876](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L876), [906](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L906), [922](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L922), [945](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L945), [966](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L966), [985](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L985), [999](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L999), [1029](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1029), [1057](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1057), [1080](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1080), [1096](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1096)]


```solidity
File: contracts/WrapperHub/AaveEvents.sol

7:     event SetAaveTokenAddress(

13:     event IsDepositAave(

18:     event IsWithdrawAave(

23:     event IsBorrowAave(

28:     event IsPaybackAave(

33:     event IsSolelyDepositAave(

38:     event IsSolelyWithdrawAave(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L7), [13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L13), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L18), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L23), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L28), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L33), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L38)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

14:     modifier validToken(

/// @audit missing @param for `_poolToken`
23:     function _validToken(
            address _poolToken
        )
            internal
            view
        {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_underlyingAsset`
/// @audit missing @param for `_depositAmount`
56:     function _wrapDepositExactAmount(
            uint256 _nftId,
            address _underlyingAsset,
            uint256 _depositAmount
        )
            internal
            returns (uint256)
        {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_underlyingAsset`
/// @audit missing @param for `_underlyingAssetRecipient`
/// @audit missing @param for `_withdrawAmount`
83:     function _wrapWithdrawExactAmount(
            uint256 _nftId,
            address _underlyingAsset,
            address _underlyingAssetRecipient,
            uint256 _withdrawAmount
        )
            internal
            returns (
                uint256,
                uint256
            )
        {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_underlyingAsset`
/// @audit missing @param for `_underlyingAssetRecipient`
/// @audit missing @param for `_shareAmount`
113:     function _wrapWithdrawExactShares(
             uint256 _nftId,
             address _underlyingAsset,
             address _underlyingAssetRecipient,
             uint256 _shareAmount
         )
             internal
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_underlyingAsset`
/// @audit missing @param for `_underlyingAssetRecipient`
/// @audit missing @param for `_borrowAmount`
141:     function _wrapBorrowExactAmount(
             uint256 _nftId,
             address _underlyingAsset,
             address _underlyingAssetRecipient,
             uint256 _borrowAmount
         )
             internal
             returns (uint256)
         {

/// @audit missing @param for `_underlyingAsset`
/// @audit missing @param for `_depositAmount`
/// @audit missing @param for `_targetAddress`
165:     function _wrapAaveReturnValueDeposit(
             address _underlyingAsset,
             uint256 _depositAmount,
             address _targetAddress
         )
             internal
             returns (uint256 res)
         {

/// @audit missing @param for `_recipient`
/// @audit missing @param for `_amount`
196:     function _sendValue(
             address _recipient,
             uint256 _amount
         )
             internal
         {

/// @audit missing @param for `_ethSent`
/// @audit missing @param for `_maxPaybackAmount`
219:     function _getInfoPayback(
             uint256 _ethSent,
             uint256 _maxPaybackAmount
         )
             internal
             pure
             returns (
                 uint256,
                 uint256
             )
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
243:     function _prepareCollaterals(
             uint256 _nftId,
             address _poolToken
         )
             private
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_poolToken`
279:     function _prepareBorrows(
             uint256 _nftId,
             address _poolToken
         )
             private
         {

/// @audit missing @param for `_underlyingAsset`
315:     function getAavePoolAPY(
             address _underlyingAsset
         )
             public
             view
             returns (uint256)
         {

```
*Github:* [[14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L14), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L23), [56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L56), [83](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L83), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L113), [141](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L141), [165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L165), [196](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L196), [219](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L219), [243](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L243), [279](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L279), [315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L315)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

/// @audit missing @param for `_master`
/// @audit missing @param for `_aaveAddress`
/// @audit missing @param for `_lendingAddress`
27:     constructor(
            address _master,
            address _aaveAddress,
            address _lendingAddress
        )
            Declarations(
                _master,
                _aaveAddress,
                _lendingAddress
            )
        {}

/// @audit missing @param for `_underlyingAsset`
/// @audit missing @param for `_aaveToken`
44:     function setAaveTokenAddress(
            address _underlyingAsset,
            address _aaveToken
        )
            external
            onlyMaster
        {

/// @audit missing @param for `_underlyingAssets`
/// @audit missing @param for `_aaveTokens`
64:     function setAaveTokenAddressBulk(
            address[] calldata _underlyingAssets,
            address[] calldata _aaveTokens
        )
            external
            onlyMaster
        {

/// @audit missing @param for `_underlyingAsset`
/// @audit missing @param for `_amount`
103:     function depositExactAmountMint(
             address _underlyingAsset,
             uint256 _amount
         )
             external
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_underlyingAsset`
/// @audit missing @param for `_amount`
122:     function depositExactAmount(
             uint256 _nftId,
             address _underlyingAsset,
             uint256 _amount
         )
             public
             nonReentrant
             validToken(_underlyingAsset)
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
172:     function depositExactAmountETH(
             uint256 _nftId
         )
             public
             payable
             nonReentrant
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_underlyingAsset`
/// @audit missing @param for `_withdrawAmount`
202:     function withdrawExactAmount(
             uint256 _nftId,
             address _underlyingAsset,
             uint256 _withdrawAmount
         )
             external
             nonReentrant
             validToken(_underlyingAsset)
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_withdrawAmount`
238:     function withdrawExactAmountETH(
             uint256 _nftId,
             uint256 _withdrawAmount
         )
             external
             nonReentrant
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_underlyingAsset`
/// @audit missing @param for `_shareAmount`
281:     function withdrawExactShares(
             uint256 _nftId,
             address _underlyingAsset,
             uint256 _shareAmount
         )
             external
             nonReentrant
             validToken(_underlyingAsset)
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_shareAmount`
314:     function withdrawExactSharesETH(
             uint256 _nftId,
             uint256 _shareAmount
         )
             external
             nonReentrant
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_underlyingAsset`
/// @audit missing @param for `_borrowAmount`
357:     function borrowExactAmount(
             uint256 _nftId,
             address _underlyingAsset,
             uint256 _borrowAmount
         )
             external
             nonReentrant
             validToken(_underlyingAsset)
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_borrowAmount`
393:     function borrowExactAmountETH(
             uint256 _nftId,
             uint256 _borrowAmount
         )
             external
             nonReentrant
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_underlyingAsset`
/// @audit missing @param for `_paybackAmount`
433:     function paybackExactAmount(
             uint256 _nftId,
             address _underlyingAsset,
             uint256 _paybackAmount
         )
             external
             nonReentrant
             validToken(_underlyingAsset)
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
482:     function paybackExactAmountETH(
             uint256 _nftId
         )
             external
             payable
             nonReentrant
             returns (uint256)
         {

/// @audit missing @param for `_nftId`
/// @audit missing @param for `_underlyingAsset`
/// @audit missing @param for `_shares`
556:     function paybackExactShares(
             uint256 _nftId,
             address _underlyingAsset,
             uint256 _shares
         )
             external
             nonReentrant
             validToken(_underlyingAsset)
             returns (uint256)
         {

/// @audit missing @param for `_underlyingAsset`
/// @audit missing @param for `_isAave`
611:     function skimAave(
             address _underlyingAsset,
             bool _isAave
         )
             external
             validToken(_underlyingAsset)
             onlyMaster
         {

/// @audit missing @param for `_underlyingAsset`
635:     function getLendingRate(
             address _underlyingAsset
         )
             external
             view
             returns (uint256)
         {

/// @audit missing @param for `_underlyingAsset`
/// @audit missing @param for `_aaveToken`
664:     function _setAaveTokenAddress(
             address _underlyingAsset,
             address _aaveToken
         )
             internal
         {

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L27), [44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L44), [64](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L64), [103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L103), [122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L122), [172](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L172), [202](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L202), [238](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L238), [281](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L281), [314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L314), [357](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L357), [393](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L393), [433](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L433), [482](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L482), [556](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L556), [611](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L611), [635](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L635), [664](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L664)]


```solidity
File: contracts/WrapperHub/Declarations.sol

/// @audit missing @param for `_master`
/// @audit missing @param for `_aaveAddress`
/// @audit missing @param for `_lendingAddress`
43:     constructor(
            address _master,
            address _aaveAddress,
            address _lendingAddress
        )
            OwnableMaster(
                _master
            )
            WrapperHelper(
                IWiseLending(
                    _lendingAddress
                ).WETH_ADDRESS()
            )
        {

/// @audit missing @param for `_nftId`
81:     function _checkOwner(
            uint256 _nftId
        )
            internal
            view
        {

/// @audit missing @param for `_nftId`
93:     function _checkPositionLocked(
            uint256 _nftId
        )
            internal
            view
        {

/// @audit missing @param for `_securityAddress`
105:     function setWiseSecurity(
             address _securityAddress
         )
             external
             onlyMaster
         {

```
*Github:* [[43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L43), [81](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L81), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L93), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L105)]


</details>


<a name="NC-56"></a> 
### [NC-56] Missing NatSpec `@return` from function declaration
Some function definitions have an incomplete NatSpec: add a `@return` notation to improve the code documentation.

<details>
<summary>
There are <b>285</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

61:     function getTimeStamp()
            external
            view
            returns (uint256)
        {

```
*Github:* [[61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L61)]


```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

35:     function latestAnswer()
            public
            view
            returns (uint256)
        {

47:     function decimals()
            external
            pure
            returns (uint8)
        {

55:     function latestRoundData()
            external
            view
            returns (
                uint80 roundId,
                int256 answer,
                uint256 startedAt,
                uint256 updatedAt,
                uint80 answerdInRound
            )
        {

78:     function getRoundData(
            uint80 _roundId
        )
            external
            view
            returns (
                uint80 roundId,
                int256 answer,
                uint256 startedAt,
                uint256 updatedAt,
                uint80 answeredInRound
            )
        {

```
*Github:* [[35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L35), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L47), [55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L55), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L78)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

83:     function latestAnswer()
            public
            view
            returns (uint256)
        {

122:     function _getLpToAssetRateWrapper(
             IPMarket _market,
             uint32 _duration
         )
             internal
             view
             returns (uint256)
         {

139:     function decimals()
             external
             pure
             returns (uint8)
         {

151:     function latestRoundData()
             external
             view
             returns (
                 uint80 roundId,
                 int256 answer,
                 uint256 startedAt,
                 uint256 updatedAt,
                 uint80 answeredInRound
             )
         {

```
*Github:* [[83](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L83), [122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L122), [139](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L139), [151](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L151)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

81:     function latestAnswer()
            public
            view
            returns (uint256)
        {

134:     function decimals()
             external
             pure
             returns (uint8)
         {

146:     function latestRoundData()
             public
             view
             returns (
                 uint80 roundId,
                 int256 answer,
                 uint256 startedAt,
                 uint256 updatedAt,
                 uint80 answeredInRound
             )
         {

```
*Github:* [[81](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L81), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L134), [146](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L146)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

68:     function latestAnswer()
            public
            view
            returns (uint256)
        {

113:     function decimals()
             external
             pure
             returns (uint8)
         {

125:     function latestRoundData()
             public
             view
             returns (
                 uint80 roundId,
                 int256 answer,
                 uint256 startedAt,
                 uint256 updatedAt,
                 uint80 answeredInRound
             )
         {

```
*Github:* [[68](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L68), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L113), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L125)]


```solidity
File: contracts/FeeManager/FeeManager.sol

730:     function paybackBadDebtForToken(
             uint256 _nftId,
             address _paybackToken,
             address _receivingToken,
             uint256 _shares
         )
             external
             returns (
                 uint256 paybackAmount,
                 uint256 receivingAmount
             )
         {

816:     function paybackBadDebtNoReward(
             uint256 _nftId,
             address _paybackToken,
             uint256 _shares
         )
             external
             returns (uint256 paybackAmount)
         {

872:     function getPoolTokenAddressesLength()
             public
             view
             returns (uint256)
         {

884:     function getPoolTokenAdressesByIndex(
             uint256 _index
         )
             external
             view
             returns (address)
         {

```
*Github:* [[730](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L730), [816](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L816), [872](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L872), [884](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L884)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

244:     function getReceivingToken(
             address _paybackToken,
             address _receivingToken,
             uint256 _paybackAmount
         )
             public
             view
             returns (uint256 receivingAmount)
         {

292:     function _distributeIncentives(
             uint256 _amount,
             address _poolToken,
             address _underlyingToken
         )
             internal
             returns (uint256)
         {

330:     function _gatherIncentives(
             address _poolToken,
             address _underlyingToken,
             address _incentiveOwner,
             uint256 _amount
         )
             internal
             returns (uint256)
         {

```
*Github:* [[244](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L244), [292](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L292), [330](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L330)]


```solidity
File: contracts/MainHelper.sol

17:     function calculateLendingShares(
            address _poolToken,
            uint256 _amount,
            bool _maxSharePrice
        )
            public
            view
            returns (uint256)
        {

33:     function _calculateShares(
            uint256 _product,
            uint256 _pseudo,
            bool _maxSharePrice
        )
            private
            pure
            returns (uint256)
        {

55:     function calculateBorrowShares(
            address _poolToken,
            uint256 _amount,
            bool _maxSharePrice
        )
            public
            view
            returns (uint256)
        {

79:     function cashoutAmount(
            address _poolToken,
            uint256 _shares
        )
            external
            view
            returns (uint256)
        {

93:     function _cashoutAmount(
            address _poolToken,
            uint256 _shares
        )
            internal
            view
            returns (uint256)
        {

114:     function paybackAmount(
             address _poolToken,
             uint256 _shares
         )
             public
             view
             returns (uint256)
         {

135:     function _preparationsWithdraw(
             uint256 _nftId,
             address _caller,
             address _poolToken,
             uint256 _amount
         )
             internal
             view
             returns (uint256)
         {

163:     function _getValueUtilization(
             address _poolToken
         )
             private
             view
             returns (uint256)
         {

202:     function _checkCleanUp(
             uint256 _amountContract,
             uint256 _totalPool,
             uint256 _bareAmount
         )
             private
             pure
             returns (bool)
         {

278:     function _getBalance(
             address _tokenAddress
         )
             internal
             view
             returns (uint256)
         {

350:     function _getAllowedDifference(
             address _poolToken
         )
             private
             view
             returns (uint256)
         {

391:     function _preparationTokens(
             mapping(uint256 => address[]) storage _userTokenData,
             uint256 _nftId,
             address _poolToken
         )
             internal
             returns (address[] memory)
         {

647:     function _getHash(
             uint256 _nftId,
             address _poolToken
         )
             private
             pure
             returns (bytes32)
         {

814:     function isUncollateralized(
             uint256 _nftId,
             address _poolToken
         )
             external
             view
             returns (bool)
         {

830:     function _checkLendingDataEmpty(
             uint256 _nftId,
             address _poolToken
         )
             private
             view
             returns (bool)
         {

896:     function _aboveThreshold(
             address _poolToken
         )
             internal
             view
             returns (bool)
         {

987:     function _resonanceOutcome(
             address _poolToken,
             uint256 _shareValue
         )
             private
             view
             returns (bool)
         {

```
*Github:* [[17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L17), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L33), [55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L55), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L79), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L93), [114](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L114), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L135), [163](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L163), [202](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L202), [278](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L278), [350](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L350), [391](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L391), [647](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L647), [814](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L814), [830](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L830), [896](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L896), [987](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L987)]


```solidity
File: contracts/PoolManager.sol

277:     function _getPoleValue(
             uint256 _poolMulFactor,
             uint256 _poleBoundRate
         )
             private
             pure
             returns (uint256)
         {

293:     function _getDeltaPole(
             uint256 _maxPole,
             uint256 _minPole
         )
             private
             pure
             returns (uint256)
         {

304:     function _getStartValue(
             uint256 _maxPole,
             uint256 _minPole
         )
             private
             pure
             returns (uint256)
         {

```
*Github:* [[277](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L277), [293](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L293), [304](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L304)]


```solidity
File: contracts/PositionNFTs.sol

90:     function reservePosition()
            external
            returns (uint256)
        {

99:     function reservePositionForUser(
            address _user
        )
            onlyReserveRole
            external
            returns (uint256)
        {

111:     function _reservePositionForUser(
             address _user
         )
             internal
             returns (uint256)
         {

130:     function getNextExpectedId()
             public
             view
             returns (uint256)
         {

142:     function mintPosition()
             external
             returns (uint256)
         {

154:     function getApprovedSoft(
             uint256 tokenId
         )
             external
             view
             returns (address)
         {

174:     function mintPositionForUser(
             address _user
         )
             external
             returns (uint256)
         {

193:     function _mintPositionForUser(
             address _user
         )
             internal
             returns (uint256)
         {

222:     function isOwner(
             uint256 _nftId,
             address _owner
         )
             external
             view
             returns (bool)
         {

271:     function walletOfOwner(
             address _owner
         )
             external
             view
             returns (uint256[] memory)
         {

340:     function tokenURI(
             uint256 _tokenId
         )
             public
             view
             override
             returns (string memory)
         {

371:     function _toString(
             uint256 _tokenId
         )
             internal
             pure
             returns (string memory str)
         {

```
*Github:* [[90](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L90), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L99), [111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L111), [130](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L130), [142](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L142), [154](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L154), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L174), [193](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L193), [222](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L222), [271](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L271), [340](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L340), [371](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L371)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

15:     function getApproxNetAPY(
            uint256 _initialAmount,
            uint256 _leverage,
            uint256 _pendleChildApy
        )
            external
            view
            returns (
                uint256,
                bool
            )
        {

41:     function getNewBorrowRate(
            uint256 _borrowAmount
        )
            external
            view
            returns (uint256)
        {

57:     function getLiveDebtRatio(
            uint256 _nftId
        )
            external
            view
            returns (uint256)
        {

93:     function liquidatePartiallyFromToken(
            uint256 _nftId,
            uint256 _nftIdLiquidator,
            uint256 _shareAmountToPay
        )
            external
            updatePools
            returns (
                uint256 paybackAmount,
                uint256 receivingAmount
            )
        {

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L15), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L41), [57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L57), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L93)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

232:     function _getEthBack(
             uint256 _swapAmount,
             uint256 _minOutAmount
         )
             internal
             returns (uint256)
         {

264:     function _getTokensUniV3(
             uint256 _amountIn,
             uint256 _minOutAmount,
             address _tokenIn,
             address _tokenOut
         )
             internal
             returns (uint256)
         {

293:     function _swapStETHintoETH(
             uint256 _swapAmount,
             uint256 _minOutAmount
         )
             internal
             returns (uint256)
         {

310:     function _withdrawPendleLPs(
             uint256 _nftId,
             uint256 _lendingShares
         )
             private
             returns (uint256 withdrawnLpsAmount)
         {

560:     function _coreLiquidation(
             uint256 _nftId,
             uint256 _nftIdLiquidator,
             uint256 _shareAmountToPay
         )
             internal
             returns (
                 uint256 paybackAmount,
                 uint256 receivingAmount
             )
         {

```
*Github:* [[232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L232), [264](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L264), [293](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L293), [310](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L310), [560](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L560)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

57:     function _getPositionBorrowShares(
            uint256 _nftId
        )
            internal
            view
            returns (uint256)
        {

75:     function _getPositionBorrowSharesAave(
            uint256 _nftId
        )
            internal
            view
            returns (uint256)
        {

92:     function _getPositionBorrowTokenAmount(
            uint256 _nftId
        )
            internal
            view
            returns (uint256 tokenAmount)
        {

111:     function _getPositionBorrowTokenAmountAave(
             uint256 _nftId
         )
             internal
             view
             returns (uint256 tokenAmountAave)
         {

136:     function _getPositionLendingShares(
             uint256 _nftId
         )
             internal
             view
             returns (uint256)
         {

153:     function _getPostionCollateralTokenAmount(
             uint256 _nftId
         )
             internal
             view
             returns (uint256)
         {

174:     function getPositionBorrowETH(
             uint256 _nftId
         )
             public
             view
             returns (uint256)
         {

229:     function getTotalWeightedCollateralETH(
             uint256 _nftId
         )
             public
             view
             returns (uint256)
         {

244:     function _getTokensInETH(
             address _tokenAddress,
             uint256 _tokenAmount
         )
             internal
             view
             returns (uint256)
         {

258:     function _getEthInTokens(
             address _tokenAddress,
             uint256 _ethAmount
         )
             internal
             view
             returns (uint256)
         {

272:     function getLeverageAmount(
             uint256 _initialAmount,
             uint256 _leverage
         )
             public
             pure
             returns (uint256)
         {

289:     function _getApproxNetAPY(
             uint256 _initialAmount,
             uint256 _leverage,
             uint256 _wstETHAPY
         )
             internal
             view
             returns (
                 uint256,
                 bool
             )
         {

344:     function _getNewBorrowRate(
             uint256 _borrowAmount
         )
             internal
             view
             returns (uint256)
         {

389:     function _checkDebtRatio(
             uint256 _nftId
         )
             internal
             view
             returns (bool)
         {

416:     function _notBelowMinDepositAmount(
             uint256 _amount
         )
             internal
             view
             returns (bool)
         {

```
*Github:* [[57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L57), [75](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L75), [92](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L92), [111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L111), [136](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L136), [153](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L153), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L174), [229](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L229), [244](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L244), [258](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L258), [272](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L272), [289](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L289), [344](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L344), [389](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L389), [416](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L416)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

96:     function enterFarm(
            bool _isAave,
            uint256 _amount,
            uint256 _leverage,
            uint256 _allowedSpread
        )
            external
            isActive
            updatePools
            returns (uint256)
        {

142:     function enterFarmETH(
             bool _isAave,
             uint256 _leverage,
             uint256 _allowedSpread
         )
             external
             payable
             isActive
             updatePools
             returns (uint256)
         {

185:     function _getWiseLendingNFT()
             internal
             returns (uint256)
         {

```
*Github:* [[96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L96), [142](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L142), [185](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L185)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

53:     function exchangeRewardsForCompoundingWithIncentive(
            address _pendleMarket,
            address _rewardToken,
            uint256 _rewardAmount
        )
            external
            syncSupply(_pendleMarket)
            returns (uint256)
        {

113:     function exchangeLpFeesForPendleWithIncentive(
             address _pendleMarket,
             uint256 _pendleChildShares
         )
             external
             syncSupply(_pendleMarket)
             returns (
                 uint256,
                 uint256
             )
         {

172:     function skim(
             address _pendleMarket
         )
             external
             returns (uint256)
         {

293:     function updateRewardTokens(
             address _pendleMarket
         )
             external
             onlyChildContract(_pendleMarket)
             returns (bool)
         {

364:     function lockPendle(
             uint256 _amount,
             uint128 _weeks,
             bool _fromInside,
             bool _sameExpiry
         )
             external
             onlyMaster
             returns (uint256 newVeBalance)
         {

451:     function withdrawLock()
             external
             onlyMaster
             returns (uint256 amount)
         {

```
*Github:* [[53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L53), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L113), [172](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L172), [293](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L293), [364](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L364), [451](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L451)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

9:     function _findIndex(
           address[] memory _array,
           address _value
       )
           internal
           pure
           returns (uint256)
       {

32:     function _calcExpiry(
            uint128 _weeks
        )
            internal
            view
            returns (uint128)
        {

45:     function _getExpiry()
            internal
            view
            returns (uint256)
        {

53:     function _getLockAmount()
            internal
            view
            returns (uint256)
        {

61:     function _getPositionData(
            address _user
        )
            private
            view
            returns (LockedPosition memory)
        {

73:     function _getAmountToSend(
            address _tokenAddress,
            uint256 _rewardValue
        )
            internal
            view
            returns (uint256)
        {

95:     function pendleChildCompoundInfoReservedForCompound(
            address _pendleMarket
        )
            external
            view
            returns (uint256[] memory)
        {

105:     function pendleChildCompoundInfoLastIndex(
             address _pendleMarket
         )
             external
             view
             returns (uint128[] memory)
         {

115:     function pendleChildCompoundInfoRewardTokens(
             address _pendleMarket
         )
             external
             view
             returns (address[] memory)
         {

125:     function activePendleMarketsLength()
             external
             view
             returns (uint256)
         {

144:     function _getRewardTokens(
             address _pendleMarket
         )
             internal
             view
             returns (address[] memory)
         {

156:     function _getUserReward(
             address _pendleMarket,
             address _rewardToken,
             address _user
         )
             internal
             view
             returns (UserReward memory)
         {

173:     function _getUserRewardIndex(
             address _pendleMarket,
             address _rewardToken,
             address _user
         )
             internal
             view
             returns (uint128)
         {

189:     function _getTokensInETH(
             address _tokenAddress,
             uint256 _tokenAmount
         )
             internal
             view
             returns (uint256)
         {

203:     function _getTokensFromETH(
             address _tokenAddress,
             uint256 _ethValue
         )
             internal
             view
             returns (uint256)
         {

217:     function _compareHashes(
             address _pendleMarket,
             address[] memory rewardTokensToCompare
         )
             internal
             view
             returns (bool)
         {

245:     function getExpiry()
             external
             view
             returns (uint256)
         {

253:     function getLockAmount()
             external
             view
             returns (uint256)
         {

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L9), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L32), [45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L45), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L53), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L61), [73](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L73), [95](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L95), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L105), [115](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L115), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L125), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L144), [156](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L156), [173](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L173), [189](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L189), [203](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L203), [217](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L217), [245](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L245), [253](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L253)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

98:     function _validateSharePrice(
            uint256 _sharePriceBefore
        )
            private
            view
            returns (uint256)
        {

160:     function _updateRewardTokens()
             private
             returns (bool)
         {

218:     function _calculateRewardsClaimedOutside()
             internal
             returns (uint256[] memory)
         {

305:     function _getBalanceLpBalanceController()
             private
             view
             returns (uint256)
         {

315:     function _getActiveBalance()
             private
             view
             returns (uint256)
         {

325:     function _getSharePrice()
             private
             view
             returns (uint256)
         {

372:     function _getUserReward(
             address _rewardToken,
             address _user
         )
             internal
             view
             returns (UserReward memory)
         {

386:     function previewDistribution()
             public
             view
             returns (uint256)
         {

422:     function _applyMintFee(
             uint256 _amount
         )
             internal
             view
             returns (uint256)
         {

434:     function totalLpAssets()
             public
             view
             returns (uint256)
         {

443:     function previewUnderlyingLpAssets()
             public
             view
             returns (uint256)
         {

452:     function previewMintShares(
             uint256 _underlyingAssetAmount,
             uint256 _underlyingLpAssetsCurrent
         )
             public
             view
             returns (uint256)
         {

465:     function previewAmountWithdrawShares(
             uint256 _shares,
             uint256 _underlyingLpAssetsCurrent
         )
             public
             view
             returns (uint256)
         {

478:     function previewBurnShares(
             uint256 _underlyingAssetAmount,
             uint256 _underlyingLpAssetsCurrent
         )
             public
             view
             returns (uint256)
         {

494:     function manualSync()
             external
             syncSupply
             returns (bool)
         {

529:     function depositExactAmount(
             uint256 _underlyingLpAssetAmount
         )
             external
             syncSupply
             returns (
                 uint256,
                 uint256
             )
         {

608:     function withdrawExactShares(
             uint256 _shares
         )
             external
             syncSupply
             returns (uint256)
         {

647:     function withdrawExactAmount(
             uint256 _underlyingLpAssetAmount
         )
             external
             syncSupply
             returns (uint256)
         {

```
*Github:* [[98](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L98), [160](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L160), [218](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L218), [305](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L305), [315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L315), [325](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L325), [372](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L372), [386](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L386), [422](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L422), [434](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L434), [443](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L443), [452](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L452), [465](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L465), [478](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L478), [494](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L494), [529](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L529), [608](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L608), [647](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L647)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

35:     function deploy(
            address _underlyingPendleMarket,
            string memory _tokenName,
            string memory _symbolName,
            uint16 _maxCardinality
        )
            external
            returns (address)
        {

56:     function _clone(
            address _underlyingPendleMarket,
            string memory _tokenName,
            string memory _symbolName,
            uint16 _maxCardinality
        )
            private
            returns (address pendlePowerFarmTokenAddress)
        {

```
*Github:* [[35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L35), [56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L56)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

63:     function _incrementReserved()
            internal
            returns (uint256)
        {

70:     function _getNextReserveKey()
            internal
            returns (uint256)
        {

77:     function _reserveKey(
            address _userAddress,
            uint256 _wiseLendingNFT
        )
            internal
            returns (uint256)
        {

96:     function isOwner(
            uint256 _keyId,
            address _owner
        )
            public
            view
            returns (bool)
        {

115:     function _mintKeyForUser(
             uint256 _keyId,
             address _userAddress
         )
             internal
             returns (uint256)
         {

141:     function mintReserved()
             external
             returns (uint256)
         {

160:     function onERC721Received(
             address _operator,
             address _from,
             uint256 _tokenId,
             bytes calldata _data
         )
             external
             returns (bytes4)
         {

```
*Github:* [[63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L63), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L70), [77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L77), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L96), [115](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L115), [141](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L141), [160](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L160)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

16:     function reservedKeys(

93:     function checkOwner(
            uint256 _keyId,
            address _ownerAddress
        )
            external
            view
            returns (bool)
        {

109:     function walletOfOwner(
             address _owner
         )
             external
             view
             returns (uint256[] memory)
         {

182:     function tokenURI(
             uint256 _tokenId
         )
             public
             view
             override
             returns (string memory)
         {

213:     function _toString(
             uint256 _tokenId
         )
             internal
             pure
             returns (string memory str)
         {

```
*Github:* [[16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L16), [93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L93), [109](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L109), [182](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L182), [213](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L213)]


```solidity
File: contracts/TransferHub/CallOptionalReturn.sol

12:     function _callOptionalReturn(
            address token,
            bytes memory data
        )
            internal
            returns (bool call)
        {

```
*Github:* [[12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/CallOptionalReturn.sol#L12)]


```solidity
File: contracts/WiseCore.sol

15:     function _prepareAssociatedTokens(
            uint256 _nftId,
            address _poolTokenLend,
            address _poolTokenBorrow
        )
            internal
            returns (
                address[] memory,
                address[] memory
            )
        {

106:     function _handleDeposit(
             address _caller,
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             internal
             returns (uint256)
         {

428:     function _withdrawPureCollateralLiquidation(
             uint256 _nftId,
             address _poolToken,
             uint256 _percentLiquidation
         )
             private
             returns (uint256 transferAmount)
         {

460:     function _withdrawOrAllocateSharesLiquidation(
             uint256 _nftId,
             uint256 _nftIdLiquidator,
             address _poolToken,
             uint256 _percentWishCollateral
         )
             private
             returns (uint256)
         {

543:     function _calculateReceiveAmount(
             uint256 _nftId,
             uint256 _nftIdLiquidator,
             address _receiveTokens,
             uint256 _removePercentage
         )
             private
             returns (uint256 receiveAmount)
         {

604:     function _calculatePotentialPureExtraCashout(
             uint256 _userShares,
             address _poolToken,
             uint256 _removePercentage
         )
             private
             view
             returns (uint256)
         {

625:     function _coreLiquidation(
             CoreLiquidationStruct memory _data
         )
             internal
             returns (uint256 receiveAmount)
         {

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L15), [106](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L106), [428](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L428), [460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L460), [543](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L543), [604](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L604), [625](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L625)]


```solidity
File: contracts/WiseLending.sol

165:     function _getSharePrice(
             address _poolToken
         )
             private
             view
             returns (
                 uint256,
                 uint256
             )
         {

255:     function _getCurrentSharePriceMax(
             address _poolToken
         )
             private
             view
             returns (uint256)
         {

275:     function _syncPoolBeforeCodeExecution(
             address _poolToken
         )
             private
             returns (
                 uint256 lendSharePrice,
                 uint256 borrowSharePrice
             )
         {

388:     function depositExactAmountETH(
             uint256 _nftId
         )
             external
             payable
             syncPool(WETH_ADDRESS)
             returns (uint256)
         {

401:     function _depositExactAmountETH(
             uint256 _nftId
         )
             private
             returns (uint256)
         {

426:     function depositExactAmountETHMint()
             external
             payable
             syncPool(WETH_ADDRESS)
             returns (uint256)
         {

442:     function depositExactAmountMint(
             address _poolToken,
             uint256 _amount
         )
             external
             returns (uint256)
         {

460:     function depositExactAmount(
             uint256 _nftId,
             address _poolToken,
             uint256 _amount
         )
             public
             syncPool(_poolToken)
             returns (uint256)
         {

636:     function withdrawExactAmountETH(
             uint256 _nftId,
             uint256 _amount
         )
             external
             syncPool(WETH_ADDRESS)
             healthStateCheck(_nftId)
             returns (uint256)
         {

675:     function withdrawExactSharesETH(
             uint256 _nftId,
             uint256 _shares
         )
             external
             syncPool(WETH_ADDRESS)
             healthStateCheck(_nftId)
             returns (uint256)
         {

714:     function withdrawExactAmount(
             uint256 _nftId,
             address _poolToken,
             uint256 _withdrawAmount
         )
             external
             syncPool(_poolToken)
             healthStateCheck(_nftId)
             returns (uint256)
         {

859:     function withdrawOnBehalfExactAmount(
             uint256 _nftId,
             address _poolToken,
             uint256 _withdrawAmount
         )
             external
             onlyAaveHub
             syncPool(_poolToken)
             healthStateCheck(_nftId)
             returns (uint256)
         {

902:     function withdrawExactShares(
             uint256 _nftId,
             address _poolToken,
             uint256 _shares
         )
             external
             syncPool(_poolToken)
             healthStateCheck(_nftId)
             returns (uint256)
         {

939:     function withdrawOnBehalfExactShares(
             uint256 _nftId,
             address _poolToken,
             uint256 _shares
         )
             external
             onlyAaveHub
             syncPool(_poolToken)
             healthStateCheck(_nftId)
             returns (uint256)
         {

975:     function borrowExactAmountETH(
             uint256 _nftId,
             uint256 _amount
         )
             external
             syncPool(WETH_ADDRESS)
             healthStateCheck(_nftId)
             returns (uint256)
         {

1016:     function borrowExactAmount(
              uint256 _nftId,
              address _poolToken,
              uint256 _amount
          )
              external
              syncPool(_poolToken)
              healthStateCheck(_nftId)
              returns (uint256)
          {

1055:     function borrowOnBehalfExactAmount(
              uint256 _nftId,
              address _poolToken,
              uint256 _amount
          )
              external
              onlyAaveHub
              syncPool(_poolToken)
              healthStateCheck(_nftId)
              returns (uint256)
          {

1088:     function paybackExactAmountETH(
              uint256 _nftId
          )
              external
              payable
              syncPool(WETH_ADDRESS)
              returns (uint256)
          {

1161:     function paybackExactAmount(
              uint256 _nftId,
              address _poolToken,
              uint256 _amount
          )
              external
              syncPool(_poolToken)
              returns (uint256)
          {

1204:     function paybackExactShares(
              uint256 _nftId,
              address _poolToken,
              uint256 _shares
          )
              external
              syncPool(_poolToken)
              returns (uint256)
          {

1250:     function liquidatePartiallyFromTokens(
              uint256 _nftId,
              uint256 _nftIdLiquidator,
              address _paybackToken,
              address _receiveToken,
              uint256 _shareAmountToPay
          )
              external
              syncPool(_paybackToken)
              syncPool(_receiveToken)
              returns (uint256)
          {

1314:     function coreLiquidationIsolationPools(
              uint256 _nftId,
              uint256 _nftIdLiquidator,
              address _caller,
              address _paybackToken,
              address _receiveToken,
              uint256 _paybackAmount,
              uint256 _shareAmountToPay
          )
              external
              syncPool(_paybackToken)
              syncPool(_receiveToken)
              returns (uint256)
          {

1460:     function _handleWithdrawAmount(
              address _caller,
              uint256 _nftId,
              address _poolToken,
              uint256 _amount,
              bool _onBehalf
          )
              private
              returns (uint256 withdrawShares)
          {

1517:     function _handleWithdrawShares(
              address _caller,
              uint256 _nftId,
              address _poolToken,
              uint256 _shares,
              bool _onBehalf
          )
              private
              returns (uint256)
          {

1553:     function _handleBorrowExactAmount(
              uint256 _nftId,
              address _poolToken,
              uint256 _amount,
              bool _onBehalf
          )
              private
              returns (uint256)
          {

1588:     function _reservePosition()
              private
              returns (uint256)
          {

```
*Github:* [[165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L165), [255](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L255), [275](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L275), [388](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L388), [401](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L401), [426](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L426), [442](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L442), [460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L460), [636](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L636), [675](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L675), [714](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L714), [859](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L859), [902](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L902), [939](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L939), [975](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L975), [1016](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1016), [1055](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1055), [1088](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1088), [1161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1161), [1204](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1204), [1250](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1250), [1314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1314), [1460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1460), [1517](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1517), [1553](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1553), [1588](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1588)]


```solidity
File: contracts/WiseLowLevelHelper.sol

39:     function getTotalPool(
            address _poolToken
        )
            public
            view
            returns (uint256)
        {

49:     function getPseudoTotalPool(
            address _poolToken
        )
            public
            view
            returns (uint256)
        {

59:     function getTotalBareToken(
            address _poolToken
        )
            external
            view
            returns (uint256)
        {

69:     function getPseudoTotalBorrowAmount(
            address _poolToken
        )
            external
            view
            returns (uint256)
        {

79:     function getTotalDepositShares(
            address _poolToken
        )
            external
            view
            returns (uint256)
        {

89:     function getTotalBorrowShares(
            address _poolToken
        )
            external
            view
            returns (uint256)
        {

99:     function getPositionLendingShares(
            uint256 _nftId,
            address _poolToken
        )
            external
            view
            returns (uint256)
        {

110:     function getPositionBorrowShares(
             uint256 _nftId,
             address _poolToken
         )
             external
             view
             returns (uint256)
         {

121:     function getPureCollateralAmount(
             uint256 _nftId,
             address _poolToken
         )
             external
             view
             returns (uint256)
         {

134:     function getTimeStamp(
             address _poolToken
         )
             external
             view
             returns (uint256)
         {

144:     function getPositionLendingTokenByIndex(
             uint256 _nftId,
             uint256 _index
         )
             public
             view
             returns (address)
         {

155:     function getPositionLendingTokenLength(
             uint256 _nftId
         )
             public
             view
             returns (uint256)
         {

165:     function getPositionBorrowTokenByIndex(
             uint256 _nftId,
             uint256 _index
         )
             public
             view
             returns (address)
         {

176:     function getPositionBorrowTokenLength(
             uint256 _nftId
         )
             public
             view
             returns (uint256)
         {

363:     function _sendingProgressAaveHub()
             private
             view
             returns (bool)
         {

393:     function _byPassCase(
             address _sender
         )
             internal
             view
             returns (bool)
         {

```
*Github:* [[39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L39), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L49), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L59), [69](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L69), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L79), [89](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L89), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L99), [110](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L110), [121](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L121), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L134), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L144), [155](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L155), [165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L165), [176](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L176), [363](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L363), [393](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L393)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

60:     function _checkFunctionExistence(
            address _tokenAggregator
        )
            internal
            returns (bool)
        {

106:     function latestResolverTwap(
             address _tokenAddress
         )
             public
             view
             returns (uint256)
         {

131:     function _validateAnswer(
             address _tokenAddress
         )
             internal
             view
             returns (uint256)
         {

216:     function _getRelativeDifference(
             uint256 _answerUint256,
             uint256 _fetchTwapValue
         )
             internal
             pure
             returns (uint256)
         {

246:     function _getChainlinkAnswer(
             address _tokenAddress
         )
             internal
             view
             returns (uint256)
         {

265:     function getETHPriceInUSD()
             public
             view
             returns (uint256)
         {

283:     function _getPool(
             address _token0,
             address _token1,
             uint24 _fee
         )
             internal
             view
             returns (address pool)
         {

374:     function _getTwapPrice(
             address _tokenAddress,
             address _oracle
         )
             internal
             view
             returns (uint256)
         {

394:     function _getOneUnit(
             address _tokenAddress
         )
             internal
             view
             returns (uint128)
         {

406:     function _getAverageTick(
             address _oracle
         )
             internal
             view
             returns (int24)
         {

450:     function decimals(
             address _tokenAddress
         )
             public
             view
             returns (uint8)
         {

460:     function _getTwapDerivatePrice(
             address _tokenAddress,
             UniTwapPoolInfo memory _uniTwapPoolInfo
         )
             internal
             view
             returns (uint256)
         {

521:     function sequencerIsDead()
             public
             view
             returns (bool)
         {

556:     function _chainLinkIsDead(
             address _tokenAddress
         )
             internal
             view
             returns (bool)
         {

592:     function _recalibratePreview(
             address _tokenAddress
         )
             internal
             view
             returns (uint256)
         {

658:     function _getIterationCount(
             uint80 _latestAggregatorRoundId
         )
             internal
             pure
             returns (uint80 res)
         {

674:     function _getRoundTimestamp(
             address _tokenAddress,
             uint80 _roundId
         )
             internal
             view
             returns (uint256)
         {

699:     function getLatestRoundId(
             address _tokenAddress
         )
             public
             view
             returns (
                 uint80 roundId
             )
         {

```
*Github:* [[60](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L60), [106](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L106), [131](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L131), [216](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L216), [246](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L246), [265](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L265), [283](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L283), [374](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L374), [394](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L394), [406](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L406), [450](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L450), [460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L460), [521](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L521), [556](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L556), [592](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L592), [658](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L658), [674](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L674), [699](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L699)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

69:     function latestResolver(
            address _tokenAddress
        )
            public
            view
            returns (uint256)
        {

85:     function getTokenDecimals(
            address _tokenAddress
        )
            external
            view
            returns (uint8)
        {

96:     function getTokensInUSD(
            address _tokenAddress,
            uint256 _tokenAmount
        )
            external
            view
            returns (uint256)
        {

123:     function getTokensPriceInUSD(
             address _tokenAddress,
             uint256 _tokenAmount
         )
             external
             view
             returns (uint256)
         {

143:     function getTokensInETH(
             address _tokenAddress,
             uint256 _tokenAmount
         )
             public
             view
             returns (uint256)
         {

171:     function getTokensFromUSD(
             address _tokenAddress,
             uint256 _usdValue
         )
             external
             view
             returns (uint256)
         {

198:     function getTokensPriceFromUSD(
             address _tokenAddress,
             uint256 _usdValue
         )
             external
             view
             returns (uint256)
         {

327:     function getTokensFromETH(
             address _tokenAddress,
             uint256 _ethAmount
         )
             public
             view
             returns (uint256)
         {

419:     function recalibratePreview(
             address _tokenAddress
         )
             external
             view
             returns (uint256)
         {

439:     function chainLinkIsDead(
             address _tokenAddress
         )
             public
             view
             returns (bool state)
         {

```
*Github:* [[69](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L69), [85](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L85), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L96), [123](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L123), [143](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L143), [171](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L171), [198](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L198), [327](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L327), [419](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L419), [439](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L439)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

59:     function getLiveDebtRatio(
            uint256 _nftId
        )
            external
            view
            returns (uint256)
        {

237:     function checksWithdraw(
             uint256 _nftId,
             address _caller,
             address _poolToken
         )
             external
             view
             returns (bool specialCase)
         {

275:     function checksSolelyWithdraw(
             uint256 _nftId,
             address _caller,
             address _poolToken
         )
             external
             view
             returns (bool specialCase)
         {

306:     function checksBorrow(
             uint256 _nftId,
             address _caller,
             address _poolToken
         )
             external
             view
             returns (bool specialCase)
         {

442:     function overallLendingAPY(
             uint256 _nftId
         )
             external
             view
             returns (uint256)
         {

499:     function overallBorrowAPY(
             uint256 _nftId
         )
             external
             view
             returns (uint256)
         {

556:     function overallNetAPY(
             uint256 _nftId
         )
             external
             view
             returns (uint256, bool)
         {

641:     function safeLimitPosition(
             uint256 _nftId
         )
             external
             view
             returns (uint256)
         {

695:     function positionBlackListToken(
             uint256 _nftId
         )
             external
             view
             returns (bool, address)
         {

764:     function maximumWithdrawToken(
             uint256 _nftId,
             address _poolToken,
             uint256 _interval,
             uint256 _solelyWithdrawAmount
         )
             external
             view
             returns (uint256)
         {

826:     function maximumWithdrawTokenSolely(
             uint256 _nftId,
             address _poolToken,
             uint256 _interval,
             uint256 _poolWithdrawAmount
         )
             external
             view
             returns (uint256)
         {

868:     function maximumBorrowToken(
             uint256 _nftId,
             address _poolToken,
             uint256 _interval
         )
             external
             view
             returns (uint256 tokenAmount)
         {

906:     function getExpectedPaybackAmount(
             uint256 _nftId,
             address _poolToken,
             uint256 _interval
         )
             external
             view
             returns (uint256)
         {

943:     function getExpectedLendingAmount(
             uint256 _nftId,
             address _poolToken,
             uint256 _interval
         )
             public
             view
             returns (uint256)
         {

1060:     function checkPoolWithMinDeposit(
              address _token,
              uint256 _amount
          )
              external
              view
              returns (bool)
          {

1078:     function checkMinDepositValue(
              address _token,
              uint256 _amount
          )
              external
              view
              returns (bool)
          {

1092:     function _checkMinDepositValue(
              address _token,
              uint256 _amount
          )
              private
              view
              returns (bool)
          {

```
*Github:* [[59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L59), [237](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L237), [275](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L275), [306](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L306), [442](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L442), [499](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L499), [556](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L556), [641](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L641), [695](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L695), [764](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L764), [826](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L826), [868](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L868), [906](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L906), [943](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L943), [1060](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1060), [1078](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1078), [1092](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1092)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

15:     function overallETHCollateralsBoth(
            uint256 _nftId
        )
            public
            view
            returns (uint256, uint256)
        {

65:     function overallETHCollateralsWeighted(
            uint256 _nftId
        )
            public
            view
            returns (uint256 weightedTotal)
        {

107:     function overallETHCollateralsBare(
             uint256 _nftId
         )
             public
             view
             returns (uint256 amount)
         {

145:     function _overallETHCollateralsWeighted(
             uint256 _nftId,
             uint256 _interval
         )
             internal
             view
             returns (uint256 weightedTotal)
         {

190:     function getFullCollateralETH(
             uint256 _nftId,
             address _poolToken
         )
             public
             view
             returns (uint256 ethCollateral)
         {

224:     function _isUncollateralized(
             uint256 _nftId,
             address _poolToken
         )
             internal
             view
             returns (bool)
         {

246:     function _getCollateralOfTokenETHUpdated(
             uint256 _nftId,
             address _poolToken,
             uint256 _interval
         )
             internal
             view
             returns (uint256 ethCollateral)
         {

281:     function getETHCollateralUpdated(
             uint256 _nftId,
             address _poolToken,
             uint256 _interval
         )
             public
             view
             returns (uint256)
         {

323:     function getETHCollateral(
             uint256 _nftId,
             address _poolToken
         )
             public
             view
             returns (uint256)
         {

340:     function _getTokensInEth(
             address _poolToken,
             uint256 _amount
         )
             internal
             view
             returns (uint256)
         {

360:     function overallETHBorrowBare(
             uint256 _nftId
         )
             public
             view
             returns (uint256 buffer)
         {

394:     function overallETHBorrowHeartbeat(
             uint256 _nftId
         )
             public
             view
             returns (uint256 buffer)
         {

430:     function overallETHBorrow(
             uint256 _nftId
         )
             public
             view
             returns (uint256 buffer)
         {

470:     function _checkBlacklisted(
             address _poolToken
         )
             internal
             view
             returns (bool)
         {

486:     function _overallETHBorrow(
             uint256 _nftId,
             uint256 _interval
         )
             internal
             view
             returns (uint256 buffer)
         {

530:     function _getUpdatedPseudoBorrow(
             address _poolToken,
             uint256 _interval
         )
             internal
             view
             returns (uint256)
         {

554:     function _getUpdatedPseudoPool(
             address _poolToken,
             uint256 _interval
         )
             internal
             view
             returns (uint256)
         {

578:     function _getInterest(
             address _poolToken,
             uint256 _interval
         )
             internal
             view
             returns (uint256)
         {

610:     function _getETHBorrowUpdated(
             uint256 _nftId,
             address _poolToken,
             uint256 _intervall
         )
             internal
             view
             returns (uint256)
         {

651:     function getETHBorrow(
             uint256 _nftId,
             address _poolToken
         )
             public
             view
             returns (uint256)
         {

687:     function checkHeartbeat(
             address _poolToken
         )
             public
             view
             returns (bool)
         {

716:     function checkMaxFee(
             uint256 _paybackETH,
             uint256 _feeLiquidation,
             uint256 _maxFeeETH
         )
             external
             pure
             returns (uint256)
         {

736:     function _checkMaxFee(
             uint256 _paybackETH,
             uint256 _liquidationFee,
             uint256 _maxFeeETH
         )
             internal
             pure
             returns (uint256)
         {

760:     function calculateWishPercentage(
             uint256 _nftId,
             address _receiveToken,
             uint256 _paybackETH,
             uint256 _maxFeeETH,
             uint256 _baseRewardLiquidation
         )
             external
             view
             returns (uint256)
         {

806:     function _getState(
             uint256 _nftId,
             bool _powerFarm
         )
             internal
             view
             returns (bool)
         {

906:     function checkBadDebtThreshold(
             uint256 _borrowETHTotal,
             uint256 _unweightedCollateral
         )
             public
             pure
             returns (bool)
         {

922:     function getPositionLendingAmount(
             uint256 _nftId,
             address _poolToken
         )
             public
             view
             returns (uint256)
         {

945:     function getPositionBorrowAmount(
             uint256 _nftId,
             address _poolToken
         )
             public
             view
             returns (uint256)
         {

985:     function getBorrowRate(
             address _poolToken
         )
             public
             view
             returns (uint256)
         {

999:     function getLendingRate(
             address _poolToken
         )
             public
             view
             returns (uint256)
         {

1029:     function _getPossibleWithdrawAmount(
              uint256 _nftId,
              address _poolToken,
              uint256 _interval
          )
              internal
              view
              returns (uint256)
          {

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L15), [65](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L65), [107](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L107), [145](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L145), [190](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L190), [224](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L224), [246](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L246), [281](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L281), [323](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L323), [340](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L340), [360](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L360), [394](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L394), [430](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L430), [470](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L470), [486](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L486), [530](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L530), [554](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L554), [578](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L578), [610](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L610), [651](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L651), [687](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L687), [716](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L716), [736](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L736), [760](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L760), [806](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L806), [906](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L906), [922](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L922), [945](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L945), [985](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L985), [999](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L999), [1029](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1029)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

47:     function _reservePosition()
            internal
            returns (uint256)
        {

56:     function _wrapDepositExactAmount(
            uint256 _nftId,
            address _underlyingAsset,
            uint256 _depositAmount
        )
            internal
            returns (uint256)
        {

83:     function _wrapWithdrawExactAmount(
            uint256 _nftId,
            address _underlyingAsset,
            address _underlyingAssetRecipient,
            uint256 _withdrawAmount
        )
            internal
            returns (
                uint256,
                uint256
            )
        {

113:     function _wrapWithdrawExactShares(
             uint256 _nftId,
             address _underlyingAsset,
             address _underlyingAssetRecipient,
             uint256 _shareAmount
         )
             internal
             returns (uint256)
         {

141:     function _wrapBorrowExactAmount(
             uint256 _nftId,
             address _underlyingAsset,
             address _underlyingAssetRecipient,
             uint256 _borrowAmount
         )
             internal
             returns (uint256)
         {

165:     function _wrapAaveReturnValueDeposit(
             address _underlyingAsset,
             uint256 _depositAmount,
             address _targetAddress
         )
             internal
             returns (uint256 res)
         {

219:     function _getInfoPayback(
             uint256 _ethSent,
             uint256 _maxPaybackAmount
         )
             internal
             pure
             returns (
                 uint256,
                 uint256
             )
         {

315:     function getAavePoolAPY(
             address _underlyingAsset
         )
             public
             view
             returns (uint256)
         {

```
*Github:* [[47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L47), [56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L56), [83](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L83), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L113), [141](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L141), [165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L165), [219](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L219), [315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L315)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

103:     function depositExactAmountMint(
             address _underlyingAsset,
             uint256 _amount
         )
             external
             returns (uint256)
         {

122:     function depositExactAmount(
             uint256 _nftId,
             address _underlyingAsset,
             uint256 _amount
         )
             public
             nonReentrant
             validToken(_underlyingAsset)
             returns (uint256)
         {

158:     function depositExactAmountETHMint()
             external
             payable
             returns (uint256)
         {

172:     function depositExactAmountETH(
             uint256 _nftId
         )
             public
             payable
             nonReentrant
             returns (uint256)
         {

202:     function withdrawExactAmount(
             uint256 _nftId,
             address _underlyingAsset,
             uint256 _withdrawAmount
         )
             external
             nonReentrant
             validToken(_underlyingAsset)
             returns (uint256)
         {

238:     function withdrawExactAmountETH(
             uint256 _nftId,
             uint256 _withdrawAmount
         )
             external
             nonReentrant
             returns (uint256)
         {

281:     function withdrawExactShares(
             uint256 _nftId,
             address _underlyingAsset,
             uint256 _shareAmount
         )
             external
             nonReentrant
             validToken(_underlyingAsset)
             returns (uint256)
         {

314:     function withdrawExactSharesETH(
             uint256 _nftId,
             uint256 _shareAmount
         )
             external
             nonReentrant
             returns (uint256)
         {

357:     function borrowExactAmount(
             uint256 _nftId,
             address _underlyingAsset,
             uint256 _borrowAmount
         )
             external
             nonReentrant
             validToken(_underlyingAsset)
             returns (uint256)
         {

393:     function borrowExactAmountETH(
             uint256 _nftId,
             uint256 _borrowAmount
         )
             external
             nonReentrant
             returns (uint256)
         {

433:     function paybackExactAmount(
             uint256 _nftId,
             address _underlyingAsset,
             uint256 _paybackAmount
         )
             external
             nonReentrant
             validToken(_underlyingAsset)
             returns (uint256)
         {

482:     function paybackExactAmountETH(
             uint256 _nftId
         )
             external
             payable
             nonReentrant
             returns (uint256)
         {

556:     function paybackExactShares(
             uint256 _nftId,
             address _underlyingAsset,
             uint256 _shares
         )
             external
             nonReentrant
             validToken(_underlyingAsset)
             returns (uint256)
         {

635:     function getLendingRate(
             address _underlyingAsset
         )
             external
             view
             returns (uint256)
         {

```
*Github:* [[103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L103), [122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L122), [158](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L158), [172](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L172), [202](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L202), [238](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L238), [281](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L281), [314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L314), [357](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L357), [393](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L393), [433](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L433), [482](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L482), [556](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L556), [635](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L635)]


</details>


<a name="NC-57"></a> 
### [NC-57] Missing NatSpec `@title` from contract declaration
Some contract definitions have an incomplete NatSpec: add a `@title` notation to improve the code documentation.

<details>
<summary>
There are <b>45</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

5: contract CustomOracleSetup {

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L5)]


```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

13: contract PendleChildLpOracle is CustomOracleSetup  {

```
*Github:* [[13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L13)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

28: contract PendleLpOracle {

```
*Github:* [[28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L28)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

22: contract PtOracleDerivative {

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L22)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

22: contract PtOraclePure {

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L22)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

31: contract DeclarationsFeeManager is FeeManagerEvents, OwnableMaster {

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L31)]


```solidity
File: contracts/FeeManager/FeeManager.sol

25: contract FeeManager is FeeManagerHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L25)]


```solidity
File: contracts/FeeManager/FeeManagerEvents.sol

5: contract FeeManagerEvents {

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L5)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

8: abstract contract FeeManagerHelper is DeclarationsFeeManager, TransferHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L8)]


```solidity
File: contracts/MainHelper.sol

7: abstract contract MainHelper is WiseLowLevelHelper {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L7)]


```solidity
File: contracts/OwnableMaster.sol

9: contract OwnableMaster {

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L9)]


```solidity
File: contracts/PoolManager.sol

8: abstract contract PoolManager is WiseCore {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L8)]


```solidity
File: contracts/PositionNFTs.sol

11: contract PositionNFTs is ERC721Enumerable, OwnableMaster {

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L11)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

7: abstract contract PendlePowerFarm is PendlePowerFarmLeverageLogic {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

36: contract PendlePowerFarmDeclarations is

```
*Github:* [[36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L36)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

7: abstract contract PendlePowerFarmLeverageLogic is

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

7: abstract contract PendlePowerFarmMathLogic is PendlePowerFarmDeclarations {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

15: contract PendlePowerManager is OwnableMaster, PendlePowerFarm, MinterReserver {

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L15)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

8: contract PendlePowerFarmController is PendlePowerFarmControllerHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L8)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

30: contract PendlePowerFarmControllerBase is

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L30)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

7: abstract contract PendlePowerFarmControllerHelper is PendlePowerFarmControllerBase {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

25: contract PendlePowerFarmToken is SimpleERC20, TransferHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L25)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

9: contract PendlePowerFarmTokenFactory {

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L9)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

10: contract MinterReserver {

```
*Github:* [[10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L10)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

14: interface IFarmContract {

24: contract PowerFarmNFTs is ERC721Enumerable, OwnableMaster {

```
*Github:* [[14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L14), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L24)]


```solidity
File: contracts/TransferHub/ApprovalHelper.sol

7: contract ApprovalHelper is CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/ApprovalHelper.sol#L7)]


```solidity
File: contracts/TransferHub/CallOptionalReturn.sol

7: contract CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/CallOptionalReturn.sol#L7)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

8: contract SendValueHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L8)]


```solidity
File: contracts/TransferHub/TransferHelper.sol

7: contract TransferHelper is CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/TransferHelper.sol#L7)]


```solidity
File: contracts/TransferHub/WrapperHelper.sol

7: contract WrapperHelper {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L7)]


```solidity
File: contracts/WiseCore.sol

8: abstract contract WiseCore is MainHelper, TransferHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L8)]


```solidity
File: contracts/WiseLending.sol

43: contract WiseLending is PoolManager {

```
*Github:* [[43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L43)]


```solidity
File: contracts/WiseLendingDeclaration.sol

30: contract WiseLendingDeclaration is

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L30)]


```solidity
File: contracts/WiseLowLevelHelper.sol

7: abstract contract WiseLowLevelHelper is WiseLendingDeclaration {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L7)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

33: abstract contract Declarations is OwnableMaster {

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L33)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

7: abstract contract OracleHelper is Declarations {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L7)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

31: contract WiseOracleHub is OracleHelper {

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L31)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

24: contract WiseSecurity is WiseSecurityHelper, ApprovalHelper {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L24)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

45: contract WiseSecurityDeclarations is OwnableMaster {

```
*Github:* [[45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L45)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

7: abstract contract WiseSecurityHelper is WiseSecurityDeclarations {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L7)]


```solidity
File: contracts/WrapperHub/AaveEvents.sol

5: contract AaveEvents {

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L5)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

7: abstract contract AaveHelper is Declarations {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L7)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

25: contract AaveHub is AaveHelper, TransferHelper, ApprovalHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L25)]


```solidity
File: contracts/WrapperHub/Declarations.sol

21: contract Declarations is OwnableMaster, AaveEvents, WrapperHelper {

```
*Github:* [[21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L21)]


</details>


<a name="NC-58"></a> 
### [NC-58] There is no need to initialize variables with 0
Since the variables are automatically set to 0 when created, it is redundant to initialize it with 0 again.

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/WrapperHub/AaveHub.sol

71:         for (uint256 i = 0; i < _underlyingAssets.length; i++) {

```
*Github:* [[71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L71)]


```solidity
File: contracts/WrapperHub/Declarations.sol

27:     uint16 internal constant REF_CODE = 0;

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L27)]



<a name="NC-59"></a> 
### [NC-59] Non-assembly method available
There are some automated tools that will flag a project as having higher complexity if there is inline-assembly, so it's best to avoid using it where it's not necessary. In addition, most assembly methods can be replaced by non-assembly methods, for example:
- `assembly{ g := gas() }` => `uint256 g = gasleft()`
- `assembly{ id := chainid() }` => `uint256 id = block.chainid`
- `assembly { r := mulmod(a, b, d) }` => `uint256 m = mulmod(x, y, k)`
- `assembly { size := extcodesize() }` => `uint256 size = address(a).code.length`
- etc.

*There is one instance of this issue:*
```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

69:             size := extcodesize(

```
*Github:* [[69](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L69)]



<a name="NC-60"></a> 
### [NC-60] Put all system-wide constants in one file
Putting all the system-wide constants in a single file improves code readability, makes it easier to understand the basic configuration and limitations of the system, and makes maintenance easier.

<details>
<summary>
There are <b>90</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

18:     uint8 constant DECIMALS_PRECISION = 18;

19:     uint256 private constant PRECISION_FACTOR_E18 = 1E18;

```
*Github:* [[18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L18), [19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L19)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

30:     uint256 internal constant DEFAULT_DECIMALS = 18;

66:     uint8 internal constant FEED_DECIMALS = 18;

67:     uint256 internal constant POW_FEED_DECIMALS = 10 ** 18;

70:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L30), [66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L66), [67](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L67), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L70)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

65:     uint8 internal constant FEED_DECIMALS = 18;

68:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

```
*Github:* [[65](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L65), [68](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L68)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

51:     uint8 internal constant FEED_DECIMALS = 18;

54:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

```
*Github:* [[51](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L51), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L54)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

167:     uint256 internal constant PRECISION_FACTOR_E15 = 1E15;

168:     uint256 internal constant PRECISION_FACTOR_E16 = 1E16;

169:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

172:     uint256 public constant INCENTIVE_PORTION = 5 * PRECISION_FACTOR_E15;

```
*Github:* [[167](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L167), [168](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L168), [169](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L169), [172](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L172)]


```solidity
File: contracts/OwnableMaster.sol

14:     address internal constant ZERO_ADDRESS = address(0x0);

```
*Github:* [[14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L14)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

62:     uint256 internal constant MAX_COLLATERAL_FACTOR = 95 * PRECISION_FACTOR_E16;

86:     address internal constant BALANCER_ADDRESS = 0xBA12222222228d8Ba445958a75a0704d566BF2C8;

92:     address internal constant ST_ETH_ADDRESS = 0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84;

95:     uint24 internal constant UNISWAP_V3_FEE = 100;

98:     uint256 internal constant MAX_AMOUNT = type(uint256).max;

99:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

100:     uint256 internal constant PRECISION_FACTOR_E16 = 1E16;

101:     uint256 internal constant MAX_LEVERAGE = 15 * PRECISION_FACTOR_E18;

102:     uint256 internal constant FIVTY_PERCENT = 0.5 ether;

104:     uint256 internal constant ETH_CHAIN_ID = 1;

105:     uint256 internal constant ARB_CHAIN_ID = 42161;

```
*Github:* [[62](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L62), [86](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L86), [92](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L92), [95](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L95), [98](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L98), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L99), [100](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L100), [101](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L101), [102](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L102), [104](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L104), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L105)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

49:     uint256 internal constant PRECISION_FACTOR_E6 = 1E6;

50:     uint256 internal constant PRECISION_FACTOR_E10 = 1E10;

51:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

53:     uint256 internal constant MAINNET_CHAIN_ID = 1;

54:     uint256 internal constant ARBITRUM_CHAIN_ID = 42161;

65:     uint128 internal constant WEEK = 7 days;

74:     address internal constant ARB_REWARDS_ADDRESS = 0x23a102e78D1FF1645a3666691495174764a5FCAF;

75:     address internal constant ARB_TOKEN_ADDRESS = 0x912CE59144191C1204E64559FE8253a0e49E6548;

```
*Github:* [[49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L49), [50](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L50), [51](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L51), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L53), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L54), [65](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L65), [74](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L74), [75](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L75)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

52:     uint256 private constant ONE_WEEK = 7 days;

53:     uint256 internal constant ONE_YEAR = 365 days;

54:     uint256 private constant MAX_MINT_FEE = 10000;

56:     uint256 private constant PRECISION_FACTOR_E6 = 1E6;

57:     uint256 private constant PRECISION_FACTOR_E18 = 1E18;

58:     uint256 internal constant PRECISION_FACTOR_E36 = PRECISION_FACTOR_E18 * PRECISION_FACTOR_E18;

59:     uint256 internal constant PRECISION_FACTOR_YEAR = PRECISION_FACTOR_E18 * ONE_YEAR;

63:     uint256 internal constant RESTRICTION_FACTOR = 10

```
*Github:* [[52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L52), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L53), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L54), [56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L56), [57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L57), [58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L58), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L59), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L63)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

11:     address internal constant ZERO_ADDRESS = address(0x0);

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L11)]


```solidity
File: contracts/WiseLendingDeclaration.sol

170:     uint256 internal constant MIN_BORROW_SHARE_PRICE = 5 * PRECISION_FACTOR_E18

188:     uint256 internal constant GHOST_AMOUNT = 1E3;

295:     uint256 internal constant PRECISION_FACTOR_E16 = 1E16;

296:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

297:     uint256 internal constant PRECISION_FACTOR_E36 = PRECISION_FACTOR_E18 * PRECISION_FACTOR_E18;

300:     uint256 internal constant ONE_YEAR = 365 days;

301:     uint256 internal constant THREE_HOURS = 3 hours;

302:     uint256 internal constant PRECISION_FACTOR_YEAR = PRECISION_FACTOR_E18 * ONE_YEAR;

307:     uint256 internal constant NORMALISATION_FACTOR = 4838400;

310:     uint256 internal constant LOWER_BOUND_MAX_RATE = 100 * PRECISION_FACTOR_E16;

311:     uint256 internal constant UPPER_BOUND_MAX_RATE = 300 * PRECISION_FACTOR_E16;

314:     uint256 internal constant THRESHOLD_SWITCH_DIRECTION = 90 * PRECISION_FACTOR_E16;

315:     uint256 internal constant THRESHOLD_RESET_RESONANCE_FACTOR = 75 * PRECISION_FACTOR_E16;

319:     uint256 internal constant MAX_COLLATERAL_FACTOR = 85 * PRECISION_FACTOR_E16;

320:     uint256 internal constant MAX_TOTAL_TOKEN_NUMBER = 8;

323:     uint256 internal constant RESTRICTION_FACTOR = 10

```
*Github:* [[170](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L170), [188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L188), [295](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L295), [296](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L296), [297](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L297), [300](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L300), [301](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L301), [302](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L302), [307](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L307), [310](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L310), [311](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L311), [314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L314), [315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L315), [319](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L319), [320](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L320), [323](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L323)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

79:     address public constant SEQUENCER_ADDRESS = 0xFdB631F5EE196F0ed6FAa767959853A9F217697D;

97:     uint8 internal constant _decimalsUSD = 8;

100:     uint8 internal constant _decimalsETH = 18;

103:     uint80 internal constant MAX_ROUND_COUNT = 50;

106:     uint32 internal constant SECONDS_IN_MINUTE = 60;

109:     uint32 internal constant TWAP_PERIOD = 30 * SECONDS_IN_MINUTE;

115:     uint256 internal constant MIN_ITERATION_COUNT = 3;

118:     uint256 internal constant PRECISION_FACTOR_E4 = 1E4;

121:     uint256 internal constant GRACE_PEROID = 3600;

124:     IPriceFeed internal constant ZERO_FEED = IPriceFeed(

129:     IAggregator internal constant ZERO_AGGREGATOR = IAggregator(

134:     uint256 internal constant ARBITRUM_CHAIN_ID = 42161;

```
*Github:* [[79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L79), [97](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L97), [100](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L100), [103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L103), [106](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L106), [109](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L109), [115](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L115), [118](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L118), [121](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L121), [124](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L124), [129](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L129), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L134)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

185:     uint256 public constant BORROW_PERCENTAGE_CAP = 95 * PRECISION_FACTOR_E16;

206:     uint256 internal constant MAX_LIQUIDATION_50 = 50E16;

207:     uint256 internal constant BAD_DEBT_THRESHOLD = 89E16;

209:     uint256 internal constant UINT256_MAX = type(uint256).max;

210:     uint256 internal constant ONE_YEAR = 365 days;

217:     uint256 internal constant PRECISION_FACTOR_E16 = 1E16;

218:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

219:     uint256 internal constant ONE_WEI = 1;

225:     uint256 internal constant LIQUIDATION_INCENTIVE_MAX = 11 * PRECISION_FACTOR_E16;

226:     uint256 internal constant LIQUIDATION_INCENTIVE_MIN = 2 * PRECISION_FACTOR_E16;

227:     uint256 internal constant LIQUIDATION_INCENTIVE_POWERFARM_MAX = 4 * PRECISION_FACTOR_E16;

230:     uint256 internal constant LIQUIDATION_FEE_MIN_ETH = 3 * PRECISION_FACTOR_E18;

231:     uint256 internal constant LIQUIDATION_FEE_MAX_ETH = 100 * PRECISION_FACTOR_E18;

232:     uint256 internal constant LIQUIDATION_FEE_MAX_NON_ETH = 10 * PRECISION_FACTOR_E18;

233:     uint256 internal constant LIQUIDATION_FEE_MIN_NON_ETH = 30 * PRECISION_FACTOR_E16;

```
*Github:* [[185](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L185), [206](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L206), [207](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L207), [209](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L209), [210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L210), [217](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L217), [218](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L218), [219](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L219), [225](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L225), [226](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L226), [227](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L227), [230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L230), [231](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L231), [232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L232), [233](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L233)]


```solidity
File: contracts/WrapperHub/Declarations.sol

27:     uint16 internal constant REF_CODE = 0;

37:     uint256 internal constant PRECISION_FACTOR_E9 = 1E9;

38:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

39:     uint256 internal constant MAX_AMOUNT = type(uint256).max;

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L27), [37](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L37), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L38), [39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L39)]


</details>


<a name="NC-61"></a> 
### [NC-61] Redundant `return` statement in a function with named return variables
Because the return variable (or its default value) has been assigned, explicit return at the end of the function is unnecessary, as it is returned automatically.

<details>
<summary>
There are <b>15</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/FeeManager.sol

816:     function paybackBadDebtNoReward(

```
*Github:* [[816](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L816)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

244:     function getReceivingToken(

```
*Github:* [[244](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L244)]


```solidity
File: contracts/PositionNFTs.sol

371:     function _toString(

```
*Github:* [[371](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L371)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

310:     function _withdrawPendleLPs(

```
*Github:* [[310](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L310)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

364:     function lockPendle(

451:     function withdrawLock()

```
*Github:* [[364](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L364), [451](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L451)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

213:     function _toString(

```
*Github:* [[213](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L213)]


```solidity
File: contracts/WiseCore.sol

543:     function _calculateReceiveAmount(

```
*Github:* [[543](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L543)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

283:     function _getPool(

```
*Github:* [[283](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L283)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

439:     function chainLinkIsDead(

```
*Github:* [[439](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L439)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

237:     function checksWithdraw(

275:     function checksSolelyWithdraw(

306:     function checksBorrow(

```
*Github:* [[237](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L237), [275](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L275), [306](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L306)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

190:     function getFullCollateralETH(

246:     function _getCollateralOfTokenETHUpdated(

```
*Github:* [[190](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L190), [246](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L246)]


</details>


<a name="NC-62"></a> 
### [NC-62] The remaining ETH may be locked in the contract after call
After calling an external contract and forwards some ETH value, the contract balance should be checked. If there is excess eth left over due to a failed call, or more eth being delivered than needed, or any other reason, this eth must be refunded to the user or handled appropriately, otherwise the eth may be frozen in the contract forever.

*There are <b>3</b> instances of this issue:*
```solidity
File: contracts/TransferHub/SendValueHelper.sol

27:         ) = payable(_recipient).call{

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L27)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

208:         ) = curvePool.call{value: 0} (

```
*Github:* [[208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L208)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

208:         (bool success, ) = payable(_recipient).call{

```
*Github:* [[208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L208)]



<a name="NC-63"></a> 
### [NC-63] Setters should prevent re-setting the same value
Not only is wasteful in terms of gas, but this is especially problematic when an event is emitted and the old and new values set are the same, as listeners might not expect this kind of scenario.

*There are <b>8</b> instances of this issue:*
```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

39:         lastUpdateGlobal = _time;

49:         timeStampByRoundId[_roundId] = _updateTime;

58:         globalRoundId = _aggregatorRoundId;

```
*Github:* [[39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L39), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L49), [58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L58)]


```solidity
File: contracts/PositionNFTs.sol

325:         baseURI = _newBaseURI;

334:         baseExtension = _newBaseExtension;

```
*Github:* [[325](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L325), [334](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L334)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

58:             farmContract = _farmContract;

167:         baseURI = _newBaseURI;

176:         baseExtension = _newBaseExtension;

```
*Github:* [[58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L58), [167](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L167), [176](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L176)]



<a name="NC-64"></a> 
### [NC-64] State variables should include comments
Consider adding some comments on critical state variables to explain what they are supposed to do: this will help for future code reviews.

<details>
<summary>
There are <b>65</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

7:     address public master;

8:     uint256 public lastUpdateGlobal;

10:     uint80 public globalRoundId;

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L7), [8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L8), [10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L10)]


```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

18:     uint8 constant DECIMALS_PRECISION = 18;

19:     uint256 private constant PRECISION_FACTOR_E18 = 1E18;

```
*Github:* [[18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L18), [19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L19)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

30:     uint256 internal constant DEFAULT_DECIMALS = 18;

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L30)]


```solidity
File: contracts/OwnableMaster.sol

11:     address public master;

12:     address public proposedMaster;

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L11), [12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L12)]


```solidity
File: contracts/PositionNFTs.sol

13:     string public baseURI;

14:     string public baseExtension;

16:     address public feeManager;

17:     uint256 public totalReserved;

18:     uint256 public immutable FEE_MANAGER_NFT;

```
*Github:* [[13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L13), [14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L14), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L17), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L18)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

49:     uint256 public collateralFactor;

52:     uint256 public minDepositEthAmount;

54:     address public immutable aaveTokenAddresses;

55:     address public immutable borrowTokenAddresses;

57:     address public immutable ENTRY_ASSET;

58:     address public immutable PENDLE_CHILD;

62:     uint256 internal constant MAX_COLLATERAL_FACTOR = 95 * PRECISION_FACTOR_E16;

82:     address internal immutable WETH_ADDRESS;

84:     address immutable AAVE_ADDRESS;

86:     address internal constant BALANCER_ADDRESS = 0xBA12222222228d8Ba445958a75a0704d566BF2C8;

88:     address immutable AAVE_HUB_ADDRESS;

90:     address immutable AAVE_WETH_ADDRESS;

92:     address internal constant ST_ETH_ADDRESS = 0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84;

95:     uint24 internal constant UNISWAP_V3_FEE = 100;

```
*Github:* [[49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L49), [52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L52), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L54), [55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L55), [57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L57), [58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L58), [62](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L62), [82](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L82), [84](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L84), [86](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L86), [88](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L88), [90](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L90), [92](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L92), [95](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L95)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

41:     address internal immutable PENDLE_TOKEN_ADDRESS;

43:     address internal immutable VOTER_CONTRACT_ADDRESS;

44:     address internal immutable VOTER_REWARDS_CLAIMER_ADDRESS;

46:     address internal immutable WISE_ORACLE_HUB_ADDRESS;

47:     address internal immutable VE_PENDLE_CONTRACT_ADDRESS;

49:     uint256 internal constant PRECISION_FACTOR_E6 = 1E6;

50:     uint256 internal constant PRECISION_FACTOR_E10 = 1E10;

51:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

53:     uint256 internal constant MAINNET_CHAIN_ID = 1;

54:     uint256 internal constant ARBITRUM_CHAIN_ID = 42161;

56:     uint256 public reservedPendleForLocking;

```
*Github:* [[41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L41), [43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L43), [44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L44), [46](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L46), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L47), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L49), [50](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L50), [51](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L51), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L53), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L54), [56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L56)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

28:     address public UNDERLYING_PENDLE_MARKET;

29:     address public PENDLE_POWER_FARM_CONTROLLER;

32:     uint256 public underlyingLpAssetsCurrent;

35:     uint256 public totalLpAssetsToDistribute;

47:     uint16 public MAX_CARDINALITY;

49:     uint256 public mintFee;

50:     uint256 public lastInteraction;

52:     uint256 private constant ONE_WEEK = 7 days;

53:     uint256 internal constant ONE_YEAR = 365 days;

54:     uint256 private constant MAX_MINT_FEE = 10000;

56:     uint256 private constant PRECISION_FACTOR_E6 = 1E6;

57:     uint256 private constant PRECISION_FACTOR_E18 = 1E18;

58:     uint256 internal constant PRECISION_FACTOR_E36 = PRECISION_FACTOR_E18 * PRECISION_FACTOR_E18;

59:     uint256 internal constant PRECISION_FACTOR_YEAR = PRECISION_FACTOR_E18 * ONE_YEAR;

61:     uint256 private INITIAL_TIME_STAMP;

63:     uint256 internal constant RESTRICTION_FACTOR = 10

```
*Github:* [[28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L28), [29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L29), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L32), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L35), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L47), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L49), [50](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L50), [52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L52), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L53), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L54), [56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L56), [57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L57), [58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L58), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L59), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L61), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L63)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

15:     uint256 public totalMinted;

18:     uint256 public totalReserved;

21:     uint256 public availableNFTCount;

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L15), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L18), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L21)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

26:     string public baseURI;

27:     string public baseExtension;

28:     address public farmContract;

```
*Github:* [[26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L26), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L27), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L28)]


```solidity
File: contracts/WrapperHub/Declarations.sol

27:     uint16 internal constant REF_CODE = 0;

34:     address immutable public WETH_ADDRESS;

35:     address immutable public AAVE_ADDRESS;

37:     uint256 internal constant PRECISION_FACTOR_E9 = 1E9;

38:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L27), [34](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L34), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L35), [37](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L37), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L38)]


</details>


<a name="NC-65"></a> 
### [NC-65] Typos

<details>
<summary>
There are <b>50</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

/// @audit `incetive`
145:     // Open incetive amount for incentiveOwner in ETH

```
*Github:* [[145](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L145)]


```solidity
File: contracts/FeeManager/FeeManager.sol

/// @audit `postion`
21:  * Additionally, this contract keeps track of the bad debt of each postion and has a simple mechanism

/// @audit `manualy`
435:      * @dev Function to remove pool token manualy from pool

/// @audit `postion`
882:      * at the _index postion of the array.

```
*Github:* [[21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L21), [435](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L435), [882](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L882)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

/// @audit `postion`
131:      * Compares totalBorrow and totalCollateral of the postion in ETH and adjustes bad debt

/// @audit `benefical`
218:      * @dev Internal function to set benefical mapping for a certain token.

```
*Github:* [[131](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L131), [218](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L218)]


```solidity
File: contracts/MainHelper.sol

/// @audit `increas`
580:      * @dev Internal increas function for

/// @audit `postion`
581:      * lending shares of a postion {_nftId}

/// @audit `postion`
596:      * lending shares of a postion {_nftId}

/// @audit `postion`
731:      * of postion lending data.

/// @audit `postion`
792:      * of postion borrow data.

/// @audit `intervall`
874:      * the time intervall of three hours has

/// @audit `decresing`
1076:      * @dev Increasing or decresing resonance factor depending on flag value.

/// @audit `decresing`
1120:      * @dev Stepping function decresing the resonance factor

```
*Github:* [[580](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L580), [581](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L581), [596](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L596), [731](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L731), [792](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L792), [874](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L874), [1076](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1076), [1120](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1120)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

/// @audit `postion`
55:      * debt ratio of the postion with {_nftId}

/// @audit `postions`
91:      * postions which have a debtratio greater than 100%.

```
*Github:* [[55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L55), [91](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L91)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

/// @audit `postion`
172:      * borrow amount in ETH from postion {_nftId}

/// @audit `postion`
227:      * lending amount in ETH from postion {_nftId}

/// @audit `postion`
287:      * the net APY for the postion aftrer creation.

/// @audit `aftrer`
287:      * the net APY for the postion aftrer creation.

```
*Github:* [[172](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L172), [227](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L227), [287](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L287), [287](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L287)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

/// @audit `disableing`
79:      * disableing the openPosition function. Allowing user

/// @audit `manualy`
80:      * to manualy payback and withdraw.

```
*Github:* [[79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L79), [80](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L80)]


```solidity
File: contracts/WiseCore.sol

/// @audit `postion`
187:      * @dev Checks if a postion is locked

/// @audit `caluclating`
425:      * caluclating amount to withdraw from pure

```
*Github:* [[187](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L187), [425](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L425)]


```solidity
File: contracts/WiseLending.sol

/// @audit `postion`
1243:      * @dev Function to liquidate a postion which reaches

/// @audit `liqudaiton`
1312:      * @dev Wrapper function for liqudaiton flow

```
*Github:* [[1243](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1243), [1312](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1312)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

/// @audit `squencer`
519:      * squencer is wroking.

```
*Github:* [[519](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L519)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

/// @audit `postion`
56:      * debt ratio of a postion in normal mode.

/// @audit `claculating`
638:      * @dev View function claculating the open

/// @audit `postion`
639:      * amount a postion is allowed to borrow.

/// @audit `postion`
692:      * @dev View function checking if the postion is

/// @audit `postion`
761:      * possible withdraw amount of a postion

/// @audit `postion`
824:      * postion for a specific _poolToken.

/// @audit `postion`
865:      * possible borrow amount of postion for

```
*Github:* [[56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L56), [638](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L638), [639](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L639), [692](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L692), [761](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L761), [824](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L824), [865](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L865)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

/// @audit `postion`
12:      * postion with {_nftId} (unweighted means

/// @audit `postion`
63:      *  total collateral of a postion with {_nftId}.

/// @audit `postion`
104:      *  total collateral of a postion with {_nftId}

/// @audit `postion`
142:      * postion with {_nftId}. Result can be

/// @audit `postion`
356:      * borrow amount of a postion with {_nftId}.

/// @audit `postion`
390:      * borrow amount of a postion with {_nftId}.

/// @audit `postion`
428:      * borrow amount of a postion with {_nftId}.

/// @audit `hearbeat`
467:      * @dev Internal function combining hearbeat

/// @audit `postion`
483:      * postion with {_nftId}. Can be

/// @audit `borow`
648:      * @dev Read function returning the borow

/// @audit `postion`
698:      * @dev Check if the postion with

/// @audit `receivs`
757:      * which the liquidator receivs for

/// @audit `postion`
835:      * when the postion is empty!

/// @audit `postion`
904:      * if postion has bad debt.

```
*Github:* [[12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L12), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L63), [104](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L104), [142](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L142), [356](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L356), [390](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L390), [428](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L428), [467](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L467), [483](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L483), [648](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L648), [698](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L698), [757](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L757), [835](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L835), [904](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L904)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

/// @audit `efficency`
16:  * @dev Purpose of this contract is to optimize capital efficency by using

/// @audit `correspoding`
17:  * aave pools. Not borrowed funds are deposited into correspoding aave pools

```
*Github:* [[16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L17)]


</details>


<a name="NC-66"></a> 
### [NC-66] Unnecessary cast
The variable is being cast to its own type.

*There are <b>5</b> instances of this issue:*
```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

/// @audit no need to cast `answerUsdFeed` into int256
122:         return uint256(answerUsdFeed)

```
*Github:* [[122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L122)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

/// @audit no need to cast `answerFeed` into int256
103:         return uint256(answerFeed)

```
*Github:* [[103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L103)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

/// @audit no need to cast `ENTRY_ASSET` into address
289:                 address(ENTRY_ASSET),

/// @audit no need to cast `ENTRY_ASSET` into address
332:             address(ENTRY_ASSET),

/// @audit no need to cast `ENTRY_ASSET` into address
338:             address(ENTRY_ASSET),

```
*Github:* [[289](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L289), [332](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L332), [338](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L338)]



<a name="NC-67"></a> 
### [NC-67] Unsafe conversion from unsigned to signed values
Solidity follows [two's complement](https://en.wikipedia.org/wiki/Two%27s_complement) rules for its integers, meaning that the most significant bit for signed integers is used to denote the sign, and converting between the two requires inverting all of the bits and adding one. Because of this, casting an unsigned integer to a signed one may result in a change of the sign and or magnitude of the value. For example, `int8(type(uint8).max)` is not equal to `type(int8).max`, but is equal to `-1`. `type(uint8).max` in binary is `11111111`, which if cast to a signed value, means the first binary `1` indicates a negative value, and the binary `1`s, invert to all zeroes, and when one is added, it becomes one, but negative, and therefore the decimal value of binary `11111111` is `-1`.

*There are <b>7</b> instances of this issue:*
```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

/// @audit uint256 -> int256
71:             int256(latestAnswer()),

/// @audit uint256 -> int256
97:             int256(latestAnswer()),

```
*Github:* [[71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L71), [97](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L97)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

/// @audit uint256 -> int256
164:             int256(latestAnswer()),

```
*Github:* [[164](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L164)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

/// @audit uint256 -> int256
159:             int256(latestAnswer()),

```
*Github:* [[159](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L159)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

/// @audit uint256 -> int256
138:             int256(latestAnswer()),

```
*Github:* [[138](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L138)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

/// @audit uint192 -> int192
157:                 int192(uint192(answer))

/// @audit uint32 -> int32
428:             int32(TWAP_PERIOD)

```
*Github:* [[157](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L157), [428](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L428)]



<a name="NC-68"></a> 
### [NC-68] Unsafe solidity low-level call can cause gas grief attack
Using the low-level calls of a solidity address can leave the contract open to gas grief attacks. These attacks occur when the called contract returns a large amount of data. So when calling an external contract, it is necessary to check the length of the return data before reading/copying it (using `returndatasize()`).

*There are <b>5</b> instances of this issue:*
```solidity
File: contracts/TransferHub/CallOptionalReturn.sol

22:         ) = token.call(

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/CallOptionalReturn.sol#L22)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

27:         ) = payable(_recipient).call{

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L27)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

78:         (bool success, ) = _tokenAggregator.call(

```
*Github:* [[78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L78)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

208:         ) = curvePool.call{value: 0} (

```
*Github:* [[208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L208)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

208:         (bool success, ) = payable(_recipient).call{

```
*Github:* [[208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L208)]



<a name="NC-69"></a> 
### [NC-69] Unused `error` definition
The following `error`s are defined but not used. It is recommended to check the code for logical omissions that cause them not to be used. If it's determined that they are not needed anywhere, it's best to remove them from the codebase to improve code clarity and minimize confusion. Note that there may be cases where an error appears to be used because it has multiple definitions in different files. In such cases, the definitions should be moved to a separate file.

<details>
<summary>
There are <b>77</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

17: error AlreadySet();

18: error ExistingBadDebt();

21: error PoolAlreadyAdded();

22: error TooHighValue();

23: error TooLowValue();

24: error NotAllowed();

25: error PoolNotPresent();

26: error ZeroAddress();

27: error NoIncentive();

28: error Reentered();

29: error PoolNotActive();

```
*Github:* [[17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L17), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L18), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L21), [22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L22), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L23), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L24), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L25), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L26), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L27), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L28), [29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L29)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

24: error InvalidParam();

25: error AccessDenied();

26: error LeverageTooHigh();

27: error DebtRatioTooLow();

28: error NotBalancerVault();

29: error DebtRatioTooHigh();

30: error ResultsInBadDebt();

31: error TooMuchValueLost();

33: error TooMuchShares();

34: error WrongChainId();

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L24), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L25), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L26), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L27), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L28), [29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L29), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L30), [31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L31), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L33), [34](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L34)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

17: error AlreadySet();

18: error NotExpired();

19: error LockTimeTooShort();

20: error ZeroShares();

21: error ValueTooSmall();

22: error InvalidLength();

23: error InvalidWeightSum();

25: error NothingToSkim();

26: error NotFound();

27: error NotEnoughCompound();

```
*Github:* [[17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L17), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L18), [19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L19), [20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L20), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L21), [22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L22), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L23), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L25), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L26), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L27)]


```solidity
File: contracts/WiseLendingDeclaration.sol

16: error DeadOracle();

17: error NotPowerFarm();

20: error PositionLocked();

21: error LiquidatorIsInPowerFarm();

22: error PositionHasCollateral();

23: error PositionHasBorrow();

24: error InvalidAddress();

25: error InvalidLiquidator();

26: error ValueIsZero();

27: error ValueNotZero();

28: error TooManyTokens();

```
*Github:* [[16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L17), [20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L20), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L21), [22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L22), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L23), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L24), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L25), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L26), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L27), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L28)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

14: error OracleIsDead();

15: error OraclesDeviate();

16: error OracleAlreadySet();

17: error ChainLinkOracleNotSet();

19: error SampleTooSmall(

23: error HeartBeatNotSet();

24: error PoolDoesNotExist();

25: error PoolAddressMismatch();

26: error TokenAddressMismatch();

27: error TwapOracleAlreadySet();

28: error ZeroAddressNotAllowed();

29: error FunctionDoesntExist();

30: error AggregatorNotNecessary();

31: error AggregatorAlreadySet();

```
*Github:* [[14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L14), [15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L15), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L17), [19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L19), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L23), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L24), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L25), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L26), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L27), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L28), [29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L29), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L30), [31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L31)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

19: error NotAllowedEntity();

20: error ChainlinkDead();

21: error TokenBlackListed();

22: error NotAllowedWiseSecurity();

23: error PositionLockedWiseSecurity();

24: error ResultsInBadDebt();

25: error NotEnoughCollateral();

26: error NotAllowedToBorrow();

27: error OpenBorrowPosition();

28: error NonVerifiedPool();

29: error NotOwner();

30: error LiquidationDenied();

31: error TooManyShares();

32: error NotRegistered();

33: error Blacklisted();

34: error SecuritySwapFailed();

43: error DepositAmountTooSmall();

```
*Github:* [[19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L19), [20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L20), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L21), [22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L22), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L23), [24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L24), [25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L25), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L26), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L27), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L28), [29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L29), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L30), [31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L31), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L32), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L33), [34](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L34), [43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L43)]


```solidity
File: contracts/WrapperHub/Declarations.sol

16: error InvalidValue();

17: error InvalidAction();

18: error FailedInnerCall();

19: error InvalidToken();

```
*Github:* [[16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L16), [17](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L17), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L18), [19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L19)]


</details>


<a name="NC-70"></a> 
### [NC-70] Unused `event` definition
Note that there may be cases where an event superficially appears to be used, but this is only because there are multiple definitions of the event in different files. In such cases, the event definition should be moved into a separate file. The instances below are the unused definitions.

<details>
<summary>
There are <b>59</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/FeeManagerEvents.sol

7:     event ClaimedFeesWiseBulk(

11:     event PoolTokenRemoved(

16:     event PoolTokenAdded(

21:     event IncentiveOwnerBChanged(

26:     event IncentiveOwnerAChanged(

31:     event ClaimedOwnershipIncentiveMaster(

36:     event IncentiveMasterProposed(

41:     event PoolFeeChanged(

47:     event ClaimedIncentives(

54:     event ClaimedIncentivesBulk(

58:     event IncentiveIncreasedB(

63:     event IncentiveIncreasedA(

68:     event BadDebtIncreasedLiquidation(

73:     event TotalBadDebtIncreased(

78:     event TotalBadDebtDecreased(

83:     event SetBadDebtPosition(

89:     event UpdateBadDebtPosition(

95:     event SetBeneficial(

101:     event RevokeBeneficial(

107:     event ClaimedFeesWise(

113:     event ClaimedFeesBeneficial(

120:     event PayedBackBadDebt(

129:     event PayedBackBadDebtFree(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L7), [11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L11), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L16), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L21), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L26), [31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L31), [36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L36), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L41), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L47), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L54), [58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L58), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L63), [68](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L68), [73](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L73), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L78), [83](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L83), [89](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L89), [95](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L95), [101](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L101), [107](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L107), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L113), [120](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L120), [129](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L129)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

110:     event FarmEntry(

118:     event FarmExit(

125:     event FarmStatus(

130:     event ManualPaybackShares(

137:     event ManualWithdrawShares(

144:     event MinDepositChange(

149:     event ETHReceived(

154:     event RegistrationFarm(

```
*Github:* [[110](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L110), [118](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L118), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L125), [130](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L130), [137](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L137), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L144), [149](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L149), [154](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L154)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

140:     event ChangeExchangeIncentive(

144:     event WithdrawLp(

150:     event ExchangeRewardsForCompounding(

157:     event ExchangeLpFeesForPendle(

164:     event AddPendleMarket(

169:     event UpdateRewardTokens(

174:     event ChangeMintFee(

179:     event LockPendle(

188:     event ClaimArb(

194:     event IncreaseReservedForCompound(

199:     event ClaimVoteRewards(

205:     event WithdrawLock(

```
*Github:* [[140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L140), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L144), [150](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L150), [157](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L157), [164](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L164), [169](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L169), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L174), [179](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L179), [188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L188), [194](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L194), [199](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L199), [205](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L205)]


```solidity
File: contracts/WiseLendingDeclaration.sol

35:     event FundsDeposited(

44:     event FundsSolelyDeposited(

52:     event FundsWithdrawn(

61:     event FundsWithdrawnOnBehalf(

70:     event FundsSolelyWithdrawn(

78:     event FundsBorrowed(

87:     event FundsBorrowedOnBehalf(

96:     event FundsReturned(

```
*Github:* [[35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L35), [44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L44), [52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L52), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L61), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L70), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L78), [87](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L87), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L96)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

47:     event SecurityShutdown(

```
*Github:* [[47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L47)]


```solidity
File: contracts/WrapperHub/AaveEvents.sol

7:     event SetAaveTokenAddress(

13:     event IsDepositAave(

18:     event IsWithdrawAave(

23:     event IsBorrowAave(

28:     event IsPaybackAave(

33:     event IsSolelyDepositAave(

38:     event IsSolelyWithdrawAave(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L7), [13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L13), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L18), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L23), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L28), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L33), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L38)]


</details>


<a name="NC-71"></a> 
### [NC-71] Unused arguments should be removed or implemented
Some arguments are never used: if this is intentional, consider removing these arguments from the function. Otherwise, implement the missing logic accordingly.

*There is one instance of this issue:*
```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

/// @audit `_owner`
16:     function reservedKeys(

```
*Github:* [[16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L16)]



<a name="NC-72"></a> 
### [NC-72] Unused named return
Declaring named returns, but not using them, is confusing to the reader. Consider either completely removing them (by declaring just the type without a name), or remove the return statement and do a variable assignment. This would improve the readability of the code, and it may also help reduce regressions during future code refactors.

<details>
<summary>
There are <b>12</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

/// @audit `answer` not used
55:     function latestRoundData()
            external
            view
            returns (
                uint80 roundId,
                int256 answer,
                uint256 startedAt,
                uint256 updatedAt,
                uint80 answerdInRound
            )
        {

/// @audit `roundId` not used
/// @audit `answer` not used
78:     function getRoundData(
            uint80 _roundId
        )
            external
            view
            returns (
                uint80 roundId,
                int256 answer,
                uint256 startedAt,
                uint256 updatedAt,
                uint80 answeredInRound
            )
        {

```
*Github:* [[55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L55), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L78)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

/// @audit `answer` not used
151:     function latestRoundData()
             external
             view
             returns (
                 uint80 roundId,
                 int256 answer,
                 uint256 startedAt,
                 uint256 updatedAt,
                 uint80 answeredInRound
             )
         {

```
*Github:* [[151](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L151)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

/// @audit `answer` not used
146:     function latestRoundData()
             public
             view
             returns (
                 uint80 roundId,
                 int256 answer,
                 uint256 startedAt,
                 uint256 updatedAt,
                 uint80 answeredInRound
             )
         {

```
*Github:* [[146](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L146)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

/// @audit `answer` not used
125:     function latestRoundData()
             public
             view
             returns (
                 uint80 roundId,
                 int256 answer,
                 uint256 startedAt,
                 uint256 updatedAt,
                 uint80 answeredInRound
             )
         {

```
*Github:* [[125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L125)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

/// @audit `receivingAmount` not used
244:     function getReceivingToken(
             address _paybackToken,
             address _receivingToken,
             uint256 _paybackAmount
         )
             public
             view
             returns (uint256 receivingAmount)
         {

```
*Github:* [[244](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L244)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

/// @audit `paybackAmount` not used
/// @audit `receivingAmount` not used
93:     function liquidatePartiallyFromToken(
            uint256 _nftId,
            uint256 _nftIdLiquidator,
            uint256 _shareAmountToPay
        )
            external
            updatePools
            returns (
                uint256 paybackAmount,
                uint256 receivingAmount
            )
        {

```
*Github:* [[93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L93)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

/// @audit `withdrawnLpsAmount` not used
310:     function _withdrawPendleLPs(
             uint256 _nftId,
             uint256 _lendingShares
         )
             private
             returns (uint256 withdrawnLpsAmount)
         {

```
*Github:* [[310](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L310)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

/// @audit `pool` not used
283:     function _getPool(
             address _token0,
             address _token1,
             uint24 _fee
         )
             internal
             view
             returns (address pool)
         {

```
*Github:* [[283](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L283)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

/// @audit `specialCase` not used
237:     function checksWithdraw(
             uint256 _nftId,
             address _caller,
             address _poolToken
         )
             external
             view
             returns (bool specialCase)
         {

/// @audit `specialCase` not used
275:     function checksSolelyWithdraw(
             uint256 _nftId,
             address _caller,
             address _poolToken
         )
             external
             view
             returns (bool specialCase)
         {

/// @audit `specialCase` not used
306:     function checksBorrow(
             uint256 _nftId,
             address _caller,
             address _poolToken
         )
             external
             view
             returns (bool specialCase)
         {

```
*Github:* [[237](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L237), [275](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L275), [306](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L306)]


</details>


<a name="NC-73"></a> 
### [NC-73] Unused contract variables
The following state variables are defined but not used. It is recommended to check the code for logical omissions that cause them not to be used. If it's determined that they are not needed anywhere, it's best to remove them from the codebase to improve code clarity and minimize confusion.

*There are <b>5</b> instances of this issue:*
```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

67:     uint256 internal constant POW_FEED_DECIMALS = 10 ** 18;

```
*Github:* [[67](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L67)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

167:     uint256 internal constant PRECISION_FACTOR_E15 = 1E15;

```
*Github:* [[167](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L167)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

75:     address internal constant ARB_TOKEN_ADDRESS = 0x912CE59144191C1204E64559FE8253a0e49E6548;

```
*Github:* [[75](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L75)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

106:     uint32 internal constant SECONDS_IN_MINUTE = 60;

```
*Github:* [[106](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L106)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

219:     uint256 internal constant ONE_WEI = 1;

```
*Github:* [[219](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L219)]



<a name="NC-74"></a> 
### [NC-74] Use `abi.encodeCall()` instead of `abi.encodeWithSignature()`/`abi.encodeWithSelector()`
`abi.encodeCall()` has compiler type safety, whereas the other two functions do not

*There are <b>4</b> instances of this issue:*
```solidity
File: contracts/TransferHub/ApprovalHelper.sol

22:             abi.encodeWithSelector(

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/ApprovalHelper.sol#L22)]


```solidity
File: contracts/TransferHub/TransferHelper.sol

22:             abi.encodeWithSelector(

44:             abi.encodeWithSelector(

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/TransferHelper.sol#L22), [44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/TransferHelper.sol#L44)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

79:             abi.encodeWithSignature(

```
*Github:* [[79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L79)]



<a name="NC-75"></a> 
### [NC-75] Consider using `delete` rather than assigning zero/false to clear values
The `delete` keyword more closely matches the semantics of what is being done, and draws more attention to the changing of state, which may lead to a more thorough audit of its associated logic.

*There are <b>7</b> instances of this issue:*
```solidity
File: contracts/FeeManager/FeeManager.sol

476:             poolTokenAdded[_poolToken] = false;

```
*Github:* [[476](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L476)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

228:             reservedKeys[msg.sender] = 0;

```
*Github:* [[228](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L228)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

268:             childInfo.reservedForCompound[i] = 0;

```
*Github:* [[268](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L268)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

256:                 rewardsOutsideArray[i] = 0;

267:                 rewardsOutsideArray[i] = 0;

```
*Github:* [[256](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L256), [267](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L267)]


```solidity
File: contracts/WiseLending.sol

342:         userLendingData[_nftId][_poolToken].unCollateralized = false;

```
*Github:* [[342](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L342)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

418:         secondsAgo[1] = 0;

```
*Github:* [[418](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L418)]



<a name="NC-76"></a> 
### [NC-76] Expressions for constant values should use `immutable` rather than `constant`
While it doesn't save any gas because the compiler knows that developers often make this mistake, it's still best to use the right tool for the task at hand. There is a difference between `constant` variables and `immutable` variables, and they should each be used in their appropriate contexts. `constants` should be used for literal values written into the code, and `immutable` variables should be used for expressions, or values calculated in, or passed into the constructor.

<details>
<summary>
There are <b>90</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

18:     uint8 constant DECIMALS_PRECISION = 18;

19:     uint256 private constant PRECISION_FACTOR_E18 = 1E18;

```
*Github:* [[18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L18), [19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L19)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

30:     uint256 internal constant DEFAULT_DECIMALS = 18;

66:     uint8 internal constant FEED_DECIMALS = 18;

67:     uint256 internal constant POW_FEED_DECIMALS = 10 ** 18;

70:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L30), [66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L66), [67](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L67), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L70)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

65:     uint8 internal constant FEED_DECIMALS = 18;

68:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

```
*Github:* [[65](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L65), [68](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L68)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

51:     uint8 internal constant FEED_DECIMALS = 18;

54:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

```
*Github:* [[51](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L51), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L54)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

167:     uint256 internal constant PRECISION_FACTOR_E15 = 1E15;

168:     uint256 internal constant PRECISION_FACTOR_E16 = 1E16;

169:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

172:     uint256 public constant INCENTIVE_PORTION = 5 * PRECISION_FACTOR_E15;

```
*Github:* [[167](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L167), [168](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L168), [169](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L169), [172](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L172)]


```solidity
File: contracts/OwnableMaster.sol

14:     address internal constant ZERO_ADDRESS = address(0x0);

```
*Github:* [[14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L14)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

62:     uint256 internal constant MAX_COLLATERAL_FACTOR = 95 * PRECISION_FACTOR_E16;

86:     address internal constant BALANCER_ADDRESS = 0xBA12222222228d8Ba445958a75a0704d566BF2C8;

92:     address internal constant ST_ETH_ADDRESS = 0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84;

95:     uint24 internal constant UNISWAP_V3_FEE = 100;

98:     uint256 internal constant MAX_AMOUNT = type(uint256).max;

99:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

100:     uint256 internal constant PRECISION_FACTOR_E16 = 1E16;

101:     uint256 internal constant MAX_LEVERAGE = 15 * PRECISION_FACTOR_E18;

102:     uint256 internal constant FIVTY_PERCENT = 0.5 ether;

104:     uint256 internal constant ETH_CHAIN_ID = 1;

105:     uint256 internal constant ARB_CHAIN_ID = 42161;

```
*Github:* [[62](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L62), [86](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L86), [92](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L92), [95](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L95), [98](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L98), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L99), [100](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L100), [101](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L101), [102](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L102), [104](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L104), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L105)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

49:     uint256 internal constant PRECISION_FACTOR_E6 = 1E6;

50:     uint256 internal constant PRECISION_FACTOR_E10 = 1E10;

51:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

53:     uint256 internal constant MAINNET_CHAIN_ID = 1;

54:     uint256 internal constant ARBITRUM_CHAIN_ID = 42161;

65:     uint128 internal constant WEEK = 7 days;

74:     address internal constant ARB_REWARDS_ADDRESS = 0x23a102e78D1FF1645a3666691495174764a5FCAF;

75:     address internal constant ARB_TOKEN_ADDRESS = 0x912CE59144191C1204E64559FE8253a0e49E6548;

```
*Github:* [[49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L49), [50](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L50), [51](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L51), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L53), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L54), [65](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L65), [74](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L74), [75](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L75)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

52:     uint256 private constant ONE_WEEK = 7 days;

53:     uint256 internal constant ONE_YEAR = 365 days;

54:     uint256 private constant MAX_MINT_FEE = 10000;

56:     uint256 private constant PRECISION_FACTOR_E6 = 1E6;

57:     uint256 private constant PRECISION_FACTOR_E18 = 1E18;

58:     uint256 internal constant PRECISION_FACTOR_E36 = PRECISION_FACTOR_E18 * PRECISION_FACTOR_E18;

59:     uint256 internal constant PRECISION_FACTOR_YEAR = PRECISION_FACTOR_E18 * ONE_YEAR;

63:     uint256 internal constant RESTRICTION_FACTOR = 10

```
*Github:* [[52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L52), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L53), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L54), [56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L56), [57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L57), [58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L58), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L59), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L63)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

11:     address internal constant ZERO_ADDRESS = address(0x0);

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L11)]


```solidity
File: contracts/WiseLendingDeclaration.sol

170:     uint256 internal constant MIN_BORROW_SHARE_PRICE = 5 * PRECISION_FACTOR_E18

188:     uint256 internal constant GHOST_AMOUNT = 1E3;

295:     uint256 internal constant PRECISION_FACTOR_E16 = 1E16;

296:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

297:     uint256 internal constant PRECISION_FACTOR_E36 = PRECISION_FACTOR_E18 * PRECISION_FACTOR_E18;

300:     uint256 internal constant ONE_YEAR = 365 days;

301:     uint256 internal constant THREE_HOURS = 3 hours;

302:     uint256 internal constant PRECISION_FACTOR_YEAR = PRECISION_FACTOR_E18 * ONE_YEAR;

307:     uint256 internal constant NORMALISATION_FACTOR = 4838400;

310:     uint256 internal constant LOWER_BOUND_MAX_RATE = 100 * PRECISION_FACTOR_E16;

311:     uint256 internal constant UPPER_BOUND_MAX_RATE = 300 * PRECISION_FACTOR_E16;

314:     uint256 internal constant THRESHOLD_SWITCH_DIRECTION = 90 * PRECISION_FACTOR_E16;

315:     uint256 internal constant THRESHOLD_RESET_RESONANCE_FACTOR = 75 * PRECISION_FACTOR_E16;

319:     uint256 internal constant MAX_COLLATERAL_FACTOR = 85 * PRECISION_FACTOR_E16;

320:     uint256 internal constant MAX_TOTAL_TOKEN_NUMBER = 8;

323:     uint256 internal constant RESTRICTION_FACTOR = 10

```
*Github:* [[170](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L170), [188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L188), [295](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L295), [296](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L296), [297](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L297), [300](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L300), [301](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L301), [302](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L302), [307](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L307), [310](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L310), [311](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L311), [314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L314), [315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L315), [319](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L319), [320](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L320), [323](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L323)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

79:     address public constant SEQUENCER_ADDRESS = 0xFdB631F5EE196F0ed6FAa767959853A9F217697D;

97:     uint8 internal constant _decimalsUSD = 8;

100:     uint8 internal constant _decimalsETH = 18;

103:     uint80 internal constant MAX_ROUND_COUNT = 50;

106:     uint32 internal constant SECONDS_IN_MINUTE = 60;

109:     uint32 internal constant TWAP_PERIOD = 30 * SECONDS_IN_MINUTE;

115:     uint256 internal constant MIN_ITERATION_COUNT = 3;

118:     uint256 internal constant PRECISION_FACTOR_E4 = 1E4;

121:     uint256 internal constant GRACE_PEROID = 3600;

124:     IPriceFeed internal constant ZERO_FEED = IPriceFeed(

129:     IAggregator internal constant ZERO_AGGREGATOR = IAggregator(

134:     uint256 internal constant ARBITRUM_CHAIN_ID = 42161;

```
*Github:* [[79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L79), [97](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L97), [100](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L100), [103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L103), [106](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L106), [109](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L109), [115](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L115), [118](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L118), [121](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L121), [124](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L124), [129](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L129), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L134)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

185:     uint256 public constant BORROW_PERCENTAGE_CAP = 95 * PRECISION_FACTOR_E16;

206:     uint256 internal constant MAX_LIQUIDATION_50 = 50E16;

207:     uint256 internal constant BAD_DEBT_THRESHOLD = 89E16;

209:     uint256 internal constant UINT256_MAX = type(uint256).max;

210:     uint256 internal constant ONE_YEAR = 365 days;

217:     uint256 internal constant PRECISION_FACTOR_E16 = 1E16;

218:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

219:     uint256 internal constant ONE_WEI = 1;

225:     uint256 internal constant LIQUIDATION_INCENTIVE_MAX = 11 * PRECISION_FACTOR_E16;

226:     uint256 internal constant LIQUIDATION_INCENTIVE_MIN = 2 * PRECISION_FACTOR_E16;

227:     uint256 internal constant LIQUIDATION_INCENTIVE_POWERFARM_MAX = 4 * PRECISION_FACTOR_E16;

230:     uint256 internal constant LIQUIDATION_FEE_MIN_ETH = 3 * PRECISION_FACTOR_E18;

231:     uint256 internal constant LIQUIDATION_FEE_MAX_ETH = 100 * PRECISION_FACTOR_E18;

232:     uint256 internal constant LIQUIDATION_FEE_MAX_NON_ETH = 10 * PRECISION_FACTOR_E18;

233:     uint256 internal constant LIQUIDATION_FEE_MIN_NON_ETH = 30 * PRECISION_FACTOR_E16;

```
*Github:* [[185](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L185), [206](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L206), [207](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L207), [209](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L209), [210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L210), [217](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L217), [218](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L218), [219](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L219), [225](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L225), [226](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L226), [227](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L227), [230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L230), [231](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L231), [232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L232), [233](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L233)]


```solidity
File: contracts/WrapperHub/Declarations.sol

27:     uint16 internal constant REF_CODE = 0;

37:     uint256 internal constant PRECISION_FACTOR_E9 = 1E9;

38:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

39:     uint256 internal constant MAX_AMOUNT = type(uint256).max;

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L27), [37](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L37), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L38), [39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L39)]


</details>


<a name="NC-77"></a> 
### [NC-77] Use the Modern Upgradeable Contract Paradigm
Modern smart contract development often employs upgradeable contract structures, utilizing proxy patterns like OpenZeppelin’s Upgradeable Contracts. This paradigm separates logic and state, allowing developers to amend and enhance the contract's functionality without altering its state or the deployed contract address. Transitioning to this approach enhances long-term maintainability.

Resolution: Adopt a well-established proxy pattern for upgradeability, ensuring proper initialization and employing transparent proxies to mitigate potential risks. Embrace comprehensive testing and audit practices, particularly when updating contract logic, to ensure state consistency and security are preserved across upgrades. This ensures your contract remains robust and adaptable to future requirements.

<details>
<summary>
There are <b>44</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

5: contract CustomOracleSetup {

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L5)]


```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

13: contract PendleChildLpOracle is CustomOracleSetup  {

```
*Github:* [[13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L13)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

28: contract PendleLpOracle {

```
*Github:* [[28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L28)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

22: contract PtOracleDerivative {

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L22)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

22: contract PtOraclePure {

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L22)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

31: contract DeclarationsFeeManager is FeeManagerEvents, OwnableMaster {

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L31)]


```solidity
File: contracts/FeeManager/FeeManager.sol

25: contract FeeManager is FeeManagerHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L25)]


```solidity
File: contracts/FeeManager/FeeManagerEvents.sol

5: contract FeeManagerEvents {

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L5)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

8: abstract contract FeeManagerHelper is DeclarationsFeeManager, TransferHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L8)]


```solidity
File: contracts/MainHelper.sol

7: abstract contract MainHelper is WiseLowLevelHelper {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L7)]


```solidity
File: contracts/OwnableMaster.sol

9: contract OwnableMaster {

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L9)]


```solidity
File: contracts/PoolManager.sol

8: abstract contract PoolManager is WiseCore {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L8)]


```solidity
File: contracts/PositionNFTs.sol

11: contract PositionNFTs is ERC721Enumerable, OwnableMaster {

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L11)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

7: abstract contract PendlePowerFarm is PendlePowerFarmLeverageLogic {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

36: contract PendlePowerFarmDeclarations is

```
*Github:* [[36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L36)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

7: abstract contract PendlePowerFarmLeverageLogic is

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

7: abstract contract PendlePowerFarmMathLogic is PendlePowerFarmDeclarations {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

15: contract PendlePowerManager is OwnableMaster, PendlePowerFarm, MinterReserver {

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L15)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

8: contract PendlePowerFarmController is PendlePowerFarmControllerHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L8)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

30: contract PendlePowerFarmControllerBase is

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L30)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

7: abstract contract PendlePowerFarmControllerHelper is PendlePowerFarmControllerBase {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L7)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

25: contract PendlePowerFarmToken is SimpleERC20, TransferHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L25)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

9: contract PendlePowerFarmTokenFactory {

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L9)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

10: contract MinterReserver {

```
*Github:* [[10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L10)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

24: contract PowerFarmNFTs is ERC721Enumerable, OwnableMaster {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L24)]


```solidity
File: contracts/TransferHub/ApprovalHelper.sol

7: contract ApprovalHelper is CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/ApprovalHelper.sol#L7)]


```solidity
File: contracts/TransferHub/CallOptionalReturn.sol

7: contract CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/CallOptionalReturn.sol#L7)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

8: contract SendValueHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L8)]


```solidity
File: contracts/TransferHub/TransferHelper.sol

7: contract TransferHelper is CallOptionalReturn {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/TransferHelper.sol#L7)]


```solidity
File: contracts/TransferHub/WrapperHelper.sol

7: contract WrapperHelper {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L7)]


```solidity
File: contracts/WiseCore.sol

8: abstract contract WiseCore is MainHelper, TransferHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L8)]


```solidity
File: contracts/WiseLending.sol

43: contract WiseLending is PoolManager {

```
*Github:* [[43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L43)]


```solidity
File: contracts/WiseLendingDeclaration.sol

30: contract WiseLendingDeclaration is

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L30)]


```solidity
File: contracts/WiseLowLevelHelper.sol

7: abstract contract WiseLowLevelHelper is WiseLendingDeclaration {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L7)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

33: abstract contract Declarations is OwnableMaster {

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L33)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

7: abstract contract OracleHelper is Declarations {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L7)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

31: contract WiseOracleHub is OracleHelper {

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L31)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

24: contract WiseSecurity is WiseSecurityHelper, ApprovalHelper {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L24)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

45: contract WiseSecurityDeclarations is OwnableMaster {

```
*Github:* [[45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L45)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

7: abstract contract WiseSecurityHelper is WiseSecurityDeclarations {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L7)]


```solidity
File: contracts/WrapperHub/AaveEvents.sol

5: contract AaveEvents {

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L5)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

7: abstract contract AaveHelper is Declarations {

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L7)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

25: contract AaveHub is AaveHelper, TransferHelper, ApprovalHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L25)]


```solidity
File: contracts/WrapperHub/Declarations.sol

21: contract Declarations is OwnableMaster, AaveEvents, WrapperHelper {

```
*Github:* [[21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L21)]


</details>


<a name="NC-78"></a> 
### [NC-78] Consider using modifiers for address control
Modifiers in Solidity can improve code readability and modularity by encapsulating repetitive checks, such as address validity checks, into a reusable construct. For example, an `onlyOwner` modifier can be used to replace repetitive `require(msg.sender == owner)` checks across several functions, reducing code redundancy and enhancing maintainability. To implement, define a modifier with the check, then apply the modifier to relevant functions.

<details>
<summary>
There are <b>19</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

195:         if (msg.sender == incentiveMaster) {

206:         if (msg.sender == address(WISE_SECURITY)) {

217:         if (msg.sender == address(WISE_LENDING)) {

```
*Github:* [[195](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L195), [206](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L206), [217](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L217)]


```solidity
File: contracts/FeeManager/FeeManager.sol

197:         if (msg.sender != proposedIncentiveMaster) {

320:         if (msg.sender != incentiveOwnerA) {

357:         if (msg.sender != incentiveOwnerB) {

```
*Github:* [[197](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L197), [320](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L320), [357](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L357)]


```solidity
File: contracts/OwnableMaster.sol

25:         if (msg.sender == master) {

41:         if (msg.sender == proposedMaster) {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L25), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L41)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

77:         if (msg.sender != BALANCER_ADDRESS) {

```
*Github:* [[77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L77)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

251:         if (msg.sender != pendleChildAddress[_pendleMarket]) {

```
*Github:* [[251](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L251)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

76:         if (msg.sender != PENDLE_POWER_FARM_CONTROLLER) {

514:         if (msg.sender == PENDLE_POWER_FARM_CONTROLLER) {

635:         if (msg.sender == PENDLE_POWER_FARM_CONTROLLER) {

```
*Github:* [[76](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L76), [514](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L514), [635](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L635)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

44:         if (msg.sender != PENDLE_POWER_FARM_CONTROLLER) {

```
*Github:* [[44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L44)]


```solidity
File: contracts/WiseLending.sol

53:         if (msg.sender == WETH_ADDRESS) {

```
*Github:* [[53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L53)]


```solidity
File: contracts/WiseLendingDeclaration.sol

261:         if (msg.sender != AAVE_HUB_ADDRESS) {

```
*Github:* [[261](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L261)]


```solidity
File: contracts/WiseLowLevelHelper.sol

18:         if (msg.sender == address(FEE_MANAGER)) {

```
*Github:* [[18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L18)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

35:         if (msg.sender == address(WISE_LENDING)) {

```
*Github:* [[35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L35)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

87:         if (msg.sender == WETH_ADDRESS) {

```
*Github:* [[87](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L87)]


</details>


<a name="NC-79"></a> 
### [NC-79] Use scientific notation (e.g. `1e18`) rather than exponentiation (e.g. `10**18`)
While the compiler knows to optimize away the exponentiation, it's still better coding practice to use idioms that do not require compiler optimization, if they exist.

*There is one instance of this issue:*
```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

67:     uint256 internal constant POW_FEED_DECIMALS = 10 ** 18;

```
*Github:* [[67](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L67)]



<a name="NC-80"></a> 
### [NC-80] Returning a struct instead of a bunch of variables is better
If a function returns [too many variables](https://docs.soliditylang.org/en/v0.8.21/contracts.html#returning-multiple-values), replacing them with a struct can improve code readability, maintainability and reusability.

*There are <b>5</b> instances of this issue:*
```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

/// @audit 5 return variables
55:     function latestRoundData()
            external
            view
            returns (
                uint80 roundId,
                int256 answer,
                uint256 startedAt,
                uint256 updatedAt,
                uint80 answerdInRound
            )
        {

/// @audit 5 return variables
78:     function getRoundData(
            uint80 _roundId
        )
            external
            view
            returns (
                uint80 roundId,
                int256 answer,
                uint256 startedAt,
                uint256 updatedAt,
                uint80 answeredInRound
            )
        {

```
*Github:* [[55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L55), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L78)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

/// @audit 5 return variables
151:     function latestRoundData()
             external
             view
             returns (
                 uint80 roundId,
                 int256 answer,
                 uint256 startedAt,
                 uint256 updatedAt,
                 uint80 answeredInRound
             )
         {

```
*Github:* [[151](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L151)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

/// @audit 5 return variables
146:     function latestRoundData()
             public
             view
             returns (
                 uint80 roundId,
                 int256 answer,
                 uint256 startedAt,
                 uint256 updatedAt,
                 uint80 answeredInRound
             )
         {

```
*Github:* [[146](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L146)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

/// @audit 5 return variables
125:     function latestRoundData()
             public
             view
             returns (
                 uint80 roundId,
                 int256 answer,
                 uint256 startedAt,
                 uint256 updatedAt,
                 uint80 answeredInRound
             )
         {

```
*Github:* [[125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L125)]



<a name="NC-81"></a> 
### [NC-81] Use a struct to encapsulate multiple function parameters
If a function has too many parameters, replacing them with a struct can improve code readability and maintainability, increase reusability, and reduce the likelihood of errors when passing the parameters.

*There are <b>3</b> instances of this issue:*
```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

/// @audit 8 parameters
15:     function _executeBalancerFlashLoan(
            uint256 _nftId,
            uint256 _flashAmount,
            uint256 _initialAmount,
            uint256 _lendingShares,
            uint256 _borrowShares,
            uint256 _allowedSpread,
            bool _ethBack,
            bool _isAave
        )
            internal
        {

/// @audit 8 parameters
134:     function _logicClosePosition(
             uint256 _nftId,
             uint256 _borrowShares,
             uint256 _lendingShares,
             uint256 _totalDebtBalancer,
             uint256 _allowedSpread,
             address _caller,
             bool _ethBack,
             bool _isAave
         )
             private
         {

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L15), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L134)]


```solidity
File: contracts/WiseLending.sol

/// @audit 7 parameters
1314:     function coreLiquidationIsolationPools(
              uint256 _nftId,
              uint256 _nftIdLiquidator,
              address _caller,
              address _paybackToken,
              address _receiveToken,
              uint256 _paybackAmount,
              uint256 _shareAmountToPay
          )
              external
              syncPool(_paybackToken)
              syncPool(_receiveToken)
              returns (uint256)
          {

```
*Github:* [[1314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1314)]



<a name="NC-82"></a> 
### [NC-82] Variable names that consist of all capital letters should be reserved for `constant`/`immutable` variables

<details>
<summary>
There are <b>13</b> instances (click to show):
</summary>

```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

72:     IArbRewardsClaimer public ARB_REWARDS;

```
*Github:* [[72](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L72)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

28:     address public UNDERLYING_PENDLE_MARKET;

29:     address public PENDLE_POWER_FARM_CONTROLLER;

38:     IPendleMarket public PENDLE_MARKET;

41:     IPendleSy public PENDLE_SY;

44:     IPendleController public PENDLE_CONTROLLER;

47:     uint16 public MAX_CARDINALITY;

61:     uint256 private INITIAL_TIME_STAMP;

```
*Github:* [[28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L28), [29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L29), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L38), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L41), [44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L44), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L47), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L61)]


```solidity
File: contracts/WiseLendingDeclaration.sol

162:     address internal AAVE_HUB_ADDRESS;

174:     IWiseSecurity public WISE_SECURITY;

177:     IFeeManagerLight internal FEE_MANAGER;

```
*Github:* [[162](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L162), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L174), [177](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L177)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

112:     uint256 internal ALLOWED_DIFFERENCE = 10250;

```
*Github:* [[112](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L112)]


```solidity
File: contracts/WrapperHub/Declarations.sol

32:     IWiseSecurity public WISE_SECURITY;

```
*Github:* [[32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L32)]


</details>


<a name="NC-83"></a> 
### [NC-83] Visibility of state variables is not explicitly defined
To avoid misunderstandings and unexpected state accesses, it is recommended to explicitly define the visibility of each state variable.

*There are <b>8</b> instances of this issue:*
```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

18:     uint8 constant DECIMALS_PRECISION = 18;

```
*Github:* [[18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L18)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

47:     address immutable PENDLE_MARKET_ADDRESS;

```
*Github:* [[47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L47)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

84:     address immutable AAVE_ADDRESS;

88:     address immutable AAVE_HUB_ADDRESS;

90:     address immutable AAVE_WETH_ADDRESS;

```
*Github:* [[84](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L84), [88](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L88), [90](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L90)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

59:     mapping(address => CompoundStruct) pendleChildCompoundInfo;

```
*Github:* [[59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L59)]


```solidity
File: contracts/WiseLendingDeclaration.sol

168:     uint256 immutable FEE_MANAGER_NFT;

```
*Github:* [[168](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L168)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

139:     mapping(address => uint8) _tokenDecimals;

```
*Github:* [[139](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L139)]



<a name="NC-84"></a> 
### [NC-84] Whitespace in Expressions
See the [Whitespace in Expressions](https://docs.soliditylang.org/en/latest/style-guide.html#whitespace-in-expressions) section of the Solidity Style Guide.

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

78:         (bool success, ) = _tokenAggregator.call(

```
*Github:* [[78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L78)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

208:         (bool success, ) = payable(_recipient).call{

```
*Github:* [[208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L208)]



<a name="NC-85"></a> 
### [NC-85] Common functions should be refactored to a common base contract
The functions below have the same implementation as is seen in other files. The functions should be refactored into functions of a common base contract.

*There are <b>8</b> instances of this issue:*
```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

/// @audit seen in contracts/DerivativeOracles/PtOracleDerivative.sol
139:     function decimals()
             external
             pure
             returns (uint8)
         {

/// @audit seen in contracts/DerivativeOracles/PtOracleDerivative.sol
151:     function latestRoundData()
             external
             view
             returns (
                 uint80 roundId,
                 int256 answer,
                 uint256 startedAt,
                 uint256 updatedAt,
                 uint80 answeredInRound
             )
         {

```
*Github:* [[139](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L139), [151](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L151)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

/// @audit seen in contracts/DerivativeOracles/PendleLpOracle.sol
134:     function decimals()
             external
             pure
             returns (uint8)
         {

/// @audit seen in contracts/DerivativeOracles/PendleLpOracle.sol
146:     function latestRoundData()
             public
             view
             returns (
                 uint80 roundId,
                 int256 answer,
                 uint256 startedAt,
                 uint256 updatedAt,
                 uint80 answeredInRound
             )
         {

```
*Github:* [[134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L134), [146](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L146)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

/// @audit seen in contracts/DerivativeOracles/PendleLpOracle.sol
113:     function decimals()
             external
             pure
             returns (uint8)
         {

/// @audit seen in contracts/DerivativeOracles/PendleLpOracle.sol
125:     function latestRoundData()
             public
             view
             returns (
                 uint80 roundId,
                 int256 answer,
                 uint256 startedAt,
                 uint256 updatedAt,
                 uint80 answeredInRound
             )
         {

```
*Github:* [[113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L113), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L125)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

/// @audit seen in contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol
244:     function _getTokensInETH(
             address _tokenAddress,
             uint256 _tokenAmount
         )
             internal
             view
             returns (uint256)
         {

```
*Github:* [[244](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L244)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

/// @audit seen in contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol
189:     function _getTokensInETH(
             address _tokenAddress,
             uint256 _tokenAmount
         )
             internal
             view
             returns (uint256)
         {

```
*Github:* [[189](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L189)]



<a name="NC-86"></a> 
### [NC-86] Empty body - Consider commenting why

*There are <b>5</b> instances of this issue:*
```solidity
File: contracts/FeeManager/FeeManager.sol

43:     {}

```
*Github:* [[43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L43)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

49:     {}

```
*Github:* [[49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L49)]


```solidity
File: contracts/WiseLending.sol

126:     {}

```
*Github:* [[126](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L126)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

52:     {}

```
*Github:* [[52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L52)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

37:     {}

```
*Github:* [[37](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L37)]



<a name="NC-87"></a> 
### [NC-87] Names of `private`/`internal` state variables should be prefixed with an underscore
It is recommended by the [Solidity Style Guide](https://docs.soliditylang.org/en/v0.8.20/style-guide.html#underscore-prefix-for-non-external-functions-and-variables)

<details>
<summary>
There are <b>114</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

18:     uint8 constant DECIMALS_PRECISION = 18;

19:     uint256 private constant PRECISION_FACTOR_E18 = 1E18;

```
*Github:* [[18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L18), [19](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L19)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

30:     uint256 internal constant DEFAULT_DECIMALS = 18;

66:     uint8 internal constant FEED_DECIMALS = 18;

67:     uint256 internal constant POW_FEED_DECIMALS = 10 ** 18;

70:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L30), [66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L66), [67](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L67), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L70)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

47:     address immutable PENDLE_MARKET_ADDRESS;

65:     uint8 internal constant FEED_DECIMALS = 18;

68:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

```
*Github:* [[47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L47), [65](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L65), [68](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L68)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

50:     uint256 internal immutable POW_FEED;

51:     uint8 internal constant FEED_DECIMALS = 18;

54:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

```
*Github:* [[50](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L50), [51](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L51), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L54)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

167:     uint256 internal constant PRECISION_FACTOR_E15 = 1E15;

168:     uint256 internal constant PRECISION_FACTOR_E16 = 1E16;

169:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

```
*Github:* [[167](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L167), [168](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L168), [169](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L169)]


```solidity
File: contracts/OwnableMaster.sol

14:     address internal constant ZERO_ADDRESS = address(0x0);

```
*Github:* [[14](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L14)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

62:     uint256 internal constant MAX_COLLATERAL_FACTOR = 95 * PRECISION_FACTOR_E16;

82:     address internal immutable WETH_ADDRESS;

84:     address immutable AAVE_ADDRESS;

86:     address internal constant BALANCER_ADDRESS = 0xBA12222222228d8Ba445958a75a0704d566BF2C8;

88:     address immutable AAVE_HUB_ADDRESS;

90:     address immutable AAVE_WETH_ADDRESS;

92:     address internal constant ST_ETH_ADDRESS = 0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84;

95:     uint24 internal constant UNISWAP_V3_FEE = 100;

98:     uint256 internal constant MAX_AMOUNT = type(uint256).max;

99:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

100:     uint256 internal constant PRECISION_FACTOR_E16 = 1E16;

101:     uint256 internal constant MAX_LEVERAGE = 15 * PRECISION_FACTOR_E18;

102:     uint256 internal constant FIVTY_PERCENT = 0.5 ether;

104:     uint256 internal constant ETH_CHAIN_ID = 1;

105:     uint256 internal constant ARB_CHAIN_ID = 42161;

```
*Github:* [[62](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L62), [82](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L82), [84](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L84), [86](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L86), [88](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L88), [90](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L90), [92](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L92), [95](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L95), [98](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L98), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L99), [100](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L100), [101](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L101), [102](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L102), [104](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L104), [105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L105)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

41:     address internal immutable PENDLE_TOKEN_ADDRESS;

43:     address internal immutable VOTER_CONTRACT_ADDRESS;

44:     address internal immutable VOTER_REWARDS_CLAIMER_ADDRESS;

46:     address internal immutable WISE_ORACLE_HUB_ADDRESS;

47:     address internal immutable VE_PENDLE_CONTRACT_ADDRESS;

49:     uint256 internal constant PRECISION_FACTOR_E6 = 1E6;

50:     uint256 internal constant PRECISION_FACTOR_E10 = 1E10;

51:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

53:     uint256 internal constant MAINNET_CHAIN_ID = 1;

54:     uint256 internal constant ARBITRUM_CHAIN_ID = 42161;

59:     mapping(address => CompoundStruct) pendleChildCompoundInfo;

63:     bool immutable IS_ETH_MAIN;

65:     uint128 internal constant WEEK = 7 days;

74:     address internal constant ARB_REWARDS_ADDRESS = 0x23a102e78D1FF1645a3666691495174764a5FCAF;

75:     address internal constant ARB_TOKEN_ADDRESS = 0x912CE59144191C1204E64559FE8253a0e49E6548;

77:     IWiseOracleHub immutable internal ORACLE_HUB;

```
*Github:* [[41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L41), [43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L43), [44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L44), [46](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L46), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L47), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L49), [50](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L50), [51](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L51), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L53), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L54), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L59), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L63), [65](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L65), [74](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L74), [75](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L75), [77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L77)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

52:     uint256 private constant ONE_WEEK = 7 days;

53:     uint256 internal constant ONE_YEAR = 365 days;

54:     uint256 private constant MAX_MINT_FEE = 10000;

56:     uint256 private constant PRECISION_FACTOR_E6 = 1E6;

57:     uint256 private constant PRECISION_FACTOR_E18 = 1E18;

58:     uint256 internal constant PRECISION_FACTOR_E36 = PRECISION_FACTOR_E18 * PRECISION_FACTOR_E18;

59:     uint256 internal constant PRECISION_FACTOR_YEAR = PRECISION_FACTOR_E18 * ONE_YEAR;

61:     uint256 private INITIAL_TIME_STAMP;

63:     uint256 internal constant RESTRICTION_FACTOR = 10

```
*Github:* [[52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L52), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L53), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L54), [56](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L56), [57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L57), [58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L58), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L59), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L61), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L63)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

11:     address internal constant ZERO_ADDRESS = address(0x0);

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L11)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

12:     IPowerFarmsNFTs immutable FARMS_NFTS;

```
*Github:* [[12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L12)]


```solidity
File: contracts/TransferHub/WrapperHelper.sol

9:     IWETH internal immutable WETH;

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L9)]


```solidity
File: contracts/WiseLendingDeclaration.sol

162:     address internal AAVE_HUB_ADDRESS;

168:     uint256 immutable FEE_MANAGER_NFT;

170:     uint256 internal constant MIN_BORROW_SHARE_PRICE = 5 * PRECISION_FACTOR_E18

177:     IFeeManagerLight internal FEE_MANAGER;

186:     bool internal powerFarmCheck;

188:     uint256 internal constant GHOST_AMOUNT = 1E3;

267:     mapping(address => uint256) internal bufferIncrease;

287:     mapping(address => bool) internal parametersLocked;

291:     mapping(bytes32 => bool) internal hashMapPositionBorrow;

292:     mapping(bytes32 => bool) internal hashMapPositionLending;

295:     uint256 internal constant PRECISION_FACTOR_E16 = 1E16;

296:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

297:     uint256 internal constant PRECISION_FACTOR_E36 = PRECISION_FACTOR_E18 * PRECISION_FACTOR_E18;

300:     uint256 internal constant ONE_YEAR = 365 days;

301:     uint256 internal constant THREE_HOURS = 3 hours;

302:     uint256 internal constant PRECISION_FACTOR_YEAR = PRECISION_FACTOR_E18 * ONE_YEAR;

307:     uint256 internal constant NORMALISATION_FACTOR = 4838400;

310:     uint256 internal constant LOWER_BOUND_MAX_RATE = 100 * PRECISION_FACTOR_E16;

311:     uint256 internal constant UPPER_BOUND_MAX_RATE = 300 * PRECISION_FACTOR_E16;

314:     uint256 internal constant THRESHOLD_SWITCH_DIRECTION = 90 * PRECISION_FACTOR_E16;

315:     uint256 internal constant THRESHOLD_RESET_RESONANCE_FACTOR = 75 * PRECISION_FACTOR_E16;

319:     uint256 internal constant MAX_COLLATERAL_FACTOR = 85 * PRECISION_FACTOR_E16;

320:     uint256 internal constant MAX_TOTAL_TOKEN_NUMBER = 8;

323:     uint256 internal constant RESTRICTION_FACTOR = 10

```
*Github:* [[162](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L162), [168](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L168), [170](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L170), [177](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L177), [186](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L186), [188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L188), [267](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L267), [287](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L287), [291](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L291), [292](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L292), [295](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L295), [296](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L296), [297](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L297), [300](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L300), [301](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L301), [302](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L302), [307](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L307), [310](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L310), [311](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L311), [314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L314), [315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L315), [319](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L319), [320](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L320), [323](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L323)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

103:     uint80 internal constant MAX_ROUND_COUNT = 50;

106:     uint32 internal constant SECONDS_IN_MINUTE = 60;

109:     uint32 internal constant TWAP_PERIOD = 30 * SECONDS_IN_MINUTE;

112:     uint256 internal ALLOWED_DIFFERENCE = 10250;

115:     uint256 internal constant MIN_ITERATION_COUNT = 3;

118:     uint256 internal constant PRECISION_FACTOR_E4 = 1E4;

121:     uint256 internal constant GRACE_PEROID = 3600;

124:     IPriceFeed internal constant ZERO_FEED = IPriceFeed(

129:     IAggregator internal constant ZERO_AGGREGATOR = IAggregator(

133:     bool internal immutable IS_ARBITRUM_CHAIN;

134:     uint256 internal constant ARBITRUM_CHAIN_ID = 42161;

```
*Github:* [[103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L103), [106](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L106), [109](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L109), [112](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L112), [115](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L115), [118](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L118), [121](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L121), [124](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L124), [129](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L129), [133](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L133), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L134)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

206:     uint256 internal constant MAX_LIQUIDATION_50 = 50E16;

207:     uint256 internal constant BAD_DEBT_THRESHOLD = 89E16;

209:     uint256 internal constant UINT256_MAX = type(uint256).max;

210:     uint256 internal constant ONE_YEAR = 365 days;

217:     uint256 internal constant PRECISION_FACTOR_E16 = 1E16;

218:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

219:     uint256 internal constant ONE_WEI = 1;

222:     bool immutable IS_ETH_MAINNET;

225:     uint256 internal constant LIQUIDATION_INCENTIVE_MAX = 11 * PRECISION_FACTOR_E16;

226:     uint256 internal constant LIQUIDATION_INCENTIVE_MIN = 2 * PRECISION_FACTOR_E16;

227:     uint256 internal constant LIQUIDATION_INCENTIVE_POWERFARM_MAX = 4 * PRECISION_FACTOR_E16;

230:     uint256 internal constant LIQUIDATION_FEE_MIN_ETH = 3 * PRECISION_FACTOR_E18;

231:     uint256 internal constant LIQUIDATION_FEE_MAX_ETH = 100 * PRECISION_FACTOR_E18;

232:     uint256 internal constant LIQUIDATION_FEE_MAX_NON_ETH = 10 * PRECISION_FACTOR_E18;

233:     uint256 internal constant LIQUIDATION_FEE_MIN_NON_ETH = 30 * PRECISION_FACTOR_E16;

```
*Github:* [[206](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L206), [207](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L207), [209](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L209), [210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L210), [217](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L217), [218](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L218), [219](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L219), [222](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L222), [225](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L225), [226](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L226), [227](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L227), [230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L230), [231](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L231), [232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L232), [233](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L233)]


```solidity
File: contracts/WrapperHub/Declarations.sol

23:     IAave internal immutable AAVE;

27:     uint16 internal constant REF_CODE = 0;

37:     uint256 internal constant PRECISION_FACTOR_E9 = 1E9;

38:     uint256 internal constant PRECISION_FACTOR_E18 = 1E18;

39:     uint256 internal constant MAX_AMOUNT = type(uint256).max;

```
*Github:* [[23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L23), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L27), [37](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L37), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L38), [39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L39)]


</details>


<a name="NC-88"></a> 
### [NC-88] Internal function calls within for loops
Making function calls or external calls within loops in Solidity can lead to inefficient gas usage, potential bottlenecks, and increased vulnerability to attacks. Each function call or external call consumes gas, and when executed within a loop, the gas cost multiplies, potentially causing the transaction to run out of gas or exceed block gas limits. This can result in transaction failure or unpredictable behavior.

*There is one instance of this issue:*
```solidity
File: contracts/WrapperHub/AaveHub.sol

/// @audit `_setAaveTokenAddress`
71:         for (uint256 i = 0; i < _underlyingAssets.length; i++) {

```
*Github:* [[71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L71)]



<a name="NC-89"></a> 
### [NC-89]  `require()` / `revert()` statements should have descriptive reason strings

*There is one instance of this issue:*
```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

47:         require(

```
*Github:* [[47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L47)]



<a name="NC-90"></a> 
### [NC-90] Variables should be named in mixedCase style
As the [Solidity Style Guide](https://docs.soliditylang.org/en/latest/style-guide.html#naming-styles) suggests: `arguments`, `local variables` and `mutable state variables` should be named in mixedCase style.

<details>
<summary>
There are <b>13</b> instances (click to show):
</summary>

```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

/// @audit `ARB_REWARDS`
72:     IArbRewardsClaimer public ARB_REWARDS;

```
*Github:* [[72](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L72)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit `UNDERLYING_PENDLE_MARKET`
28:     address public UNDERLYING_PENDLE_MARKET;

/// @audit `PENDLE_POWER_FARM_CONTROLLER`
29:     address public PENDLE_POWER_FARM_CONTROLLER;

/// @audit `PENDLE_MARKET`
38:     IPendleMarket public PENDLE_MARKET;

/// @audit `PENDLE_SY`
41:     IPendleSy public PENDLE_SY;

/// @audit `PENDLE_CONTROLLER`
44:     IPendleController public PENDLE_CONTROLLER;

/// @audit `MAX_CARDINALITY`
47:     uint16 public MAX_CARDINALITY;

/// @audit `INITIAL_TIME_STAMP`
61:     uint256 private INITIAL_TIME_STAMP;

```
*Github:* [[28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L28), [29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L29), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L38), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L41), [44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L44), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L47), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L61)]


```solidity
File: contracts/WiseLendingDeclaration.sol

/// @audit `AAVE_HUB_ADDRESS`
162:     address internal AAVE_HUB_ADDRESS;

/// @audit `WISE_SECURITY`
174:     IWiseSecurity public WISE_SECURITY;

/// @audit `FEE_MANAGER`
177:     IFeeManagerLight internal FEE_MANAGER;

```
*Github:* [[162](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L162), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L174), [177](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L177)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

/// @audit `ALLOWED_DIFFERENCE`
112:     uint256 internal ALLOWED_DIFFERENCE = 10250;

```
*Github:* [[112](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L112)]


```solidity
File: contracts/WrapperHub/Declarations.sol

/// @audit `WISE_SECURITY`
32:     IWiseSecurity public WISE_SECURITY;

```
*Github:* [[32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L32)]


</details>


<a name="NC-91"></a> 
### [NC-91] `TODO`s left in the code
TODOs may signal that a feature is missing or not ready for audit, consider resolving the issue and removing the TODO comment.

*There are <b>3</b> instances of this issue:*
```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

563:         // @TODO: Add a check for TWAP comparison on 2.5%

```
*Github:* [[563](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L563)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

95:     // @TODO: Delete later, keep for backward compatibility

170:     // @TODO: Delete later, keep for backward compatibility

```
*Github:* [[95](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L95), [170](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L170)]



<a name="NC-92"></a> 
### [NC-92] Event is missing `indexed` fields
Index event fields make the field more quickly accessible to off-chain tools that parse events. However, note that each index field costs extra gas during emission, so it's not necessarily best to index the maximum allowed per event (three fields). Each event should use three indexed fields if there are three or more fields, and gas usage is not particularly of concern for the events in question. If there are fewer than three fields, all of the fields should be indexed.

<details>
<summary>
There are <b>46</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/FeeManagerEvents.sol

7:     event ClaimedFeesWiseBulk(

11:     event PoolTokenRemoved(

16:     event PoolTokenAdded(

21:     event IncentiveOwnerBChanged(

26:     event IncentiveOwnerAChanged(

31:     event ClaimedOwnershipIncentiveMaster(

36:     event IncentiveMasterProposed(

41:     event PoolFeeChanged(

47:     event ClaimedIncentives(

54:     event ClaimedIncentivesBulk(

58:     event IncentiveIncreasedB(

63:     event IncentiveIncreasedA(

68:     event BadDebtIncreasedLiquidation(

73:     event TotalBadDebtIncreased(

78:     event TotalBadDebtDecreased(

83:     event SetBadDebtPosition(

89:     event UpdateBadDebtPosition(

95:     event SetBeneficial(

101:     event RevokeBeneficial(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L7), [11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L11), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L16), [21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L21), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L26), [31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L31), [36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L36), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L41), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L47), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L54), [58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L58), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L63), [68](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L68), [73](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L73), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L78), [83](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L83), [89](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L89), [95](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L95), [101](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerEvents.sol#L101)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

118:     event FarmExit(

125:     event FarmStatus(

130:     event ManualPaybackShares(

137:     event ManualWithdrawShares(

144:     event MinDepositChange(

149:     event ETHReceived(

154:     event RegistrationFarm(

```
*Github:* [[118](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L118), [125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L125), [130](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L130), [137](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L137), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L144), [149](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L149), [154](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L154)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

135:     event ETHReceived(

140:     event ChangeExchangeIncentive(

144:     event WithdrawLp(

150:     event ExchangeRewardsForCompounding(

157:     event ExchangeLpFeesForPendle(

169:     event UpdateRewardTokens(

174:     event ChangeMintFee(

179:     event LockPendle(

188:     event ClaimArb(

194:     event IncreaseReservedForCompound(

199:     event ClaimVoteRewards(

205:     event WithdrawLock(

```
*Github:* [[135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L135), [140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L140), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L144), [150](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L150), [157](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L157), [169](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L169), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L174), [179](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L179), [188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L188), [194](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L194), [199](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L199), [205](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L205)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

153:     event ERC721Received(

```
*Github:* [[153](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L153)]


```solidity
File: contracts/WrapperHub/AaveEvents.sol

7:     event SetAaveTokenAddress(

13:     event IsDepositAave(

18:     event IsWithdrawAave(

23:     event IsBorrowAave(

28:     event IsPaybackAave(

33:     event IsSolelyDepositAave(

38:     event IsSolelyWithdrawAave(

```
*Github:* [[7](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L7), [13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L13), [18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L18), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L23), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L28), [33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L33), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveEvents.sol#L38)]


</details>


<a name="NC-93"></a> 
### [NC-93] Functions not used internally could be marked `external`

<details>
<summary>
There are <b>27</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

146:     function latestRoundData()

```
*Github:* [[146](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L146)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

125:     function latestRoundData()

```
*Github:* [[125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L125)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

244:     function getReceivingToken(

270:     function updatePositionCurrentBadDebt(

```
*Github:* [[244](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L244), [270](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L270)]


```solidity
File: contracts/MainHelper.sol

55:     function calculateBorrowShares(

114:     function paybackAmount(

```
*Github:* [[55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L55), [114](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L114)]


```solidity
File: contracts/PositionNFTs.sol

340:     function tokenURI(

```
*Github:* [[340](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L340)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

272:     function syncAllSupply()

```
*Github:* [[272](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L272)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

182:     function tokenURI(

```
*Github:* [[182](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L182)]


```solidity
File: contracts/WiseLowLevelHelper.sol

39:     function getTotalPool(

49:     function getPseudoTotalPool(

144:     function getPositionLendingTokenByIndex(

155:     function getPositionLendingTokenLength(

165:     function getPositionBorrowTokenByIndex(

176:     function getPositionBorrowTokenLength(

```
*Github:* [[39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L39), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L49), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L144), [155](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L155), [165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L165), [176](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L176)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

265:     function getETHPriceInUSD()

521:     function sequencerIsDead()

```
*Github:* [[265](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L265), [521](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L521)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

15:     function overallETHCollateralsBoth(

360:     function overallETHBorrowBare(

394:     function overallETHBorrowHeartbeat(

672:     function checkTokenAllowed(

687:     function checkHeartbeat(

837:     function checksRegister(

859:     function canLiquidate(

876:     function checkMaxShares(

999:     function getLendingRate(

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L15), [360](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L360), [394](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L394), [672](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L672), [687](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L687), [837](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L837), [859](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L859), [876](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L876), [999](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L999)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

315:     function getAavePoolAPY(

```
*Github:* [[315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L315)]


</details>


<a name="NC-94"></a> 
### [NC-94] Consider moving duplicated strings to constants

*There are <b>6</b> instances of this issue:*
```solidity
File: contracts/PositionNFTs.sol

356:             return "";

379:             return "0";

```
*Github:* [[356](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L356), [379](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L379)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

198:             return "";

221:             return "0";

```
*Github:* [[198](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L198), [221](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L221)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

29:         }("");

```
*Github:* [[29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L29)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

210:         }("");

```
*Github:* [[210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L210)]




## Gas Optimizations

<a name="GAS-1"></a> 
### [GAS-1] Assigning to structs can be more efficient
By changing the pattern of assigning value to the structure, gas savings of ~130 per instance are achieved. In addition, this use will provide significant savings in distribution costs. Instead of:
```solidity
MyStruct memory myStruct = MyStruct(_a, _b, _c);
```
write:
```solidity
MyStruct memory myStruct;
myStruct.a = _a;
myStruct.b = _b;
myStruct.c = _c;
```

*There are <b>10</b> instances of this issue:*
```solidity
File: contracts/PoolManager.sol

88:         borrowRatesData[_poolToken] = BorrowRatesEntry(
                startValuePole,
                staticDeltaPole,
                staticMinPole,
                staticMaxPole,
                _poolMulFactor

208:         globalPoolData[_params.poolToken] = GlobalPoolEntry({
                 totalPool: 0,
                 utilization: 0,
                 totalBareToken: 0,
                 poolFee: 20 * PRECISION_FACTOR_E16

222:         borrowRatesData[_params.poolToken] = BorrowRatesEntry(
                 startValuePole,
                 staticDeltaPole,
                 staticMinPole,
                 staticMaxPole,
                 _params.poolMulFactor

231:         borrowPoolData[_params.poolToken] = BorrowPoolEntry({
                 allowBorrow: _params.allowBorrow,
                 pseudoTotalBorrowAmount: GHOST_AMOUNT,
                 totalBorrowShares: GHOST_AMOUNT,
                 borrowRate: 0

239:         algorithmData[_params.poolToken] = AlgorithmEntry({
                 bestPole: startValuePole,
                 maxValue: 0,
                 previousValue: 0,
                 increasePole: false

247:         lendingPoolData[_params.poolToken] = LendingPoolEntry({
                 pseudoTotalPool: GHOST_AMOUNT,
                 totalDepositShares: GHOST_AMOUNT,
                 collateralFactor: _params.poolCollFactor

254:         timestampsPoolData[_params.poolToken] = TimestampsPoolEntry({
                 timeStamp: block.timestamp,
                 timeStampScaling: block.timestamp,
                 initialTimeStamp: block.timestamp

```
*Github:* [[88](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L88), [208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L208), [222](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L222), [231](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L231), [239](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L239), [247](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L247), [254](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L254)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

473:                 _guessPtReceivedFromSy: ApproxParams(
                         {
                             guessMin: netPtFromSwap - 100,
                             guessMax: netPtFromSwap + 100,
                             guessOffchain: 0,
                             maxIteration: 50,
                             eps: 1e15

```
*Github:* [[473](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L473)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

186:         uniTwapPoolInfo[_tokenAddress] = UniTwapPoolInfo({
                 oracle: _oracle,
                 isUniPool: _isUniPool

210:         derivativePartnerTwap[_tokenAddress] = DerivativePartnerInfo(
                 _partnerTokenAddress,
                 _partnerOracleAddress

```
*Github:* [[186](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L186), [210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L210)]



<a name="GAS-2"></a> 
### [GAS-2] Assigning state variables directly with named struct constructors wastes gas
Using named arguments for struct means that the compiler needs to organize the fields in memory before doing the assignment, which wastes gas. Set each field directly in storage (use dot-notation), or use the unnamed version of the constructor.

*There are <b>6</b> instances of this issue:*
```solidity
File: contracts/PoolManager.sol

208:         globalPoolData[_params.poolToken] = GlobalPoolEntry({
                 totalPool: 0,
                 utilization: 0,
                 totalBareToken: 0,
                 poolFee: 20 * PRECISION_FACTOR_E16

231:         borrowPoolData[_params.poolToken] = BorrowPoolEntry({
                 allowBorrow: _params.allowBorrow,
                 pseudoTotalBorrowAmount: GHOST_AMOUNT,
                 totalBorrowShares: GHOST_AMOUNT,
                 borrowRate: 0

239:         algorithmData[_params.poolToken] = AlgorithmEntry({
                 bestPole: startValuePole,
                 maxValue: 0,
                 previousValue: 0,
                 increasePole: false

247:         lendingPoolData[_params.poolToken] = LendingPoolEntry({
                 pseudoTotalPool: GHOST_AMOUNT,
                 totalDepositShares: GHOST_AMOUNT,
                 collateralFactor: _params.poolCollFactor

254:         timestampsPoolData[_params.poolToken] = TimestampsPoolEntry({
                 timeStamp: block.timestamp,
                 timeStampScaling: block.timestamp,
                 initialTimeStamp: block.timestamp

```
*Github:* [[208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L208), [231](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L231), [239](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L239), [247](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L247), [254](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L254)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

186:         uniTwapPoolInfo[_tokenAddress] = UniTwapPoolInfo({
                 oracle: _oracle,
                 isUniPool: _isUniPool

```
*Github:* [[186](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L186)]



<a name="GAS-3"></a> 
### [GAS-3] Optimize gas by using do-while loops
Using `do-while` loops instead of `for` loops can be more gas-efficient. Even if you add an `if` condition to account for the case where the loop doesn't execute at all, a `do-while` loop can still be cheaper in terms of gas.

*There are <b>4</b> instances of this issue:*
```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

140:         for (i; i < ownerTokenCount;) {

```
*Github:* [[140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L140)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

254:         for (i; i < l;) {

290:         for (i; i < l;) {

```
*Github:* [[254](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L254), [290](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L290)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

71:         for (uint256 i = 0; i < _underlyingAssets.length; i++) {

```
*Github:* [[71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L71)]



<a name="GAS-4"></a> 
### [GAS-4] Multiple `address`/ID mappings can be combined into a single `mapping` of an `address`/ID to a `struct`, where appropriate
Saves a storage slot for the mapping. Depending on the circumstances and sizes of types, can avoid a Gsset (20000 gas) per mapping combined. Reads and subsequent writes can also be cheaper when a function requires both values and they both fit in the same storage slot. Finally, if both fields are accessed in the same function, can save ~42 gas per access due to not having to [recalculate the key's keccak256 hash](https://gist.github.com/IllIllI000/ec23a57daa30a8f8ca8b9681c8ccefb0) (Gkeccak256 - 30 gas) and that calculation's associated stack operations.

*There are <b>7</b> instances of this issue:*
```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

158:     mapping(address => mapping(address => bool)) public allowedTokens;

161:     mapping(address => mapping(address => uint256)) public gatheredIncentiveToken;

```
*Github:* [[158](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L158), [161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L161)]


```solidity
File: contracts/WiseLendingDeclaration.sol

273:     mapping(uint256 => mapping(address => uint256)) public userBorrowShares;

274:     mapping(uint256 => mapping(address => uint256)) public pureCollateralAmount;

275:     mapping(uint256 => mapping(address => LendingEntry)) public userLendingData;

```
*Github:* [[273](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L273), [274](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L274), [275](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L275)]


```solidity
File: contracts/WiseLowLevelHelper.sol

372:         mapping(uint256 => mapping(address => uint256)) storage userMapping,

383:         mapping(uint256 => mapping(address => uint256)) storage userMapping,

```
*Github:* [[372](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L372), [383](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L383)]



<a name="GAS-5"></a> 
### [GAS-5] Consider activating via-ir for deploying
By using `--via-ir` or `{"viaIR": true}`, the compiler is able to use more advanced [multi-function optimizations](https://docs.soliditylang.org/en/v0.8.17/ir-breaking-changes.html#solidity-ir-based-codegen-changes), for extra gas savings.

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/)]



<a name="GAS-6"></a> 
### [GAS-6] Counting down in for statements is more gas efficient
Looping downwards in Solidity is more gas efficient due to how the EVM compares variables. In a 'for' loop that counts down, the end condition is usually to compare with zero, which is cheaper than comparing with another number. As such, restructure your loops to count downwards where possible.

*There is one instance of this issue:*
```solidity
File: contracts/WrapperHub/AaveHub.sol

71:         for (uint256 i = 0; i < _underlyingAssets.length; i++) {

```
*Github:* [[71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L71)]



<a name="GAS-7"></a> 
### [GAS-7] Divisions can be `unchecked` to save gas
The expression `type(int).min/(-1)` is the only case where division causes an overflow. Therefore, uncheck can be used to [save gas](https://gist.github.com/DadeKuma/3bc597338ae774b8b3bd43280d55271f) in scenarios where it is certain that such an overflow will not occur.

<details>
<summary>
There are <b>108</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

43:             / pendleChildToken.totalSupply()

44:             / PRECISION_FACTOR_E18;

```
*Github:* [[43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L43), [44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L44)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

119:             / PRECISION_FACTOR_E18;

```
*Github:* [[119](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L119)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

124:             / POW_USD_FEED

126:             / uint256(answerEthUsdFeed)

128:             / PRECISION_FACTOR_E18;

```
*Github:* [[124](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L124), [126](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L126), [128](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L128)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

105:             / POW_FEED

107:             / PRECISION_FACTOR_E18;

```
*Github:* [[105](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L105), [107](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L107)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

255:             / PRECISION_FACTOR_E18;

341:             / WISE_LENDING.globalPoolData(_poolToken).poolFee;

```
*Github:* [[255](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L255), [341](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L341)]


```solidity
File: contracts/MainHelper.sol

43:             ? _product / _pseudo + 1

44:             : _product / _pseudo - 1;

103:             / lendingPoolData[_poolToken].totalDepositShares - 1;

127:         return product / totalBorrowShares + 1;

179:             / pseudoPool

363:             / PRECISION_FACTOR_YEAR;

526:             / PRECISION_FACTOR_YEAR;

530:             / PRECISION_FACTOR_E18;

552:             / (lendingPoolData[_poolToken].pseudoTotalPool - feeAmount);

866:                 / baseDivider;

997:             / PRECISION_FACTOR_E18;

1053:             / PRECISION_FACTOR_E18

```
*Github:* [[43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L43), [44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L44), [103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L103), [127](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L127), [179](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L179), [363](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L363), [526](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L526), [530](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L530), [552](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L552), [866](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L866), [997](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L997), [1053](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1053)]


```solidity
File: contracts/PoolManager.sol

285:         return PRECISION_FACTOR_E18 / 2

286:             + (PRECISION_FACTOR_E36 / 4

289:                     / _poleBoundRate

301:         return (_maxPole - _minPole) / NORMALISATION_FACTOR;

312:         return (_maxPole + _minPole) / 2;

```
*Github:* [[285](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L285), [286](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L286), [289](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L289), [301](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L301), [312](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L312)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

86:             / totalCollateral;

```
*Github:* [[86](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L86)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

201:                 / PRECISION_FACTOR_E18

209:             / PRECISION_FACTOR_E18;

436:                 / PRECISION_FACTOR_E18,

502:             / PRECISION_FACTOR_E18;

587:                 / PRECISION_FACTOR_E18

590:                 / PRECISION_FACTOR_E18;

```
*Github:* [[201](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L201), [209](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L209), [436](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L436), [502](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L502), [587](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L587), [590](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L590)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

241:             / PRECISION_FACTOR_E18;

282:             / PRECISION_FACTOR_E18;

322:             / PRECISION_FACTOR_E18;

326:             / PRECISION_FACTOR_E18;

365:             / pseudoPool

382:             / baseDivider;

```
*Github:* [[241](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L241), [282](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L282), [322](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L322), [326](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L326), [365](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L365), [382](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L382)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

39:         uint128 startTime = uint128((block.timestamp / WEEK)

83:             / PRECISION_FACTOR_E6;

```
*Github:* [[39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L39), [83](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L83)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

65:         / PRECISION_FACTOR_YEAR;

287:                     / lpBalanceController

288:                     / PRECISION_FACTOR_E18

291:                     / PRECISION_FACTOR_E18;

331:             / totalSupply();

404:             / ONE_WEEK;

431:             / PRECISION_FACTOR_E6;

462:             / _underlyingLpAssetsCurrent;

475:             / totalSupply();

490:             ? product / _underlyingLpAssetsCurrent

491:             : product / _underlyingLpAssetsCurrent + 1;

```
*Github:* [[65](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L65), [287](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L287), [288](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L288), [291](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L291), [331](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L331), [404](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L404), [431](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L431), [462](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L462), [475](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L475), [490](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L490), [491](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L491)]


```solidity
File: contracts/WiseCore.sol

439:         transferAmount = product / PRECISION_FACTOR_E18;

472:         uint256 cashoutShares = product / PRECISION_FACTOR_E18 + 1;

617:                 / PRECISION_FACTOR_E18

```
*Github:* [[439](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L439), [472](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L472), [617](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L617)]


```solidity
File: contracts/WiseLending.sol

177:             / borrowPoolData[_poolToken].totalBorrowShares;

187:                 / lendingPoolData[_poolToken].totalDepositShares,

```
*Github:* [[177](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L177), [187](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L187)]


```solidity
File: contracts/WiseLendingDeclaration.sol

171:         / 10;

325:         / PRECISION_FACTOR_YEAR;

```
*Github:* [[171](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L171), [325](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L325)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

122:             ) / 10 ** (_decimalsWETH - decimals(_tokenAddress));

128:         ) / 10 ** (_decimalsWETH - decimals(_tokenAddress));

227:                 / _fetchTwapValue;

232:             / _answerUint256;

436:             / twapPeriodInt56

496:             / uint256(

```
*Github:* [[122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L122), [128](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L128), [227](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L227), [232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L232), [436](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L436), [496](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L496)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

111:                 / 10 ** decimals(_tokenAddress)

112:                 / 10 ** (tokenDecimals - _decimalsETH)

116:                 / 10 ** decimals(_tokenAddress);

136:             / 10 ** _decimalsUSD;

162:                 / 10 ** decimals(_tokenAddress)

163:                 / 10 ** (tokenDecimals - _decimalsETH)

167:                 / 10 ** decimals(_tokenAddress);

187:                 / latestResolver(_tokenAddress)

190:                 / latestResolver(_tokenAddress)

191:                 / 10 ** (_decimalsETH - tokenDecimals);

210:                 / getETHPriceInUSD()

347:                 / latestResolver(_tokenAddress)

350:                 / latestResolver(_tokenAddress)

351:                 / 10 ** (_decimalsETH - tokenDecimals);

```
*Github:* [[111](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L111), [112](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L112), [116](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L116), [136](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L136), [162](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L162), [163](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L163), [167](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L167), [187](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L187), [190](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L190), [191](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L191), [210](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L210), [347](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L347), [350](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L350), [351](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L351)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

76:             / overallCollateral;

492:             / overallETH;

549:             / overallETH;

626:                 / totalETHSupply;

632:                 / totalETHSupply;

683:                 ) / PRECISION_FACTOR_E18;

688:             / PRECISION_FACTOR_E18;

879:             / PRECISION_FACTOR_E18;

935:             / currentTotalBorrowShares;

972:             / currentTotalLendingShares;

```
*Github:* [[76](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L76), [492](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L492), [549](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L549), [626](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L626), [632](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L632), [683](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L683), [688](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L688), [879](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L879), [935](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L935), [972](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L972)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

46:                 / PRECISION_FACTOR_E18;

94:                 ) / PRECISION_FACTOR_E18;

176:                 ) / PRECISION_FACTOR_E18;

310:             / currentTotalLendingShares;

568:             / PRECISION_FACTOR_E18

597:             / PRECISION_FACTOR_E18

598:             / ONE_YEAR;

639:             / currentTotalBorrowShares;

747:             / PRECISION_FACTOR_E18;

785:         return numerator / denominator + 1;

828:             / PRECISION_FACTOR_E18

893:             : totalSharesUser * MAX_LIQUIDATION_50 / PRECISION_FACTOR_E18;

1016:             / PRECISION_FACTOR_E18;

1020:             / pseudoTotalPool;

1040:             / BORROW_PERCENTAGE_CAP;

1044:             / WISE_LENDING.lendingPoolData(_poolToken).collateralFactor;

```
*Github:* [[46](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L46), [94](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L94), [176](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L176), [310](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L310), [568](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L568), [597](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L597), [598](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L598), [639](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L639), [747](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L747), [785](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L785), [828](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L828), [893](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L893), [1016](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1016), [1020](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1020), [1040](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1040), [1044](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1044)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

323:             / PRECISION_FACTOR_E9;

```
*Github:* [[323](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L323)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

660:             / PRECISION_FACTOR_E18

```
*Github:* [[660](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L660)]


</details>


<a name="GAS-8"></a> 
### [GAS-8] Don't caching global special variables
It's better not to cache the global special variables, because it's cheaper to use them directly (e.g. `msg.sender`).

*There are <b>3</b> instances of this issue:*
```solidity
File: contracts/FeeManager/FeeManager.sol

695:         address caller = msg.sender;

```
*Github:* [[695](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L695)]


```solidity
File: contracts/MainHelper.sol

505:         uint256 currentTime = block.timestamp;

```
*Github:* [[505](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L505)]


```solidity
File: contracts/WiseLending.sol

1120:         uint256 requiredAmount = msg.value;

```
*Github:* [[1120](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1120)]



<a name="GAS-9"></a> 
### [GAS-9] Do not calculate constants
Due to how constant variables are implemented (replacements at compile-time), an expression assigned to a constant variable is recomputed each time that the variable is used, which wastes some gas.

<details>
<summary>
There are <b>22</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

67:     uint256 internal constant POW_FEED_DECIMALS = 10 ** 18;

```
*Github:* [[67](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L67)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

172:     uint256 public constant INCENTIVE_PORTION = 5 * PRECISION_FACTOR_E15;

```
*Github:* [[172](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L172)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

62:     uint256 internal constant MAX_COLLATERAL_FACTOR = 95 * PRECISION_FACTOR_E16;

101:     uint256 internal constant MAX_LEVERAGE = 15 * PRECISION_FACTOR_E18;

```
*Github:* [[62](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L62), [101](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L101)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

58:     uint256 internal constant PRECISION_FACTOR_E36 = PRECISION_FACTOR_E18 * PRECISION_FACTOR_E18;

59:     uint256 internal constant PRECISION_FACTOR_YEAR = PRECISION_FACTOR_E18 * ONE_YEAR;

```
*Github:* [[58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L58), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L59)]


```solidity
File: contracts/WiseLendingDeclaration.sol

297:     uint256 internal constant PRECISION_FACTOR_E36 = PRECISION_FACTOR_E18 * PRECISION_FACTOR_E18;

302:     uint256 internal constant PRECISION_FACTOR_YEAR = PRECISION_FACTOR_E18 * ONE_YEAR;

310:     uint256 internal constant LOWER_BOUND_MAX_RATE = 100 * PRECISION_FACTOR_E16;

311:     uint256 internal constant UPPER_BOUND_MAX_RATE = 300 * PRECISION_FACTOR_E16;

314:     uint256 internal constant THRESHOLD_SWITCH_DIRECTION = 90 * PRECISION_FACTOR_E16;

315:     uint256 internal constant THRESHOLD_RESET_RESONANCE_FACTOR = 75 * PRECISION_FACTOR_E16;

319:     uint256 internal constant MAX_COLLATERAL_FACTOR = 85 * PRECISION_FACTOR_E16;

```
*Github:* [[297](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L297), [302](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L302), [310](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L310), [311](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L311), [314](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L314), [315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L315), [319](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L319)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

109:     uint32 internal constant TWAP_PERIOD = 30 * SECONDS_IN_MINUTE;

```
*Github:* [[109](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L109)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

185:     uint256 public constant BORROW_PERCENTAGE_CAP = 95 * PRECISION_FACTOR_E16;

225:     uint256 internal constant LIQUIDATION_INCENTIVE_MAX = 11 * PRECISION_FACTOR_E16;

226:     uint256 internal constant LIQUIDATION_INCENTIVE_MIN = 2 * PRECISION_FACTOR_E16;

227:     uint256 internal constant LIQUIDATION_INCENTIVE_POWERFARM_MAX = 4 * PRECISION_FACTOR_E16;

230:     uint256 internal constant LIQUIDATION_FEE_MIN_ETH = 3 * PRECISION_FACTOR_E18;

231:     uint256 internal constant LIQUIDATION_FEE_MAX_ETH = 100 * PRECISION_FACTOR_E18;

232:     uint256 internal constant LIQUIDATION_FEE_MAX_NON_ETH = 10 * PRECISION_FACTOR_E18;

233:     uint256 internal constant LIQUIDATION_FEE_MIN_NON_ETH = 30 * PRECISION_FACTOR_E16;

```
*Github:* [[185](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L185), [225](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L225), [226](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L226), [227](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L227), [230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L230), [231](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L231), [232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L232), [233](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L233)]


</details>


<a name="GAS-10"></a> 
### [GAS-10] Operator `+=` costs more gas than `<x> = <x> + <y>` for state variables

*There are <b>10</b> instances of this issue:*
```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

/// @audit `totalBadDebtETH +=`
94:         totalBadDebtETH += _amount;

/// @audit `totalBadDebtETH -=`
110:         totalBadDebtETH -= _amount;

```
*Github:* [[94](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L94), [110](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L110)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

/// @audit `reservedPendleForLocking +=`
140:         reservedPendleForLocking += tokenAmountSend;

/// @audit `reservedPendleForLocking -=`
418:             reservedPendleForLocking -= _amount;

```
*Github:* [[140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L140), [418](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L418)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit `underlyingLpAssetsCurrent +=`
343:         underlyingLpAssetsCurrent += additonalAssets;

/// @audit `totalLpAssetsToDistribute -=`
344:         totalLpAssetsToDistribute -= additonalAssets;

/// @audit `totalLpAssetsToDistribute +=`
512:         totalLpAssetsToDistribute += _amount;

/// @audit `underlyingLpAssetsCurrent +=`
577:         underlyingLpAssetsCurrent += _underlyingLpAssetAmount;

/// @audit `underlyingLpAssetsCurrent -=`
628:         underlyingLpAssetsCurrent -= tokenAmount;

/// @audit `underlyingLpAssetsCurrent -=`
672:         underlyingLpAssetsCurrent -= _underlyingLpAssetAmount;

```
*Github:* [[343](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L343), [344](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L344), [512](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L512), [577](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L577), [628](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L628), [672](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L672)]



<a name="GAS-11"></a> 
### [GAS-11] Duplicated `require()`/`revert()` checks should be refactored to a modifier or function to save gas
Saves deployment costs.

<details>
<summary>
There are <b>24</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

/// @audit duplicated on line 50
46:             revert NoValue();

/// @audit duplicated on line 58
54:             revert NoValue();

```
*Github:* [[46](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L46), [54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L54)]


```solidity
File: contracts/FeeManager/FeeManager.sol

/// @audit duplicated on line 321
198:             revert NotAllowed();

/// @audit duplicated on line 329
325:             revert NotAllowed();

/// @audit duplicated on line 362
358:             revert NotAllowed();

/// @audit duplicated on line 702
366:             revert NotAllowed();

/// @audit duplicated on line 450
486:         revert PoolNotPresent();

/// @audit duplicated on line 758
754:             revert PoolNotActive();

```
*Github:* [[198](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L198), [325](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L325), [358](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L358), [366](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L366), [486](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L486), [754](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L754)]


```solidity
File: contracts/MainHelper.sol

/// @audit duplicated on line 274
270:             revert InvalidLiquidator();

```
*Github:* [[270](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L270)]


```solidity
File: contracts/OwnableMaster.sol

/// @audit duplicated on line 77
61:             revert NoValue();

```
*Github:* [[61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L61)]


```solidity
File: contracts/PositionNFTs.sol

/// @audit duplicated on line 48
78:             revert NotPermitted();

```
*Github:* [[78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L78)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

/// @audit duplicated on line 505
212:             revert TooMuchValueLost();

```
*Github:* [[212](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L212)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

/// @audit duplicated on line 44
40:             revert AccessDenied();

```
*Github:* [[40](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L40)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

/// @audit duplicated on line 346
183:             revert WrongAddress();

```
*Github:* [[183](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L183)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit duplicated on line 540
509:             revert ZeroAmount();

/// @audit duplicated on line 655
616:             revert ZeroAmount();

```
*Github:* [[509](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L509), [616](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L616)]


```solidity
File: contracts/WiseCore.sol

/// @audit duplicated on line 307
286:         revert InvalidAction();

```
*Github:* [[286](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L286)]


```solidity
File: contracts/WiseLendingDeclaration.sol

/// @audit duplicated on line 124
120:             revert NoValue();

```
*Github:* [[120](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L120)]


```solidity
File: contracts/WiseLowLevelHelper.sol

/// @audit duplicated on line 355
33:             revert InvalidAction();

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L33)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

/// @audit duplicated on line 271
98:             revert OracleIsDead();

```
*Github:* [[98](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L98)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

/// @audit duplicated on line 287
249:                 revert OpenBorrowPosition();

```
*Github:* [[249](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L249)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

/// @audit duplicated on line 66
62:             revert NoValue();

```
*Github:* [[62](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L62)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

/// @audit duplicated on line 43
39:             revert InvalidAction();

```
*Github:* [[39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L39)]


```solidity
File: contracts/WrapperHub/Declarations.sol

/// @audit duplicated on line 62
58:             revert NoValue();

```
*Github:* [[58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L58)]


</details>


<a name="GAS-12"></a> 
### [GAS-12] Events should be emitted outside of loops
Emitting an event has an overhead of 375 gas, which will be incurred on every iteration of the loop. It is cheaper to emit only once after the loop has finished.

*There is one instance of this issue:*
```solidity
File: contracts/FeeManager/FeeManager.sol

156:             emit PoolFeeChanged(

```
*Github:* [[156](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L156)]



<a name="GAS-13"></a> 
### [GAS-13] Increments can be `unchecked` to save gas
Using `unchecked` increments can save gas by bypassing the built-in overflow checks. This can save 30-40 gas per iteration. So it is recommended to use unchecked increments when overflow is not possible.

*There is one instance of this issue:*
```solidity
File: contracts/WrapperHub/AaveHub.sol

71:         for (uint256 i = 0; i < _underlyingAssets.length; i++) {

```
*Github:* [[71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L71)]



<a name="GAS-14"></a> 
### [GAS-14] Initializers can be marked as payable to save deployment gas
Payable functions cost less gas to execute, because the compiler does not have to add extra checks to ensure that no payment is provided. Initializers can be safely marked as payable, because only the deployer or the factory contract would call the function without carrying any funds.

*There is one instance of this issue:*
```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

682:     function initialize(

```
*Github:* [[682](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L682)]



<a name="GAS-15"></a> 
### [GAS-15] Inline `modifier`s that are only used once, to save gas

*There are <b>4</b> instances of this issue:*
```solidity
File: contracts/OwnableMaster.sol

16:     modifier onlyProposed() {

```
*Github:* [[16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L16)]


```solidity
File: contracts/PositionNFTs.sol

45:     modifier onlyReserveRole() {

```
*Github:* [[45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L45)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

230:     modifier onlyArbitrum()

```
*Github:* [[230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L230)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

67:     modifier onlyController() {

```
*Github:* [[67](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L67)]



<a name="GAS-16"></a> 
### [GAS-16] `internal` functions only called once can be inlined to save gas
If an `internal` function is only used once, there is no need to modularize it, unless the function calling it would otherwise be too long and complex. Not inlining costs 20 to 40 gas because of two extra JUMP instructions and additional stack operations needed for function calls.

<details>
<summary>
There are <b>67</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

/// @audit `_getLpToAssetRateWrapper` is used only once
122:     function _getLpToAssetRateWrapper(

```
*Github:* [[122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L122)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

/// @audit `_prepareBorrows` is used only once
15:     function _prepareBorrows(

/// @audit `_prepareCollaterals` is used only once
47:     function _prepareCollaterals(

/// @audit `_eraseBadDebtUser` is used only once
121:     function _eraseBadDebtUser(

/// @audit `_increaseFeeTokens` is used only once
195:     function _increaseFeeTokens(

/// @audit `_distributeIncentives` is used only once
292:     function _distributeIncentives(

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L15), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L47), [121](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L121), [195](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L195), [292](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L292)]


```solidity
File: contracts/MainHelper.sol

/// @audit `_preparationsWithdraw` is used only once
135:     function _preparationsWithdraw(

/// @audit `_validateIsolationPoolLiquidation` is used only once
232:     function _validateIsolationPoolLiquidation(

/// @audit `_cleanUp` is used only once
298:     function _cleanUp(

/// @audit `_calculateNewBorrowRate` is used only once
851:     function _calculateNewBorrowRate(

/// @audit `_aboveThreshold` is used only once
896:     function _aboveThreshold(

/// @audit `_scalingAlgorithm` is used only once
911:     function _scalingAlgorithm(

```
*Github:* [[135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L135), [232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L232), [298](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L298), [851](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L851), [896](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L896), [911](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L911)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

/// @audit `_manuallyPaybackShares` is used only once
119:     function _manuallyPaybackShares(

/// @audit `_manuallyWithdrawShares` is used only once
157:     function _manuallyWithdrawShares(

/// @audit `_closingPosition` is used only once
230:     function _closingPosition(

/// @audit `_registrationFarm` is used only once
274:     function _registrationFarm(

```
*Github:* [[119](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L119), [157](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L157), [230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L230), [274](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L274)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

/// @audit `_isActive` is used only once
361:     function _isActive()

```
*Github:* [[361](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L361)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

/// @audit `_getEthBack` is used only once
232:     function _getEthBack(

/// @audit `_swapStETHintoETH` is used only once
293:     function _swapStETHintoETH(

/// @audit `_paybackExactShares` is used only once
326:     function _paybackExactShares(

/// @audit `_closingRouteETH` is used only once
383:     function _closingRouteETH(

/// @audit `_logicOpenPosition` is used only once
414:     function _logicOpenPosition(

/// @audit `_borrowExactAmount` is used only once
531:     function _borrowExactAmount(

```
*Github:* [[232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L232), [293](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L293), [326](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L326), [383](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L383), [414](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L414), [531](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L531)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

/// @audit `_getPostionCollateralTokenAmount` is used only once
153:     function _getPostionCollateralTokenAmount(

/// @audit `_getEthInTokens` is used only once
258:     function _getEthInTokens(

/// @audit `_getApproxNetAPY` is used only once
289:     function _getApproxNetAPY(

/// @audit `_notBelowMinDepositAmount` is used only once
416:     function _notBelowMinDepositAmount(

```
*Github:* [[153](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L153), [258](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L258), [289](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L289), [416](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L416)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

/// @audit `_findIndex` is used only once
9:     function _findIndex(

/// @audit `_calcExpiry` is used only once
32:     function _calcExpiry(

/// @audit `_getLockAmount` is used only once
53:     function _getLockAmount()

/// @audit `_getTokensFromETH` is used only once
203:     function _getTokensFromETH(

/// @audit `_compareHashes` is used only once
217:     function _compareHashes(

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L9), [32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L32), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L53), [203](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L203), [217](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L217)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit `_overWriteCheck` is used only once
132:     function _overWriteCheck()

/// @audit `_triggerIndexUpdate` is used only once
140:     function _triggerIndexUpdate()

/// @audit `_wrapOverWrites` is used only once
149:     function _wrapOverWrites(

/// @audit `_calculateRewardsClaimedOutside` is used only once
218:     function _calculateRewardsClaimedOutside()

/// @audit `_increaseCardinalityNext` is used only once
347:     function _increaseCardinalityNext()

/// @audit `_applyMintFee` is used only once
422:     function _applyMintFee(

```
*Github:* [[132](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L132), [140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L140), [149](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L149), [218](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L218), [347](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L347), [422](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L422)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

/// @audit `_incrementReserved` is used only once
63:     function _incrementReserved()

/// @audit `_getNextReserveKey` is used only once
70:     function _getNextReserveKey()

/// @audit `_mintKeyForUser` is used only once
115:     function _mintKeyForUser(

```
*Github:* [[63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L63), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L70), [115](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L115)]


```solidity
File: contracts/WiseCore.sol

/// @audit `_checkAllowDeposit` is used only once
271:     function _checkAllowDeposit(

/// @audit `_coreBorrowTokens` is used only once
349:     function _coreBorrowTokens(

```
*Github:* [[271](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L271), [349](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L349)]


```solidity
File: contracts/WiseLowLevelHelper.sol

/// @audit `_setBestPole` is used only once
197:     function _setBestPole(

/// @audit `_setIncreasePole` is used only once
206:     function _setIncreasePole(

/// @audit `_increaseTotalPool` is used only once
224:     function _increaseTotalPool(

/// @audit `_increaseTotalDepositShares` is used only once
242:     function _increaseTotalDepositShares(

/// @audit `_increasePseudoTotalBorrowAmount` is used only once
260:     function _increasePseudoTotalBorrowAmount(

/// @audit `_setTimeStampScaling` is used only once
323:     function _setTimeStampScaling(

/// @audit `_increaseTotalBareToken` is used only once
332:     function _increaseTotalBareToken(

/// @audit `_byPassCase` is used only once
393:     function _byPassCase(

```
*Github:* [[197](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L197), [206](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L206), [224](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L224), [242](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L242), [260](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L260), [323](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L323), [332](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L332), [393](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L393)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

/// @audit `_addAggregator` is used only once
32:     function _addAggregator(

/// @audit `_checkFunctionExistence` is used only once
60:     function _checkFunctionExistence(

/// @audit `_compareMinMax` is used only once
87:     function _compareMinMax(

/// @audit `_writeUniTwapPoolInfoStructDerivative` is used only once
195:     function _writeUniTwapPoolInfoStructDerivative(

/// @audit `_getRelativeDifference` is used only once
216:     function _getRelativeDifference(

/// @audit `_compareDifference` is used only once
235:     function _compareDifference(

/// @audit `_getChainlinkAnswer` is used only once
246:     function _getChainlinkAnswer(

/// @audit `_getTwapPrice` is used only once
374:     function _getTwapPrice(

/// @audit `_getTwapDerivatePrice` is used only once
460:     function _getTwapDerivatePrice(

/// @audit `_getIterationCount` is used only once
658:     function _getIterationCount(

```
*Github:* [[32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L32), [60](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L60), [87](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L87), [195](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L195), [216](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L216), [235](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L235), [246](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L246), [374](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L374), [460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L460), [658](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L658)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

/// @audit `_getCollateralOfTokenETHUpdated` is used only once
246:     function _getCollateralOfTokenETHUpdated(

/// @audit `_getETHBorrowUpdated` is used only once
610:     function _getETHBorrowUpdated(

/// @audit `_getState` is used only once
806:     function _getState(

```
*Github:* [[246](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L246), [610](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L610), [806](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L806)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

/// @audit `_validToken` is used only once
23:     function _validToken(

/// @audit `_nonReentrantCheck` is used only once
34:     function _nonReentrantCheck()

/// @audit `_getInfoPayback` is used only once
219:     function _getInfoPayback(

```
*Github:* [[23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L23), [34](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L34), [219](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L219)]


</details>


<a name="GAS-17"></a> 
### [GAS-17] Low level `call` can be optimized with assembly
When using low-level calls, the `returnData` is copied to memory even if the variable is not utilized. The proper way to handle this is through a low level assembly call.

*There are <b>6</b> instances of this issue:*
```solidity
File: contracts/TransferHub/CallOptionalReturn.sol

22:         ) = token.call(

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/CallOptionalReturn.sol#L22)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

27:         ) = payable(_recipient).call{

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L27)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

78:         (bool success, ) = _tokenAggregator.call(

```
*Github:* [[78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L78)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

208:         ) = curvePool.call{value: 0} (

225:         ) = curveMeta.call{value: 0} (

```
*Github:* [[208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L208), [225](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L225)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

208:         (bool success, ) = payable(_recipient).call{

```
*Github:* [[208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L208)]



<a name="GAS-18"></a> 
### [GAS-18] Multiple accesses of the same mapping/array key/index should be cached
The instances below point to the second+ access of a value inside a mapping/array, within a function. Caching a mapping's value in a local `storage` or `calldata` variable when the value is accessed [multiple times](https://gist.github.com/IllIllI000/ec23a57daa30a8f8ca8b9681c8ccefb0), saves ~42 gas per access due to not having to recalculate the key's keccak256 hash (Gkeccak256 - 30 gas) and that calculation's associated stack operations. Caching an array's struct avoids recalculating the array offsets into memory/calldata

*There are <b>3</b> instances of this issue:*
```solidity
File: contracts/PositionNFTs.sol

/// @audit `reserved[_user]` is also accessed on line 117
118:             return reserved[_user];

/// @audit `reserved[_user]` is also accessed on line 117
122:         reserved[_user] = reservedId;

```
*Github:* [[118](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L118), [122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L122)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

/// @audit `reservedKeys[_userAddress]` is also accessed on line 84
90:         reservedKeys[_userAddress] = keyId;

```
*Github:* [[90](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L90)]



<a name="GAS-19"></a> 
### [GAS-19] Operator `>=`/`<=` costs less gas than operator `>`/`<`
The compiler uses opcodes `GT` and `ISZERO` for code that uses `>`, but only requires `LT` for `>=`. A similar behavior applies for `>`, which uses opcodes `LT` and `ISZERO`, but only requires `GT` for `<=`. It can save 3 gas for each. It should be converted to the `<=`/`>=` equivalent when comparing against integer literals.

<details>
<summary>
There are <b>145</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/FeeManager.sol

92:         while (i < l) {

145:         while (i < l) {

257:         while (i < l) {

453:         while (i < len) {

548:         while (i < l) {

581:         while (i < l) {

609:         while (i < l) {

697:         if (totalBadDebtETH > 0) {

904:         while (i < l) {

```
*Github:* [[92](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L92), [145](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L145), [257](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L257), [453](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L453), [548](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L548), [581](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L581), [609](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L609), [697](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L697), [904](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L904)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

25:         while (i < l) {

57:         while (i < l) {

151:         if (currentBorrowETH < currentCollateralBareETH) {

179:             newBadDebt > currentBadDebt

348:         uint256 reduceUSD = usdEquivalent < incentiveUSD[_incentiveOwner]

389:         if (_value < PRECISION_FACTOR_E16) {

393:         if (_value > PRECISION_FACTOR_E18) {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L25), [57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L57), [151](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L151), [179](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L179), [348](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L348), [389](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L389), [393](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L393)]


```solidity
File: contracts/MainHelper.sol

328:             if (difference > allowedDifference) {

428:         while (i < l) {

481:         while (i < l) {

512:         if (bareIncrease < PRECISION_FACTOR_YEAR) {

637:         if (userTokenData[_nftId].length > MAX_TOTAL_TOKEN_NUMBER) {

693:         while (i < length) {

995:         return _shareValue < THRESHOLD_RESET_RESONANCE_FACTOR

1051:         _shareValues < THRESHOLD_SWITCH_DIRECTION

1109:         uint256 setValue = sum > borrowData.maxPole

1135:         uint256 sub = borrowRatesData[_poolToken].pole > delta

1139:         uint256 setValue = sub < minValue

```
*Github:* [[328](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L328), [428](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L428), [481](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L481), [512](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L512), [637](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L637), [693](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L693), [995](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L995), [1051](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1051), [1109](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1109), [1135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1135), [1139](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1139)]


```solidity
File: contracts/PoolManager.sol

108:         if (_maximumDeposit > 0) {

112:         if (_collateralFactor > 0) {

268:         if (fetchBalance > 0) {

```
*Github:* [[108](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L108), [112](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L112), [268](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L268)]


```solidity
File: contracts/PositionNFTs.sol

77:         if (feeManager > ZERO_ADDRESS) {

203:         if (nftId > 0) {

288:         if (reservedId > 0) {

298:         while (i < ownerTokenCount) {

309:         if (reservedId > 0) {

```
*Github:* [[77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L77), [203](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L203), [288](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L288), [298](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L298), [309](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L309)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

194:         if (_leverage > MAX_LEVERAGE) {

```
*Github:* [[194](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L194)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

243:         if (_collateralFactor > PRECISION_FACTOR_E18) {

```
*Github:* [[243](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L243)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

107:         if (initialAmount > 0) {

211:         if (ethValueAfter < ethValueBefore) {

504:         if (ethValueAfter < ethValueBefore) {

592:         if (_shareAmountToPay > cutoffShares) {

```
*Github:* [[107](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L107), [211](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L211), [504](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L504), [592](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L592)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

103:         if (positionBorrowShares > 0) {

122:         if (positionBorrowSharesAave > 0) {

186:         if (borrowShares > 0) {

198:         if (borrowSharesAave > 0) {

206:         if (borrowShares > 0) {

301:         if (_leverage < PRECISION_FACTOR_E18) {

359:         if (totalPool > pseudoPool) {

```
*Github:* [[103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L103), [122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L122), [186](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L186), [198](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L198), [206](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L206), [301](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L301), [359](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L359)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

194:         if (balance < totalAssets + 1) {

258:         while (i < rewardTokensLength) {

388:         if (_amount > 0) {

417:         if (_amount > 0) {

511:         while (i < length) {

555:         while (i < length) {

628:         while (i < len) {

635:         if (weightSum > PRECISION_FACTOR_E18) {

```
*Github:* [[194](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L194), [258](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L258), [388](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L388), [417](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L417), [511](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L511), [555](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L555), [628](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L628), [635](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L635)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

278:         while (i < length) {

```
*Github:* [[278](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L278)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

20:         while (i < len) {

85:         if (sendingValue < PRECISION_FACTOR_E10) {

```
*Github:* [[20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L20), [85](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L85)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

107:         if (sharePricenNow < _sharePriceBefore) {

127:         if (_sharePriceNow > maximum) {

204:         while (i < l) {

236:         while (i < l) {

242:             if (userReward.accrued > 0) {

255:             if (lastIndex[i] == 0 && index > 0) {

281:             bool scaleNecessary = totalLpAssetsCurrent < lpBalanceController;

352:         if (storageMarket.observationCardinalityNext < MAX_CARDINALITY) {

399:         if (totalLpAssetsToDistribute < ONE_WEEK) {

409:         if (additonalAssets > totalLpAssetsToDistribute) {

598:         if (_newFee > MAX_MINT_FEE) {

619:         if (_shares > balanceOf(msg.sender)) {

663:         if (shares > balanceOf(msg.sender)) {

```
*Github:* [[107](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L107), [127](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L127), [204](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L204), [236](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L236), [242](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L242), [255](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L255), [281](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L281), [352](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L352), [399](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L399), [409](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L409), [598](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L598), [619](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L619), [663](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L663)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

130:         if (reservedId > 0) {

140:         for (i; i < ownerTokenCount;) {

151:         if (reservedId > 0) {

```
*Github:* [[130](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L130), [140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L140), [151](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L151)]


```solidity
File: contracts/TransferHub/CallOptionalReturn.sol

37:             && token.code.length > 0;

```
*Github:* [[37](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/CallOptionalReturn.sol#L37)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

18:         if (address(this).balance < _amount) {

```
*Github:* [[18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L18)]


```solidity
File: contracts/WiseCore.sol

564:         if (pureCollateral > 0 && userShares > 0) {

564:         if (pureCollateral > 0 && userShares > 0) {

572:         if (potentialPureExtraCashout > 0 && potentialPureExtraCashout <= pureCollateral) {

```
*Github:* [[564](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L564), [564](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L564), [572](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L572)]


```solidity
File: contracts/WiseLending.sol

1122:         if (msg.value > maxPaybackAmount) {

1147:         if (refundAmount > 0) {

```
*Github:* [[1122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1122), [1147](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1147)]


```solidity
File: contracts/WiseLowLevelHelper.sol

32:         if (_parameterValue > _parameterLimit) {

464:         if (_value > 0) {

```
*Github:* [[32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L32), [464](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L464)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

53:         if (uniTwapPoolInfoStruct.oracle > ZERO_ADDRESS) {

97:         if (_answer > maxAnswer || _answer < minAnswer) {

97:         if (_answer > maxAnswer || _answer < minAnswer) {

144:         if (uniTwapPoolInfoStruct.oracle > ZERO_ADDRESS) {

161:         if (fetchTwapValue > 0) {

224:         if (_answerUint256 > _fetchTwapValue) {

241:         if (_relativeDifference > ALLOWED_DIFFERENCE) {

365:         if (uniTwapPoolInfo[_tokenAddress].oracle > ZERO_ADDRESS) {

439:         if (tickCumulativesDelta < 0 && (tickCumulativesDelta % twapPeriodInt56 != 0)) {

580:             upd = block.timestamp < upd

584:             return upd > heartBeat[_tokenAddress];

612:         if (iterationCount < MIN_ITERATION_COUNT) {

625:         while (i < iterationCount) {

642:             } else if (currentDiff > currentSecondBiggest) {

665:         res = _latestAggregatorRoundId < MAX_ROUND_COUNT

```
*Github:* [[53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L53), [97](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L97), [97](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L97), [144](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L144), [161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L161), [224](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L224), [241](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L241), [365](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L365), [439](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L439), [580](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L580), [584](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L584), [612](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L612), [625](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L625), [642](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L642), [665](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L665)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

108:         return _decimalsETH < tokenDecimals

159:         return _decimalsETH < tokenDecimals

183:         return _decimalsETH < tokenDecimals

295:         while (i < length) {

343:         return _decimalsETH < tokenDecimals

390:         while (i < l) {

461:         while (i < length) {

509:         while (i < l) {

```
*Github:* [[108](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L108), [159](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L159), [183](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L183), [295](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L295), [343](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L343), [390](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L390), [461](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L461), [509](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L509)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

419:         if (totalBorrow < bareCollateral) {

464:         while (i < len) {

521:         while (i < len) {

580:         while (i < lenBorrow) {

602:         while (i < lenDeposit) {

660:         while (i < len) {

709:         while (i < lenDeposit) {

734:         while (i < lenBorrow) {

788:         if (expectedMaxAmount > maxAmountPool) {

804:         if (possibelWithdraw > expectedMaxAmount) {

814:         if (withdrawAmount > maxAmountPool) {

856:         if (tokenAmount > maxSolelyAmount) {

896:         if (tokenAmount > maxPoolAmount) {

```
*Github:* [[419](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L419), [464](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L464), [521](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L521), [580](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L580), [602](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L602), [660](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L660), [709](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L709), [734](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L734), [788](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L788), [804](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L804), [814](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L814), [856](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L856), [896](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L896)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

126:         if (_baseReward > LIQUIDATION_INCENTIVE_MAX) {

130:         if (_baseReward < LIQUIDATION_INCENTIVE_MIN) {

136:         if (_baseRewardFarm > LIQUIDATION_INCENTIVE_POWERFARM_MAX) {

140:         if (_baseRewardFarm < LIQUIDATION_INCENTIVE_MIN) {

154:         if (_newMaxFeeETH > maxFee) {

158:         if (_newMaxFeeETH < minFee) {

172:         if (_newMaxFeeFarmETH > maxFeeFarm) {

176:         if (_newMaxFeeFarmETH < minFeeFarm) {

```
*Github:* [[126](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L126), [130](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L130), [136](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L136), [140](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L140), [154](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L154), [158](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L158), [172](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L172), [176](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L176)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

32:         while (i < l) {

79:         while (i < l) {

121:         while (i < l) {

160:         while (i < l) {

372:         while (i < l) {

408:         while (i < l) {

444:         while (i < l) {

501:         while (i < l) {

749:         return feeETH < _maxFeeETH

866:         if (_borrowETHTotal < _weightedCollateralETH) {

1065:         while(i < len) {

```
*Github:* [[32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L32), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L79), [121](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L121), [160](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L160), [372](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L372), [408](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L408), [444](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L444), [501](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L501), [749](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L749), [866](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L866), [1065](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1065)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

202:         if (address(this).balance < _amount) {

230:         if (_ethSent > _maxPaybackAmount) {

254:         for (i; i < l;) {

290:         for (i; i < l;) {

```
*Github:* [[202](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L202), [230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L230), [254](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L254), [290](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L290)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

71:         for (uint256 i = 0; i < _underlyingAssets.length; i++) {

537:         if (ethRefundAmount > 0) {

```
*Github:* [[71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L71), [537](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L537)]


</details>


<a name="GAS-20"></a> 
### [GAS-20] Optimize Gas by splitting `if() revert` statements
Using boolean operators in a single `if() revert` statement can consume more gas than necessary. Consider splitting these statements to save gas.

*There is one instance of this issue:*
```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

97:         if (_answer > maxAnswer || _answer < minAnswer) {

```
*Github:* [[97](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L97)]



<a name="GAS-21"></a> 
### [GAS-21] Optimize names to save gas
`public`/`external` function names and `public` member variable names can be optimized to save gas. See this [link](https://gist.github.com/IllIllI000/a5d8b486a8259f9f77891a919febd1a9) for an example of how it works. Below are the interfaces/abstract contracts that can be optimized so that the most frequently-called functions use the least amount of gas possible during method lookup. Method IDs that have two leading zero bytes can save 128 gas each during deployment, and renaming functions to have lower method IDs will save 22 gas per call, [per sorted position shifted](https://medium.com/joyso/solidity-how-does-function-name-affect-gas-consumption-in-smart-contract-47d270d8ac92)

<details>
<summary>
There are <b>22</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

/// @audit `renounceOwnership`, `setLastUpdateGlobal`, `setRoundData`, `setGlobalAggregatorRoundId`, `getTimeStamp`
5: contract CustomOracleSetup {

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L5)]


```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

/// @audit `latestAnswer`, `decimals`, `latestRoundData`, `getRoundData`
13: contract PendleChildLpOracle is CustomOracleSetup  {

```
*Github:* [[13](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L13)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

/// @audit `latestAnswer`, `decimals`, `latestRoundData`
28: contract PendleLpOracle {

```
*Github:* [[28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L28)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

/// @audit `latestAnswer`, `decimals`, `latestRoundData`
22: contract PtOracleDerivative {

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L22)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

/// @audit `latestAnswer`, `decimals`, `latestRoundData`
22: contract PtOraclePure {

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L22)]


```solidity
File: contracts/FeeManager/FeeManager.sol

/// @audit `setRepayBadDebtIncentive`, `setAaveFlag`, `setAaveFlagBulk`, `setPoolFee`, `setPoolFeeBulk`, `proposeIncentiveMaster`, `claimOwnershipIncentiveMaster`, `increaseIncentiveA`, `increaseIncentiveB`, `claimIncentivesBulk`, `claimIncentives`, `changeIncentiveUSDA`, `changeIncentiveUSDB`, `addPoolTokenAddress`, `addPoolTokenAddressManual`, `removePoolTokenManual`, `increaseTotalBadDebtLiquidation`, `setBadDebtUserLiquidation`, `setBeneficial`, `revokeBeneficial`, `claimWiseFeesBulk`, `claimWiseFees`, `claimFeesBeneficial`, `paybackBadDebtForToken`, `paybackBadDebtNoReward`, `getPoolTokenAddressesLength`, `getPoolTokenAdressesByIndex`, `syncAllPools`
25: contract FeeManager is FeeManagerHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L25)]


```solidity
File: contracts/OwnableMaster.sol

/// @audit `proposeOwner`, `claimOwnership`, `renounceOwnership`
9: contract OwnableMaster {

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L9)]


```solidity
File: contracts/PositionNFTs.sol

/// @audit `assignReserveRole`, `blockReservePublic`, `forwardFeeManagerNFT`, `reservePosition`, `reservePositionForUser`, `getNextExpectedId`, `mintPosition`, `getApprovedSoft`, `mintPositionForUser`, `isOwner`, `approveMint`, `walletOfOwner`, `setBaseURI`, `setBaseExtension`, `tokenURI`
11: contract PositionNFTs is ERC721Enumerable, OwnableMaster {

```
*Github:* [[11](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L11)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

/// @audit `doApprovals`
36: contract PendlePowerFarmDeclarations is

```
*Github:* [[36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L36)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

/// @audit `changeMinDeposit`, `shutDownFarm`, `enterFarm`, `enterFarmETH`, `exitFarm`, `manuallyPaybackShares`, `manuallyWithdrawShares`
15: contract PendlePowerManager is OwnableMaster, PendlePowerFarm, MinterReserver {

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L15)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

/// @audit `withdrawLp`, `exchangeRewardsForCompoundingWithIncentive`, `exchangeLpFeesForPendleWithIncentive`, `skim`, `addPendleMarket`, `updateRewardTokens`, `changeExchangeIncentive`, `changeMintFee`, `lockPendle`, `claimArb`, `withdrawLock`, `increaseReservedForCompound`, `overWriteIndex`, `overWriteIndexAll`, `overWriteAmounts`, `claimVoteRewards`, `forwardETH`, `vote`
8: contract PendlePowerFarmController is PendlePowerFarmControllerHelper {

```
*Github:* [[8](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L8)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

/// @audit `syncAllSupply`
30: contract PendlePowerFarmControllerBase is

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L30)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit `previewDistribution`, `totalLpAssets`, `previewUnderlyingLpAssets`, `previewMintShares`, `previewAmountWithdrawShares`, `previewBurnShares`, `manualSync`, `addCompoundRewards`, `depositExactAmount`, `changeMintFee`, `withdrawExactShares`, `withdrawExactAmount`, `initialize`
25: contract PendlePowerFarmToken is SimpleERC20, TransferHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L25)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

/// @audit `deploy`
9: contract PendlePowerFarmTokenFactory {

```
*Github:* [[9](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L9)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

/// @audit `isOwner`, `mintReserved`, `onERC721Received`
10: contract MinterReserver {

```
*Github:* [[10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L10)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

/// @audit `setFarmContract`, `mintKey`, `burnKey`, `checkOwner`, `walletOfOwner`, `setBaseURI`, `setBaseExtension`, `tokenURI`
24: contract PowerFarmNFTs is ERC721Enumerable, OwnableMaster {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L24)]


```solidity
File: contracts/WiseLending.sol

/// @audit `collateralizeDeposit`, `unCollateralizeDeposit`, `depositExactAmountETH`, `depositExactAmountETHMint`, `depositExactAmountMint`, `depositExactAmount`, `solelyDepositETHMint`, `solelyDepositETH`, `solelyDepositMint`, `solelyDeposit`, `withdrawExactAmountETH`, `withdrawExactSharesETH`, `withdrawExactAmount`, `solelyWithdrawETH`, `solelyWithdraw`, `withdrawOnBehalfExactAmount`, `withdrawExactShares`, `withdrawOnBehalfExactShares`, `borrowExactAmountETH`, `borrowExactAmount`, `borrowOnBehalfExactAmount`, `paybackExactAmountETH`, `paybackExactAmount`, `paybackExactShares`, `liquidatePartiallyFromTokens`, `coreLiquidationIsolationPools`, `syncManually`, `setRegistrationIsolationPool`, `corePaybackFeeManager`
43: contract WiseLending is PoolManager {

```
*Github:* [[43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L43)]


```solidity
File: contracts/WiseLendingDeclaration.sol

/// @audit `setSecurity`
30: contract WiseLendingDeclaration is

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L30)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

/// @audit `latestResolver`, `getTokenDecimals`, `getTokensInUSD`, `getTokensPriceInUSD`, `getTokensInETH`, `getTokensFromUSD`, `getTokensPriceFromUSD`, `addTwapOracle`, `addTwapOracleDerivative`, `getTokensFromETH`, `addOracle`, `addOracleBulk`, `addAggregator`, `recalibratePreview`, `chainLinkIsDead`, `recalibrate`, `recalibrateBulk`
31: contract WiseOracleHub is OracleHelper {

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L31)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

/// @audit `getLiveDebtRatio`, `setLiquidationSettings`, `checksLiquidation`, `prepareCurvePools`, `curveSecurityCheck`, `checksWithdraw`, `checksSolelyWithdraw`, `checksBorrow`, `checksCollateralizeDeposit`, `checkUncollateralizedDeposit`, `checkHealthState`, `checkBadDebtLiquidation`, `overallLendingAPY`, `overallBorrowAPY`, `overallNetAPY`, `safeLimitPosition`, `positionBlackListToken`, `maximumWithdrawToken`, `maximumWithdrawTokenSolely`, `maximumBorrowToken`, `getExpectedPaybackAmount`, `getExpectedLendingAmount`, `setBlacklistToken`, `setSecurityWorker`, `securityShutdown`, `revokeShutdown`, `checkPoolCondition`, `checkPoolWithMinDeposit`, `checkMinDepositValue`, `changeMinDepositValue`
24: contract WiseSecurity is WiseSecurityHelper, ApprovalHelper {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L24)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

/// @audit `setAaveTokenAddress`, `setAaveTokenAddressBulk`, `depositExactAmountMint`, `depositExactAmount`, `depositExactAmountETHMint`, `depositExactAmountETH`, `withdrawExactAmount`, `withdrawExactAmountETH`, `withdrawExactShares`, `withdrawExactSharesETH`, `borrowExactAmount`, `borrowExactAmountETH`, `paybackExactAmount`, `paybackExactAmountETH`, `paybackExactShares`, `skimAave`, `getLendingRate`
25: contract AaveHub is AaveHelper, TransferHelper, ApprovalHelper {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L25)]


```solidity
File: contracts/WrapperHub/Declarations.sol

/// @audit `setWiseSecurity`
21: contract Declarations is OwnableMaster, AaveEvents, WrapperHelper {

```
*Github:* [[21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L21)]


</details>


<a name="GAS-22"></a> 
### [GAS-22] Redundant state variable getters
Getters for public state variables are automatically generated so there is no need to code them manually and waste gas.

*There are <b>10</b> instances of this issue:*
```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

47:     function decimals()
            external
            pure
            returns (uint8)
        {
            return DECIMALS_PRECISION;

```
*Github:* [[47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L47)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

139:     function decimals()
             external
             pure
             returns (uint8)
         {
             return FEED_DECIMALS;

139:     function decimals()
             external
             pure
             returns (uint8)
         {
             return FEED_DECIMALS;

139:     function decimals()
             external
             pure
             returns (uint8)
         {
             return FEED_DECIMALS;

```
*Github:* [[139](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L139), [139](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L139), [139](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L139)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

134:     function decimals()
             external
             pure
             returns (uint8)
         {
             return FEED_DECIMALS;

134:     function decimals()
             external
             pure
             returns (uint8)
         {
             return FEED_DECIMALS;

134:     function decimals()
             external
             pure
             returns (uint8)
         {
             return FEED_DECIMALS;

```
*Github:* [[134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L134), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L134), [134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L134)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

113:     function decimals()
             external
             pure
             returns (uint8)
         {
             return FEED_DECIMALS;

113:     function decimals()
             external
             pure
             returns (uint8)
         {
             return FEED_DECIMALS;

113:     function decimals()
             external
             pure
             returns (uint8)
         {
             return FEED_DECIMALS;

```
*Github:* [[113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L113), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L113), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L113)]



<a name="GAS-23"></a> 
### [GAS-23] Remove or replace unused state variables
Saves a storage slot. If the variable is assigned a non-zero value, saves Gsset (20000 gas). If it's assigned a zero value, saves Gsreset (2900 gas). If the variable remains unassigned, there is no gas savings unless the variable is `public`, in which case the compiler-generated non-payable getter deployment cost is saved. If the state variable is overriding an interface's public function, mark the variable as `constant` or `immutable` so that it does not use a storage slot.

*There are <b>5</b> instances of this issue:*
```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

67:     uint256 internal constant POW_FEED_DECIMALS = 10 ** 18;

```
*Github:* [[67](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L67)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

167:     uint256 internal constant PRECISION_FACTOR_E15 = 1E15;

```
*Github:* [[167](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L167)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

75:     address internal constant ARB_TOKEN_ADDRESS = 0x912CE59144191C1204E64559FE8253a0e49E6548;

```
*Github:* [[75](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L75)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

106:     uint32 internal constant SECONDS_IN_MINUTE = 60;

```
*Github:* [[106](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L106)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

219:     uint256 internal constant ONE_WEI = 1;

```
*Github:* [[219](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L219)]



<a name="GAS-24"></a> 
### [GAS-24] The result of a function call should be cached rather than re-calling the function
The function calls in solidity are expensive. If the same result of the same function calls are to be used several times, the result should be cached to reduce the gas consumption of repeated calls.

<details>
<summary>
There are <b>19</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

/// @audit `latestRoundData` is called 2 times
24:     constructor(
            address _pendleMarketAddress,
            IPriceFeed _priceFeedChainLinkUsd,
            IPriceFeed _priceFeedChainLinkEthUsd,
            IOraclePendle _oraclePendlePt,
            string memory _oracleName,
            uint32 _twapDuration
        )
        {

/// @audit `latestRoundData` is called 2 times
81:     function latestAnswer()
            public
            view
            returns (uint256)
        {

```
*Github:* [[24](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L24), [81](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L81)]


```solidity
File: contracts/FeeManager/FeeManager.sol

/// @audit `getTotalDepositShares` is called 2 times
730:     function paybackBadDebtForToken(
             uint256 _nftId,
             address _paybackToken,
             address _receivingToken,
             uint256 _shares
         )
             external
             returns (
                 uint256 paybackAmount,
                 uint256 receivingAmount
             )
         {

```
*Github:* [[730](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L730)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

/// @audit `_gatherIncentives` is called 2 times
292:     function _distributeIncentives(
             uint256 _amount,
             address _poolToken,
             address _underlyingToken
         )
             internal
             returns (uint256)
         {

```
*Github:* [[292](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L292)]


```solidity
File: contracts/PoolManager.sol

/// @audit `_getPoleValue` is called 2 times
25:     function setParamsLASA(
            address _poolToken,
            uint256 _poolMulFactor,
            uint256 _upperBoundMaxRate,
            uint256 _lowerBoundMaxRate,
            bool _steppingDirection,
            bool _isFinal
        )
            external
            onlyMaster
        {

/// @audit `_getPoleValue` is called 2 times
164:     function _createPool(
             CreatePool calldata _params
         )
             private
         {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L25), [164](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L164)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

/// @audit `getTokensInETH` is called 3 times
/// @audit `_getTokensInETH` is called 3 times
134:     function _logicClosePosition(
             uint256 _nftId,
             uint256 _borrowShares,
             uint256 _lendingShares,
             uint256 _totalDebtBalancer,
             uint256 _allowedSpread,
             address _caller,
             bool _ethBack,
             bool _isAave
         )
             private
         {

/// @audit `withdrawExactShares` is called 2 times
310:     function _withdrawPendleLPs(
             uint256 _nftId,
             uint256 _lendingShares
         )
             private
             returns (uint256 withdrawnLpsAmount)
         {

/// @audit `paybackExactShares` is called 2 times
326:     function _paybackExactShares(
             bool _isAave,
             uint256 _nftId,
             uint256 _borrowShares
         )
             internal
         {

/// @audit `getTokensInETH` is called 2 times
/// @audit `_getTokensInETH` is called 2 times
/// @audit `depositExactAmount` is called 2 times
414:     function _logicOpenPosition(
             bool _isAave,
             uint256 _nftId,
             uint256 _depositAmount,
             uint256 _totalDebtBalancer,
             uint256 _allowedSpread
         )
             internal
         {

/// @audit `borrowExactAmount` is called 2 times
531:     function _borrowExactAmount(
             bool _isAave,
             uint256 _nftId,
             uint256 _totalDebtBalancer
         )
             internal
         {

```
*Github:* [[134](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L134), [310](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L310), [326](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L326), [414](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L414), [531](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L531)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

/// @audit `getTokensInETH` is called 2 times
/// @audit `_getTokensInETH` is called 2 times
174:     function getPositionBorrowETH(
             uint256 _nftId
         )
             public
             view
             returns (uint256)
         {

```
*Github:* [[174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L174)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit `_getUserReward` is called 2 times
218:     function _calculateRewardsClaimedOutside()
             internal
             returns (uint256[] memory)
         {

```
*Github:* [[218](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L218)]


```solidity
File: contracts/WiseCore.sol

/// @audit `_preparationTokens` is called 2 times
15:     function _prepareAssociatedTokens(
            uint256 _nftId,
            address _poolTokenLend,
            address _poolTokenBorrow
        )
            internal
            returns (
                address[] memory,
                address[] memory
            )
        {

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L15)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

/// @audit `decimals` is called 2 times
106:     function latestResolverTwap(
             address _tokenAddress
         )
             public
             view
             returns (uint256)
         {

/// @audit `_getAverageTick` is called 2 times
/// @audit `_getOneUnit` is called 3 times
460:     function _getTwapDerivatePrice(
             address _tokenAddress,
             UniTwapPoolInfo memory _uniTwapPoolInfo
         )
             internal
             view
             returns (uint256)
         {

/// @audit `_getRoundTimestamp` is called 2 times
592:     function _recalibratePreview(
             address _tokenAddress
         )
             internal
             view
             returns (uint256)
         {

```
*Github:* [[106](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L106), [460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L460), [592](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L592)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

/// @audit `_chainLinkIsDead` is called 2 times
439:     function chainLinkIsDead(
             address _tokenAddress
         )
             public
             view
             returns (bool state)
         {

```
*Github:* [[439](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L439)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

/// @audit `_checkBlacklisted` is called 2 times
695:     function positionBlackListToken(
             uint256 _nftId
         )
             external
             view
             returns (bool, address)
         {

```
*Github:* [[695](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L695)]


</details>


<a name="GAS-25"></a> 
### [GAS-25] There are comparisons to boolean literals (true and false), these can be simplified to save gas
In such instances you can simplify as follows: if ( == true) ==> if () | if ( == false) ==> if (!)

<details>
<summary>
There are <b>112</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

104:         if (increaseCardinalityRequired == true) {

108:         if (oldestObservationSatisfied == false) {

```
*Github:* [[104](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L104), [108](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L108)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

109:         if (increaseCardinalityRequired == true) {

113:         if (oldestObservationSatisfied == false) {

```
*Github:* [[109](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L109), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L113)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

90:         if (increaseCardinalityRequired == true) {

94:         if (oldestObservationSatisfied == false) {

```
*Github:* [[90](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L90), [94](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L94)]


```solidity
File: contracts/FeeManager/FeeManager.sol

261:             if (isAaveToken[tokenAddress] == true) {

418:         if (poolTokenAdded[_poolToken] == true) {

449:         if (poolTokenAdded[_poolToken] == false) {

473:         if (found == true) {

650:         if (isAaveToken[_poolToken] == true) {

701:         if (allowedTokens[caller][_feeToken] == false) {

```
*Github:* [[261](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L261), [418](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L418), [449](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L449), [473](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L473), [650](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L650), [701](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L701)]


```solidity
File: contracts/MainHelper.sol

42:         return _maxSharePrice == true

223:         if (verifiedIsolationPool[_poolAddress] == false) {

244:         if (positionLocked[_nftId] == false) {

265:         if (positionLocked[_nftIdLiquidator] == true) {

627:         if (hashMap[hashData] == true) {

716:             isLending == true

933:         _resonanceOutcome(_poolToken, totalShares) == true

1165:         if (_checkLendingDataEmpty(_nftId, _poolToken) == false) {

```
*Github:* [[42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L42), [223](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L223), [244](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L244), [265](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L265), [627](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L627), [716](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L716), [933](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L933), [1165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1165)]


```solidity
File: contracts/PoolManager.sol

36:         if (parametersLocked[_poolToken] == true) {

```
*Github:* [[36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L36)]


```solidity
File: contracts/PositionNFTs.sol

46:         if (reservePublicBlocked == true) {

47:             if (reserveRole[msg.sender] == false) {

161:         if (_exists(tokenId) == false) {

183:             ) == false

349:             _exists(_tokenId) == true,

```
*Github:* [[46](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L46), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L47), [161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L161), [183](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L183), [349](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L349)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

127:         if (isAave[_nftId] == true) {

203:         if (_notBelowMinDepositAmount(leveragedAmount) == false) {

238:         uint256 borrowShares = _isAave == false

246:         uint256 borrowTokenAmount = _isAave == false

```
*Github:* [[127](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L127), [203](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L203), [238](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L238), [246](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L246)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

365:         if (isShutdown == true) {

```
*Github:* [[365](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L365)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

67:         if (allowEnter == false) {

215:         if (_ethBack == true) {

333:         if (_isAave == true) {

520:         if (_checkDebtRatio(_nftId) == false) {

538:         if (_isAave == true) {

571:         if (_checkDebtRatio(_nftId) == true) {

575:         address paybackToken = isAave[_nftId] == true

584:         uint256 cutoffShares = isAave[_nftId] == true

```
*Github:* [[67](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L67), [215](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L215), [333](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L333), [520](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L520), [538](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L538), [571](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L571), [575](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L575), [584](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L584)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

39:         if (sendingProgress == true) {

43:         if (WISE_LENDING.sendingProgress() == true) {

47:         if (AAVE_HUB.sendingProgressAaveHub() == true) {

330:         uint256 netAPY = isPositive == true

```
*Github:* [[39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L39), [43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L43), [47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L47), [330](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L330)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

291:         if (_checkDebtRatio(wiseLendingNFT) == false) {

```
*Github:* [[291](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L291)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

304:         if (_compareHashes(_pendleMarket, rewardTokens) == true) {

396:             if (_fromInside == false) {

413:         if (_fromInside == false) {

456:         if (IS_ETH_MAIN == false) {

```
*Github:* [[304](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L304), [396](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L396), [413](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L413), [456](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L456)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

154:         if (_overWritten == true) {

699:         if (PENDLE_MARKET.isExpired() == true) {

```
*Github:* [[154](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L154), [699](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L699)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

51:             ) == true

```
*Github:* [[51](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L51)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

191:             _exists(_tokenId) == true,

```
*Github:* [[191](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L191)]


```solidity
File: contracts/TransferHub/CallOptionalReturn.sol

31:         if (success == false) {

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/CallOptionalReturn.sol#L31)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

33:         if (success == false) {

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L33)]


```solidity
File: contracts/WiseCore.sol

76:         if (_onBehalf == true) {

200:         if (_byPassCase(_caller) == true) {

204:         if (positionLocked[_nftId] == false) {

246:         if (WISE_ORACLE.chainLinkIsDead(_poolToken) == true) {

282:         if (POSITION_NFT.isOwner(_nftId, _caller) == true) {

306:         if (state == true) {

397:         if (_onBehalf == true) {

592:         if (userLendingData[_nftId][_receiveTokens].unCollateralized == true) {

```
*Github:* [[76](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L76), [200](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L200), [204](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L204), [246](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L246), [282](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L282), [306](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L306), [397](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L397), [592](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L592)]


```solidity
File: contracts/WiseLending.sol

87:         if (powerFarmCheck == true) {

290:         if (_aboveThreshold(_poolToken) == true) {

1527:         if (_onBehalf == false) {

```
*Github:* [[87](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L87), [290](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L290), [1527](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1527)]


```solidity
File: contracts/WiseLowLevelHelper.sol

354:         if (sendingProgress == true) {

358:         if (_sendingProgressAaveHub() == true) {

400:         if (verifiedIsolationPool[_sender] == true) {

```
*Github:* [[354](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L354), [358](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L358), [400](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L400)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

45:         if (_checkFunctionExistence(address(tokenAggregator)) == false) {

117:         if (uniTwapPoolInfoStruct.isUniPool == true) {

270:         if (_chainLinkIsDead(ETH_USD_PLACEHOLDER) == true) {

526:         if (IS_ARBITRUM_CHAIN == false) {

```
*Github:* [[45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L45), [117](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L117), [270](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L270), [526](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L526)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

76:         if (chainLinkIsDead(_tokenAddress) == true) {

451:         if (sequencerIsDead() == true) {

475:             if (state == true) {

```
*Github:* [[76](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L76), [451](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L451), [475](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L475)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

246:         if (_checkBlacklisted(_poolToken) == true) {

255:         if (WISE_LENDING.verifiedIsolationPool(_caller) == true) {

259:         if (WISE_LENDING.positionLocked(_nftId) == true) {

263:         if (_isUncollateralized(_nftId, _poolToken) == true) {

284:         if (_checkBlacklisted(_poolToken) == true) {

293:         if (WISE_LENDING.verifiedIsolationPool(_caller) == true) {

297:         if (WISE_LENDING.positionLocked(_nftId) == true) {

323:         if (WISE_LENDING.verifiedIsolationPool(_caller) == true) {

327:         if (WISE_LENDING.positionLocked(_nftId) == true) {

343:         if (checkHeartbeat(_poolAddress) == false) {

367:         if (_checkBlacklisted(_poolToken) == true) {

671:             if (checkHeartbeat(token) == false) {

675:             if (wasBlacklisted[token] == true) {

716:             if (_checkBlacklisted(token) == true) {

741:             if (_checkBlacklisted(token) == true) {

792:         if (_isUncollateralized(_nftId, _poolToken) == true) {

842:         if (_isUncollateralized(_nftId, _poolToken) == false) {

1014:         if (securityWorker[msg.sender] == false) {

```
*Github:* [[246](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L246), [255](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L255), [259](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L259), [263](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L263), [284](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L284), [293](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L293), [297](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L297), [323](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L323), [327](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L327), [343](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L343), [367](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L367), [671](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L671), [675](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L675), [716](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L716), [741](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L741), [792](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L792), [842](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L842), [1014](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1014)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

146:         uint256 maxFee = IS_ETH_MAINNET == true

150:         uint256 minFee = IS_ETH_MAINNET == true

164:         uint256 maxFeeFarm = IS_ETH_MAINNET == true

168:         uint256 minFeeFarm = IS_ETH_MAINNET == true

```
*Github:* [[146](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L146), [150](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L150), [164](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L164), [168](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L168)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

206:         if (_isUncollateralized(_nftId, _poolToken) == true) {

263:         if (_isUncollateralized(_nftId, _poolToken) == true) {

477:         return wasBlacklisted[_poolToken] == true;

678:         if (WISE_LENDING.borrowPoolData(_poolAddress).allowBorrow == false) {

694:         return WISE_ORACLE.chainLinkIsDead(_poolToken) == false;

707:         if (WISE_LENDING.positionLocked(_nftId) == true) {

801:         if (_getState(_nftId, _powerFarm) == true) {

822:         uint256 overallCollateral = _powerFarm == true

976:         ) == false) {

1086:         if (_checkBlacklisted(_poolToken) == true) {

1102:         if (_success == false) {

```
*Github:* [[206](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L206), [263](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L263), [477](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L477), [678](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L678), [694](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L694), [707](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L707), [801](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L801), [822](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L822), [976](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L976), [1086](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1086), [1102](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1102)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

38:         if (sendingProgressAaveHub == true) {

42:         if (WISE_LENDING.sendingProgress() == true) {

70:         if (POSITION_NFT.isOwner(_nftId, msg.sender) == false) {

214:         if (success == false) {

```
*Github:* [[38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L38), [42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L42), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L70), [214](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L214)]


</details>


<a name="GAS-26"></a> 
### [GAS-26] State variables can be packed into fewer storage slots by new order
Each slot saved can avoid an extra Gsset (20000 gas). Reads and writes (if two variables that occupy the same slot are written by the same function) will have a cheaper gas consumption.

*There are <b>4</b> instances of this issue:*
```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

/// @audit 4 slots -> 3 slots by new order:
/*
 *	  uint256 lastUpdateGlobal   (32 Bytes)
 *	  mapping timeStampByRoundId (32 Bytes)
 *	  address master             (20 Bytes)
 *	  uint80 globalRoundId       (10 Bytes)
 */
5: contract CustomOracleSetup {

```
*Github:* [[5](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L5)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

/// @audit 26 slots -> 25 slots by new order:
/*
 *	  uint256 collateralFactor                 (32 Bytes)
 *	  uint256 minDepositEthAmount              (32 Bytes)
 *	  mapping isAave                           (32 Bytes)
 *	  bool isShutdown                            (1 Byte)
 *	  bool allowEnter                            (1 Byte)
 *	  address aaveTokenAddresses               (20 Bytes)
 *	  address borrowTokenAddresses             (20 Bytes)
 *	  address ENTRY_ASSET                      (20 Bytes)
 *	  address PENDLE_CHILD                     (20 Bytes)
 *	  IAave AAVE                               (20 Bytes)
 *	  IAaveHub AAVE_HUB                        (20 Bytes)
 *	  IWiseLending WISE_LENDING                (20 Bytes)
 *	  IWiseOracleHub ORACLE_HUB                (20 Bytes)
 *	  IWiseSecurity WISE_SECURITY              (20 Bytes)
 *	  IBalancerVault BALANCER_VAULT            (20 Bytes)
 *	  IPositionNFTs POSITION_NFT               (20 Bytes)
 *	  IStETH ST_ETH                            (20 Bytes)
 *	  ICurve CURVE                             (20 Bytes)
 *	  IUniswapV3 UNISWAP_V3_ROUTER             (20 Bytes)
 *	  IPendleSy PENDLE_SY                      (20 Bytes)
 *	  IPendleRouter PENDLE_ROUTER              (20 Bytes)
 *	  IPendleMarket PENDLE_MARKET              (20 Bytes)
 *	  IPendleRouterStatic PENDLE_ROUTER_STATIC (20 Bytes)
 *	  address WETH_ADDRESS                     (20 Bytes)
 *	  address AAVE_ADDRESS                     (20 Bytes)
 *	  address AAVE_HUB_ADDRESS                 (20 Bytes)
 *	  address AAVE_WETH_ADDRESS                (20 Bytes)
 */
36: contract PendlePowerFarmDeclarations is

```
*Github:* [[36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L36)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

/// @audit 14 slots -> 13 slots by new order:
/*
 *	  uint256 ALLOWED_DIFFERENCE              (32 Bytes)
 *	  mapping _tokenDecimals                  (32 Bytes)
 *	  mapping priceFeed                       (32 Bytes)
 *	  mapping heartBeat                       (32 Bytes)
 *	  mapping tokenAggregatorFromTokenAddress (32 Bytes)
 *	  mapping underlyingFeedTokens            (32 Bytes)
 *	  mapping uniTwapPoolInfo                 (32 Bytes)
 *	  mapping derivativePartnerTwap           (32 Bytes)
 *	  address WETH_ADDRESS                    (20 Bytes)
 *	  address ETH_USD_PLACEHOLDER             (20 Bytes)
 *	  uint8 _decimalsWETH                       (1 Byte)
 *	  IPriceFeed ETH_PRICE_FEED               (20 Bytes)
 *	  IPriceFeed SEQUENCER                    (20 Bytes)
 *	  IUniswapV3Factory UNI_V3_FACTORY        (20 Bytes)
 *	  bool IS_ARBITRUM_CHAIN                    (1 Byte)
 */
33: abstract contract Declarations is OwnableMaster {

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L33)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

/// @audit 16 slots -> 15 slots by new order:
/*
 *	  uint256 minDepositEthValue        (32 Bytes)
 *	  mapping wasBlacklisted            (32 Bytes)
 *	  mapping curveSwapInfoData         (32 Bytes)
 *	  mapping curveSwapInfoToken        (32 Bytes)
 *	  mapping securityWorker            (32 Bytes)
 *	  uint256 maxFeeETH                 (32 Bytes)
 *	  uint256 maxFeeFarmETH             (32 Bytes)
 *	  uint256 baseRewardLiquidation     (32 Bytes)
 *	  uint256 baseRewardLiquidationFarm (32 Bytes)
 *	  address AAVE_HUB                  (20 Bytes)
 *	  IFeeManager FEE_MANAGER           (20 Bytes)
 *	  IWiseLending WISE_LENDING         (20 Bytes)
 *	  IPositionNFTs POSITION_NFTS       (20 Bytes)
 *	  IWiseOracleHub WISE_ORACLE        (20 Bytes)
 *	  IWiseLiquidation WISE_LIQUIDATION (20 Bytes)
 *	  bool IS_ETH_MAINNET                 (1 Byte)
 */
45: contract WiseSecurityDeclarations is OwnableMaster {

```
*Github:* [[45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L45)]



<a name="GAS-27"></a> 
### [GAS-27] State variables only set in the constructor should be declared immutable
Accessing state variables within a function involves an `SLOAD` operation, but `immutable` variables can be accessed directly without the need of it, thus reducing gas costs. As these state variables are assigned only in the constructor, consider declaring them `immutable`.

<details>
<summary>
There are <b>13</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

15:     IPriceFeed public priceFeedPendleLpOracle;

16:     IPendleChildToken public pendleChildToken;

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L15), [16](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L16)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

76:     string public name;

```
*Github:* [[76](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L76)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

74:     string public name;

```
*Github:* [[74](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L74)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

60:     string public name;

```
*Github:* [[60](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L60)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

120:     uint256 public paybackIncentive;

126:     address public incentiveMaster;

132:     address public incentiveOwnerA;

135:     address public incentiveOwnerB;

```
*Github:* [[120](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L120), [126](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L126), [132](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L132), [135](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L135)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

49:     uint256 public collateralFactor;

52:     uint256 public minDepositEthAmount;

```
*Github:* [[49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L49), [52](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L52)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

66:     uint256 public exchangeIncentive;

72:     IArbRewardsClaimer public ARB_REWARDS;

```
*Github:* [[66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L66), [72](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L72)]


</details>


<a name="GAS-28"></a> 
### [GAS-28] Use smaller sizes for struct variables if possible
In Solidity, each storage slot has a size of 32 bytes. If a struct contains multiple uint values, it's efficient to pack these into as few storage slots as possible to optimize gas usage. The EVM (Ethereum Virtual Machine) charges gas for each storage operation, so minimizing the number of slots used can result in substantial gas savings. This can be achieved by ordering struct fields according to their size or by using smaller data types where possible. However, developers must balance these optimizations with the need for code clarity and the precision requirements of their application. Always ensure that data packing does not compromise the functionality or security of the contract.

*There are <b>9</b> instances of this issue:*
```solidity
File: contracts/PoolManager.sol

/// @audit `poolMulFactor`
/// @audit `poolCollFactor`
/// @audit `maxDepositAmount`
12:     struct CreatePool {
            bool allowBorrow;
            address poolToken;
            uint256 poolMulFactor;
            uint256 poolCollFactor;
            uint256 maxDepositAmount;

```
*Github:* [[12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L12)]


```solidity
File: contracts/WiseLendingDeclaration.sol

/// @audit `shares`
192:     struct LendingEntry {
             bool unCollateralized;
             uint256 shares;

/// @audit `pole`
/// @audit `deltaPole`
/// @audit `minPole`
/// @audit `maxPole`
/// @audit `multiplicativeFactor`
197:     struct BorrowRatesEntry {
             uint256 pole;
             uint256 deltaPole;
             uint256 minPole;
             uint256 maxPole;
             uint256 multiplicativeFactor;

/// @audit `bestPole`
/// @audit `maxValue`
/// @audit `previousValue`
205:     struct AlgorithmEntry {
             bool increasePole;
             uint256 bestPole;
             uint256 maxValue;
             uint256 previousValue;

/// @audit `totalPool`
/// @audit `utilization`
/// @audit `totalBareToken`
/// @audit `poolFee`
212:     struct GlobalPoolEntry {
             uint256 totalPool;
             uint256 utilization;
             uint256 totalBareToken;
             uint256 poolFee;

/// @audit `pseudoTotalPool`
/// @audit `totalDepositShares`
/// @audit `collateralFactor`
219:     struct LendingPoolEntry {
             uint256 pseudoTotalPool;
             uint256 totalDepositShares;
             uint256 collateralFactor;

/// @audit `pseudoTotalBorrowAmount`
/// @audit `totalBorrowShares`
/// @audit `borrowRate`
225:     struct BorrowPoolEntry {
             bool allowBorrow;
             uint256 pseudoTotalBorrowAmount;
             uint256 totalBorrowShares;
             uint256 borrowRate;

/// @audit `timeStamp`
/// @audit `timeStampScaling`
/// @audit `initialTimeStamp`
232:     struct TimestampsPoolEntry {
             uint256 timeStamp;
             uint256 timeStampScaling;
             uint256 initialTimeStamp;

/// @audit `nftId`
/// @audit `nftIdLiquidator`
/// @audit `paybackAmount`
/// @audit `shareAmountToPay`
/// @audit `maxFeeETH`
/// @audit `baseRewardLiquidation`
238:     struct CoreLiquidationStruct {
             uint256 nftId;
             uint256 nftIdLiquidator;
             address caller;
             address tokenToPayback;
             address tokenToRecieve;
             uint256 paybackAmount;
             uint256 shareAmountToPay;
             uint256 maxFeeETH;
             uint256 baseRewardLiquidation;
             address[] lendTokens;
             address[] borrowTokens;

```
*Github:* [[192](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L192), [197](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L197), [205](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L205), [212](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L212), [219](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L219), [225](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L225), [232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L232), [238](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L238)]



<a name="GAS-29"></a> 
### [GAS-29] Unlimited gas consumption risk due to external call recipients
When calling an external function without specifying a gas limit , the called contract may consume all the remaining gas, causing the tx to be reverted. To mitigate this, it is recommended to explicitly set a gas limit when making low level external calls.

*There are <b>5</b> instances of this issue:*
```solidity
File: contracts/TransferHub/CallOptionalReturn.sol

22:         ) = token.call(

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/CallOptionalReturn.sol#L22)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

27:         ) = payable(_recipient).call{

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L27)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

78:         (bool success, ) = _tokenAggregator.call(

```
*Github:* [[78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L78)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

208:         ) = curvePool.call{value: 0} (

```
*Github:* [[208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L208)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

208:         (bool success, ) = payable(_recipient).call{

```
*Github:* [[208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L208)]



<a name="GAS-30"></a> 
### [GAS-30] Unused named return variables without optimizer waste gas
Consider changing the variable to be an unnamed one, since the variable is never assigned, nor is it returned by name. If the optimizer is not turned on, leaving the code as it is will also waste gas for the stack variable.

<details>
<summary>
There are <b>12</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

/// @audit `answer` not used
55:     function latestRoundData()
            external
            view
            returns (
                uint80 roundId,
                int256 answer,
                uint256 startedAt,
                uint256 updatedAt,
                uint80 answerdInRound
            )
        {

/// @audit `roundId` not used
/// @audit `answer` not used
78:     function getRoundData(
            uint80 _roundId
        )
            external
            view
            returns (
                uint80 roundId,
                int256 answer,
                uint256 startedAt,
                uint256 updatedAt,
                uint80 answeredInRound
            )
        {

```
*Github:* [[55](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L55), [78](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L78)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

/// @audit `answer` not used
151:     function latestRoundData()
             external
             view
             returns (
                 uint80 roundId,
                 int256 answer,
                 uint256 startedAt,
                 uint256 updatedAt,
                 uint80 answeredInRound
             )
         {

```
*Github:* [[151](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L151)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

/// @audit `answer` not used
146:     function latestRoundData()
             public
             view
             returns (
                 uint80 roundId,
                 int256 answer,
                 uint256 startedAt,
                 uint256 updatedAt,
                 uint80 answeredInRound
             )
         {

```
*Github:* [[146](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L146)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

/// @audit `answer` not used
125:     function latestRoundData()
             public
             view
             returns (
                 uint80 roundId,
                 int256 answer,
                 uint256 startedAt,
                 uint256 updatedAt,
                 uint80 answeredInRound
             )
         {

```
*Github:* [[125](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L125)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

/// @audit `receivingAmount` not used
244:     function getReceivingToken(
             address _paybackToken,
             address _receivingToken,
             uint256 _paybackAmount
         )
             public
             view
             returns (uint256 receivingAmount)
         {

```
*Github:* [[244](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L244)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

/// @audit `paybackAmount` not used
/// @audit `receivingAmount` not used
93:     function liquidatePartiallyFromToken(
            uint256 _nftId,
            uint256 _nftIdLiquidator,
            uint256 _shareAmountToPay
        )
            external
            updatePools
            returns (
                uint256 paybackAmount,
                uint256 receivingAmount
            )
        {

```
*Github:* [[93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L93)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

/// @audit `withdrawnLpsAmount` not used
310:     function _withdrawPendleLPs(
             uint256 _nftId,
             uint256 _lendingShares
         )
             private
             returns (uint256 withdrawnLpsAmount)
         {

```
*Github:* [[310](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L310)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

/// @audit `pool` not used
283:     function _getPool(
             address _token0,
             address _token1,
             uint24 _fee
         )
             internal
             view
             returns (address pool)
         {

```
*Github:* [[283](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L283)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

/// @audit `specialCase` not used
237:     function checksWithdraw(
             uint256 _nftId,
             address _caller,
             address _poolToken
         )
             external
             view
             returns (bool specialCase)
         {

/// @audit `specialCase` not used
275:     function checksSolelyWithdraw(
             uint256 _nftId,
             address _caller,
             address _poolToken
         )
             external
             view
             returns (bool specialCase)
         {

/// @audit `specialCase` not used
306:     function checksBorrow(
             uint256 _nftId,
             address _caller,
             address _poolToken
         )
             external
             view
             returns (bool specialCase)
         {

```
*Github:* [[237](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L237), [275](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L275), [306](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L306)]


</details>


<a name="GAS-31"></a> 
### [GAS-31] Optimize external calls with assembly for memory efficiency
Using interfaces to make external contract calls in Solidity is convenient but can be inefficient in terms of memory utilization. Each such call involves creating a new memory location to store the data being passed, thus incurring memory expansion costs.

Inline assembly allows for optimized memory usage by re-using already allocated memory spaces or using the scratch space for smaller datasets. This can result in notable gas savings, especially for contracts that make frequent external calls.

Additionally, using inline assembly enables important safety checks like verifying if the target address has code deployed to it using `extcodesize(addr)` before making the call, mitigating risks associated with contract interactions.

<details>
<summary>
There are <b>92</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

/// @audit `.totalLpAssets(...)`
41:             * pendleChildToken.totalLpAssets()

/// @audit `.totalSupply(...)`
43:             / pendleChildToken.totalSupply()

```
*Github:* [[41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L41), [43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L43)]


```solidity
File: contracts/FeeManager/FeeManager.sol

/// @audit `.setPoolFee(...)`
119:         WISE_LENDING.setPoolFee(

/// @audit `.setPoolFee(...)`
151:             WISE_LENDING.setPoolFee(

/// @audit `.corePaybackFeeManager(...)`
766:         WISE_LENDING.corePaybackFeeManager(

/// @audit `.corePaybackFeeManager(...)`
841:         WISE_LENDING.corePaybackFeeManager(

/// @audit `.syncManually(...)`
905:             WISE_LENDING.syncManually(

```
*Github:* [[119](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L119), [151](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L151), [766](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L766), [841](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L841), [905](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L905)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

/// @audit `.syncManually(...)`
32:             WISE_LENDING.syncManually(

/// @audit `.syncManually(...)`
64:             WISE_LENDING.syncManually(

/// @audit `.getTokensInETH(...)`
259:             ORACLE_HUB.getTokensInETH(

/// @audit `.globalPoolData(...)`
341:             / WISE_LENDING.globalPoolData(_poolToken).poolFee;

```
*Github:* [[32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L32), [64](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L64), [259](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L259), [341](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L341)]


```solidity
File: contracts/MainHelper.sol

/// @audit `.curveSecurityCheck(...)`
483:             WISE_SECURITY.curveSecurityCheck(

```
*Github:* [[483](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L483)]


```solidity
File: contracts/PoolManager.sol

/// @audit `.prepareCurvePools(...)`
157:         WISE_SECURITY.prepareCurvePools(

/// @audit `.addPoolTokenAddress(...)`
260:         FEE_MANAGER.addPoolTokenAddress(

```
*Github:* [[157](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L157), [260](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L260)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

/// @audit `.paybackExactShares(...)`
143:         WISE_LENDING.paybackExactShares(

/// @audit `.setRegistrationIsolationPool(...)`
279:         WISE_LENDING.setRegistrationIsolationPool(

```
*Github:* [[143](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L143), [279](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L279)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

/// @audit `.WISE_ORACLE(...)`
212:             WISE_LENDING.WISE_ORACLE()

/// @audit `.WISE_SECURITY(...)`
220:             WISE_LENDING.WISE_SECURITY()

/// @audit `.AAVE_HUB(...)`
226:             WISE_SECURITY.AAVE_HUB()

/// @audit `.POSITION_NFT(...)`
240:             WISE_LENDING.POSITION_NFT()

```
*Github:* [[212](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L212), [220](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L220), [226](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L226), [240](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L240)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

/// @audit `.flashLoan(...)`
37:         BALANCER_VAULT.flashLoan(

/// @audit `.withdrawExactShares(...)`
318:             WISE_LENDING.withdrawExactShares(

/// @audit `.paybackExactShares(...)`
334:             AAVE_HUB.paybackExactShares(

/// @audit `.paybackExactShares(...)`
343:         WISE_LENDING.paybackExactShares(

/// @audit `.previewDeposit(...)`
447:                 _minSharesOut: PENDLE_SY.previewDeposit(

/// @audit `.depositExactAmount(...)`
508:         WISE_LENDING.depositExactAmount(

/// @audit `.borrowExactAmount(...)`
539:             AAVE_HUB.borrowExactAmount(

/// @audit `.borrowExactAmount(...)`
548:         WISE_LENDING.borrowExactAmount(

```
*Github:* [[37](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L37), [318](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L318), [334](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L334), [343](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L343), [447](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L447), [508](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L508), [539](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L539), [548](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L548)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

/// @audit `.syncManually(...)`
22:         WISE_LENDING.syncManually(

/// @audit `.syncManually(...)`
26:         WISE_LENDING.syncManually(

/// @audit `.syncManually(...)`
30:         WISE_LENDING.syncManually(

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L22), [26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L26), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L30)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

/// @audit `.approve(...)`
197:             POSITION_NFT.approve(

/// @audit `.burnKey(...)`
230:             FARMS_NFTS.burnKey(

```
*Github:* [[197](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L197), [230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L230)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

/// @audit `.addCompoundRewards(...)`
93:         IPendlePowerFarmToken(pendleChildAddress[_pendleMarket]).addCompoundRewards(

/// @audit `.claim(...)`
438:         ARB_REWARDS.claim(

/// @audit `.claimRetail(...)`
587:         PENDLE_VOTE_REWARDS.claimRetail(

/// @audit `.vote(...)`
639:         PENDLE_VOTER.vote(

```
*Github:* [[93](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L93), [438](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L438), [587](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L587), [639](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L639)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

/// @audit `.manualSync(...)`
269:         IPendlePowerFarmToken(child).manualSync();

```
*Github:* [[269](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L269)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit `.overWriteIndexAll(...)`
172:         PENDLE_CONTROLLER.overWriteIndexAll(

/// @audit `.overWriteIndex(...)`
182:         PENDLE_CONTROLLER.overWriteIndex(

/// @audit `.overWriteAmounts(...)`
191:         PENDLE_CONTROLLER.overWriteAmounts(

/// @audit `.increaseReservedForCompound(...)`
206:                 PENDLE_CONTROLLER.increaseReservedForCompound(

/// @audit `.redeemRewards(...)`
243:                 PENDLE_MARKET.redeemRewards(

/// @audit `.increaseObservationsCardinalityNext(...)`
353:             PENDLE_MARKET.increaseObservationsCardinalityNext(

/// @audit `.withdrawLp(...)`
365:         PENDLE_CONTROLLER.withdrawLp(

```
*Github:* [[172](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L172), [182](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L182), [191](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L191), [206](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L206), [243](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L243), [353](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L353), [365](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L365)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

/// @audit `.mintKey(...)`
130:         FARMS_NFTS.mintKey(

```
*Github:* [[130](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L130)]


```solidity
File: contracts/TransferHub/WrapperHelper.sol

/// @audit `.withdraw(...)`
43:         WETH.withdraw(

```
*Github:* [[43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L43)]


```solidity
File: contracts/WiseCore.sol

/// @audit `.checkPoolWithMinDeposit(...)`
260:         WISE_SECURITY.checkPoolWithMinDeposit(

/// @audit `.getTokensInETH(...)`
638:             WISE_ORACLE.getTokensInETH(

/// @audit `.checkBadDebtLiquidation(...)`
665:         WISE_SECURITY.checkBadDebtLiquidation(

```
*Github:* [[260](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L260), [638](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L638), [665](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L665)]


```solidity
File: contracts/WiseLending.sol

/// @audit `.checkHealthState(...)`
199:         WISE_SECURITY.checkHealthState(

/// @audit `.checksCollateralizeDeposit(...)`
336:         WISE_SECURITY.checksCollateralizeDeposit(

/// @audit `.checkUncollateralizedDeposit(...)`
371:         WISE_SECURITY.checkUncollateralizedDeposit(

/// @audit `.checksLiquidation(...)`
1300:         WISE_SECURITY.checksLiquidation(

/// @audit `.overallETHCollateralsBare(...)`
1397:             WISE_SECURITY.overallETHCollateralsBare(_nftId)

/// @audit `.overallETHBorrowBare(...)`
1401:             WISE_SECURITY.overallETHBorrowBare(_nftId)

```
*Github:* [[199](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L199), [336](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L336), [371](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L371), [1300](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1300), [1397](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1397), [1401](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1401)]


```solidity
File: contracts/WiseLendingDeclaration.sol

/// @audit `.FEE_MANAGER(...)`
155:             WISE_SECURITY.FEE_MANAGER()

```
*Github:* [[155](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L155)]


```solidity
File: contracts/WiseLowLevelHelper.sol

/// @audit `.checkOwnerPosition(...)`
441:         WISE_SECURITY.checkOwnerPosition(

```
*Github:* [[441](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L441)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

/// @audit `.coins(...)`
157:             ICurve(curvePool).coins(tokenIndexForApprove),

/// @audit `.coins(...)`
163:             ICurve(curvePool).coins(tokenIndexForApprove),

/// @audit `.coins(...)`
177:             ICurve(curveMetaPool).coins(tokenIndexForApprove),

/// @audit `.coins(...)`
183:             ICurve(curveMetaPool).coins(tokenIndexForApprove),

/// @audit `.increaseTotalBadDebtLiquidation(...)`
427:             FEE_MANAGER.increaseTotalBadDebtLiquidation(

/// @audit `.setBadDebtUserLiquidation(...)`
431:             FEE_MANAGER.setBadDebtUserLiquidation(

```
*Github:* [[157](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L157), [163](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L163), [177](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L177), [183](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L183), [427](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L427), [431](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L431)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

/// @audit `.AAVE_ADDRESS(...)`
83:             IAaveHubWiseSecurity(AAVE_HUB).AAVE_ADDRESS(),

```
*Github:* [[83](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L83)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

/// @audit `.lendingPoolData(...)`
45:                 * WISE_LENDING.lendingPoolData(tokenAddress).collateralFactor

/// @audit `.getPureCollateralAmount(...)`
200:             WISE_LENDING.getPureCollateralAmount(

/// @audit `.getPureCollateralAmount(...)`
257:             WISE_LENDING.getPureCollateralAmount(

/// @audit `.getPositionBorrowTokenByIndex(...)`
376:                 WISE_LENDING.getPositionBorrowTokenByIndex(

/// @audit `.globalPoolData(...)`
567:             * (PRECISION_FACTOR_E18 - WISE_LENDING.globalPoolData(_poolToken).poolFee)

/// @audit `.getTimeStamp(...)`
592:             - WISE_LENDING.getTimeStamp(_poolToken);

/// @audit `.getPseudoTotalBorrowAmount(...)`
596:             * WISE_LENDING.getPseudoTotalBorrowAmount(_poolToken)

/// @audit `.getPositionLendingShares(...)`
933:                 _shares: WISE_LENDING.getPositionLendingShares(

/// @audit `.getPositionBorrowShares(...)`
955:             WISE_LENDING.getPositionBorrowShares(

/// @audit `.globalPoolData(...)`
1015:             * (PRECISION_FACTOR_E18 - WISE_LENDING.globalPoolData(_poolToken).poolFee)

/// @audit `.getPseudoTotalBorrowAmount(...)`
1019:             * WISE_LENDING.getPseudoTotalBorrowAmount(_poolToken)

/// @audit `.lendingPoolData(...)`
1044:             / WISE_LENDING.lendingPoolData(_poolToken).collateralFactor;

/// @audit `.getPoolTokenAdressesByIndex(...)`
1068:                 FEE_MANAGER.getPoolTokenAdressesByIndex(i)

```
*Github:* [[45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L45), [200](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L200), [257](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L257), [376](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L376), [567](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L567), [592](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L592), [596](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L596), [933](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L933), [955](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L955), [1015](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1015), [1019](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1019), [1044](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1044), [1068](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1068)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

/// @audit `.withdraw(...)`
156:         AAVE.withdraw(

/// @audit `.supply(...)`
181:         AAVE.supply(

/// @audit `.preparePool(...)`
269:             WISE_LENDING.preparePool(

/// @audit `.newBorrowRate(...)`
273:             WISE_LENDING.newBorrowRate(

/// @audit `.preparePool(...)`
305:             WISE_LENDING.preparePool(

/// @audit `.newBorrowRate(...)`
309:             WISE_LENDING.newBorrowRate(

```
*Github:* [[156](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L156), [181](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L181), [269](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L269), [273](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L273), [305](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L305), [309](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L309)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

/// @audit `.syncManually(...)`
503:         WISE_LENDING.syncManually(

/// @audit `.syncManually(...)`
574:         WISE_LENDING.syncManually(

/// @audit `.supply(...)`
590:         AAVE.supply(

/// @audit `.paybackExactShares(...)`
597:         WISE_LENDING.paybackExactShares(

/// @audit `.balanceOf(...)`
626:             IERC20(tokenToSend).balanceOf(address(this))

```
*Github:* [[503](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L503), [574](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L574), [590](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L590), [597](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L597), [626](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L626)]


```solidity
File: contracts/WrapperHub/Declarations.sol

/// @audit `.POSITION_NFT(...)`
77:             WISE_LENDING.POSITION_NFT()

/// @audit `.checkOwnerPosition(...)`
87:         WISE_SECURITY.checkOwnerPosition(

/// @audit `.checkPositionLocked(...)`
99:         WISE_LENDING.checkPositionLocked(

```
*Github:* [[77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L77), [87](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L87), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L99)]


</details>


<a name="GAS-32"></a> 
### [GAS-32] Use assembly to compute hashes to save gas
If the arguments to the encode call can fit into the scratch space (two words or fewer), then it's more efficient to use assembly to generate the hash (80 gas):

`keccak256(abi.encodePacked(x, y)) -> assembly {mstore(0x00, a); mstore(0x20, b); let hash := keccak256(0x00, 0x40); }`

*There are <b>6</b> instances of this issue:*
```solidity
File: contracts/MainHelper.sol

655:         return keccak256(

```
*Github:* [[655](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L655)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

225:         return keccak256(

229:         ) == keccak256(

```
*Github:* [[225](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L225), [229](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L229)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

23:             salt: keccak256(

65:         bytes32 salt = keccak256(

```
*Github:* [[23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L23), [65](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L65)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

47:                     keccak256(

```
*Github:* [[47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L47)]



<a name="GAS-33"></a> 
### [GAS-33] Use assembly to emit events
To efficiently emit events, it's possible to utilize assembly by making use of scratch space and the free memory pointer. This approach has the advantage of potentially avoiding the costs associated with memory expansion.

However, it's important to note that in order to safely optimize this process, it is preferable to cache and restore the free memory pointer.

A good example of such practice can be seen in [Solady's](https://github.com/Vectorized/solady/blob/main/src/tokens/ERC1155.sol#L167) codebase.

<details>
<summary>
There are <b>73</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/FeeManager.sol

124:         emit PoolFeeChanged(

156:             emit PoolFeeChanged(

185:         emit IncentiveMasterProposed(

204:         emit ClaimedOwnershipIncentiveMaster(

222:         emit IncentiveIncreasedA(

240:         emit IncentiveIncreasedB(

276:         emit ClaimedIncentivesBulk(

297:         emit ClaimedIncentives(

342:         emit IncentiveOwnerAChanged(

379:         emit IncentiveOwnerBChanged(

402:         emit PoolTokenAdded(

428:         emit PoolTokenAdded(

478:             emit PoolTokenRemoved(

504:         emit BadDebtIncreasedLiquidation(

526:         emit SetBadDebtPosition(

560:         emit SetBeneficial(

593:         emit RevokeBeneficial(

619:         emit ClaimedFeesWiseBulk(

677:         emit ClaimedFeesWise(

716:         emit ClaimedFeesBeneficial(

801:         emit PayedBackBadDebt(

852:         emit PayedBackBadDebtFree(

```
*Github:* [[124](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L124), [156](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L156), [185](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L185), [204](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L204), [222](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L222), [240](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L240), [276](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L276), [297](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L297), [342](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L342), [379](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L379), [402](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L402), [428](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L428), [478](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L478), [504](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L504), [526](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L526), [560](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L560), [593](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L593), [619](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L619), [677](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L677), [716](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L716), [801](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L801), [852](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L852)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

96:         emit TotalBadDebtIncreased(

112:         emit TotalBadDebtDecreased(

161:             emit UpdateBadDebtPosition(

183:             emit UpdateBadDebtPosition(

```
*Github:* [[96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L96), [112](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L112), [161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L161), [183](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L183)]


```solidity
File: contracts/OwnableMaster.sol

82:         emit MasterProposed(

110:         emit RenouncedOwnership(

```
*Github:* [[82](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L82), [110](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L110)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

284:         emit RegistrationFarm(

```
*Github:* [[284](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L284)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol

25:         emit ETHReceived(

71:         emit MinDepositChange(

90:         emit FarmStatus(

131:         emit FarmEntry(

174:         emit FarmEntry(

246:         emit FarmExit(

266:         emit ManualPaybackShares(

295:         emit ManualWithdrawShares(

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L25), [71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L71), [90](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L90), [131](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L131), [174](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L174), [246](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L246), [266](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L266), [295](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerManager.sol#L295)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

46:         emit WithdrawLp(

103:         emit ExchangeRewardsForCompounding(

159:         emit ExchangeLpFeesForPendle(

287:         emit AddPendleMarket(

313:         emit UpdateRewardTokens(

329:         emit ChangeExchangeIncentive(

355:         emit ChangeMintFee(

421:         emit LockPendle(

444:         emit ClaimArb(

467:             emit WithdrawLock(

491:         emit WithdrawLock(

520:         emit IncreaseReservedForCompound(

593:         emit ClaimVoteRewards(

```
*Github:* [[46](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L46), [103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L103), [159](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L159), [287](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L287), [313](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L313), [329](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L329), [355](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L355), [421](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L421), [444](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L444), [467](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L467), [491](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L491), [520](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L520), [593](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L593)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

129:         emit ETHReceived(

```
*Github:* [[129](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L129)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

169:         emit ERC721Received(

```
*Github:* [[169](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L169)]


```solidity
File: contracts/WiseCore.sol

77:             emit FundsWithdrawnOnBehalf(

86:             emit FundsWithdrawn(

156:         emit FundsDeposited(

398:             emit FundsBorrowedOnBehalf(

407:             emit FundsBorrowed(

```
*Github:* [[77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L77), [86](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L86), [156](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L156), [398](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L398), [407](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L407)]


```solidity
File: contracts/WiseLending.sol

136:         emit FundsSolelyWithdrawn(

153:         emit FundsSolelyDeposited(

1450:         emit FundsReturned(

```
*Github:* [[136](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L136), [153](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L153), [1450](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1450)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

1022:         emit SecurityShutdown(

```
*Github:* [[1022](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L1022)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

145:         emit IsDepositAave(

190:         emit IsDepositAave(

226:         emit IsWithdrawAave(

269:         emit IsWithdrawAave(

302:         emit IsWithdrawAave(

342:         emit IsWithdrawAave(

378:         emit IsBorrowAave(

421:         emit IsBorrowAave(

470:         emit IsPaybackAave(

544:         emit IsPaybackAave(

603:         emit IsPaybackAave(

688:         emit SetAaveTokenAddress(

```
*Github:* [[145](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L145), [190](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L190), [226](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L226), [269](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L269), [302](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L302), [342](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L342), [378](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L378), [421](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L421), [470](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L470), [544](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L544), [603](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L603), [688](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L688)]


</details>


<a name="GAS-34"></a> 
### [GAS-34] Use assembly to validate `msg.sender`

<details>
<summary>
There are <b>19</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

195:         if (msg.sender == incentiveMaster) {

206:         if (msg.sender == address(WISE_SECURITY)) {

217:         if (msg.sender == address(WISE_LENDING)) {

```
*Github:* [[195](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L195), [206](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L206), [217](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L217)]


```solidity
File: contracts/FeeManager/FeeManager.sol

197:         if (msg.sender != proposedIncentiveMaster) {

320:         if (msg.sender != incentiveOwnerA) {

357:         if (msg.sender != incentiveOwnerB) {

```
*Github:* [[197](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L197), [320](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L320), [357](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L357)]


```solidity
File: contracts/OwnableMaster.sol

25:         if (msg.sender == master) {

41:         if (msg.sender == proposedMaster) {

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L25), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L41)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

77:         if (msg.sender != BALANCER_ADDRESS) {

```
*Github:* [[77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L77)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

251:         if (msg.sender != pendleChildAddress[_pendleMarket]) {

```
*Github:* [[251](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L251)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

76:         if (msg.sender != PENDLE_POWER_FARM_CONTROLLER) {

514:         if (msg.sender == PENDLE_POWER_FARM_CONTROLLER) {

635:         if (msg.sender == PENDLE_POWER_FARM_CONTROLLER) {

```
*Github:* [[76](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L76), [514](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L514), [635](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L635)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

44:         if (msg.sender != PENDLE_POWER_FARM_CONTROLLER) {

```
*Github:* [[44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L44)]


```solidity
File: contracts/WiseLending.sol

53:         if (msg.sender == WETH_ADDRESS) {

```
*Github:* [[53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L53)]


```solidity
File: contracts/WiseLendingDeclaration.sol

261:         if (msg.sender != AAVE_HUB_ADDRESS) {

```
*Github:* [[261](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L261)]


```solidity
File: contracts/WiseLowLevelHelper.sol

18:         if (msg.sender == address(FEE_MANAGER)) {

```
*Github:* [[18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L18)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

35:         if (msg.sender == address(WISE_LENDING)) {

```
*Github:* [[35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L35)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

87:         if (msg.sender == WETH_ADDRESS) {

```
*Github:* [[87](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L87)]


</details>


<a name="GAS-35"></a> 
### [GAS-35] Use assembly to write address/contract type storage values
Using `assembly { sstore(state.slot, addr)` instead of `state = addr` can save gas.

<details>
<summary>
There are <b>100</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

23:         master = msg.sender;

30:         master = address(0x0);

```
*Github:* [[23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L23), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L30)]


```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

27:         priceFeedPendleLpOracle = IPriceFeed(

30:         pendleChildToken = IPendleChildToken(

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L27), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L30)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

40:         PENDLE_MARKET_ADDRESS = _pendleMarketAddress;

42:         FEED_ASSET = _priceFeedChainLinkEth;

49:         ORACLE_PENDLE_PT = _oraclePendlePt;

51:         PENDLE_MARKET = IPendleMarket(

```
*Github:* [[40](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L40), [42](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L42), [49](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L49), [51](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L51)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

33:         PENDLE_MARKET_ADDRESS = _pendleMarketAddress;

35:         USD_FEED_ASSET = _priceFeedChainLinkUsd;

36:         ETH_FEED_ASSET = _priceFeedChainLinkEthUsd;

41:         ORACLE_PENDLE_PT = _oraclePendlePt;

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L33), [35](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L35), [36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L36), [41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L41)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

32:         PENDLE_MARKET_ADDRESS = _pendleMarketAddress;

34:         FEED_ASSET = _priceFeedChainLinkEth;

38:         ORACLE_PENDLE_PT = _oraclePendlePt;

```
*Github:* [[32](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L32), [34](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L34), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L38)]


```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

65:         WISE_LENDING = IWiseLending(

69:         AAVE = IAave(

73:         ORACLE_HUB = IWiseOracleHub(

77:         WISE_SECURITY = IWiseSecurity(

81:         POSITION_NFTS = IPositionNFTs(

87:         incentiveMaster = _master;

90:         incentiveOwnerA = 0xf69A0e276664997357BF987df83f32a1a3F80944;

91:         incentiveOwnerB = 0x8f741ea9C9ba34B5B8Afc08891bDf53faf4B3FE7;

```
*Github:* [[65](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L65), [69](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L69), [73](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L73), [77](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L77), [81](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L81), [87](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L87), [90](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L90), [91](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L91)]


```solidity
File: contracts/FeeManager/FeeManager.sol

183:         proposedIncentiveMaster = _proposedIncentiveMaster;

201:         incentiveMaster = proposedIncentiveMaster;

202:         proposedIncentiveMaster = ZERO_ADDRESS;

340:         incentiveOwnerA = _newOwner;

377:         incentiveOwnerB = _newOwner;

```
*Github:* [[183](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L183), [201](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L201), [202](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L202), [340](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L340), [377](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L377)]


```solidity
File: contracts/OwnableMaster.sol

63:         master = _master;

80:         proposedMaster = _proposedOwner;

96:         master = proposedMaster;

107:         master = ZERO_ADDRESS;

108:         proposedMaster = ZERO_ADDRESS;

```
*Github:* [[63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L63), [80](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L80), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L96), [107](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L107), [108](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L108)]


```solidity
File: contracts/PositionNFTs.sol

81:         feeManager = _feeManagerContract;

```
*Github:* [[81](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L81)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

176:         PENDLE_ROUTER_STATIC = IPendleRouterStatic(

180:         PENDLE_MARKET = IPendleMarket(

184:         PENDLE_SY = IPendleSy(

188:         PENDLE_ROUTER = IPendleRouter(

192:         ST_ETH = IStETH(

196:         CURVE = ICurve(

200:         UNISWAP_V3_ROUTER = IUniswapV3(

204:         ENTRY_ASSET = _entryAsset;

205:         PENDLE_CHILD = _pendleChilTokenAddress;

207:         WISE_LENDING = IWiseLending(

211:         ORACLE_HUB = IWiseOracleHub(

215:         BALANCER_VAULT = IBalancerVault(

219:         WISE_SECURITY = IWiseSecurity(

223:         WETH_ADDRESS = WISE_LENDING.WETH_ADDRESS();

225:         AAVE_HUB = IAaveHub(

229:         AAVE_ADDRESS = AAVE_HUB.AAVE_ADDRESS();

231:         AAVE = IAave(

235:         AAVE_HUB_ADDRESS = address(

239:         POSITION_NFT = IPositionNFTs(

248:         borrowTokenAddresses = AAVE_HUB.WETH_ADDRESS();

249:         aaveTokenAddresses = AAVE_HUB.aaveTokenAddress(

253:         AAVE_WETH_ADDRESS = aaveTokenAddresses;

```
*Github:* [[176](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L176), [180](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L180), [184](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L184), [188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L188), [192](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L192), [196](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L196), [200](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L200), [204](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L204), [205](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L205), [207](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L207), [211](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L211), [215](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L215), [219](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L219), [223](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L223), [225](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L225), [229](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L229), [231](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L231), [235](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L235), [239](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L239), [248](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L248), [249](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L249), [253](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L253)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

27:         PENDLE_POWER_FARM_TOKEN_FACTORY = new PendlePowerFarmTokenFactory(

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L27)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

94:         PENDLE_TOKEN_ADDRESS = _pendleToken;

96:         VOTER_CONTRACT_ADDRESS = _voterContract;

97:         VOTER_REWARDS_CLAIMER_ADDRESS = _voterRewardsClaimerAddress;

99:         WISE_ORACLE_HUB_ADDRESS = _wiseOracleHub;

100:         VE_PENDLE_CONTRACT_ADDRESS = _vePendle;

102:         PENDLE_LOCK = IPendleLock(

106:         PENDLE_VOTER = IPendleVoter(

110:         PENDLE_VOTE_REWARDS = IPendleVoteRewards(

114:         ORACLE_HUB = IWiseOracleHub(

118:         ARB_REWARDS = IArbRewardsClaimer(

```
*Github:* [[94](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L94), [96](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L96), [97](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L97), [99](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L99), [100](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L100), [102](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L102), [106](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L106), [110](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L110), [114](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L114), [118](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L118)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

695:         PENDLE_MARKET = IPendleMarket(

703:         PENDLE_CONTROLLER = IPendleController(

712:         PENDLE_POWER_FARM_CONTROLLER = _pendleController;

713:         UNDERLYING_PENDLE_MARKET = _underlyingPendleMarket;

720:         PENDLE_SY = IPendleSy(

```
*Github:* [[695](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L695), [703](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L703), [712](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L712), [713](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L713), [720](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L720)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

20:         PENDLE_POWER_FARM_CONTROLLER = _pendlePowerFarmController;

30:         IMPLEMENTATION_TARGET = address(

```
*Github:* [[20](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L20), [30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L30)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

58:         FARMS_NFTS = IPowerFarmsNFTs(

```
*Github:* [[58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L58)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

58:             farmContract = _farmContract;

```
*Github:* [[58](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L58)]


```solidity
File: contracts/TransferHub/WrapperHelper.sol

15:         WETH = IWETH(

```
*Github:* [[15](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/WrapperHelper.sol#L15)]


```solidity
File: contracts/WiseLendingDeclaration.sol

127:         WISE_ORACLE = IWiseOracleHub(

131:         WETH_ADDRESS = WISE_ORACLE.WETH_ADDRESS();

133:         POSITION_NFT = IPositionNFTs(

150:         WISE_SECURITY = IWiseSecurity(

154:         FEE_MANAGER = IFeeManagerLight(

158:         AAVE_HUB_ADDRESS = WISE_SECURITY.AAVE_HUB();

```
*Github:* [[127](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L127), [131](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L131), [133](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L133), [150](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L150), [154](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L154), [158](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L158)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

54:         WETH_ADDRESS = _wethAddress;

60:         ETH_PRICE_FEED = IPriceFeed(

64:         UNI_V3_FACTORY = IUniswapV3Factory(

68:         SEQUENCER = IPriceFeed(

```
*Github:* [[54](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L54), [60](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L60), [64](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L64), [68](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L68)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

44:         ETH_USD_PLACEHOLDER = address(

```
*Github:* [[44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L44)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

71:         WISE_LENDING = IWiseLending(

75:         AAVE_HUB = _aaveHubAddress;

90:         WISE_ORACLE = IWiseOracleHub(

94:         FEE_MANAGER = IFeeManager(

98:         WISE_LIQUIDATION = IWiseLiquidation(

102:         POSITION_NFTS = IPositionNFTs(

```
*Github:* [[71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L71), [75](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L75), [90](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L90), [94](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L94), [98](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L98), [102](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L102)]


```solidity
File: contracts/WrapperHub/Declarations.sol

65:         AAVE_ADDRESS = _aaveAddress;

66:         WISE_LENDING = IWiseLending(

70:         WETH_ADDRESS = WISE_LENDING.WETH_ADDRESS();

72:         AAVE = IAave(

76:         POSITION_NFT = IPositionNFTs(

115:         WISE_SECURITY = IWiseSecurity(

```
*Github:* [[65](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L65), [66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L66), [70](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L70), [72](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L72), [76](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L76), [115](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L115)]


</details>


<a name="GAS-36"></a> 
### [GAS-36] Using a double `if` statement instead of a logical AND (`&&`)
Using a double `if` statement instead of a logical AND (`&&`) can provide similar short-circuiting behavior whereas double if is slightly [more gas efficient](https://gist.github.com/DadeKuma/931ce6794a050201ec6544dbcc31316c).

*There are <b>8</b> instances of this issue:*
```solidity
File: contracts/MainHelper.sol

839:             && pureCollateralAmount[_nftId][_poolToken] == 0;

```
*Github:* [[839](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L839)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

255:             if (lastIndex[i] == 0 && index > 0) {

```
*Github:* [[255](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L255)]


```solidity
File: contracts/TransferHub/CallOptionalReturn.sol

36:             && results

37:             && token.code.length > 0;

```
*Github:* [[36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/CallOptionalReturn.sol#L36), [37](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/CallOptionalReturn.sol#L37)]


```solidity
File: contracts/WiseCore.sol

564:         if (pureCollateral > 0 && userShares > 0) {

572:         if (potentialPureExtraCashout > 0 && potentialPureExtraCashout <= pureCollateral) {

```
*Github:* [[564](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L564), [572](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L572)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

315:         if (_tokenAddress != _token0 && _tokenAddress != _token1) {

439:         if (tickCumulativesDelta < 0 && (tickCumulativesDelta % twapPeriodInt56 != 0)) {

```
*Github:* [[315](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L315), [439](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L439)]



<a name="GAS-37"></a> 
### [GAS-37] Consider using OZ EnumerateSet in place of nested mappings
Nested mappings and multi-dimensional arrays in Solidity operate through a process of double hashing, wherein the original storage slot and the first key are concatenated and hashed, and then this hash is again concatenated with the second key and hashed. This process can be quite gas expensive due to the double-hashing operation and subsequent storage operation (sstore).

A possible optimization involves manually concatenating the keys followed by a single hash operation and an sstore. However, this technique introduces the risk of storage collision, especially when there are other nested hash maps in the contract that use the same key types. Because Solidity is unaware of the number and structure of nested hash maps in a contract, it follows a conservative approach in computing the storage slot to avoid possible collisions.

OpenZeppelin's EnumerableSet provides a potential solution to this problem. It creates a data structure that combines the benefits of set operations with the ability to enumerate stored elements, which is not natively available in Solidity. EnumerableSet handles the element uniqueness internally and can therefore provide a more gas-efficient and collision-resistant alternative to nested mappings or multi-dimensional arrays in certain scenarios.

*There are <b>7</b> instances of this issue:*
```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

158:     mapping(address => mapping(address => bool)) public allowedTokens;

161:     mapping(address => mapping(address => uint256)) public gatheredIncentiveToken;

```
*Github:* [[158](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L158), [161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L161)]


```solidity
File: contracts/WiseLendingDeclaration.sol

273:     mapping(uint256 => mapping(address => uint256)) public userBorrowShares;

274:     mapping(uint256 => mapping(address => uint256)) public pureCollateralAmount;

275:     mapping(uint256 => mapping(address => LendingEntry)) public userLendingData;

```
*Github:* [[273](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L273), [274](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L274), [275](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L275)]


```solidity
File: contracts/WiseLowLevelHelper.sol

372:         mapping(uint256 => mapping(address => uint256)) storage userMapping,

383:         mapping(uint256 => mapping(address => uint256)) storage userMapping,

```
*Github:* [[372](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L372), [383](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L383)]



<a name="GAS-38"></a> 
### [GAS-38] Use != 0 instead of > 0
Replace spotted instances with != 0 for uints as this uses less gas.

<details>
<summary>
There are <b>36</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/FeeManager.sol

697:         if (totalBadDebtETH > 0) {

```
*Github:* [[697](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L697)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

302:         if (incentiveUSD[incentiveOwnerA] > 0) {

312:         if (incentiveUSD[incentiveOwnerB] > 0) {

```
*Github:* [[302](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L302), [312](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L312)]


```solidity
File: contracts/MainHelper.sol

776:         if (userBorrowShares[_nftId][_poolToken] > 0) {

```
*Github:* [[776](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L776)]


```solidity
File: contracts/PoolManager.sol

108:         if (_maximumDeposit > 0) {

112:         if (_collateralFactor > 0) {

268:         if (fetchBalance > 0) {

```
*Github:* [[108](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L108), [112](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L112), [268](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L268)]


```solidity
File: contracts/PositionNFTs.sol

117:         if (reserved[_user] > 0) {

203:         if (nftId > 0) {

288:         if (reservedId > 0) {

309:         if (reservedId > 0) {

```
*Github:* [[117](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L117), [203](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L203), [288](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L288), [309](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L309)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

107:         if (initialAmount > 0) {

```
*Github:* [[107](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L107)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

103:         if (positionBorrowShares > 0) {

122:         if (positionBorrowSharesAave > 0) {

186:         if (borrowShares > 0) {

198:         if (borrowSharesAave > 0) {

206:         if (borrowShares > 0) {

```
*Github:* [[103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L103), [122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L122), [186](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L186), [198](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L198), [206](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L206)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

388:         if (_amount > 0) {

417:         if (_amount > 0) {

```
*Github:* [[388](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L388), [417](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L417)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

205:             if (rewardsOutsideArray[i] > 0) {

242:             if (userReward.accrued > 0) {

255:             if (lastIndex[i] == 0 && index > 0) {

```
*Github:* [[205](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L205), [242](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L242), [255](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L255)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol

84:         if (reservedKeys[_userAddress] > 0) {

```
*Github:* [[84](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/MinterReserver.sol#L84)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

130:         if (reservedId > 0) {

151:         if (reservedId > 0) {

```
*Github:* [[130](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L130), [151](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L151)]


```solidity
File: contracts/WiseCore.sol

552:         if (pureCollateralAmount[_nftId][_receiveTokens] > 0) {

564:         if (pureCollateral > 0 && userShares > 0) {

572:         if (potentialPureExtraCashout > 0 && potentialPureExtraCashout <= pureCollateral) {

```
*Github:* [[552](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L552), [564](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L564), [572](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L572)]


```solidity
File: contracts/WiseLending.sol

1147:         if (refundAmount > 0) {

```
*Github:* [[1147](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L1147)]


```solidity
File: contracts/WiseLowLevelHelper.sol

464:         if (_value > 0) {

```
*Github:* [[464](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L464)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

161:         if (fetchTwapValue > 0) {

```
*Github:* [[161](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L161)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

248:             if (overallETHBorrowBare(_nftId) > 0) {

286:             if (overallETHBorrowBare(_nftId) > 0) {

369:             if (overallETHBorrowBare(_nftId) > 0) {

```
*Github:* [[248](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L248), [286](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L286), [369](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L369)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

849:         if (overallETHCollateralsWeighted(_nftId) > 0) {

```
*Github:* [[849](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L849)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

537:         if (ethRefundAmount > 0) {

```
*Github:* [[537](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L537)]


</details>


<a name="GAS-39"></a> 
### [GAS-39] Use `selfbalance()` instead of `address(this).balance`
Use assembly when getting a contract's balance of ETH.

You can use `selfbalance()` instead of `address(this).balance` when getting your contract's balance of ETH to save gas.
Additionally, you can use `balance(address)` instead of `address.balance()` when getting an external contract's balance of ETH.

*Saves 15 gas when checking internal balance, 6 for external*

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/TransferHub/SendValueHelper.sol

18:         if (address(this).balance < _amount) {

```
*Github:* [[18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L18)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

202:         if (address(this).balance < _amount) {

```
*Github:* [[202](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L202)]



<a name="GAS-40"></a> 
### [GAS-40] State variables can be packed into fewer storage slots by truncating timestamp bytes
State variables in Solidity are typically stored in 32-byte storage slots. When dealing with timestamps, which generally fit into a smaller byte size, it can be beneficial to truncate these bytes and pack them with other variables. This reduces the number of required storage slots, saving both storage space and associated gas costs. For example, a timestamp generally fits into a uint32, so it can be combined with other small variables within a single storage slot. When designing a contract, carefully structuring state variables to utilize truncation and packing can lead to a more efficient and cost-effective implementation.

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

61:     uint256 private INITIAL_TIME_STAMP;

```
*Github:* [[61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L61)]


```solidity
File: contracts/WiseLendingDeclaration.sol

/// @audit `timeStamp`
/// @audit `timeStampScaling`
/// @audit `initialTimeStamp`
232:     struct TimestampsPoolEntry {
             uint256 timeStamp;
             uint256 timeStampScaling;
             uint256 initialTimeStamp;

```
*Github:* [[232](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L232)]



<a name="GAS-41"></a> 
### [GAS-41] Consider Using Solady's Gas Optimized Lib for Math
In instances where many similar mathematical operations are performed, consider using Solday's math lib to benefit from the gas saving it can introduce.

<details>
<summary>
There are <b>76</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

40:         return priceFeedPendleLpOracle.latestAnswer()

```
*Github:* [[40](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L40)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

117:         return lpRate

```
*Github:* [[117](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L117)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

122:         return uint256(answerUsdFeed)

```
*Github:* [[122](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L122)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

103:         return uint256(answerFeed)

```
*Github:* [[103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L103)]


```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

253:         uint256 increasedAmount = _paybackAmount

339:         uint256 incentiveAmount = _amount

```
*Github:* [[253](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L253), [339](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L339)]


```solidity
File: contracts/MainHelper.sol

101:         return _shares

177:         return PRECISION_FACTOR_E18 - (PRECISION_FACTOR_E18

360:         return timeDifference

528:         uint256 feeAmount = amountInterest

550:         uint256 feeShares = feeAmount

863:             borrowRatesData[_poolToken].multiplicativeFactor

995:         return _shareValue < THRESHOLD_RESET_RESONANCE_FACTOR

1051:         _shareValues < THRESHOLD_SWITCH_DIRECTION

```
*Github:* [[101](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L101), [177](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L177), [360](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L360), [528](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L528), [550](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L550), [863](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L863), [995](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L995), [1051](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L1051)]


```solidity
File: contracts/PoolManager.sol

287:                 + _poolMulFactor

```
*Github:* [[287](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L287)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol

84:         return getPositionBorrowETH(_nftId)

```
*Github:* [[84](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarm.sol#L84)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

194:             _getTokensInETH(

204:         uint256 ethValueAfter = _getTokensInETH(

431:                 _getEthInTokens(

497:         uint256 ethValueAfter = _getTokensInETH(

585:             ? _getPositionBorrowSharesAave(_nftId)

588:             : _getPositionBorrowShares(_nftId)

```
*Github:* [[194](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L194), [204](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L204), [431](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L431), [497](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L497), [585](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L585), [588](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L588)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

236:         return _getTokensInETH(

280:         return _initialAmount

320:         uint256 leveragedPositivAPY = _wstETHAPY

324:         uint256 leveragedNegativeAPY = newBorrowRate

363:         uint256 newUtilization = PRECISION_FACTOR_E18 - (PRECISION_FACTOR_E18

379:         return mulFactor

```
*Github:* [[236](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L236), [280](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L280), [320](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L320), [324](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L324), [363](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L363), [379](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L379)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

39:         uint128 startTime = uint128((block.timestamp / WEEK)

81:         uint256 sendingValue = _rewardValue

```
*Github:* [[39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L39), [81](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L81)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

63:     uint256 internal constant RESTRICTION_FACTOR = 10

284:                 ? indexDiff

289:                 : indexDiff

330:         return previewUnderlyingLpAssets() * PRECISION_FACTOR_E18

429:         return _amount

460:         return _underlyingAssetAmount

473:         return _shares

```
*Github:* [[63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L63), [284](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L284), [289](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L289), [330](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L330), [429](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L429), [460](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L460), [473](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L473)]


```solidity
File: contracts/WiseCore.sol

615:             _removePercentage

```
*Github:* [[615](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseCore.sol#L615)]


```solidity
File: contracts/WiseLending.sol

175:         uint256 borrowSharePrice = borrowPoolData[_poolToken].pseudoTotalBorrowAmount

185:             lendingPoolData[_poolToken].pseudoTotalPool

```
*Github:* [[175](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L175), [185](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLending.sol#L185)]


```solidity
File: contracts/WiseLendingDeclaration.sol

170:     uint256 internal constant MIN_BORROW_SHARE_PRICE = 5 * PRECISION_FACTOR_E18

323:     uint256 internal constant RESTRICTION_FACTOR = 10

```
*Github:* [[170](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L170), [323](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L323)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

225:             return _answerUint256

230:         return _fetchTwapValue

494:         return firstQuote

```
*Github:* [[225](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L225), [230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L230), [494](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L494)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

109:             ? _tokenAmount

113:             : _tokenAmount

131:         return getTokensInETH(

160:             ? _tokenAmount

164:             : _tokenAmount

184:             ? _usdValue

188:             : _usdValue

208:             _usdValue

344:             ? _ethAmount

348:             : _ethAmount

```
*Github:* [[109](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L109), [113](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L113), [131](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L131), [160](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L160), [164](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L164), [184](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L184), [188](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L188), [208](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L208), [344](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L344), [348](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L348)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

74:         return overallETHBorrow(_nftId)

679:             buffer += WISE_LENDING.lendingPoolData(token).collateralFactor

686:         return buffer

877:         uint256 term = _overallETHCollateralsWeighted(_nftId, _interval)

933:         return borrowShares

970:         return lendingShares

```
*Github:* [[74](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L74), [679](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L679), [686](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L686), [877](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L877), [933](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L933), [970](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L970)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

44:             weightedTotal += amount

90:             weightedTotal += WISE_LENDING.lendingPoolData(tokenAddress).collateralFactor

171:             weightedTotal += WISE_LENDING.lendingPoolData(tokenAddress).collateralFactor

308:         uint256 updatedToken = lendingShares

566:         return _getInterest(_poolToken, _interval)

594:         uint256 rate = timeInterval

637:         uint256 updatedToken = borrowShares

745:         uint256 feeETH = _paybackETH

826:         return overallCollateral

893:             : totalSharesUser * MAX_LIQUIDATION_50 / PRECISION_FACTOR_E18;

1014:         uint256 adjustedRate = getBorrowRate(_poolToken)

1018:         return adjustedRate

1038:         uint256 term = _overallETHBorrow(_nftId, _interval)

1042:         uint256 withdrawETH = PRECISION_FACTOR_E18

```
*Github:* [[44](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L44), [90](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L90), [171](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L171), [308](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L308), [566](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L566), [594](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L594), [637](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L637), [745](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L745), [826](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L826), [893](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L893), [1014](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1014), [1018](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1018), [1038](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1038), [1042](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L1042)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

658:         return aaveRate

```
*Github:* [[658](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L658)]


</details>


<a name="GAS-42"></a> 
### [GAS-42] Use `uint256(1)`/`uint256(2)` instead of `true`/`false` to save gas for changes
Avoids a Gsset (20000 gas) when changing from false to true, after having been true in the past. Since most of the bools aren't changed twice in one transaction, I've counted the amount of gas as half of the full amount, for each variable.

<details>
<summary>
There are <b>20</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

149:     mapping(address => bool) public poolTokenAdded;

152:     mapping(address => bool) public isAaveToken;

158:     mapping(address => mapping(address => bool)) public allowedTokens;

```
*Github:* [[149](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L149), [152](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L152), [158](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L158)]


```solidity
File: contracts/MainHelper.sol

617:         mapping(bytes32 => bool) storage hashMap,

```
*Github:* [[617](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L617)]


```solidity
File: contracts/PositionNFTs.sol

21:     mapping(address => bool) public reserveRole;

23:     bool public reservePublicBlocked;

```
*Github:* [[21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L21), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L23)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

43:     bool public isShutdown;

46:     bool public allowEnter;

108:     mapping(uint256 => bool) public isAave;

```
*Github:* [[43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L43), [46](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L46), [108](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L108)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

10:     bool public sendingProgress;

```
*Github:* [[10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L10)]


```solidity
File: contracts/WiseLendingDeclaration.sol

186:     bool internal powerFarmCheck;

286:     mapping(uint256 => bool) public positionLocked;

287:     mapping(address => bool) internal parametersLocked;

288:     mapping(address => bool) public verifiedIsolationPool;

291:     mapping(bytes32 => bool) internal hashMapPositionBorrow;

292:     mapping(bytes32 => bool) internal hashMapPositionLending;

```
*Github:* [[186](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L186), [286](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L286), [287](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L287), [288](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L288), [291](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L291), [292](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L292)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

133:     bool internal immutable IS_ARBITRUM_CHAIN;

```
*Github:* [[133](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L133)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

238:     mapping(address => bool) public wasBlacklisted;

247:     mapping(address => bool) public securityWorker;

```
*Github:* [[238](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L238), [247](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L247)]


```solidity
File: contracts/WrapperHub/Declarations.sol

25:     bool public sendingProgressAaveHub;

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L25)]


</details>


<a name="GAS-43"></a> 
### [GAS-43] Use `unchecked` block for safe subtractions
If it can be confirmed that the subtraction operation will not overflow, using an unchecked block can save gas. For example, `require(x <= y); z = y - x;` can be optimized to `require(x <= y); unchecked { z = y - x; }`

<details>
<summary>
There are <b>21</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/FeeManagerHelper.sol

/// @audit this subtraction is checked on line 151
171:             uint256 newBadDebt = currentBorrowETH

/// @audit this subtraction is checked on line 179
180:                 ? _increaseTotalBadDebt(newBadDebt - currentBadDebt)

/// @audit this subtraction is checked on line 179
181:                 : _decreaseTotalBadDebt(currentBadDebt - newBadDebt);

```
*Github:* [[171](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L171), [180](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L180), [181](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManagerHelper.sol#L181)]


```solidity
File: contracts/PoolManager.sol

/// @audit this subtraction is checked on line 312
301:         return (_maxPole - _minPole) / NORMALISATION_FACTOR;

```
*Github:* [[301](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L301)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol

/// @audit this subtraction is checked on line 301
325:             * (_leverage - PRECISION_FACTOR_E18)

/// @audit this subtraction is checked on line 328
331:             ? leveragedPositivAPY - leveragedNegativeAPY

/// @audit this subtraction is checked on line 328
332:             : leveragedNegativeAPY - leveragedPositivAPY;

```
*Github:* [[325](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L325), [331](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L331), [332](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmMathLogic.sol#L332)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

/// @audit this subtraction is checked on line 108
112:                 / 10 ** (tokenDecimals - _decimalsETH)

/// @audit this subtraction is checked on line 108
114:                 * 10 ** (_decimalsETH - tokenDecimals)

/// @audit this subtraction is checked on line 108
163:                 / 10 ** (tokenDecimals - _decimalsETH)

/// @audit this subtraction is checked on line 108
165:                 * 10 ** (_decimalsETH - tokenDecimals)

/// @audit this subtraction is checked on line 108
185:                 * 10 ** (tokenDecimals - _decimalsETH)

/// @audit this subtraction is checked on line 108
191:                 / 10 ** (_decimalsETH - tokenDecimals);

/// @audit this subtraction is checked on line 108
345:                 * 10 ** (tokenDecimals - _decimalsETH)

/// @audit this subtraction is checked on line 108
351:                 / 10 ** (_decimalsETH - tokenDecimals);

```
*Github:* [[112](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L112), [114](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L114), [163](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L163), [165](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L165), [185](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L185), [191](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L191), [345](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L345), [351](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L351)]


```solidity
File: contracts/WiseSecurity/WiseSecurity.sol

/// @audit this subtraction is checked on line 419
424:             uint256 diff = totalBorrow

/// @audit this subtraction is checked on line 623
625:             netAPY = (ethValueGain - ethValueDebt)

/// @audit this subtraction is checked on line 623
631:         netAPY = (ethValueDebt - ethValueGain)

/// @audit this subtraction is checked on line 808
812:         withdrawAmount = withdrawAmount - _solelyWithdrawAmount;

/// @audit this subtraction is checked on line 844
848:             tokenAmount = tokenAmount - _poolWithdrawAmount;

```
*Github:* [[424](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L424), [625](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L625), [631](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L631), [812](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L812), [848](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurity.sol#L848)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

/// @audit this subtraction is checked on line 230
233:                 _ethSent - _maxPaybackAmount

```
*Github:* [[233](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L233)]


</details>


<a name="GAS-44"></a> 
### [GAS-44] Using bitmap to store bool states can save gas
Using a bitmap instead of a bool array or a bool mapping to store boolean states can save gas fees. This is because the bitmap can store 256 boolean values in a single slot instead of 256 slots, which can save gas when writing bool values or when reading multiple bool values from the same slot.

<details>
<summary>
There are <b>13</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

149:     mapping(address => bool) public poolTokenAdded;

152:     mapping(address => bool) public isAaveToken;

158:     mapping(address => mapping(address => bool)) public allowedTokens;

```
*Github:* [[149](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L149), [152](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L152), [158](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L158)]


```solidity
File: contracts/MainHelper.sol

617:         mapping(bytes32 => bool) storage hashMap,

```
*Github:* [[617](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L617)]


```solidity
File: contracts/PositionNFTs.sol

21:     mapping(address => bool) public reserveRole;

```
*Github:* [[21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L21)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

108:     mapping(uint256 => bool) public isAave;

```
*Github:* [[108](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L108)]


```solidity
File: contracts/WiseLendingDeclaration.sol

286:     mapping(uint256 => bool) public positionLocked;

287:     mapping(address => bool) internal parametersLocked;

288:     mapping(address => bool) public verifiedIsolationPool;

291:     mapping(bytes32 => bool) internal hashMapPositionBorrow;

292:     mapping(bytes32 => bool) internal hashMapPositionLending;

```
*Github:* [[286](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L286), [287](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L287), [288](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L288), [291](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L291), [292](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L292)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

238:     mapping(address => bool) public wasBlacklisted;

247:     mapping(address => bool) public securityWorker;

```
*Github:* [[238](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L238), [247](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L247)]


</details>


<a name="GAS-45"></a> 
### [GAS-45] Using `constant`s directly, rather than caching the value, saves gas

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/OwnableMaster.sol

/// @audit `ZERO_ADDRESS`
107:         master = ZERO_ADDRESS;

/// @audit `ZERO_ADDRESS`
108:         proposedMaster = ZERO_ADDRESS;

```
*Github:* [[107](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L107), [108](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/OwnableMaster.sol#L108)]



<a name="GAS-46"></a> 
### [GAS-46] Using `this` to access functions results in an external call, wasting gas
External calls have an overhead of 100 gas, which can be avoided by not referencing the function using `this`. Contracts are allowed to override their parents' functions and change the visibility from `external` to `public`, so make this change if it's required in order to call the function internally.

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/TransferHub/SendValueHelper.sol

18:         if (address(this).balance < _amount) {

```
*Github:* [[18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L18)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

202:         if (address(this).balance < _amount) {

```
*Github:* [[202](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L202)]



<a name="GAS-47"></a> 
### [GAS-47] `abi.encodePacked` is more gas efficient than `abi.encode`
`abi.encode` pads all elementary types to 32 bytes, whereas `abi.encodePacked` will only use the minimal required memory to encode the data. See [here](https://docs.soliditylang.org/en/v0.8.11/abi-spec.html?highlight=encodepacked#non-standard-packed-mode) for more info.

*There are <b>3</b> instances of this issue:*
```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

41:             abi.encode(

```
*Github:* [[41](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L41)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

226:             abi.encode(

230:             abi.encode(

```
*Github:* [[226](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L226), [230](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L230)]



<a name="GAS-48"></a> 
### [GAS-48] Use `selfbalance()` instead of `address(this).balance`
Use assembly when getting a contract's balance of ETH.

You can use `selfbalance()` instead of `address(this).balance` when getting your contract's balance of ETH to save gas.
Additionally, you can use `balance(address)` instead of `address.balance()` when getting an external contract's balance of ETH.

*Saves 15 gas when checking internal balance, 6 for external*

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/TransferHub/SendValueHelper.sol

18:         if (address(this).balance < _amount) {

```
*Github:* [[18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L18)]


```solidity
File: contracts/WrapperHub/AaveHelper.sol

202:         if (address(this).balance < _amount) {

```
*Github:* [[202](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHelper.sol#L202)]



<a name="GAS-49"></a> 
### [GAS-49] Using bools for storage incurs overhead
Use uint256(1) and uint256(2) for true/false to avoid a Gwarmaccess (100 gas), and to avoid Gsset (20000 gas) when changing from ‘false’ to ‘true’, after having been ‘true’ in the past. See [source](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/58f635312aa21f947cae5f8578638a85aa2519f5/contracts/security/ReentrancyGuard.sol#L23-L27).

<details>
<summary>
There are <b>20</b> instances (click to show):
</summary>

```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

149:     mapping(address => bool) public poolTokenAdded;

152:     mapping(address => bool) public isAaveToken;

158:     mapping(address => mapping(address => bool)) public allowedTokens;

```
*Github:* [[149](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L149), [152](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L152), [158](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L158)]


```solidity
File: contracts/MainHelper.sol

617:         mapping(bytes32 => bool) storage hashMap,

```
*Github:* [[617](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L617)]


```solidity
File: contracts/PositionNFTs.sol

21:     mapping(address => bool) public reserveRole;

23:     bool public reservePublicBlocked;

```
*Github:* [[21](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L21), [23](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L23)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol

43:     bool public isShutdown;

46:     bool public allowEnter;

108:     mapping(uint256 => bool) public isAave;

```
*Github:* [[43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L43), [46](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L46), [108](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmDeclarations.sol#L108)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

10:     bool public sendingProgress;

```
*Github:* [[10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L10)]


```solidity
File: contracts/WiseLendingDeclaration.sol

186:     bool internal powerFarmCheck;

286:     mapping(uint256 => bool) public positionLocked;

287:     mapping(address => bool) internal parametersLocked;

288:     mapping(address => bool) public verifiedIsolationPool;

291:     mapping(bytes32 => bool) internal hashMapPositionBorrow;

292:     mapping(bytes32 => bool) internal hashMapPositionLending;

```
*Github:* [[186](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L186), [286](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L286), [287](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L287), [288](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L288), [291](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L291), [292](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L292)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

133:     bool internal immutable IS_ARBITRUM_CHAIN;

```
*Github:* [[133](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L133)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

238:     mapping(address => bool) public wasBlacklisted;

247:     mapping(address => bool) public securityWorker;

```
*Github:* [[238](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L238), [247](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L247)]


```solidity
File: contracts/WrapperHub/Declarations.sol

25:     bool public sendingProgressAaveHub;

```
*Github:* [[25](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L25)]


</details>


<a name="GAS-50"></a> 
### [GAS-50] Cache array length outside of loop
If not cached, the solidity compiler will always read the length of the array during each iteration. That is, if it is a storage array, this is an extra sload operation (100 additional extra gas for each iteration except for the first) and if it is a memory array, this is an extra mload operation (3 additional gas for each iteration except for the first).

*There are <b>3</b> instances of this issue:*
```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

509:         uint256 length = childInfo.rewardTokens.length;

577:             childInfo.rewardTokens.length

```
*Github:* [[509](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L509), [577](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L577)]


```solidity
File: contracts/WrapperHub/AaveHub.sol

71:         for (uint256 i = 0; i < _underlyingAssets.length; i++) {

```
*Github:* [[71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L71)]



<a name="GAS-51"></a> 
### [GAS-51] State variables should be cached in stack variables rather than re-reading them from storage
The instances below point to the second+ access of a state variable within a function. Caching of a state variable replaces each Gwarmaccess (100 gas) with a much cheaper stack read. Other less obvious fixes/optimizations include having local memory caches of state variable structs, or having local caches of state variable contracts/addresses.

*There are <b>9</b> instances of this issue:*
```solidity
File: contracts/PositionNFTs.sol

/// @audit more than 1 read for `reserved`, line 310 and 278
310:             tokenIds[i] = reservedId;

```
*Github:* [[310](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L310)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit more than 1 read for `PENDLE_CONTROLLER`, line 226 and 222
226:         uint128[] memory lastIndex = PENDLE_CONTROLLER.pendleChildCompoundInfoLastIndex(

/// @audit more than 1 read for `totalLpAssetsToDistribute`, line 403 and 391
403:         uint256 currentRate = totalLpAssetsToDistribute

/// @audit more than 1 read for `PENDLE_MARKET`, line 713 and 695
713:         UNDERLYING_PENDLE_MARKET = _underlyingPendleMarket;

/// @audit more than 1 read for `PENDLE_MARKET`, line 718 and 695
718:         ) = PENDLE_MARKET.readTokens();

/// @audit more than 1 read for `PENDLE_SY`, line 724 and 720
724:         _decimals = PENDLE_SY.decimals();

```
*Github:* [[226](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L226), [403](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L403), [713](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L713), [718](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L718), [724](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L724)]


```solidity
File: contracts/TransferHub/SendValueHelper.sol

/// @audit more than 1 read for `sendingProgress`, line 31 and 22
31:         sendingProgress = false;

```
*Github:* [[31](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/TransferHub/SendValueHelper.sol#L31)]


```solidity
File: contracts/WiseLendingDeclaration.sol

/// @audit more than 1 read for `WISE_SECURITY`, line 158 and 150
158:         AAVE_HUB_ADDRESS = WISE_SECURITY.AAVE_HUB();

/// @audit more than 1 read for `WISE_SECURITY`, line 158 and 150
158:         AAVE_HUB_ADDRESS = WISE_SECURITY.AAVE_HUB();

```
*Github:* [[158](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L158), [158](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLendingDeclaration.sol#L158)]



<a name="GAS-52"></a> 
### [GAS-52] Use `calldata` instead of `memory` for function arguments that do not get mutated
Mark data types as `calldata` instead of `memory` where possible. This makes it so that the data is not automatically loaded into memory. If the data passed into the function does not need to be changed (like updating values in an array), it can be passed in as `calldata`. The one exception to this is if the argument must later be passed into another function that takes an argument that specifies `memory` storage.

<details>
<summary>
There are <b>21</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

/// @audit make `_oracleName` as a calldata
36:         string memory _oracleName,

```
*Github:* [[36](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L36)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

/// @audit make `_oracleName` as a calldata
29:         string memory _oracleName,

```
*Github:* [[29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L29)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

/// @audit make `_oracleName` as a calldata
28:         string memory _oracleName,

```
*Github:* [[28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L28)]


```solidity
File: contracts/FeeManager/FeeManager.sol

/// @audit make `_feeTokens` as a calldata
573:         address[] memory _feeTokens

```
*Github:* [[573](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/FeeManager.sol#L573)]


```solidity
File: contracts/PositionNFTs.sol

/// @audit make `_name` as a calldata
26:         string memory _name,

/// @audit make `_symbol` as a calldata
27:         string memory _symbol,

/// @audit make `_baseURI` as a calldata
28:         string memory _baseURI

/// @audit make `_newBaseURI` as a calldata
320:         string memory _newBaseURI

/// @audit make `_newBaseExtension` as a calldata
329:         string memory _newBaseExtension

```
*Github:* [[26](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L26), [27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L27), [28](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L28), [320](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L320), [329](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L329)]


```solidity
File: contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol

/// @audit make `_flashloanToken` as a calldata
60:         IERC20[] memory _flashloanToken,

/// @audit make `_flashloanAmounts` as a calldata
61:         uint256[] memory _flashloanAmounts,

/// @audit make `_feeAmounts` as a calldata
62:         uint256[] memory _feeAmounts,

/// @audit make `_userData` as a calldata
63:         bytes memory _userData

```
*Github:* [[60](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L60), [61](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L61), [62](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L62), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarm/PendlePowerFarmLeverageLogic.sol#L63)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

/// @audit make `_tokenName` as a calldata
213:         string memory _tokenName,

/// @audit make `_symbolName` as a calldata
214:         string memory _symbolName,

```
*Github:* [[213](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L213), [214](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L214)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

/// @audit make `_tokenName` as a calldata
685:         string memory _tokenName,

/// @audit make `_symbolName` as a calldata
686:         string memory _symbolName,

```
*Github:* [[685](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L685), [686](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L686)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

/// @audit make `_tokenName` as a calldata
37:         string memory _tokenName,

/// @audit make `_symbolName` as a calldata
38:         string memory _symbolName,

```
*Github:* [[37](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L37), [38](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L38)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

/// @audit make `_name` as a calldata
39:         string memory _name,

/// @audit make `_symbol` as a calldata
40:         string memory _symbol

```
*Github:* [[39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L39), [40](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L40)]


</details>


<a name="GAS-53"></a> 
### [GAS-53] Don't initialize variables with default value

*There are <b>2</b> instances of this issue:*
```solidity
File: contracts/WrapperHub/AaveHub.sol

71:         for (uint256 i = 0; i < _underlyingAssets.length; i++) {

```
*Github:* [[71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L71)]


```solidity
File: contracts/WrapperHub/Declarations.sol

27:     uint16 internal constant REF_CODE = 0;

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L27)]



<a name="GAS-54"></a> 
### [GAS-54] Usage of `int`s/`uint`s smaller than 32 bytes incurs overhead
Using `int`s/`uint`s smaller than 32 bytes may cost more gas. This is because the EVM operates on 32 bytes at a time, so if an element is smaller than 32 bytes, the EVM must perform more operations to reduce the size of the element from 32 bytes to the desired size.

<details>
<summary>
There are <b>83</b> instances (click to show):
</summary>

```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

10:     uint80 public globalRoundId;

12:     mapping(uint80 => uint256) public timeStampByRoundId;

43:         uint80 _roundId,

53:         uint80 _aggregatorRoundId

```
*Github:* [[10](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L10), [12](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L12), [43](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L43), [53](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L53)]


```solidity
File: contracts/DerivativeOracles/PendleChildLpOracle.sol

18:     uint8 constant DECIMALS_PRECISION = 18;

50:         returns (uint8)

59:             uint80 roundId,

63:             uint80 answerdInRound

79:         uint80 _roundId

84:             uint80 roundId,

88:             uint80 answeredInRound

```
*Github:* [[18](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L18), [50](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L50), [59](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L59), [63](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L63), [79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L79), [84](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L84), [88](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleChildLpOracle.sol#L88)]


```solidity
File: contracts/DerivativeOracles/PendleLpOracle.sol

37:         uint32 _twapDuration

66:     uint8 internal constant FEED_DECIMALS = 18;

73:     uint32 public immutable TWAP_DURATION;

124:         uint32 _duration

142:         returns (uint8)

155:             uint80 roundId,

159:             uint80 answeredInRound

```
*Github:* [[37](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L37), [66](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L66), [73](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L73), [124](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L124), [142](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L142), [155](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L155), [159](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PendleLpOracle.sol#L159)]


```solidity
File: contracts/DerivativeOracles/PtOracleDerivative.sol

30:         uint32 _twapDuration

65:     uint8 internal constant FEED_DECIMALS = 18;

71:     uint32 public immutable TWAP_DURATION;

137:         returns (uint8)

150:             uint80 roundId,

154:             uint80 answeredInRound

```
*Github:* [[30](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L30), [65](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L65), [71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L71), [137](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L137), [150](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L150), [154](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOracleDerivative.sol#L154)]


```solidity
File: contracts/DerivativeOracles/PtOraclePure.sol

29:         uint32 _twapDuration

51:     uint8 internal constant FEED_DECIMALS = 18;

57:     uint32 public immutable DURATION;

116:         returns (uint8)

129:             uint80 roundId,

133:             uint80 answeredInRound

```
*Github:* [[29](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L29), [51](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L51), [57](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L57), [116](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L116), [129](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L129), [133](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/PtOraclePure.sol#L133)]


```solidity
File: contracts/MainHelper.sol

690:         uint8 i;

```
*Github:* [[690](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/MainHelper.sol#L690)]


```solidity
File: contracts/PositionNFTs.sol

399:                 uint8(

```
*Github:* [[399](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PositionNFTs.sol#L399)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol

215:         uint16 _maxCardinality

248:         childInfo.lastIndex = new uint128[](

366:         uint128 _weeks,

378:         uint128 expiry = _sameExpiry

379:             ? uint128(currentExpiry)

407:             uint128(_amount),

614:         uint64[] calldata _weights

```
*Github:* [[215](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L215), [248](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L248), [366](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L366), [378](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L378), [379](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L379), [407](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L407), [614](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmController.sol#L614)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

37:         uint128[] lastIndex;

65:     uint128 internal constant WEEK = 7 days;

181:         uint128 _expiry,

```
*Github:* [[37](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L37), [65](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L65), [181](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L181)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol

33:         uint128 _weeks

37:         returns (uint128)

39:         uint128 startTime = uint128((block.timestamp / WEEK)

39:         uint128 startTime = uint128((block.timestamp / WEEK)

110:         returns (uint128[] memory)

180:         returns (uint128)

```
*Github:* [[33](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L33), [37](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L37), [39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L39), [39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L39), [110](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L110), [180](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerHelper.sol#L180)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

47:     uint16 public MAX_CARDINALITY;

226:         uint128[] memory lastIndex = PENDLE_CONTROLLER.pendleChildCompoundInfoLastIndex(

234:         uint128 index;

687:         uint16 _maxCardinality

```
*Github:* [[47](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L47), [226](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L226), [234](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L234), [687](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L687)]


```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol

39:         uint16 _maxCardinality

60:         uint16 _maxCardinality

```
*Github:* [[39](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L39), [60](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmTokenFactory.sol#L60)]


```solidity
File: contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol

241:                 uint8(

```
*Github:* [[241](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PowerFarmNFTs/PowerFarmNFTs.sol#L241)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

85:     uint8 internal immutable _decimalsWETH;

97:     uint8 internal constant _decimalsUSD = 8;

100:     uint8 internal constant _decimalsETH = 18;

103:     uint80 internal constant MAX_ROUND_COUNT = 50;

106:     uint32 internal constant SECONDS_IN_MINUTE = 60;

109:     uint32 internal constant TWAP_PERIOD = 30 * SECONDS_IN_MINUTE;

139:     mapping(address => uint8) _tokenDecimals;

```
*Github:* [[85](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L85), [97](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L97), [100](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L100), [103](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L103), [106](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L106), [109](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L109), [139](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L139)]


```solidity
File: contracts/WiseOracleHub/OracleHelper.sol

399:         returns (uint128)

401:         return uint128(

413:         uint32[] memory secondsAgo = new uint32[](

413:         uint32[] memory secondsAgo = new uint32[](

428:             int32(TWAP_PERIOD)

455:         returns (uint8)

570:         uint80 latestRoundId = getLatestRoundId(

599:         uint80 latestRoundId = getLatestRoundId(

608:         uint80 iterationCount = _getIterationCount(

620:         uint80 i = 1;

659:         uint80 _latestAggregatorRoundId

663:         returns (uint80 res)

676:         uint80 _roundId

705:             uint80 roundId

```
*Github:* [[399](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L399), [401](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L401), [413](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L413), [413](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L413), [428](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L428), [455](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L455), [570](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L570), [599](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L599), [608](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L608), [620](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L620), [659](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L659), [663](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L663), [676](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L676), [705](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/OracleHelper.sol#L705)]


```solidity
File: contracts/WiseOracleHub/WiseOracleHub.sol

45:             uint160(

90:         returns (uint8)

104:         uint8 tokenDecimals = _tokenDecimals[

155:         uint8 tokenDecimals = _tokenDecimals[

179:         uint8 tokenDecimals = _tokenDecimals[

339:         uint8 tokenDecimals = _tokenDecimals[

```
*Github:* [[45](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L45), [90](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L90), [104](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L104), [155](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L155), [179](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L179), [339](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/WiseOracleHub.sol#L339)]


```solidity
File: contracts/WrapperHub/Declarations.sol

27:     uint16 internal constant REF_CODE = 0;

```
*Github:* [[27](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/Declarations.sol#L27)]


</details>


<a name="GAS-55"></a> 
### [GAS-55] Constructors can be marked as `payable` to save deployment gas
Payable functions cost less gas to execute, because the compiler does not have to add extra checks to ensure that no payment is provided. A constructor can be safely marked as payable, because only the deployer would be able to pass funds, and the project itself would not pass any funds.

*There is one instance of this issue:*
```solidity
File: contracts/DerivativeOracles/CustomOracleSetup.sol

22:     constructor() {

```
*Github:* [[22](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/DerivativeOracles/CustomOracleSetup.sol#L22)]



<a name="GAS-56"></a> 
### [GAS-56] `++i` costs less gas than `i++`, especially when it's used in `for`-loops (`--i`/`i--` too)
*Saves 5 gas per loop*

*There is one instance of this issue:*
```solidity
File: contracts/WrapperHub/AaveHub.sol

71:         for (uint256 i = 0; i < _underlyingAssets.length; i++) {

```
*Github:* [[71](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WrapperHub/AaveHub.sol#L71)]



<a name="GAS-57"></a> 
### [GAS-57] Using `private` rather than `public` for constants, saves gas
If needed, the values can be read from the verified contract source code, or if there are multiple values there can be a single getter function that [returns a tuple](https://github.com/code-423n4/2022-08-frax/blob/90f55a9ce4e25bceed3a74290b854341d8de6afa/src/contracts/FraxlendPair.sol#L156-L178) of the values of all currently-public constants. Saves **3406-3606 gas** in deployment gas due to the compiler not having to create non-payable getter functions for deployment calldata, not having to store the bytes of the value outside of where it's used, and not adding another entry to the method ID table

*There are <b>3</b> instances of this issue:*
```solidity
File: contracts/FeeManager/DeclarationsFeeManager.sol

172:     uint256 public constant INCENTIVE_PORTION = 5 * PRECISION_FACTOR_E15;

```
*Github:* [[172](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/FeeManager/DeclarationsFeeManager.sol#L172)]


```solidity
File: contracts/WiseOracleHub/Declarations.sol

79:     address public constant SEQUENCER_ADDRESS = 0xFdB631F5EE196F0ed6FAa767959853A9F217697D;

```
*Github:* [[79](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseOracleHub/Declarations.sol#L79)]


```solidity
File: contracts/WiseSecurity/WiseSecurityDeclarations.sol

185:     uint256 public constant BORROW_PERCENTAGE_CAP = 95 * PRECISION_FACTOR_E16;

```
*Github:* [[185](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityDeclarations.sol#L185)]



<a name="GAS-58"></a> 
### [GAS-58] Use shift Right/Left instead of division/multiplication if possible

*There are <b>3</b> instances of this issue:*
```solidity
File: contracts/PoolManager.sol

285:         return PRECISION_FACTOR_E18 / 2

286:             + (PRECISION_FACTOR_E36 / 4

312:         return (_maxPole + _minPole) / 2;

```
*Github:* [[285](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L285), [286](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L286), [312](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PoolManager.sol#L312)]



<a name="GAS-59"></a> 
### [GAS-59] Use assembly to check for `address(0)`
Saves 6 gas per instance.

*There is one instance of this issue:*
```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol

691:         if (address(PENDLE_MARKET) != address(0)) {

```
*Github:* [[691](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmToken.sol#L691)]



<a name="GAS-60"></a> 
### [GAS-60] `internal` functions not called by the contract should be removed
If the functions are required by an interface, the contract should inherit from that interface and use the `override` keyword

*There are <b>7</b> instances of this issue:*
```solidity
File: contracts/WiseLowLevelHelper.sol

233:     function _decreaseTotalPool(

251:     function _decreaseTotalDepositShares(

269:     function _decreasePseudoTotalBorrowAmount(

278:     function _increaseTotalBorrowShares(

287:     function _decreaseTotalBorrowShares(

305:     function _decreasePseudoTotalPool(

```
*Github:* [[233](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L233), [251](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L251), [269](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L269), [278](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L278), [287](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L287), [305](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseLowLevelHelper.sol#L305)]


```solidity
File: contracts/WiseSecurity/WiseSecurityHelper.sol

701:     function _checkPositionLocked(

```
*Github:* [[701](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/WiseSecurity/WiseSecurityHelper.sol#L701)]



<a name="GAS-61"></a> 
### [GAS-61] Use `Array.unsafeAccess()` to avoid repeated array length checks
When using storage arrays, solidity adds an internal lookup of the array's length (a Gcoldsload 2100 gas) to ensure you don't read past the array's end. You can avoid this lookup by using [`Array.unsafeAccess()`](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/94697be8a3f0dfcd95dfb13ffbd39b5973f5c65d/contracts/utils/Arrays.sol#L57) in cases where the length has already been checked, as is the case with the instances below

*There is one instance of this issue:*
```solidity
File: contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol

280:                 activePendleMarkets[i]

```
*Github:* [[280](https://github.com/code-423n4/2024-02-wise-lending/blob/16f786ec83a0c1517185e3e5d85f3f6691523f4e/contracts/PowerFarms/PendlePowerFarmController/PendlePowerFarmControllerBase.sol#L280)]



