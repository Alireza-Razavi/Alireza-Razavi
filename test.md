# Report

Audit report for **2023-12-revolutionprotocol** generated by *ubl4nk_bot*.

## Medium Issues


*Total <b>33</b> instances over <b>2</b> issues:*

|ID|Issue|Instances|
|-|:-|:-:|
| [M-1](#M-1) | Use of `transferFrom()` rather than `safeTransferFrom()` for NFTs in will lead to the loss of NFTs | 1 |
| [M-2](#M-2) | Centralization Risk for trusted owners | 32 |

## Low Issues


*Total <b>132</b> instances over <b>25</b> issues:*

|ID|Issue|Instances|
|-|:-|:-:|
| [L-1](#L-1) | Missing zero address check in functions with address parameters | 20 |
| [L-2](#L-2) | Array is `push()`ed but not `pop()`ed | 2 |
| [L-3](#L-3) | Consider implementing two-step procedure for updating protocol addresses | 4 |
| [L-4](#L-4) | Constructor / initialization function lacks parameter validation | 8 |
| [L-5](#L-5) | Code does not follow the best practice of check-effects-interaction | 1 |
| [L-6](#L-6) | External call recipient can consume all remaining gas | 1 |
| [L-7](#L-7) | External function calls within loops | 1 |
| [L-8](#L-8) | Governance functions should be controlled by time locks | 11 |
| [L-9](#L-9) | Loss of precision in divisions | 3 |
| [L-10](#L-10) | Missing checks for state variable assignments | 27 |
| [L-11](#L-11) | Missing contract existence checks before low-level calls | 1 |
| [L-12](#L-12) | Missing limits when setting min/max amounts | 4 |
| [L-13](#L-13) | Missing zero address check in constructor | 2 |
| [L-14](#L-14) | Consider some checks for `address(0)` when setting address state variables | 11 |
| [L-15](#L-15) | Check storage gap for upgradable contracts | 6 |
| [L-16](#L-16) | NFT doesn't handle hard forks | 1 |
| [L-17](#L-17) | The remaining ETH may be locked in the contract after call | 1 |
| [L-18](#L-18) | Solidity version 0.8.20 or above may not work on other chains due to PUSH0 | 9 |
| [L-19](#L-19) | Tokens may be minted to `address(0)` | 2 |
| [L-20](#L-20) | Unsafe solidity low-level call can cause gas grief attack | 1 |
| [L-21](#L-21) | Consider using `ERC721A` instead of `ERC721` | 1 |
| [L-22](#L-22) | Using zero as a parameter | 4 |
| [L-23](#L-23) | Missing zero address check in initializer | 4 |
| [L-24](#L-24) | Initializers could be front-run | 6 |
| [L-25](#L-25) | `tokenURI()` does not follow EIP-721 | 1 |

## Non Critical Issues


*Total <b>981</b> instances over <b>80</b> issues:*

|ID|Issue|Instances|
|-|:-|:-:|
| [NC-1](#NC-1) | Assembly blocks should have extensive comments | 1 |
| [NC-2](#NC-2) | `abi.encodePacked()` should be replaced with `bytes.concat()` | 1 |
| [NC-3](#NC-3) | Add inline comments for unnamed variables | 3 |
| [NC-4](#NC-4) | Names of errors should use CapWords style | 2 |
| [NC-5](#NC-5) | Multiple `address`/ID mappings can be combined into a single `mapping` of an `address`/ID to a `struct`, for readability | 1 |
| [NC-6](#NC-6) | Consider adding a block/deny-list | 9 |
| [NC-7](#NC-7) | Consider adding emergency-stop functionality | 5 |
| [NC-8](#NC-8) | Consider adding formal verification proofs | 1 |
| [NC-9](#NC-9) | Consider using descriptive `constant`s when passing zero as a function argument | 4 |
| [NC-10](#NC-10) | Constants should be put on the left side of comparisons | 28 |
| [NC-11](#NC-11) | Variable names for `constant`s should use CONSTANT_CASE | 2 |
| [NC-12](#NC-12) | Contract does not follow the Solidity Style Guide's suggested layout ordering | 15 |
| [NC-13](#NC-13) | Contract should expose an `interface` | 71 |
| [NC-14](#NC-14) | Contract uses both `require()`/`revert()` as well as custom errors | 1 |
| [NC-15](#NC-15) | Contracts should have full test coverage | 1 |
| [NC-16](#NC-16) | Events that mark critical parameter changes should contain both the old and the new value | 27 |
| [NC-17](#NC-17) | Custom errors has no error details | 2 |
| [NC-18](#NC-18) | Custom errors should be used rather than `revert()`/`require()` | 73 |
| [NC-19](#NC-19) | Polymorphic functions make security audits more time-consuming and error-prone | 1 |
| [NC-20](#NC-20) | Duplicated `require()`/`revert()` checks should be refactored | 7 |
| [NC-21](#NC-21) | Enable IR-based code generation | 1 |
| [NC-22](#NC-22) | Enum values should be used instead of constant array indexes | 4 |
| [NC-23](#NC-23) | Events are emitted without the sender information | 17 |
| [NC-24](#NC-24) | Events may be emitted out of order due to reentrancy | 7 |
| [NC-25](#NC-25) | Execution at deadlines should be allowed | 2 |
| [NC-26](#NC-26) |  Function ordering does not follow the Solidity Style Guide | 48 |
| [NC-27](#NC-27) | Functions with array parameters should have length checks in place | 4 |
| [NC-28](#NC-28) | High cyclomatic complexity | 2 |
| [NC-29](#NC-29) | Variable names for `immutable`s should use CONSTANT_CASE | 12 |
| [NC-30](#NC-30) | Inconsistent spacing in comments | 29 |
| [NC-31](#NC-31) | Invalid NatSpec comment style | 1 |
| [NC-32](#NC-32) | Large or complicated code bases should implement invariant tests | 1 |
| [NC-33](#NC-33) | Large multiples of ten should use scientific notation | 35 |
| [NC-34](#NC-34) | Long functions should be refactored into multiple, smaller, functions | 3 |
| [NC-35](#NC-35) | Magic numbers should be replaced with constants | 40 |
| [NC-36](#NC-36) | Missing disallow list for `ERC721` | 1 |
| [NC-37](#NC-37) | Missing events in initializers | 2 |
| [NC-38](#NC-38) | Consider moving `msg.sender` checks to `modifier`s | 10 |
| [NC-39](#NC-39) | Named mappings are recommended | 8 |
| [NC-40](#NC-40) | Missing NatSpec from contract declarations | 6 |
| [NC-41](#NC-41) | Missing NatSpec `@author` from contract declaration | 7 |
| [NC-42](#NC-42) | Missing NatSpec `@dev` from contract declaration | 8 |
| [NC-43](#NC-43) | Missing NatSpec `@dev` from function declaration | 60 |
| [NC-44](#NC-44) | Missing NatSpec `@dev` from modifier declaration | 5 |
| [NC-45](#NC-45) | Error declarations should have NatSpec descriptions | 2 |
| [NC-46](#NC-46) | NatSpec documentation for function is missing | 18 |
| [NC-47](#NC-47) | Public variable declarations should have NatSpec descriptions | 43 |
| [NC-48](#NC-48) | Missing NatSpec `@notice` from contract declaration | 7 |
| [NC-49](#NC-49) | Missing NatSpec `@notice` from function declaration | 34 |
| [NC-50](#NC-50) | Missing NatSpec `@param` from function declaration | 35 |
| [NC-51](#NC-51) | Missing NatSpec `@return` from function declaration | 23 |
| [NC-52](#NC-52) | Missing NatSpec `@title` from contract declaration | 7 |
| [NC-53](#NC-53) | There is no need to initialize variables with 0 | 7 |
| [NC-54](#NC-54) | Potential Re-org Attack Vector | 2 |
| [NC-55](#NC-55) | Put all system-wide constants in one file | 10 |
| [NC-56](#NC-56) | Redundant `return` statement in a function with named return variables | 2 |
| [NC-57](#NC-57) | Setters should prevent re-setting the same value | 15 |
| [NC-58](#NC-58) | State variables should include comments | 19 |
| [NC-59](#NC-59) | The first argument should not be attached to the opening parenthesis | 3 |
| [NC-60](#NC-60) | The `nonReentrant` modifier should occur before all other modifiers | 7 |
| [NC-61](#NC-61) | Timestamp may be manipulation | 10 |
| [NC-62](#NC-62) | Unsafe conversion from unsigned to signed values | 4 |
| [NC-63](#NC-63) | Unused arguments should be removed or implemented | 4 |
| [NC-64](#NC-64) | Unused import | 5 |
| [NC-65](#NC-65) | Unused named return | 5 |
| [NC-66](#NC-66) | Unused contract variables | 1 |
| [NC-67](#NC-67) | Solidity compiler version is not fixed | 9 |
| [NC-68](#NC-68) | Expressions for constant values should use `immutable` rather than `constant` | 10 |
| [NC-69](#NC-69) | Use `@inheritdoc` for overridden functions | 34 |
| [NC-70](#NC-70) | Upgrade `openzeppelin` to the latest version (`5.0.1`) | 1 |
| [NC-71](#NC-71) | Use the latest solidity version for deployment (`0.8.23`) | 9 |
| [NC-72](#NC-72) | Use of `override` is unnecessary | 35 |
| [NC-73](#NC-73) | Whitespace in Expressions | 3 |
| [NC-74](#NC-74) | Common functions should be refactored to a common base contract | 5 |
| [NC-75](#NC-75) | Empty body - Consider commenting why | 1 |
| [NC-76](#NC-76) | Names of `private`/`internal` functions should be prefixed with an underscore | 6 |
| [NC-77](#NC-77) | Names of `private`/`internal` state variables should be prefixed with an underscore | 11 |
| [NC-78](#NC-78) | Variables should be named in mixedCase style | 1 |
| [NC-79](#NC-79) | `TODO`s left in the code | 2 |
| [NC-80](#NC-80) | Functions not used internally could be marked `external` | 23 |

## Gas Optimizations


*Total <b>508</b> instances over <b>58</b> issues:*

|ID|Issue|Instances|Gas|
|-|:-|:-:|:-:|
| [GAS-1](#GAS-1) | Assigning to structs can be more efficient | 3 | 18 |
| [GAS-2](#GAS-2) | Assigning state variables directly with named struct constructors wastes gas | 1 | 28 |
| [GAS-3](#GAS-3) | Optimize gas by using do-while loops | 9 | 2295 |
| [GAS-4](#GAS-4) | Multiple `address`/ID mappings can be combined into a single `mapping` of an `address`/ID to a `struct`, where appropriate | 1 | - |
| [GAS-5](#GAS-5) | Consider activating via-ir for deploying | 1 | - |
| [GAS-6](#GAS-6) | Divisions can be `unchecked` to save gas | 19 | 380 |
| [GAS-7](#GAS-7) | Don't caching global special variables | 1 | 12 |
| [GAS-8](#GAS-8) | Don't transfer with zero amount to save gas | 1 | - |
| [GAS-9](#GAS-9) | Operator `+=` costs more gas than `<x> = <x> + <y>` for state variables | 2 | 226 |
| [GAS-10](#GAS-10) | Duplicated `require()`/`revert()` checks should be refactored to a modifier or function to save gas | 7 | - |
| [GAS-11](#GAS-11) | Events should be emitted outside of loops | 1 | 375 |
| [GAS-12](#GAS-12) | Increments can be `unchecked` to save gas | 9 | 540 |
| [GAS-13](#GAS-13) | Initializers can be marked as payable to save deployment gas | 6 | 126 |
| [GAS-14](#GAS-14) | `internal` functions only called once can be inlined to save gas | 7 | 210 |
| [GAS-15](#GAS-15) | `keccak256()` hash of literals should only be computed once | 1 | 42 |
| [GAS-16](#GAS-16) | Low level `call` can be optimized with assembly | 2 | 496 |
| [GAS-17](#GAS-17) | Multiple accesses of the same mapping/array key/index should be cached | 8 | 336 |
| [GAS-18](#GAS-18) | Newer versions of solidity are more gas efficient | 9 | - |
| [GAS-19](#GAS-19) | Operator `>=`/`<=` costs less gas than operator `>`/`<` | 46 | 138 |
| [GAS-20](#GAS-20) | Optimize Gas by splitting `if() revert` statements | 2 | - |
| [GAS-21](#GAS-21) | Optimize names to save gas | 7 | 154 |
| [GAS-22](#GAS-22) | Redundant state variable getters | 1 | - |
| [GAS-23](#GAS-23) | Remove or replace unused state variables | 1 | - |
| [GAS-24](#GAS-24) | `require()`/`revert()` strings longer than 32 bytes cost extra gas | 21 | 63 |
| [GAS-25](#GAS-25) | The result of a function call should be cached rather than re-calling the function | 6 | 600 |
| [GAS-26](#GAS-26) | State variables access within a loop | 2 | 530 |
| [GAS-27](#GAS-27) | State variables can be packed into fewer storage slots | 1 | 20000 |
| [GAS-28](#GAS-28) | Unlimited gas consumption risk due to external call recipients | 1 | - |
| [GAS-29](#GAS-29) | Unused named return variables without optimizer waste gas | 5 | 45 |
| [GAS-30](#GAS-30) | Optimize external calls with assembly for memory efficiency | 18 | 3960 |
| [GAS-31](#GAS-31) | Use assembly to compute hashes to save gas | 2 | 160 |
| [GAS-32](#GAS-32) | Use assembly to emit events | 28 | 1064 |
| [GAS-33](#GAS-33) | Use assembly to validate `msg.sender` | 10 | - |
| [GAS-34](#GAS-34) | Use assembly to write address/contract type storage values | 27 | 1350 |
| [GAS-35](#GAS-35) | Using a double `if` statement instead of a logical AND (`&&`) | 11 | 330 |
| [GAS-36](#GAS-36) | Use local variables for emitting | 2 | 194 |
| [GAS-37](#GAS-37) | Use a more recent version of solidity | 9 | - |
| [GAS-38](#GAS-38) | Use `storage` instead of `memory` for structs/arrays | 1 | 4200 |
| [GAS-39](#GAS-39) | Use `uint256(1)`/`uint256(2)` instead of `true`/`false` to save gas for changes | 3 | 25650 |
| [GAS-40](#GAS-40) | Use `unchecked` block for safe subtractions | 1 | 85 |
| [GAS-41](#GAS-41) | Using `this` to access functions results in an external call, wasting gas | 2 | 200 |
| [GAS-42](#GAS-42) | `abi.encodePacked` is more gas efficient than `abi.encode` | 1 | - |
| [GAS-43](#GAS-43) | Use `selfbalance()` instead of `address(this).balance` | 2 | - |
| [GAS-44](#GAS-44) | Using bools for storage incurs overhead | 3 | 300 |
| [GAS-45](#GAS-45) | Cache array length outside of loop | 2 | - |
| [GAS-46](#GAS-46) | State variables should be cached in stack variables rather than re-reading them from storage | 26 | 2522 |
| [GAS-47](#GAS-47) | Use `calldata` instead of `memory` for function arguments that do not get mutated | 8 | - |
| [GAS-48](#GAS-48) | Use Custom Errors | 73 | 3650 |
| [GAS-49](#GAS-49) | Don't initialize variables with default value | 7 | - |
| [GAS-50](#GAS-50) | Usage of `int`s/`uint`s smaller than 32 bytes incurs overhead | 10 | 550 |
| [GAS-51](#GAS-51) | Constructors can be marked as `payable` to save deployment gas | 1 | 21 |
| [GAS-52](#GAS-52) | Functions guaranteed to revert when called by normal users can be marked `payable` | 30 | 630 |
| [GAS-53](#GAS-53) | `++i` costs less gas than `i++`, especially when it's used in `for`-loops (`--i`/`i--` too) | 9 | 45 |
| [GAS-54](#GAS-54) | Using `private` rather than `public` for constants, saves gas | 6 | - |
| [GAS-55](#GAS-55) | Use shift Right/Left instead of division/multiplication if possible | 2 | - |
| [GAS-56](#GAS-56) | Splitting require() statements that use && saves gas | 2 | - |
| [GAS-57](#GAS-57) | Using assembly to check for zero can save gas | 30 | 180 |
| [GAS-58](#GAS-58) | `internal` functions not called by the contract should be removed | 1 | - |

## Medium Issues

<a name="M-1"></a> 
### [M-1] Use of `transferFrom()` rather than `safeTransferFrom()` for NFTs in will lead to the loss of NFTs
The EIP-721 standard says the following about `transferFrom()`:

```solidity
/// @notice Transfer ownership of an NFT -- THE CALLER IS RESPONSIBLE
///  TO CONFIRM THAT `_to` IS CAPABLE OF RECEIVING NFTS OR ELSE
///  THEY MAY BE PERMANENTLY LOST
/// @dev Throws unless `msg.sender` is the current owner, an authorized
///  operator, or the approved address for this NFT. Throws if `_from` is
///  not the current owner. Throws if `_to` is the zero address. Throws if
///  `_tokenId` is not a valid NFT.
/// @param _from The current owner of the NFT
/// @param _to The new owner
/// @param _tokenId The NFT to transfer
function transferFrom(address _from, address _to, uint256 _tokenId) external payable;
```

https://github.com/ethereum/EIPs/blob/78e2c297611f5e92b6a5112819ab71f74041ff25/EIPS/eip-721.md?plain=1#L103-L113

Code must use the `safeTransferFrom()` flavor if it hasn't otherwise verified that the receiving address can handle it

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

361:             else verbs.transferFrom(address(this), _auction.bidder, _auction.verbId);

```
*Github:* [[361](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L361)]



<a name="M-2"></a> 
### [M-2] Centralization Risk for trusted owners
Contracts have owners with privileged rights to perform admin tasks and need to be trusted to not perform malicious updates or drain funds.

<details>
<summary>
There are <b>32</b> instances (click to show):
</summary>

```solidity
File: packages/revolution/src/AuctionHouse.sol

208:     function pause() external override onlyOwner {

217:     function setCreatorRateBps(uint256 _creatorRateBps) external onlyOwner {

233:     function setMinCreatorRateBps(uint256 _minCreatorRateBps) external onlyOwner {

253:     function setEntropyRateBps(uint256 _entropyRateBps) external onlyOwner {

265:     function unpause() external override onlyOwner {

277:     function setTimeBuffer(uint256 _timeBuffer) external override onlyOwner {

287:     function setReservePrice(uint256 _reservePrice) external override onlyOwner {

297:     function setMinBidIncrementPercentage(uint8 _minBidIncrementPercentage) external override onlyOwner {

452:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner whenPaused {

```
*Github:* [[208](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L208), [217](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L217), [233](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L233), [253](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L253), [265](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L265), [277](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L277), [287](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L287), [297](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L297), [452](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L452)]


```solidity
File: packages/revolution/src/CultureIndex.sol

498:     function _setQuorumVotesBPS(uint256 newQuorumVotesBPS) external onlyOwner {

543:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner {

```
*Github:* [[498](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L498), [543](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L543)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

132:     function pause() external override onlyOwner {

141:     function unpause() external override onlyOwner {

288:     function setEntropyRateBps(uint256 _entropyRateBps) external onlyOwner {

299:     function setCreatorRateBps(uint256 _creatorRateBps) external onlyOwner {

309:     function setCreatorsAddress(address _creatorsAddress) external override onlyOwner nonReentrant {

```
*Github:* [[132](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L132), [141](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L141), [288](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L288), [299](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L299), [309](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L309)]


```solidity
File: packages/revolution/src/MaxHeap.sol

119:     function insert(uint256 itemId, uint256 value) public onlyAdmin {

136:     function updateValue(uint256 itemId, uint256 newValue) public onlyAdmin {

156:     function extractMax() external onlyAdmin returns (uint256, uint256) {

181:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner {

```
*Github:* [[119](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L119), [136](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L136), [156](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L156), [181](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L181)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

52:     function __NontransferableERC20Votes_init(
            address _initialOwner,
            string calldata _name,
            string calldata _symbol
        ) internal onlyInitializing {

134:     function mint(address account, uint256 amount) public onlyOwner {

```
*Github:* [[52](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L52), [134](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L134)]


```solidity
File: packages/revolution/src/VerbsToken.sol

169:     function setContractURIHash(string memory newContractURIHash) external onlyOwner {

177:     function mint() public override onlyMinter nonReentrant returns (uint256) {

184:     function burn(uint256 verbId) public override onlyMinter nonReentrant {

209:     function setMinter(address _minter) external override onlyOwner nonReentrant whenMinterNotLocked {

220:     function lockMinter() external override onlyOwner whenMinterNotLocked {

230:     function setDescriptor(
             IDescriptorMinimal _descriptor
         ) external override onlyOwner nonReentrant whenDescriptorNotLocked {

242:     function lockDescriptor() external override onlyOwner whenDescriptorNotLocked {

252:     function setCultureIndex(ICultureIndex _cultureIndex) external onlyOwner whenCultureIndexNotLocked nonReentrant {

262:     function lockCultureIndex() external override onlyOwner whenCultureIndexNotLocked {

328:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner {

```
*Github:* [[169](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L169), [177](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L177), [184](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L184), [209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L209), [220](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L220), [230](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L230), [242](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L242), [252](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L252), [262](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L262), [328](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L328)]


</details>



## Low Issues

<a name="L-1"></a> 
### [L-1] Missing zero address check in functions with address parameters
Adding a zero address check for each address type parameter can prevent errors.

<details>
<summary>
There are <b>20</b> instances (click to show):
</summary>

```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

/// @audit missing zero check for `builderReferral`
/// @audit missing zero check for `purchaseReferral`
/// @audit missing zero check for `deployer`
12:     function _handleRewardsAndGetValueToSend(
            uint256 msgValue,
            address builderReferral,
            address purchaseReferral,
            address deployer
        ) internal returns (uint256) {

```
*Github:* [[12](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L12)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

/// @audit missing zero check for `_to`
419:     function _safeTransferETHWithFallback(address _to, uint256 _amount) private {

```
*Github:* [[419](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L419)]


```solidity
File: packages/revolution/src/CultureIndex.sol

/// @audit missing zero check for `_dropperAdmin`
109:     function initialize(
             address _erc20VotingToken,
             address _erc721VotingToken,
             address _initialOwner,
             address _maxHeap,
             address _dropperAdmin,
             IRevolutionBuilder.CultureIndexParams memory _cultureIndexParams
         ) external initializer {

/// @audit missing zero check for `voter`
256:     function hasVoted(uint256 pieceId, address voter) external view returns (bool) {

/// @audit missing zero check for `account`
274:     function getPastVotes(address account, uint256 blockNumber) external view override returns (uint256) {

/// @audit missing zero check for `account`
292:     function _getPastVotes(address account, uint256 blockNumber) internal view returns (uint256) {

/// @audit missing zero check for `from`
353:     function _voteForMany(uint256[] calldata pieceIds, address from) internal {

/// @audit missing zero check for `from`
367:     function voteForManyWithSig(
             address from,
             uint256[] calldata pieceIds,
             uint256 deadline,
             uint8 v,
             bytes32 r,
             bytes32 s
         ) external nonReentrant {

/// @audit missing zero check for `voter`
461:     function getVote(uint256 pieceId, address voter) public view returns (Vote memory) {

```
*Github:* [[109](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L109), [256](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L256), [274](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L274), [292](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L292), [353](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L353), [367](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L367), [461](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L461)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

/// @audit missing zero check for `_creatorsAddress`
84:     function initialize(
            address _initialOwner,
            address _erc20Token,
            address _treasury,
            address _vrgdac,
            address _creatorsAddress
        ) external initializer {

/// @audit missing zero check for `_to`
108:     function _mint(address _to, uint256 _amount) private {

```
*Github:* [[84](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L84), [108](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L108)]


```solidity
File: packages/revolution/src/MaxHeap.sol

/// @audit missing zero check for `_admin`
55:     function initialize(address _initialOwner, address _admin) public initializer {

```
*Github:* [[55](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L55)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

/// @audit missing zero check for `_initialOwner`
65:     function initialize(
            address _initialOwner,
            IRevolutionBuilder.ERC20TokenParams calldata _erc20TokenParams
        ) external initializer {

/// @audit missing zero check for `from`
/// @audit missing zero check for `to`
101:     function _transfer(address from, address to, uint256 value) internal override {

/// @audit missing zero check for `account`
134:     function mint(address account, uint256 amount) public onlyOwner {

/// @audit missing zero check for `owner`
/// @audit missing zero check for `spender`
141:     function _approve(address owner, address spender, uint256 value) internal override {

/// @audit missing zero check for `owner`
/// @audit missing zero check for `spender`
148:     function _approve(address owner, address spender, uint256 value, bool emitEvent) internal virtual override {

/// @audit missing zero check for `owner`
/// @audit missing zero check for `spender`
155:     function _spendAllowance(address owner, address spender, uint256 value) internal virtual override {

```
*Github:* [[65](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L65), [101](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L101), [134](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L134), [141](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L141), [148](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L148), [155](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L155)]


```solidity
File: packages/revolution/src/VerbsToken.sol

/// @audit missing zero check for `to`
281:     function _mintTo(address to) internal returns (uint256) {

/// @audit missing zero check for `_newImpl`
328:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner {

```
*Github:* [[281](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L281), [328](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L328)]


</details>


<a name="L-2"></a> 
### [L-2] Array is `push()`ed but not `pop()`ed
There is no limit specified on the amount of gas used, so the recipient can use up all of the remaining gas (`gasleft()`), causing it to revert. Therefore, when calling an external contract, it is necessary to specify a limited amount of gas to forward.

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

237:             newPiece.creators.push(creatorArray[i]);

```
*Github:* [[237](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L237)]


```solidity
File: packages/revolution/src/VerbsToken.sol

307:                 newPiece.creators.push(artPiece.creators[i]);

```
*Github:* [[307](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L307)]



<a name="L-3"></a> 
### [L-3] Consider implementing two-step procedure for updating protocol addresses
A copy-paste error or a typo may end up bricking protocol functionality, or sending tokens to an address with no known private key. Consider implementing a two-step procedure for updating protocol addresses, where the recipient is set as pending, and must "accept" the assignment by making an affirmative call. A straight forward way of doing this would be to have the target contracts implement [EIP-165](https://eips.ethereum.org/EIPS/eip-165), and to have the "set" functions ensure that the recipient is of the right interface type.

*There are <b>4</b> instances of this issue:*
```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

/// @audit `creatorsAddress`
309:     function setCreatorsAddress(address _creatorsAddress) external override onlyOwner nonReentrant {

```
*Github:* [[309](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L309)]


```solidity
File: packages/revolution/src/VerbsToken.sol

/// @audit `minter`
209:     function setMinter(address _minter) external override onlyOwner nonReentrant whenMinterNotLocked {

/// @audit `descriptor`
230:     function setDescriptor(
             IDescriptorMinimal _descriptor
         ) external override onlyOwner nonReentrant whenDescriptorNotLocked {

/// @audit `cultureIndex`
252:     function setCultureIndex(ICultureIndex _cultureIndex) external onlyOwner whenCultureIndexNotLocked nonReentrant {

```
*Github:* [[209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L209), [230](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L230), [252](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L252)]



<a name="L-4"></a> 
### [L-4] Constructor / initialization function lacks parameter validation
Constructors and initialization functions play a critical role in contracts by setting important initial states when the contract is first deployed before the system starts. The parameters passed to the constructor and initialization functions directly affect the behavior of the contract / protocol. If incorrect parameters are provided, the system may fail to run, behave abnormally, be unstable, or lack security. Therefore, it's crucial to carefully check each parameter in the constructor and initialization functions. If an exception is found, the transaction should be rolled back.

*There are <b>8</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

/// @audit `_protocolRewards` not validated
/// @audit `_revolutionRewardRecipient` not validated
7:     constructor(

```
*Github:* [[7](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L7)]


```solidity
File: packages/revolution/src/CultureIndex.sol

/// @audit `_dropperAdmin` not validated
/// @audit `_cultureIndexParams` not validated
109:     function initialize(

```
*Github:* [[109](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L109)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

/// @audit `_protocolRewards` not validated
/// @audit `_protocolFeeRecipient` not validated
64:     constructor(

/// @audit `_creatorsAddress` not validated
84:     function initialize(

```
*Github:* [[64](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L64), [84](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L84)]


```solidity
File: packages/revolution/src/MaxHeap.sol

/// @audit `_admin` not validated
55:     function initialize(address _initialOwner, address _admin) public initializer {

```
*Github:* [[55](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L55)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

/// @audit `_initialOwner` not validated
/// @audit `_erc20TokenParams` not validated
65:     function initialize(

```
*Github:* [[65](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L65)]


```solidity
File: packages/revolution/src/VerbsToken.sol

/// @audit `_erc721TokenParams` not validated
130:     function initialize(

```
*Github:* [[130](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L130)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

/// @audit `_targetPrice` not validated
/// @audit `_priceDecayPercent` not validated
/// @audit `_perTimeUnit` not validated
28:     constructor(int256 _targetPrice, int256 _priceDecayPercent, int256 _perTimeUnit) {

```
*Github:* [[28](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L28)]



<a name="L-5"></a> 
### [L-5] Code does not follow the best practice of check-effects-interaction
Code should follow the best-practice of [check-effects-interaction](https://blockchain-academy.hs-mittweida.de/courses/solidity-coding-beginners-to-intermediate/lessons/solidity-11-coding-patterns/topic/checks-effects-interactions/), where state variables are updated before any external calls are made. Doing so prevents a large class of reentrancy bugs.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

/// @audit `.mint(...)` is called on line 313
317:             auction = Auction({

```
*Github:* [[317](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L317)]



<a name="L-6"></a> 
### [L-6] External call recipient can consume all remaining gas
There is no limit specified on the amount of gas used, so the recipient can use up all of the remaining gas (`gasleft()`), causing it to revert. Therefore, when calling an external contract, it is necessary to specify a limited amount of gas to forward.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

191:         (bool success, ) = treasury.call{ value: toPayTreasury }(new bytes(0));

```
*Github:* [[191](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L191)]



<a name="L-7"></a> 
### [L-7] External function calls within loops
Calling external functions within loops can easily result in insufficient gas. This greatly increases the likelihood of transaction failures, DOS attacks, and other unexpected actions. It is recommended to limit the number of loops within loops that call external functions, and to limit the gas line for each external call.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

/// @audit `.getArtPieceById(...)`
385:                         ICultureIndex.CreatorBps memory creator = verbs.getArtPieceById(_auction.verbId).creators[i];

```
*Github:* [[385](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L385)]



<a name="L-8"></a> 
### [L-8] Governance functions should be controlled by time locks
Governance functions (such as upgrading contracts, setting critical parameters) should be controlled using time locks to introduce a delay between a proposal and its execution. This gives users time to exit before a potentially dangerous or malicious operation is applied.

<details>
<summary>
There are <b>11</b> instances (click to show):
</summary>

```solidity
File: packages/revolution/src/AuctionHouse.sol

217:     function setCreatorRateBps(uint256 _creatorRateBps) external onlyOwner {

233:     function setMinCreatorRateBps(uint256 _minCreatorRateBps) external onlyOwner {

253:     function setEntropyRateBps(uint256 _entropyRateBps) external onlyOwner {

277:     function setTimeBuffer(uint256 _timeBuffer) external override onlyOwner {

287:     function setReservePrice(uint256 _reservePrice) external override onlyOwner {

297:     function setMinBidIncrementPercentage(uint8 _minBidIncrementPercentage) external override onlyOwner {

```
*Github:* [[217](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L217), [233](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L233), [253](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L253), [277](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L277), [287](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L287), [297](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L297)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

288:     function setEntropyRateBps(uint256 _entropyRateBps) external onlyOwner {

299:     function setCreatorRateBps(uint256 _creatorRateBps) external onlyOwner {

309:     function setCreatorsAddress(address _creatorsAddress) external override onlyOwner nonReentrant {

```
*Github:* [[288](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L288), [299](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L299), [309](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L309)]


```solidity
File: packages/revolution/src/VerbsToken.sol

209:     function setMinter(address _minter) external override onlyOwner nonReentrant whenMinterNotLocked {

252:     function setCultureIndex(ICultureIndex _cultureIndex) external onlyOwner whenCultureIndexNotLocked nonReentrant {

```
*Github:* [[209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L209), [252](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L252)]


</details>


<a name="L-9"></a> 
### [L-9] Loss of precision in divisions
Division by large numbers may result in the result being zero, due to solidity not supporting fractions. Consider requiring a minimum amount for the numerator to ensure that it is always larger than the denominator.

*There are <b>3</b> instances of this issue:*
```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

179:         int totalTokensForCreators = ((msgValueRemaining - toPayTreasury) - creatorDirectPayment) > 0

180:             ? getTokenQuoteForEther((msgValueRemaining - toPayTreasury) - creatorDirectPayment)

```
*Github:* [[179](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L179), [180](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L180)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

49:             return pIntegral(timeSinceStart, sold + amount) - pIntegral(timeSinceStart, sold);

```
*Github:* [[49](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L49)]



<a name="L-10"></a> 
### [L-10] Missing checks for state variable assignments
There are some missing checks in these functions, and this could lead to unexpected scenarios. Consider always adding a sanity check for state variables.

<details>
<summary>
There are <b>27</b> instances (click to show):
</summary>

```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

/// @audit `_revolutionRewardRecipient`
33:         revolutionRewardRecipient = _revolutionRewardRecipient;

```
*Github:* [[33](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L33)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

/// @audit `_weth`
143:         WETH = _weth;

/// @audit `_creatorRateBps`
223:         creatorRateBps = _creatorRateBps;

/// @audit `_minCreatorRateBps`
243:         minCreatorRateBps = _minCreatorRateBps;

/// @audit `_entropyRateBps`
256:         entropyRateBps = _entropyRateBps;

/// @audit `_timeBuffer`
278:         timeBuffer = _timeBuffer;

/// @audit `_reservePrice`
288:         reservePrice = _reservePrice;

/// @audit `_minBidIncrementPercentage`
298:         minBidIncrementPercentage = _minBidIncrementPercentage;

```
*Github:* [[143](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L143), [223](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L223), [243](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L243), [256](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L256), [278](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L278), [288](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L288), [298](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L298)]


```solidity
File: packages/revolution/src/CultureIndex.sol

/// @audit `_dropperAdmin`
139:         dropperAdmin = _dropperAdmin;

/// @audit `newQuorumVotesBPS`
502:         quorumVotesBPS = newQuorumVotesBPS;

```
*Github:* [[139](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L139), [502](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L502)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

/// @audit `_treasury`
101:         treasury = _treasury;

/// @audit `_creatorsAddress`
102:         creatorsAddress = _creatorsAddress;

/// @audit `_entropyRateBps`
291:         emit EntropyRateBpsUpdated(entropyRateBps = _entropyRateBps);

/// @audit `_creatorRateBps`
302:         emit CreatorRateBpsUpdated(creatorRateBps = _creatorRateBps);

/// @audit `_creatorsAddress`
312:         emit CreatorsAddressUpdated(creatorsAddress = _creatorsAddress);

```
*Github:* [[101](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L101), [102](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L102), [291](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L291), [302](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L302), [312](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L312)]


```solidity
File: packages/revolution/src/MaxHeap.sol

/// @audit `_admin`
58:         admin = _admin;

/// @audit `itemId`
120:         heap[size] = itemId;

/// @audit `value`
121:         valueMapping[itemId] = value; // Update the value mapping

/// @audit `newValue`
141:         valueMapping[itemId] = newValue;

```
*Github:* [[58](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L58), [120](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L120), [121](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L121), [141](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L141)]


```solidity
File: packages/revolution/src/VerbsToken.sol

/// @audit `_minter`
153:         minter = _minter;

/// @audit `newContractURIHash`
170:         _contractURIHash = newContractURIHash;

/// @audit `_minter`
211:         minter = _minter;

/// @audit `_descriptor`
233:         descriptor = _descriptor;

/// @audit `_cultureIndex`
253:         cultureIndex = _cultureIndex;

```
*Github:* [[153](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L153), [170](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L170), [211](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L211), [233](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L233), [253](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L253)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

/// @audit `_targetPrice`
29:         targetPrice = _targetPrice;

/// @audit `_perTimeUnit`
31:         perTimeUnit = _perTimeUnit;

/// @audit `_priceDecayPercent`
33:         priceDecayPercent = _priceDecayPercent;

```
*Github:* [[29](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L29), [31](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L31), [33](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L33)]


</details>


<a name="L-11"></a> 
### [L-11] Missing contract existence checks before low-level calls
Low-level calls return success if there is no code present at the specified address. In addition to the zero-address checks, add a check to verify that `<address>.code.length > 0`

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

191:         (bool success, ) = treasury.call{ value: toPayTreasury }(new bytes(0));

```
*Github:* [[191](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L191)]



<a name="L-12"></a> 
### [L-12] Missing limits when setting min/max amounts
There are some missing limits in these functions, and this could lead to unexpected scenarios. Consider adding a min/max limit for the following values, when appropriate.

*There are <b>4</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

/// @audit `_timeBuffer`
277:     function setTimeBuffer(uint256 _timeBuffer) external override onlyOwner {

/// @audit `_reservePrice`
287:     function setReservePrice(uint256 _reservePrice) external override onlyOwner {

/// @audit `_minBidIncrementPercentage`
297:     function setMinBidIncrementPercentage(uint8 _minBidIncrementPercentage) external override onlyOwner {

```
*Github:* [[277](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L277), [287](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L287), [297](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L297)]


```solidity
File: packages/revolution/src/MaxHeap.sol

/// @audit `itemId`
119:     function insert(uint256 itemId, uint256 value) public onlyAdmin {

```
*Github:* [[119](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L119)]



<a name="L-13"></a> 
### [L-13] Missing zero address check in constructor
Constructors often take address parameters to initialize important components of a contract, such as owner or linked contracts. However, without a checking, there's a risk that an address parameter could be mistakenly set to the zero address (0x0). This could be due to an error or oversight during contract deployment. A zero address in a crucial role can cause serious issues, as it cannot perform actions like a normal address, and any funds sent to it will be irretrievable. It's therefore crucial to include a zero address check in constructors to prevent such potential problems. If a zero address is detected, the constructor should revert the transaction.

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

/// @audit missing zero check for `_protocolRewards`
/// @audit missing zero check for `_revolutionRewardRecipient`
7:     constructor(
           address _protocolRewards,
           address _revolutionRewardRecipient
       ) payable RewardSplits(_protocolRewards, _revolutionRewardRecipient) {}

```
*Github:* [[7](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L7)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

/// @audit missing zero check for `_protocolRewards`
/// @audit missing zero check for `_protocolFeeRecipient`
64:     constructor(
            address _manager,
            address _protocolRewards,
            address _protocolFeeRecipient
        ) payable TokenEmitterRewards(_protocolRewards, _protocolFeeRecipient) initializer {

```
*Github:* [[64](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L64)]



<a name="L-14"></a> 
### [L-14] Consider some checks for `address(0)` when setting address state variables
Check for zero-address to avoid the risk of setting `address(0)` for state variables after an update.

<details>
<summary>
There are <b>11</b> instances (click to show):
</summary>

```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

/// @audit `_revolutionRewardRecipient`
33:         revolutionRewardRecipient = _revolutionRewardRecipient;

```
*Github:* [[33](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L33)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

/// @audit `_weth`
143:         WETH = _weth;

```
*Github:* [[143](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L143)]


```solidity
File: packages/revolution/src/CultureIndex.sol

/// @audit `_dropperAdmin`
139:         dropperAdmin = _dropperAdmin;

```
*Github:* [[139](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L139)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

/// @audit `_treasury`
101:         treasury = _treasury;

/// @audit `_creatorsAddress`
102:         creatorsAddress = _creatorsAddress;

/// @audit `_creatorsAddress`
312:         emit CreatorsAddressUpdated(creatorsAddress = _creatorsAddress);

```
*Github:* [[101](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L101), [102](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L102), [312](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L312)]


```solidity
File: packages/revolution/src/MaxHeap.sol

/// @audit `_admin`
58:         admin = _admin;

```
*Github:* [[58](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L58)]


```solidity
File: packages/revolution/src/VerbsToken.sol

/// @audit `_minter`
153:         minter = _minter;

/// @audit `_minter`
211:         minter = _minter;

/// @audit `_descriptor`
233:         descriptor = _descriptor;

/// @audit `_cultureIndex`
253:         cultureIndex = _cultureIndex;

```
*Github:* [[153](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L153), [211](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L211), [233](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L233), [253](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L253)]


</details>


<a name="L-15"></a> 
### [L-15] Check storage gap for upgradable contracts
Each upgradable contract should include a state variable (usually named `__gap`) to provide reserved space in storage. This allows the team to freely add new state variables in the future upgrades without compromising the storage compatibility with existing deployments.

*There are <b>6</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

39: contract AuctionHouse is
        IAuctionHouse,
        VersionedContract,
        UUPS,
        PausableUpgradeable,

```
*Github:* [[39](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L39)]


```solidity
File: packages/revolution/src/CultureIndex.sol

20: contract CultureIndex is
        ICultureIndex,
        VersionedContract,
        UUPS,
        Ownable2StepUpgradeable,

```
*Github:* [[20](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L20)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

17: contract ERC20TokenEmitter is
        IERC20TokenEmitter,
        ReentrancyGuardUpgradeable,

```
*Github:* [[17](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L17)]


```solidity
File: packages/revolution/src/MaxHeap.sol

14: contract MaxHeap is VersionedContract, UUPS, Ownable2StepUpgradeable, ReentrancyGuardUpgradeable {

```
*Github:* [[14](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L14)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

29: contract NontransferableERC20Votes is Initializable, ERC20VotesUpgradeable, Ownable2StepUpgradeable {

```
*Github:* [[29](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L29)]


```solidity
File: packages/revolution/src/VerbsToken.sol

33: contract VerbsToken is
        IVerbsToken,
        VersionedContract,
        UUPS,
        Ownable2StepUpgradeable,

```
*Github:* [[33](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L33)]



<a name="L-16"></a> 
### [L-16] NFT doesn't handle hard forks
To ensure clarity regarding the ownership of the NFT on a specific chain, it is recommended to add `require(block.chainid == 1, "Invalid Chain")` or the desired chain ID in the functions below.

Alternatively, consider including the chain ID in the URI itself. By doing so, any confusion regarding the chain responsible for owning the NFT will be eliminated.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/VerbsToken.sol

193:     function tokenURI(uint256 tokenId) public view override returns (string memory) {

```
*Github:* [[193](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L193)]



<a name="L-17"></a> 
### [L-17] The remaining ETH may be locked in the contract after call
After calling an external contract and forwards some ETH value, the contract balance should be checked. If there is excess eth left over due to a failed call, or more eth being delivered than needed, or any other reason, this eth must be refunded to the user or handled appropriately, otherwise the eth may be frozen in the contract forever.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

191:         (bool success, ) = treasury.call{ value: toPayTreasury }(new bytes(0));

```
*Github:* [[191](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L191)]



<a name="L-18"></a> 
### [L-18] Solidity version 0.8.20 or above may not work on other chains due to PUSH0
Solidity version 0.8.20 or above uses the new [Shanghai EVM](https://blog.soliditylang.org/2023/05/10/solidity-0.8.20-release-announcement/#important-note) which introduces the PUSH0 opcode. This op code may not yet be implemented on all evm-chains or Layer2s, so deployment on these chains will fail. Consider using an earlier solidity version.

*There are <b>9</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L2)]


```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L2)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

24: pragma solidity ^0.8.22;

```
*Github:* [[24](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L24)]


```solidity
File: packages/revolution/src/CultureIndex.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L2)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L2)]


```solidity
File: packages/revolution/src/MaxHeap.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L2)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

4: pragma solidity ^0.8.22;

```
*Github:* [[4](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L4)]


```solidity
File: packages/revolution/src/VerbsToken.sol

18: pragma solidity ^0.8.22;

```
*Github:* [[18](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L18)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L2)]



<a name="L-19"></a> 
### [L-19] Tokens may be minted to `address(0)`

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

108:     function _mint(address _to, uint256 _amount) private {
             token.mint(_to, _amount);
         }

```
*Github:* [[108](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L108)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

134:     function mint(address account, uint256 amount) public onlyOwner {
             _mint(account, amount);
         }

```
*Github:* [[134](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L134)]



<a name="L-20"></a> 
### [L-20] Unsafe solidity low-level call can cause gas grief attack
Using the low-level calls of a solidity address can leave the contract open to gas grief attacks. These attacks occur when the called contract returns a large amount of data. So when calling an external contract, it is necessary to check the length of the return data before reading/copying it (using `returndatasize()`).

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

191:         (bool success, ) = treasury.call{ value: toPayTreasury }(new bytes(0));

```
*Github:* [[191](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L191)]



<a name="L-21"></a> 
### [L-21] Consider using `ERC721A` instead of `ERC721`
[ERC721A](https://www.erc721a.org/) is an implementation of IERC721 with significant gas savings for minting multiple NFTs in a single transaction.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/VerbsToken.sol

33: contract VerbsToken is

```
*Github:* [[33](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L33)]



<a name="L-22"></a> 
### [L-22] Using zero as a parameter
Taking `0` as a valid argument in Solidity without checks can lead to severe security issues. A historical example is the infamous `0x0` address bug where numerous tokens were lost. This happens because 0 can be interpreted as an uninitialized `address`, leading to transfers to the 0x0 address, effectively burning tokens. Moreover, `0` as a denominator in division operations would cause a runtime exception. It's also often indicative of a logical error in the caller's code. It's important to always validate input and handle edge cases like `0` appropriately. Use `require()` statements to enforce conditions and provide clear error messages to facilitate debugging and safer code.

*There are <b>4</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

317:             auction = Auction({

```
*Github:* [[317](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L317)]


```solidity
File: packages/revolution/src/MaxHeap.sol

161:         maxHeapify(0);

```
*Github:* [[161](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L161)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

129:             revert ERC20InvalidReceiver(address(0));

131:         _update(address(0), account, value);

```
*Github:* [[129](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L129), [131](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L131)]



<a name="L-23"></a> 
### [L-23] Missing zero address check in initializer

*There are <b>4</b> instances of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

/// @audit missing zero check for `_dropperAdmin`
109:     function initialize(
             address _erc20VotingToken,
             address _erc721VotingToken,
             address _initialOwner,
             address _maxHeap,
             address _dropperAdmin,
             IRevolutionBuilder.CultureIndexParams memory _cultureIndexParams
         ) external initializer {

```
*Github:* [[109](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L109)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

/// @audit missing zero check for `_creatorsAddress`
84:     function initialize(
            address _initialOwner,
            address _erc20Token,
            address _treasury,
            address _vrgdac,
            address _creatorsAddress
        ) external initializer {

```
*Github:* [[84](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L84)]


```solidity
File: packages/revolution/src/MaxHeap.sol

/// @audit missing zero check for `_admin`
55:     function initialize(address _initialOwner, address _admin) public initializer {

```
*Github:* [[55](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L55)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

/// @audit missing zero check for `_initialOwner`
65:     function initialize(
            address _initialOwner,
            IRevolutionBuilder.ERC20TokenParams calldata _erc20TokenParams
        ) external initializer {

```
*Github:* [[65](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L65)]



<a name="L-24"></a> 
### [L-24] Initializers could be front-run
Initializers could be front-run, allowing an attacker to either set their own values, take ownership of the contract, and in the best case forcing a re-deployment

*There are <b>6</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

113:     function initialize(

```
*Github:* [[113](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L113)]


```solidity
File: packages/revolution/src/CultureIndex.sol

109:     function initialize(

```
*Github:* [[109](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L109)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

84:     function initialize(

```
*Github:* [[84](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L84)]


```solidity
File: packages/revolution/src/MaxHeap.sol

55:     function initialize(address _initialOwner, address _admin) public initializer {

```
*Github:* [[55](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L55)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

65:     function initialize(

```
*Github:* [[65](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L65)]


```solidity
File: packages/revolution/src/VerbsToken.sol

130:     function initialize(

```
*Github:* [[130](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L130)]



<a name="L-25"></a> 
### [L-25] `tokenURI()` does not follow EIP-721
The [EIP-721](https://github.com/ethereum/EIPs/blob/7500ac4fc1bbdfaf684e7ef851f798f6b667b2fe/EIPS/eip-721.md?plain=1#L189-L193) states that `tokenURI()` should "Throws if `_tokenId` is not a valid NFT", which the code below does not do. If the NFT has not yet been minted, `tokenURI()` should revert.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/VerbsToken.sol

193:     function tokenURI(uint256 tokenId) public view override returns (string memory) {

```
*Github:* [[193](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L193)]




## Non Critical Issues

<a name="NC-1"></a> 
### [NC-1] Assembly blocks should have extensive comments
Assembly blocks take a lot more time to audit than normal Solidity code, and often have gotchas and side-effects that the Solidity versions of the same code do not. Consider adding more comments explaining what is being done in every step of the assembly code, and describe why assembly is being used instead of Solidity.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

426:         assembly {

```
*Github:* [[426](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L426)]



<a name="NC-2"></a> 
### [NC-2] `abi.encodePacked()` should be replaced with `bytes.concat()`
Solidity version 0.8.4 introduces `bytes.concat()`, which can be used to replace `abi.encodePacked()` on bytes/strings. It can make the intended operation clearer, leading to less reviewer confusion.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/VerbsToken.sol

162:         return string(abi.encodePacked("ipfs://", _contractURIHash));

```
*Github:* [[162](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L162)]



<a name="NC-3"></a> 
### [NC-3] Add inline comments for unnamed variables
`function foo(address x, address)` -> `function foo(address x, address /* y */)`

*There are <b>3</b> instances of this issue:*
```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

94:     function transfer(address, uint256) public virtual override returns (bool) {

108:     function transferFrom(address, address, uint256) public virtual override returns (bool) {

115:     function approve(address, uint256) public virtual override returns (bool) {

```
*Github:* [[94](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L94), [108](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L108), [115](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L115)]



<a name="NC-4"></a> 
### [NC-4] Names of errors should use CapWords style
It is recommended by the [Solidity Style Guide](https://docs.soliditylang.org/en/latest/style-guide.html)

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

15:     error INVALID_ETH_AMOUNT();

```
*Github:* [[15](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L15)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

30:     error TRANSFER_NOT_ALLOWED();

```
*Github:* [[30](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L30)]



<a name="NC-5"></a> 
### [NC-5] Multiple `address`/ID mappings can be combined into a single `mapping` of an `address`/ID to a `struct`, for readability
Well-organized data structures make code reviews easier, which may lead to fewer bugs. Consider combining related mappings into mappings to structs, so it's clear what data is related

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

69:     mapping(uint256 => mapping(address => Vote)) public votes;

```
*Github:* [[69](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L69)]



<a name="NC-6"></a> 
### [NC-6] Consider adding a block/deny-list
Doing so will significantly increase centralization, but will help to prevent hackers from using stolen tokens.

*There are <b>9</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

14: abstract contract RewardSplits {

```
*Github:* [[14](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L14)]


```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

6: abstract contract TokenEmitterRewards is RewardSplits {

```
*Github:* [[6](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L6)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

39: contract AuctionHouse is
        IAuctionHouse,
        VersionedContract,
        UUPS,
        PausableUpgradeable,
        ReentrancyGuardUpgradeable,
        Ownable2StepUpgradeable
    {

```
*Github:* [[39](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L39)]


```solidity
File: packages/revolution/src/CultureIndex.sol

20: contract CultureIndex is
        ICultureIndex,
        VersionedContract,
        UUPS,
        Ownable2StepUpgradeable,
        ReentrancyGuardUpgradeable,
        EIP712Upgradeable
    {

```
*Github:* [[20](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L20)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

17: contract ERC20TokenEmitter is
        IERC20TokenEmitter,
        ReentrancyGuardUpgradeable,
        TokenEmitterRewards,
        Ownable2StepUpgradeable,
        PausableUpgradeable
    {

```
*Github:* [[17](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L17)]


```solidity
File: packages/revolution/src/MaxHeap.sol

14: contract MaxHeap is VersionedContract, UUPS, Ownable2StepUpgradeable, ReentrancyGuardUpgradeable {

```
*Github:* [[14](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L14)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

29: contract NontransferableERC20Votes is Initializable, ERC20VotesUpgradeable, Ownable2StepUpgradeable {

```
*Github:* [[29](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L29)]


```solidity
File: packages/revolution/src/VerbsToken.sol

33: contract VerbsToken is
        IVerbsToken,
        VersionedContract,
        UUPS,
        Ownable2StepUpgradeable,
        ReentrancyGuardUpgradeable,
        ERC721CheckpointableUpgradeable
    {

```
*Github:* [[33](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L33)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

11: contract VRGDAC {

```
*Github:* [[11](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L11)]



<a name="NC-7"></a> 
### [NC-7] Consider adding emergency-stop functionality
Consider adding `Pausable` to the following contracts so it's possible to stop them in case of an emergency.

*There are <b>5</b> instances of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

20: contract CultureIndex is

```
*Github:* [[20](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L20)]


```solidity
File: packages/revolution/src/MaxHeap.sol

14: contract MaxHeap is VersionedContract, UUPS, Ownable2StepUpgradeable, ReentrancyGuardUpgradeable {

```
*Github:* [[14](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L14)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

29: contract NontransferableERC20Votes is Initializable, ERC20VotesUpgradeable, Ownable2StepUpgradeable {

```
*Github:* [[29](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L29)]


```solidity
File: packages/revolution/src/VerbsToken.sol

33: contract VerbsToken is

```
*Github:* [[33](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L33)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

11: contract VRGDAC {

```
*Github:* [[11](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L11)]



<a name="NC-8"></a> 
### [NC-8] Consider adding formal verification proofs
Formal verification is the act of proving or disproving the correctness of intended algorithms underlying a system with respect to a certain formal specification/property/invariant, using formal methods of mathematics.

Some tools that are currently available to perform these tests on smart contracts are [SMTChecker](https://docs.soliditylang.org/en/latest/smtchecker.html) and [Certora Prover](https://www.certora.com/).

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/)]



<a name="NC-9"></a> 
### [NC-9] Consider using descriptive `constant`s when passing zero as a function argument
Passing zero as a function argument can sometimes result in a security issue (e.g. passing zero as the slippage parameter). Consider using a `constant` variable with a descriptive name, so it's clear that the argument is intentionally being used, and for the right reasons.

*There are <b>4</b> instances of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

221:         maxHeap.insert(pieceId, 0);

```
*Github:* [[221](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L221)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

191:         (bool success, ) = treasury.call{ value: toPayTreasury }(new bytes(0));

196:             (success, ) = creatorsAddress.call{ value: creatorDirectPayment }(new bytes(0));

```
*Github:* [[191](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L191), [196](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L196)]


```solidity
File: packages/revolution/src/MaxHeap.sol

161:         maxHeapify(0);

```
*Github:* [[161](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L161)]



<a name="NC-10"></a> 
### [NC-10] Constants should be put on the left side of comparisons
Putting constants on the left side of comparison statements is a best practice known as [Yoda conditions](https://en.wikipedia.org/wiki/Yoda_conditions). Although solidity's static typing system prevents accidental assignments within conditionals, adopting this practice can improve code readability and consistency, especially when working across multiple languages.

<details>
<summary>
There are <b>28</b> instances (click to show):
</summary>

```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

30:         if (_protocolRewards == address(0) || _revolutionRewardRecipient == address(0)) revert("Invalid Address Zero");

74:         if (builderReferral == address(0)) builderReferral = revolutionRewardRecipient;

76:         if (deployer == address(0)) deployer = revolutionRewardRecipient;

78:         if (purchaseReferral == address(0)) purchaseReferral = revolutionRewardRecipient;

```
*Github:* [[30](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L30), [74](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L74), [76](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L76), [78](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L78)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

121:         require(_weth != address(0), "WETH cannot be zero address");

175:         require(bidder != address(0), "Bidder cannot be zero address");

195:         if (lastBidder != address(0)) _safeTransferETHWithFallback(lastBidder, _auction.amount);

268:         if (auction.startTime == 0 || auction.settled) {

339:         require(_auction.startTime != 0, "Auction hasn't begun");

350:             if (_auction.bidder != address(0)) {

358:             if (_auction.bidder == address(0))

```
*Github:* [[121](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L121), [175](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L175), [195](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L195), [268](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L268), [339](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L339), [350](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L350), [358](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L358)]


```solidity
File: packages/revolution/src/CultureIndex.sol

121:         require(_erc721VotingToken != address(0), "invalid erc721 voting token");

122:         require(_erc20VotingToken != address(0), "invalid erc20 voting token");

186:             require(creatorArray[i].creator != address(0), "Invalid creator address");

309:         require(voter != address(0), "Invalid voter address");

311:         require(!(votes[pieceId][voter].voterAddress != address(0)), "Already voted");

438:         if (from == address(0)) revert ADDRESS_ZERO();

441:         if (recoveredAddress == address(0) || recoveredAddress != from) revert INVALID_SIGNATURE();

```
*Github:* [[121](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L121), [122](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L122), [186](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L186), [309](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L309), [311](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L311), [438](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L438), [441](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L441)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

96:         require(_treasury != address(0), "Invalid treasury address");

201:         if (totalTokensForCreators > 0 && creatorsAddress != address(0)) {

310:         require(_creatorsAddress != address(0), "Invalid address");

```
*Github:* [[96](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L96), [201](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L201), [310](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L310)]


```solidity
File: packages/revolution/src/MaxHeap.sol

79:         require(pos != 0, "Position should not be zero");

125:         while (current != 0 && valueMapping[heap[current]] > valueMapping[heap[parent(current)]]) {

146:             while (position != 0 && valueMapping[heap[position]] > valueMapping[heap[parent(position)]]) {

```
*Github:* [[79](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L79), [125](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L125), [146](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L146)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

128:         if (account == address(0)) {

```
*Github:* [[128](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L128)]


```solidity
File: packages/revolution/src/VerbsToken.sol

139:         require(_minter != address(0), "Minter cannot be zero address");

140:         require(_initialOwner != address(0), "Initial owner cannot be zero address");

210:         require(_minter != address(0), "Minter cannot be zero address");

```
*Github:* [[139](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L139), [140](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L140), [210](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L210)]


</details>


<a name="NC-11"></a> 
### [NC-11] Variable names for `constant`s should use CONSTANT_CASE
For `constant` variable names, each word should use all capital letters, with underscores separating each word (CONSTANT_CASE)

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

23:     uint256 public constant minPurchaseAmount = 0.0000001 ether;

24:     uint256 public constant maxPurchaseAmount = 50_000 ether;

```
*Github:* [[23](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L23), [24](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L24)]



<a name="NC-12"></a> 
### [NC-12] Contract does not follow the Solidity Style Guide's suggested layout ordering
The [style guide](https://docs.soliditylang.org/en/v0.8.16/style-guide.html#order-of-layout) says that, within a contract, the ordering should be `1) Type declarations`, `2) State variables`, `3) Events`, `4) Modifiers`, and `5) Functions`, but the contract(s) below do not follow this ordering

<details>
<summary>
There are <b>15</b> instances (click to show):
</summary>

```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

/// @audit event/error `INVALID_ETH_AMOUNT` came earlier
18:     uint256 internal constant DEPLOYER_REWARD_BPS = 25;

/// @audit event/error `INVALID_ETH_AMOUNT` came earlier
19:     uint256 internal constant REVOLUTION_REWARD_BPS = 75;

/// @audit event/error `INVALID_ETH_AMOUNT` came earlier
20:     uint256 internal constant BUILDER_REWARD_BPS = 100;

/// @audit event/error `INVALID_ETH_AMOUNT` came earlier
21:     uint256 internal constant PURCHASE_REFERRAL_BPS = 50;

/// @audit event/error `INVALID_ETH_AMOUNT` came earlier
23:     uint256 public constant minPurchaseAmount = 0.0000001 ether;

/// @audit event/error `INVALID_ETH_AMOUNT` came earlier
24:     uint256 public constant maxPurchaseAmount = 50_000 ether;

/// @audit event/error `INVALID_ETH_AMOUNT` came earlier
26:     address internal immutable revolutionRewardRecipient;

/// @audit event/error `INVALID_ETH_AMOUNT` came earlier
27:     IRevolutionProtocolRewards internal immutable protocolRewards;

```
*Github:* [[18](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L18), [19](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L19), [20](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L20), [21](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L21), [23](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L23), [24](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L24), [26](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L26), [27](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L27)]


```solidity
File: packages/revolution/src/MaxHeap.sol

/// @audit function `constructor` came earlier
41:     modifier onlyAdmin() {

/// @audit modifier `onlyAdmin` came earlier
/// @audit function `constructor` came earlier
/// @audit function `initialize` came earlier
65:     mapping(uint256 => uint256) public heap;

/// @audit modifier `onlyAdmin` came earlier
/// @audit function `constructor` came earlier
/// @audit function `initialize` came earlier
67:     uint256 public size = 0;

/// @audit modifier `onlyAdmin` came earlier
/// @audit function `constructor` came earlier
/// @audit function `initialize` came earlier
70:     mapping(uint256 => uint256) public valueMapping;

/// @audit modifier `onlyAdmin` came earlier
/// @audit function `constructor` came earlier
/// @audit function `initialize` came earlier
73:     mapping(uint256 => uint256) public positionMapping;

```
*Github:* [[41](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L41), [65](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L65), [67](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L67), [70](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L70), [73](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L73)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

/// @audit event/error `TRANSFER_NOT_ALLOWED` came earlier
37:     IRevolutionBuilder private immutable manager;

```
*Github:* [[37](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L37)]


```solidity
File: packages/revolution/src/VerbsToken.sol

/// @audit modifier `whenMinterNotLocked` came earlier
/// @audit modifier `whenCultureIndexNotLocked` came earlier
/// @audit modifier `whenDescriptorNotLocked` came earlier
/// @audit modifier `onlyMinter` came earlier
109:     IRevolutionBuilder private immutable manager;

```
*Github:* [[109](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L109)]


</details>


<a name="NC-13"></a> 
### [NC-13] Contract should expose an `interface`
All `external`/`public` functions should extend an `interface`. This is useful to make sure that the whole API is extracted.

*Note:* It is possible that the interface is out-of-scope and has not been seen by the bot.

<details>
<summary>
There are <b>71</b> instances (click to show):
</summary>

```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

40:     function computeTotalReward(uint256 paymentAmountWei) public pure returns (uint256) {

54:     function computePurchaseRewards(uint256 paymentAmountWei) public pure returns (RewardsSettings memory, uint256) {

```
*Github:* [[40](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L40), [54](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L54)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

113:     function initialize(

152:     function settleCurrentAndCreateNewAuction() external override nonReentrant whenNotPaused {

161:     function settleAuction() external override whenPaused nonReentrant {

171:     function createBid(uint256 verbId, address bidder) external payable override nonReentrant {

208:     function pause() external override onlyOwner {

217:     function setCreatorRateBps(uint256 _creatorRateBps) external onlyOwner {

233:     function setMinCreatorRateBps(uint256 _minCreatorRateBps) external onlyOwner {

253:     function setEntropyRateBps(uint256 _entropyRateBps) external onlyOwner {

265:     function unpause() external override onlyOwner {

277:     function setTimeBuffer(uint256 _timeBuffer) external override onlyOwner {

287:     function setReservePrice(uint256 _reservePrice) external override onlyOwner {

297:     function setMinBidIncrementPercentage(uint8 _minBidIncrementPercentage) external override onlyOwner {

```
*Github:* [[113](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L113), [152](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L152), [161](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L161), [171](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L171), [208](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L208), [217](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L217), [233](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L233), [253](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L253), [265](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L265), [277](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L277), [287](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L287), [297](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L297)]


```solidity
File: packages/revolution/src/CultureIndex.sol

109:     function initialize(

209:     function createPiece(

256:     function hasVoted(uint256 pieceId, address voter) external view returns (bool) {

265:     function getVotes(address account) external view override returns (uint256) {

274:     function getPastVotes(address account, uint256 blockNumber) external view override returns (uint256) {

332:     function vote(uint256 pieceId) public nonReentrant {

342:     function voteForMany(uint256[] calldata pieceIds) public nonReentrant {

367:     function voteForManyWithSig(

389:     function batchVoteForManyWithSig(

451:     function getPieceById(uint256 pieceId) public view returns (ArtPiece memory) {

461:     function getVote(uint256 pieceId, address voter) public view returns (Vote memory) {

470:     function getTopVotedPiece() public view returns (ArtPiece memory) {

478:     function pieceCount() external view returns (uint256) {

486:     function topVotedPieceId() public view returns (uint256) {

498:     function _setQuorumVotesBPS(uint256 newQuorumVotesBPS) external onlyOwner {

509:     function quorumVotes() public view returns (uint256) {

519:     function dropTopVotedPiece() public nonReentrant returns (ArtPiece memory) {

```
*Github:* [[109](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L109), [209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L209), [256](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L256), [265](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L265), [274](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L274), [332](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L332), [342](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L342), [367](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L367), [389](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L389), [451](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L451), [461](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L461), [470](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L470), [478](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L478), [486](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L486), [498](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L498), [509](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L509), [519](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L519)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

84:     function initialize(

112:     function totalSupply() public view returns (uint) {

117:     function decimals() public view returns (uint8) {

122:     function balanceOf(address _owner) public view returns (uint) {

132:     function pause() external override onlyOwner {

141:     function unpause() external override onlyOwner {

152:     function buyToken(

237:     function buyTokenQuote(uint256 amount) public view returns (int spentY) {

254:     function getTokenQuoteForEther(uint256 etherAmount) public view returns (int gainedX) {

271:     function getTokenQuoteForPayment(uint256 paymentAmount) external view returns (int gainedX) {

288:     function setEntropyRateBps(uint256 _entropyRateBps) external onlyOwner {

299:     function setCreatorRateBps(uint256 _creatorRateBps) external onlyOwner {

309:     function setCreatorsAddress(address _creatorsAddress) external override onlyOwner nonReentrant {

```
*Github:* [[84](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L84), [112](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L112), [117](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L117), [122](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L122), [132](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L132), [141](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L141), [152](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L152), [237](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L237), [254](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L254), [271](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L271), [288](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L288), [299](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L299), [309](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L309)]


```solidity
File: packages/revolution/src/MaxHeap.sol

55:     function initialize(address _initialOwner, address _admin) public initializer {

119:     function insert(uint256 itemId, uint256 value) public onlyAdmin {

136:     function updateValue(uint256 itemId, uint256 newValue) public onlyAdmin {

156:     function extractMax() external onlyAdmin returns (uint256, uint256) {

169:     function getMax() public view returns (uint256, uint256) {

```
*Github:* [[55](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L55), [119](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L119), [136](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L136), [156](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L156), [169](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L169)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

65:     function initialize(

87:     function decimals() public view virtual override returns (uint8) {

94:     function transfer(address, uint256) public virtual override returns (bool) {

108:     function transferFrom(address, address, uint256) public virtual override returns (bool) {

115:     function approve(address, uint256) public virtual override returns (bool) {

134:     function mint(address account, uint256 amount) public onlyOwner {

```
*Github:* [[65](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L65), [87](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L87), [94](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L94), [108](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L108), [115](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L115), [134](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L134)]


```solidity
File: packages/revolution/src/VerbsToken.sol

130:     function initialize(

161:     function contractURI() public view returns (string memory) {

169:     function setContractURIHash(string memory newContractURIHash) external onlyOwner {

177:     function mint() public override onlyMinter nonReentrant returns (uint256) {

184:     function burn(uint256 verbId) public override onlyMinter nonReentrant {

193:     function tokenURI(uint256 tokenId) public view override returns (string memory) {

201:     function dataURI(uint256 tokenId) public view override returns (string memory) {

209:     function setMinter(address _minter) external override onlyOwner nonReentrant whenMinterNotLocked {

220:     function lockMinter() external override onlyOwner whenMinterNotLocked {

230:     function setDescriptor(

242:     function lockDescriptor() external override onlyOwner whenDescriptorNotLocked {

252:     function setCultureIndex(ICultureIndex _cultureIndex) external onlyOwner whenCultureIndexNotLocked nonReentrant {

262:     function lockCultureIndex() external override onlyOwner whenCultureIndexNotLocked {

273:     function getArtPieceById(uint256 verbId) public view returns (ICultureIndex.ArtPiece memory) {

```
*Github:* [[130](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L130), [161](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L161), [169](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L169), [177](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L177), [184](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L184), [193](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L193), [201](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L201), [209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L209), [220](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L220), [230](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L230), [242](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L242), [252](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L252), [262](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L262), [273](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L273)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

47:     function xToY(int256 timeSinceStart, int256 sold, int256 amount) public view virtual returns (int256) {

54:     function yToX(int256 timeSinceStart, int256 sold, int256 amount) public view virtual returns (int256) {

```
*Github:* [[47](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L47), [54](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L54)]


</details>


<a name="NC-14"></a> 
### [NC-14] Contract uses both `require()`/`revert()` as well as custom errors
Consider using just one method in a single file.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

10:  * NOTE: This contract does not provide interface compatibility with Compound's COMP token.

```
*Github:* [[10](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L10)]



<a name="NC-15"></a> 
### [NC-15] Contracts should have full test coverage
While 100% code coverage does not guarantee that there are no bugs, it often will catch easy-to-find bugs, and will ensure that there are fewer regressions when the code invariably has to be modified. Furthermore, in order to get full coverage, code authors will often have to re-organize their code so that it is more modular, so that each component can be tested separately, which reduces interdependencies between modules and layers, and makes for code that is easier to reason about and audit.

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/)]



<a name="NC-16"></a> 
### [NC-16] Events that mark critical parameter changes should contain both the old and the new value
This should especially be done if the new value is not required to be different from the old value.

<details>
<summary>
There are <b>27</b> instances (click to show):
</summary>

```solidity
File: packages/revolution/src/AuctionHouse.sol

197:         emit AuctionBid(_auction.verbId, bidder, msg.sender, msg.value, extended);

199:         if (extended) emit AuctionExtended(_auction.verbId, _auction.endTime);

225:         emit CreatorRateBpsUpdated(_creatorRateBps);

245:         emit MinCreatorRateBpsUpdated(_minCreatorRateBps);

257:         emit EntropyRateBpsUpdated(_entropyRateBps);

280:         emit AuctionTimeBufferUpdated(_timeBuffer);

290:         emit AuctionReservePriceUpdated(_reservePrice);

300:         emit AuctionMinBidIncrementPercentageUpdated(_minBidIncrementPercentage);

326:             emit AuctionCreated(verbId, startTime, endTime);

413:         emit AuctionSettled(_auction.verbId, _auction.bidder, _auction.amount, creatorTokensEmitted);

```
*Github:* [[197](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L197), [199](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L199), [225](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L225), [245](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L245), [257](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L257), [280](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L280), [290](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L290), [300](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L300), [326](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L326), [413](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L413)]


```solidity
File: packages/revolution/src/CultureIndex.sol

141:         emit QuorumVotesBPSSet(quorumVotesBPS, _cultureIndexParams.quorumVotesBPS);

240:         emit PieceCreated(pieceId, msg.sender, metadata, newPiece.quorumVotes, newPiece.totalVotesSupply);

244:             emit PieceCreatorAdded(pieceId, creatorArray[i].creator, msg.sender, creatorArray[i].bps);

323:         emit VoteCast(pieceId, voter, weight, totalWeight);

500:         emit QuorumVotesBPSSet(quorumVotesBPS, newQuorumVotesBPS);

531:         emit PieceDropped(piece.pieceId, msg.sender);

```
*Github:* [[141](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L141), [240](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L240), [244](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L244), [323](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L323), [500](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L500), [531](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L531)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

291:         emit EntropyRateBpsUpdated(entropyRateBps = _entropyRateBps);

302:         emit CreatorRateBpsUpdated(creatorRateBps = _creatorRateBps);

312:         emit CreatorsAddressUpdated(creatorsAddress = _creatorsAddress);

```
*Github:* [[291](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L291), [302](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L302), [312](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L312)]


```solidity
File: packages/revolution/src/VerbsToken.sol

186:         emit VerbBurned(verbId);

213:         emit MinterUpdated(_minter);

223:         emit MinterLocked();

235:         emit DescriptorUpdated(_descriptor);

245:         emit DescriptorLocked();

255:         emit CultureIndexUpdated(_cultureIndex);

265:         emit CultureIndexLocked();

312:             emit VerbCreated(verbId, artPiece);

```
*Github:* [[186](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L186), [213](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L213), [223](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L223), [235](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L235), [245](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L245), [255](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L255), [265](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L265), [312](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L312)]


</details>


<a name="NC-17"></a> 
### [NC-17] Custom errors has no error details
Consider adding parameters to the error to indicate which user or values caused the failure.

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

15:     error INVALID_ETH_AMOUNT();

```
*Github:* [[15](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L15)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

30:     error TRANSFER_NOT_ALLOWED();

```
*Github:* [[30](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L30)]



<a name="NC-18"></a> 
### [NC-18] Custom errors should be used rather than `revert()`/`require()`
Custom errors are available from solidity version 0.8.4. Custom errors are more easily processed in try-catch blocks, and are easier to re-use and maintain.

<details>
<summary>
There are <b>73</b> instances (click to show):
</summary>

```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

30:         if (_protocolRewards == address(0) || _revolutionRewardRecipient == address(0)) revert("Invalid Address Zero");

```
*Github:* [[30](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L30)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

120:         require(msg.sender == address(manager), "Only manager can initialize");

121:         require(_weth != address(0), "WETH cannot be zero address");

175:         require(bidder != address(0), "Bidder cannot be zero address");

176:         require(_auction.verbId == verbId, "Verb not up for auction");

178:         require(block.timestamp < _auction.endTime, "Auction expired");

179:         require(msg.value >= reservePrice, "Must send at least reservePrice");

222:         require(_creatorRateBps <= 10_000, "Creator rate must be less than or equal to 10_000");

234:         require(_minCreatorRateBps <= creatorRateBps, "Min creator rate must be less than or equal to creator rate");

235:         require(_minCreatorRateBps <= 10_000, "Min creator rate must be less than or equal to 10_000");

254:         require(_entropyRateBps <= 10_000, "Entropy rate must be less than or equal to 10_000");

311:         require(gasleft() >= MIN_TOKEN_MINT_GAS_THRESHOLD, "Insufficient gas for creating auction");

339:         require(_auction.startTime != 0, "Auction hasn't begun");

340:         require(!_auction.settled, "Auction has already been settled");

342:         require(block.timestamp >= _auction.endTime, "Auction hasn't completed");

421:         if (address(this).balance < _amount) revert("Insufficient balance");

441:             if (!wethSuccess) revert("WETH transfer failed");

```
*Github:* [[120](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L120), [121](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L121), [175](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L175), [176](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L176), [178](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L178), [179](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L179), [222](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L222), [234](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L234), [235](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L235), [254](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L254), [311](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L311), [339](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L339), [340](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L340), [342](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L342), [421](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L421), [441](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L441)]


```solidity
File: packages/revolution/src/CultureIndex.sol

117:         require(msg.sender == address(manager), "Only manager can initialize");

119:         require(_cultureIndexParams.quorumVotesBPS <= MAX_QUORUM_VOTES_BPS, "invalid quorum bps");

120:         require(_cultureIndexParams.erc721VotingTokenWeight > 0, "invalid erc721 voting token weight");

121:         require(_erc721VotingToken != address(0), "invalid erc721 voting token");

122:         require(_erc20VotingToken != address(0), "invalid erc20 voting token");

160:         require(uint8(metadata.mediaType) > 0 && uint8(metadata.mediaType) <= 5, "Invalid media type");

163:             require(bytes(metadata.image).length > 0, "Image URL must be provided");

165:             require(bytes(metadata.animationUrl).length > 0, "Animation URL must be provided");

167:             require(bytes(metadata.text).length > 0, "Text must be provided");

182:         require(creatorArrayLength <= MAX_NUM_CREATORS, "Creator array must not be > MAX_NUM_CREATORS");

186:             require(creatorArray[i].creator != address(0), "Invalid creator address");

190:         require(totalBps == 10_000, "Total BPS must sum up to 10,000");

308:         require(pieceId < _currentPieceId, "Invalid piece ID");

309:         require(voter != address(0), "Invalid voter address");

310:         require(!pieces[pieceId].isDropped, "Piece has already been dropped");

311:         require(!(votes[pieceId][voter].voterAddress != address(0)), "Already voted");

314:         require(weight > minVoteWeight, "Weight must be greater than minVoteWeight");

427:         require(deadline >= block.timestamp, "Signature expired");

452:         require(pieceId < _currentPieceId, "Invalid piece ID");

462:         require(pieceId < _currentPieceId, "Invalid piece ID");

487:         require(maxHeap.size() > 0, "Culture index is empty");

499:         require(newQuorumVotesBPS <= MAX_QUORUM_VOTES_BPS, "CultureIndex::_setQuorumVotesBPS: invalid quorum bps");

520:         require(msg.sender == dropperAdmin, "Only dropper can drop pieces");

523:         require(totalVoteWeights[piece.pieceId] >= piece.quorumVotes, "Does not meet quorum votes to be dropped.");

```
*Github:* [[117](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L117), [119](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L119), [120](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L120), [121](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L121), [122](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L122), [160](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L160), [163](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L163), [165](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L165), [167](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L167), [182](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L182), [186](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L186), [190](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L190), [308](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L308), [309](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L309), [310](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L310), [311](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L311), [314](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L314), [427](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L427), [452](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L452), [462](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L462), [487](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L487), [499](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L499), [520](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L520), [523](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L523)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

91:         require(msg.sender == address(manager), "Only manager can initialize");

96:         require(_treasury != address(0), "Invalid treasury address");

158:         require(msg.sender != treasury && msg.sender != creatorsAddress, "Funds recipient cannot buy tokens");

160:         require(msg.value > 0, "Must send ether");

162:         require(addresses.length == basisPointSplits.length, "Parallel arrays required");

192:         require(success, "Transfer failed.");

197:             require(success, "Transfer failed.");

217:         require(bpsSum == 10_000, "bps must add up to 10_000");

238:         require(amount > 0, "Amount must be greater than 0");

255:         require(etherAmount > 0, "Ether amount must be greater than 0");

272:         require(paymentAmount > 0, "Payment amount must be greater than 0");

289:         require(_entropyRateBps <= 10_000, "Entropy rate must be less than or equal to 10_000");

300:         require(_creatorRateBps <= 10_000, "Creator rate must be less than or equal to 10_000");

310:         require(_creatorsAddress != address(0), "Invalid address");

```
*Github:* [[91](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L91), [96](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L96), [158](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L158), [160](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L160), [162](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L162), [192](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L192), [197](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L197), [217](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L217), [238](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L238), [255](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L255), [272](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L272), [289](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L289), [300](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L300), [310](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L310)]


```solidity
File: packages/revolution/src/MaxHeap.sol

42:         require(msg.sender == admin, "Sender is not the admin");

56:         require(msg.sender == address(manager), "Only manager can initialize");

79:         require(pos != 0, "Position should not be zero");

157:         require(size > 0, "Heap is empty");

170:         require(size > 0, "Heap is empty");

```
*Github:* [[42](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L42), [56](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L56), [79](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L79), [157](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L157), [170](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L170)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

69:         require(msg.sender == address(manager), "Only manager can initialize");

```
*Github:* [[69](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L69)]


```solidity
File: packages/revolution/src/VerbsToken.sol

76:         require(!isMinterLocked, "Minter is locked");

84:         require(!isCultureIndexLocked, "CultureIndex is locked");

92:         require(!isDescriptorLocked, "Descriptor is locked");

100:         require(msg.sender == minter, "Sender is not the minter");

137:         require(msg.sender == address(manager), "Only manager can initialize");

139:         require(_minter != address(0), "Minter cannot be zero address");

140:         require(_initialOwner != address(0), "Initial owner cannot be zero address");

210:         require(_minter != address(0), "Minter cannot be zero address");

274:         require(verbId <= _currentVerbId, "Invalid piece ID");

317:             revert("dropTopVotedPiece failed");

330:         require(manager.isRegisteredUpgrade(_getImplementation(), _newImpl), "Invalid upgrade");

```
*Github:* [[76](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L76), [84](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L84), [92](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L92), [100](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L100), [137](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L137), [139](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L139), [140](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L140), [210](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L210), [274](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L274), [317](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L317), [330](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L330)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

38:         require(decayConstant < 0, "NON_NEGATIVE_DECAY_CONSTANT");

```
*Github:* [[38](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L38)]


</details>


<a name="NC-19"></a> 
### [NC-19] Polymorphic functions make security audits more time-consuming and error-prone
The instances below point to one of two functions with the same name. Consider naming each function differently, in order to make code navigation and analysis easier.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

/// @audit also found on line 148
141:     function _approve(address owner, address spender, uint256 value) internal override {

```
*Github:* [[141](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L141)]



<a name="NC-20"></a> 
### [NC-20] Duplicated `require()`/`revert()` checks should be refactored
Refactoring duplicate `require()`/`revert()` checks into a modifier or function can make the code more concise, readable and maintainable, and less likely to make errors or omissions when modifying the `require()` or `revert()`.

*There are <b>7</b> instances of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

/// @audit duplicated on line 452
308:         require(pieceId < _currentPieceId, "Invalid piece ID");

```
*Github:* [[308](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L308)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

/// @audit duplicated on line 197
192:         require(success, "Transfer failed.");

```
*Github:* [[192](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L192)]


```solidity
File: packages/revolution/src/MaxHeap.sol

/// @audit duplicated on line 170
157:         require(size > 0, "Heap is empty");

```
*Github:* [[157](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L157)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

/// @audit duplicated on line 102
95:         revert TRANSFER_NOT_ALLOWED();

/// @audit duplicated on line 116
109:         revert TRANSFER_NOT_ALLOWED();

/// @audit duplicated on line 149
142:         revert TRANSFER_NOT_ALLOWED();

```
*Github:* [[95](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L95), [109](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L109), [142](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L142)]


```solidity
File: packages/revolution/src/VerbsToken.sol

/// @audit duplicated on line 210
139:         require(_minter != address(0), "Minter cannot be zero address");

```
*Github:* [[139](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L139)]



<a name="NC-21"></a> 
### [NC-21] Enable IR-based code generation
The IR-based code generator was introduced with an aim to not only allow code generation to be more transparent and auditable but also to enable more powerful optimization passes that span across functions. You can enable it on the command line using `--via-ir` or with the option `{"viaIR": true}`. This will take longer to compile, but you can just simple test it before deploying and if you got a better benchmark then you can add --via-ir to your deploy command More on: https://docs.soliditylang.org/en/v0.8.17/ir-breaking-changes.html

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/)]



<a name="NC-22"></a> 
### [NC-22] Enum values should be used instead of constant array indexes
Create a commented enum value to use instead of constant array indexes, this makes the code far easier to understand.

*There are <b>4</b> instances of this issue:*
```solidity
File: packages/revolution/src/MaxHeap.sol

159:         uint256 popped = heap[0];

160:         heap[0] = heap[--size];

171:         return (heap[0], valueMapping[heap[0]]);

171:         return (heap[0], valueMapping[heap[0]]);

```
*Github:* [[159](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L159), [160](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L160), [171](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L171), [171](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L171)]



<a name="NC-23"></a> 
### [NC-23] Events are emitted without the sender information
When an action is triggered based on a user's action, not being able to filter based on who triggered the action makes event processing a lot more cumbersome. Including the `msg.sender` the events of these types of action will make events much more useful to end users, especially when `msg.sender` is not `tx.origin`.

<details>
<summary>
There are <b>17</b> instances (click to show):
</summary>

```solidity
File: packages/revolution/src/AuctionHouse.sol

225:         emit CreatorRateBpsUpdated(_creatorRateBps);

245:         emit MinCreatorRateBpsUpdated(_minCreatorRateBps);

257:         emit EntropyRateBpsUpdated(_entropyRateBps);

280:         emit AuctionTimeBufferUpdated(_timeBuffer);

290:         emit AuctionReservePriceUpdated(_reservePrice);

300:         emit AuctionMinBidIncrementPercentageUpdated(_minBidIncrementPercentage);

413:         emit AuctionSettled(_auction.verbId, _auction.bidder, _auction.amount, creatorTokensEmitted);

```
*Github:* [[225](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L225), [245](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L245), [257](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L257), [280](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L280), [290](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L290), [300](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L300), [413](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L413)]


```solidity
File: packages/revolution/src/CultureIndex.sol

141:         emit QuorumVotesBPSSet(quorumVotesBPS, _cultureIndexParams.quorumVotesBPS);

323:         emit VoteCast(pieceId, voter, weight, totalWeight);

500:         emit QuorumVotesBPSSet(quorumVotesBPS, newQuorumVotesBPS);

```
*Github:* [[141](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L141), [323](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L323), [500](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L500)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

291:         emit EntropyRateBpsUpdated(entropyRateBps = _entropyRateBps);

302:         emit CreatorRateBpsUpdated(creatorRateBps = _creatorRateBps);

312:         emit CreatorsAddressUpdated(creatorsAddress = _creatorsAddress);

```
*Github:* [[291](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L291), [302](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L302), [312](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L312)]


```solidity
File: packages/revolution/src/VerbsToken.sol

186:         emit VerbBurned(verbId);

213:         emit MinterUpdated(_minter);

235:         emit DescriptorUpdated(_descriptor);

255:         emit CultureIndexUpdated(_cultureIndex);

```
*Github:* [[186](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L186), [213](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L213), [235](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L235), [255](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L255)]


</details>


<a name="NC-24"></a> 
### [NC-24] Events may be emitted out of order due to reentrancy
Ensure that events follow the best practice of check-effects-interaction, and are emitted before external calls.

*There are <b>7</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

/// @audit `.mint(...)` is called on line 313
326:             emit AuctionCreated(verbId, startTime, endTime);

/// @audit `.transferFrom(...)` is called on line 361
/// @audit `.burn(...)` is called on line 359
/// @audit `.getArtPieceById(...)` is called on line 370
/// @audit `.getArtPieceById(...)` is called on line 371
/// @audit `.getArtPieceById(...)` is called on line 385
/// @audit `.burn(...)` is called on line 355
413:         emit AuctionSettled(_auction.verbId, _auction.bidder, _auction.amount, creatorTokensEmitted);

```
*Github:* [[326](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L326), [413](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L413)]


```solidity
File: packages/revolution/src/CultureIndex.sol

/// @audit `.insert(...)` is called on line 221
/// @audit `.totalSupply(...)` is called on line 227
/// @audit `.totalSupply(...)` is called on line 228
/// @audit `.totalSupply(...)` is called on line 230
240:         emit PieceCreated(pieceId, msg.sender, metadata, newPiece.quorumVotes, newPiece.totalVotesSupply);

/// @audit `.insert(...)` is called on line 221
/// @audit `.totalSupply(...)` is called on line 227
/// @audit `.totalSupply(...)` is called on line 228
/// @audit `.totalSupply(...)` is called on line 230
244:             emit PieceCreatorAdded(pieceId, creatorArray[i].creator, msg.sender, creatorArray[i].bps);

/// @audit `.updateValue(...)` is called on line 322
323:         emit VoteCast(pieceId, voter, weight, totalWeight);

/// @audit `.extractMax(...)` is called on line 529
531:         emit PieceDropped(piece.pieceId, msg.sender);

```
*Github:* [[240](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L240), [244](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L244), [323](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L323), [531](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L531)]


```solidity
File: packages/revolution/src/VerbsToken.sol

/// @audit `.getTopVotedPiece(...)` is called on line 282
/// @audit `.MAX_NUM_CREATORS(...)` is called on line 287
/// @audit `.dropTopVotedPiece(...)` is called on line 292
312:             emit VerbCreated(verbId, artPiece);

```
*Github:* [[312](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L312)]



<a name="NC-25"></a> 
### [NC-25] Execution at deadlines should be allowed
The condition may be wrong in these cases, as when `block.timestamp` is equal to the compared `>` or `<` variable these blocks will not be executed.

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

178:         require(block.timestamp < _auction.endTime, "Auction expired");

191:         bool extended = _auction.endTime - block.timestamp < timeBuffer;

```
*Github:* [[178](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L178), [191](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L191)]



<a name="NC-26"></a> 
### [NC-26]  Function ordering does not follow the Solidity Style Guide
According to the [solidity style guide](https://docs.soliditylang.org/en/v0.8.17/style-guide.html#order-of-functions), functions should be laid out in the following order: `constructor()`, `receive()`, `fallback()`, `external`, `public`, `internal`, `private`, but the cases below do not follow this pattern

<details>
<summary>
There are <b>48</b> instances (click to show):
</summary>

```solidity
File: packages/revolution/src/AuctionHouse.sol

/// @audit private function `_safeTransferETHWithFallback` came earlier from this internal function
452:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner whenPaused {

```
*Github:* [[452](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L452)]


```solidity
File: packages/revolution/src/CultureIndex.sol

/// @audit internal function `validateMediaType` came earlier from this public function
/// @audit internal function `validateCreatorsArray` came earlier from this public function
209:     function createPiece(

/// @audit internal function `validateMediaType` came earlier from this external function
/// @audit internal function `validateCreatorsArray` came earlier from this external function
/// @audit public function `createPiece` came earlier from this external function
256:     function hasVoted(uint256 pieceId, address voter) external view returns (bool) {

/// @audit internal function `validateMediaType` came earlier from this external function
/// @audit internal function `validateCreatorsArray` came earlier from this external function
/// @audit public function `createPiece` came earlier from this external function
265:     function getVotes(address account) external view override returns (uint256) {

/// @audit internal function `validateMediaType` came earlier from this external function
/// @audit internal function `validateCreatorsArray` came earlier from this external function
/// @audit public function `createPiece` came earlier from this external function
274:     function getPastVotes(address account, uint256 blockNumber) external view override returns (uint256) {

/// @audit internal function `validateMediaType` came earlier from this public function
/// @audit internal function `validateCreatorsArray` came earlier from this public function
/// @audit internal function `_calculateVoteWeight` came earlier from this public function
/// @audit internal function `_getVotes` came earlier from this public function
/// @audit internal function `_getPastVotes` came earlier from this public function
/// @audit internal function `_vote` came earlier from this public function
332:     function vote(uint256 pieceId) public nonReentrant {

/// @audit internal function `validateMediaType` came earlier from this public function
/// @audit internal function `validateCreatorsArray` came earlier from this public function
/// @audit internal function `_calculateVoteWeight` came earlier from this public function
/// @audit internal function `_getVotes` came earlier from this public function
/// @audit internal function `_getPastVotes` came earlier from this public function
/// @audit internal function `_vote` came earlier from this public function
342:     function voteForMany(uint256[] calldata pieceIds) public nonReentrant {

/// @audit internal function `validateMediaType` came earlier from this external function
/// @audit internal function `validateCreatorsArray` came earlier from this external function
/// @audit public function `createPiece` came earlier from this external function
/// @audit internal function `_calculateVoteWeight` came earlier from this external function
/// @audit internal function `_getVotes` came earlier from this external function
/// @audit internal function `_getPastVotes` came earlier from this external function
/// @audit internal function `_vote` came earlier from this external function
/// @audit public function `vote` came earlier from this external function
/// @audit public function `voteForMany` came earlier from this external function
/// @audit internal function `_voteForMany` came earlier from this external function
367:     function voteForManyWithSig(

/// @audit internal function `validateMediaType` came earlier from this external function
/// @audit internal function `validateCreatorsArray` came earlier from this external function
/// @audit public function `createPiece` came earlier from this external function
/// @audit internal function `_calculateVoteWeight` came earlier from this external function
/// @audit internal function `_getVotes` came earlier from this external function
/// @audit internal function `_getPastVotes` came earlier from this external function
/// @audit internal function `_vote` came earlier from this external function
/// @audit public function `vote` came earlier from this external function
/// @audit public function `voteForMany` came earlier from this external function
/// @audit internal function `_voteForMany` came earlier from this external function
389:     function batchVoteForManyWithSig(

/// @audit internal function `validateMediaType` came earlier from this public function
/// @audit internal function `validateCreatorsArray` came earlier from this public function
/// @audit internal function `_calculateVoteWeight` came earlier from this public function
/// @audit internal function `_getVotes` came earlier from this public function
/// @audit internal function `_getPastVotes` came earlier from this public function
/// @audit internal function `_vote` came earlier from this public function
/// @audit internal function `_voteForMany` came earlier from this public function
/// @audit internal function `_verifyVoteSignature` came earlier from this public function
451:     function getPieceById(uint256 pieceId) public view returns (ArtPiece memory) {

/// @audit internal function `validateMediaType` came earlier from this public function
/// @audit internal function `validateCreatorsArray` came earlier from this public function
/// @audit internal function `_calculateVoteWeight` came earlier from this public function
/// @audit internal function `_getVotes` came earlier from this public function
/// @audit internal function `_getPastVotes` came earlier from this public function
/// @audit internal function `_vote` came earlier from this public function
/// @audit internal function `_voteForMany` came earlier from this public function
/// @audit internal function `_verifyVoteSignature` came earlier from this public function
461:     function getVote(uint256 pieceId, address voter) public view returns (Vote memory) {

/// @audit internal function `validateMediaType` came earlier from this public function
/// @audit internal function `validateCreatorsArray` came earlier from this public function
/// @audit internal function `_calculateVoteWeight` came earlier from this public function
/// @audit internal function `_getVotes` came earlier from this public function
/// @audit internal function `_getPastVotes` came earlier from this public function
/// @audit internal function `_vote` came earlier from this public function
/// @audit internal function `_voteForMany` came earlier from this public function
/// @audit internal function `_verifyVoteSignature` came earlier from this public function
470:     function getTopVotedPiece() public view returns (ArtPiece memory) {

/// @audit internal function `validateMediaType` came earlier from this external function
/// @audit internal function `validateCreatorsArray` came earlier from this external function
/// @audit public function `createPiece` came earlier from this external function
/// @audit internal function `_calculateVoteWeight` came earlier from this external function
/// @audit internal function `_getVotes` came earlier from this external function
/// @audit internal function `_getPastVotes` came earlier from this external function
/// @audit internal function `_vote` came earlier from this external function
/// @audit public function `vote` came earlier from this external function
/// @audit public function `voteForMany` came earlier from this external function
/// @audit internal function `_voteForMany` came earlier from this external function
/// @audit internal function `_verifyVoteSignature` came earlier from this external function
/// @audit public function `getPieceById` came earlier from this external function
/// @audit public function `getVote` came earlier from this external function
/// @audit public function `getTopVotedPiece` came earlier from this external function
478:     function pieceCount() external view returns (uint256) {

/// @audit internal function `validateMediaType` came earlier from this public function
/// @audit internal function `validateCreatorsArray` came earlier from this public function
/// @audit internal function `_calculateVoteWeight` came earlier from this public function
/// @audit internal function `_getVotes` came earlier from this public function
/// @audit internal function `_getPastVotes` came earlier from this public function
/// @audit internal function `_vote` came earlier from this public function
/// @audit internal function `_voteForMany` came earlier from this public function
/// @audit internal function `_verifyVoteSignature` came earlier from this public function
486:     function topVotedPieceId() public view returns (uint256) {

/// @audit internal function `validateMediaType` came earlier from this external function
/// @audit internal function `validateCreatorsArray` came earlier from this external function
/// @audit public function `createPiece` came earlier from this external function
/// @audit internal function `_calculateVoteWeight` came earlier from this external function
/// @audit internal function `_getVotes` came earlier from this external function
/// @audit internal function `_getPastVotes` came earlier from this external function
/// @audit internal function `_vote` came earlier from this external function
/// @audit public function `vote` came earlier from this external function
/// @audit public function `voteForMany` came earlier from this external function
/// @audit internal function `_voteForMany` came earlier from this external function
/// @audit internal function `_verifyVoteSignature` came earlier from this external function
/// @audit public function `getPieceById` came earlier from this external function
/// @audit public function `getVote` came earlier from this external function
/// @audit public function `getTopVotedPiece` came earlier from this external function
/// @audit public function `topVotedPieceId` came earlier from this external function
498:     function _setQuorumVotesBPS(uint256 newQuorumVotesBPS) external onlyOwner {

/// @audit internal function `validateMediaType` came earlier from this public function
/// @audit internal function `validateCreatorsArray` came earlier from this public function
/// @audit internal function `_calculateVoteWeight` came earlier from this public function
/// @audit internal function `_getVotes` came earlier from this public function
/// @audit internal function `_getPastVotes` came earlier from this public function
/// @audit internal function `_vote` came earlier from this public function
/// @audit internal function `_voteForMany` came earlier from this public function
/// @audit internal function `_verifyVoteSignature` came earlier from this public function
509:     function quorumVotes() public view returns (uint256) {

/// @audit internal function `validateMediaType` came earlier from this public function
/// @audit internal function `validateCreatorsArray` came earlier from this public function
/// @audit internal function `_calculateVoteWeight` came earlier from this public function
/// @audit internal function `_getVotes` came earlier from this public function
/// @audit internal function `_getPastVotes` came earlier from this public function
/// @audit internal function `_vote` came earlier from this public function
/// @audit internal function `_voteForMany` came earlier from this public function
/// @audit internal function `_verifyVoteSignature` came earlier from this public function
519:     function dropTopVotedPiece() public nonReentrant returns (ArtPiece memory) {

```
*Github:* [[209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L209), [256](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L256), [265](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L265), [274](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L274), [332](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L332), [342](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L342), [367](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L367), [389](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L389), [451](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L451), [461](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L461), [470](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L470), [478](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L478), [486](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L486), [498](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L498), [509](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L509), [519](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L519)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

/// @audit private function `_mint` came earlier from this public function
112:     function totalSupply() public view returns (uint) {

/// @audit private function `_mint` came earlier from this public function
117:     function decimals() public view returns (uint8) {

/// @audit private function `_mint` came earlier from this public function
122:     function balanceOf(address _owner) public view returns (uint) {

/// @audit private function `_mint` came earlier from this external function
/// @audit public function `totalSupply` came earlier from this external function
/// @audit public function `decimals` came earlier from this external function
/// @audit public function `balanceOf` came earlier from this external function
132:     function pause() external override onlyOwner {

/// @audit private function `_mint` came earlier from this external function
/// @audit public function `totalSupply` came earlier from this external function
/// @audit public function `decimals` came earlier from this external function
/// @audit public function `balanceOf` came earlier from this external function
141:     function unpause() external override onlyOwner {

/// @audit private function `_mint` came earlier from this public function
152:     function buyToken(

/// @audit private function `_mint` came earlier from this public function
237:     function buyTokenQuote(uint256 amount) public view returns (int spentY) {

/// @audit private function `_mint` came earlier from this public function
254:     function getTokenQuoteForEther(uint256 etherAmount) public view returns (int gainedX) {

/// @audit private function `_mint` came earlier from this external function
/// @audit public function `totalSupply` came earlier from this external function
/// @audit public function `decimals` came earlier from this external function
/// @audit public function `balanceOf` came earlier from this external function
/// @audit public function `buyToken` came earlier from this external function
/// @audit public function `buyTokenQuote` came earlier from this external function
/// @audit public function `getTokenQuoteForEther` came earlier from this external function
271:     function getTokenQuoteForPayment(uint256 paymentAmount) external view returns (int gainedX) {

/// @audit private function `_mint` came earlier from this external function
/// @audit public function `totalSupply` came earlier from this external function
/// @audit public function `decimals` came earlier from this external function
/// @audit public function `balanceOf` came earlier from this external function
/// @audit public function `buyToken` came earlier from this external function
/// @audit public function `buyTokenQuote` came earlier from this external function
/// @audit public function `getTokenQuoteForEther` came earlier from this external function
288:     function setEntropyRateBps(uint256 _entropyRateBps) external onlyOwner {

/// @audit private function `_mint` came earlier from this external function
/// @audit public function `totalSupply` came earlier from this external function
/// @audit public function `decimals` came earlier from this external function
/// @audit public function `balanceOf` came earlier from this external function
/// @audit public function `buyToken` came earlier from this external function
/// @audit public function `buyTokenQuote` came earlier from this external function
/// @audit public function `getTokenQuoteForEther` came earlier from this external function
299:     function setCreatorRateBps(uint256 _creatorRateBps) external onlyOwner {

/// @audit private function `_mint` came earlier from this external function
/// @audit public function `totalSupply` came earlier from this external function
/// @audit public function `decimals` came earlier from this external function
/// @audit public function `balanceOf` came earlier from this external function
/// @audit public function `buyToken` came earlier from this external function
/// @audit public function `buyTokenQuote` came earlier from this external function
/// @audit public function `getTokenQuoteForEther` came earlier from this external function
309:     function setCreatorsAddress(address _creatorsAddress) external override onlyOwner nonReentrant {

```
*Github:* [[112](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L112), [117](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L117), [122](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L122), [132](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L132), [141](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L141), [152](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L152), [237](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L237), [254](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L254), [271](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L271), [288](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L288), [299](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L299), [309](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L309)]


```solidity
File: packages/revolution/src/MaxHeap.sol

/// @audit private function `parent` came earlier from this internal function
/// @audit private function `swap` came earlier from this internal function
94:     function maxHeapify(uint256 pos) internal {

/// @audit private function `parent` came earlier from this public function
/// @audit private function `swap` came earlier from this public function
/// @audit internal function `maxHeapify` came earlier from this public function
119:     function insert(uint256 itemId, uint256 value) public onlyAdmin {

/// @audit private function `parent` came earlier from this public function
/// @audit private function `swap` came earlier from this public function
/// @audit internal function `maxHeapify` came earlier from this public function
136:     function updateValue(uint256 itemId, uint256 newValue) public onlyAdmin {

/// @audit public function `initialize` came earlier from this external function
/// @audit private function `parent` came earlier from this external function
/// @audit private function `swap` came earlier from this external function
/// @audit internal function `maxHeapify` came earlier from this external function
/// @audit public function `insert` came earlier from this external function
/// @audit public function `updateValue` came earlier from this external function
156:     function extractMax() external onlyAdmin returns (uint256, uint256) {

/// @audit private function `parent` came earlier from this public function
/// @audit private function `swap` came earlier from this public function
/// @audit internal function `maxHeapify` came earlier from this public function
169:     function getMax() public view returns (uint256, uint256) {

/// @audit private function `parent` came earlier from this internal function
/// @audit private function `swap` came earlier from this internal function
181:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner {

```
*Github:* [[94](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L94), [119](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L119), [136](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L136), [156](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L156), [169](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L169), [181](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L181)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

/// @audit internal function `__NontransferableERC20Votes_init` came earlier from this external function
65:     function initialize(

/// @audit internal function `__NontransferableERC20Votes_init` came earlier from this public function
87:     function decimals() public view virtual override returns (uint8) {

/// @audit internal function `__NontransferableERC20Votes_init` came earlier from this public function
94:     function transfer(address, uint256) public virtual override returns (bool) {

/// @audit internal function `__NontransferableERC20Votes_init` came earlier from this public function
/// @audit internal function `_transfer` came earlier from this public function
108:     function transferFrom(address, address, uint256) public virtual override returns (bool) {

/// @audit internal function `__NontransferableERC20Votes_init` came earlier from this public function
/// @audit internal function `_transfer` came earlier from this public function
115:     function approve(address, uint256) public virtual override returns (bool) {

/// @audit internal function `__NontransferableERC20Votes_init` came earlier from this public function
/// @audit internal function `_transfer` came earlier from this public function
/// @audit internal function `_mint` came earlier from this public function
134:     function mint(address account, uint256 amount) public onlyOwner {

```
*Github:* [[65](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L65), [87](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L87), [94](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L94), [108](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L108), [115](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L115), [134](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L134)]


```solidity
File: packages/revolution/src/VerbsToken.sol

/// @audit public function `contractURI` came earlier from this external function
169:     function setContractURIHash(string memory newContractURIHash) external onlyOwner {

/// @audit public function `contractURI` came earlier from this external function
/// @audit public function `mint` came earlier from this external function
/// @audit public function `burn` came earlier from this external function
/// @audit public function `tokenURI` came earlier from this external function
/// @audit public function `dataURI` came earlier from this external function
209:     function setMinter(address _minter) external override onlyOwner nonReentrant whenMinterNotLocked {

/// @audit public function `contractURI` came earlier from this external function
/// @audit public function `mint` came earlier from this external function
/// @audit public function `burn` came earlier from this external function
/// @audit public function `tokenURI` came earlier from this external function
/// @audit public function `dataURI` came earlier from this external function
220:     function lockMinter() external override onlyOwner whenMinterNotLocked {

/// @audit public function `contractURI` came earlier from this external function
/// @audit public function `mint` came earlier from this external function
/// @audit public function `burn` came earlier from this external function
/// @audit public function `tokenURI` came earlier from this external function
/// @audit public function `dataURI` came earlier from this external function
230:     function setDescriptor(

/// @audit public function `contractURI` came earlier from this external function
/// @audit public function `mint` came earlier from this external function
/// @audit public function `burn` came earlier from this external function
/// @audit public function `tokenURI` came earlier from this external function
/// @audit public function `dataURI` came earlier from this external function
242:     function lockDescriptor() external override onlyOwner whenDescriptorNotLocked {

/// @audit public function `contractURI` came earlier from this external function
/// @audit public function `mint` came earlier from this external function
/// @audit public function `burn` came earlier from this external function
/// @audit public function `tokenURI` came earlier from this external function
/// @audit public function `dataURI` came earlier from this external function
252:     function setCultureIndex(ICultureIndex _cultureIndex) external onlyOwner whenCultureIndexNotLocked nonReentrant {

/// @audit public function `contractURI` came earlier from this external function
/// @audit public function `mint` came earlier from this external function
/// @audit public function `burn` came earlier from this external function
/// @audit public function `tokenURI` came earlier from this external function
/// @audit public function `dataURI` came earlier from this external function
262:     function lockCultureIndex() external override onlyOwner whenCultureIndexNotLocked {

```
*Github:* [[169](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L169), [209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L209), [220](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L220), [230](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L230), [242](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L242), [252](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L252), [262](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L262)]


</details>


<a name="NC-27"></a> 
### [NC-27] Functions with array parameters should have length checks in place

*There are <b>4</b> instances of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

/// @audit `creatorArray`
209:     function createPiece(

/// @audit `pieceIds`
342:     function voteForMany(uint256[] calldata pieceIds) public nonReentrant {

/// @audit `pieceIds`
367:     function voteForManyWithSig(

/// @audit `pieceIds`
419:     function _verifyVoteSignature(

```
*Github:* [[209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L209), [342](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L342), [367](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L367), [419](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L419)]



<a name="NC-28"></a> 
### [NC-28] High cyclomatic complexity
Consider breaking down these blocks into more manageable units, by splitting things into utility functions, by reducing nesting, and by using early returns

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

/// @audit Number of blocks: 10
336:     function _settleAuction() internal {

```
*Github:* [[336](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L336)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

/// @audit Number of blocks: 21
44:     constructor(address _manager) payable initializer {

```
*Github:* [[44](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L44)]



<a name="NC-29"></a> 
### [NC-29] Variable names for `immutable`s should use CONSTANT_CASE
For `immutable` variable names, each word should use all capital letters, with underscores separating each word (CONSTANT_CASE)

<details>
<summary>
There are <b>12</b> instances (click to show):
</summary>

```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

26:     address internal immutable revolutionRewardRecipient;

27:     IRevolutionProtocolRewards internal immutable protocolRewards;

```
*Github:* [[26](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L26), [27](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L27)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

85:     IRevolutionBuilder public immutable manager;

```
*Github:* [[85](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L85)]


```solidity
File: packages/revolution/src/CultureIndex.sol

85:     IRevolutionBuilder private immutable manager;

```
*Github:* [[85](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L85)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

55:     IRevolutionBuilder private immutable manager;

```
*Github:* [[55](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L55)]


```solidity
File: packages/revolution/src/MaxHeap.sol

23:     IRevolutionBuilder private immutable manager;

```
*Github:* [[23](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L23)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

37:     IRevolutionBuilder private immutable manager;

```
*Github:* [[37](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L37)]


```solidity
File: packages/revolution/src/VerbsToken.sol

109:     IRevolutionBuilder private immutable manager;

```
*Github:* [[109](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L109)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

16:     int256 public immutable targetPrice;

18:     int256 public immutable perTimeUnit;

20:     int256 public immutable decayConstant;

22:     int256 public immutable priceDecayPercent;

```
*Github:* [[16](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L16), [18](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L18), [20](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L20), [22](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L22)]


</details>


<a name="NC-30"></a> 
### [NC-30] Inconsistent spacing in comments
Some lines use `// x` and some use `//x`. The instances below point out the usages that don't follow the majority, within each file

<details>
<summary>
There are <b>29</b> instances (click to show):
</summary>

```solidity
File: packages/revolution/src/AuctionHouse.sol

174:         //require bidder is valid address

177:         //slither-disable-next-line timestamp

237:         //ensure new min rate cannot be lower than previous min rate

341:         //slither-disable-next-line timestamp

357:             //If no one has bid, burn the Verb

360:                 //If someone has bid, transfer the Verb to the winning bidder

367:                 //Total amount of ether going to creator

373:                 //Build arrays for erc20TokenEmitter.buyToken

377:                 //Transfer auction amount to the DAO treasury

382:                 //Transfer creator's share to the creator, for each creator, and build arrays for erc20TokenEmitter.buyToken

389:                         //Calculate paymentAmount for specific creator based on BPS splits - same as multiplying by creatorDirectPayment

393:                         //Transfer creator's share to the creator

398:                 //Buy token from ERC20TokenEmitter for all the creators

```
*Github:* [[174](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L174), [177](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L177), [237](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L237), [341](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L341), [357](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L357), [360](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L360), [367](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L367), [373](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L373), [377](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L377), [382](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L382), [389](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L389), [393](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L393), [398](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L398)]


```solidity
File: packages/revolution/src/CultureIndex.sol

181:         //Require that creatorArray is not more than MAX_NUM_CREATORS to prevent gas limit issues

488:         //slither-disable-next-line unused-return

525:         //set the piece as dropped

528:         //slither-disable-next-line unused-return

```
*Github:* [[181](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L181), [488](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L488), [525](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L525), [528](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L528)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

157:         //prevent treasury from paying itself

172:         //Share of purchase amount to send to treasury

175:         //Share of purchase amount to reserve for creators

176:         //Ether directly sent to creators

178:         //Tokens to emit to creators

186:         //Transfer ETH to treasury and update emitted

190:         //Deposit funds to treasury

194:         //Transfer ETH to creators

200:         //Mint tokens for creators

207:         //Mint tokens to buyers

```
*Github:* [[157](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L157), [172](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L172), [175](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L175), [176](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L176), [178](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L178), [186](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L186), [190](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L190), [194](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L194), [200](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L200), [207](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L207)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

14:     //////////////////////////////////////////////////////////////*/

43:     //////////////////////////////////////////////////////////////*/

```
*Github:* [[14](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L14), [43](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L43)]


</details>


<a name="NC-31"></a> 
### [NC-31] Invalid NatSpec comment style
NatSpec must begin with `///` or use `/* ... */` syntax

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

150:     // @wardens if you can find an exploit here go for it - we might be wrong.

```
*Github:* [[150](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L150)]



<a name="NC-32"></a> 
### [NC-32] Large or complicated code bases should implement invariant tests
This includes: large code bases, or code with lots of inline-assembly, complicated math, or complicated interactions between multiple contracts. Invariant fuzzers such as Echidna require the test writer to come up with invariants which should not be violated under any circumstances, and the fuzzer tests various inputs and function calls to ensure that the invariants always hold. Even code with 100% code coverage can still have bugs due to the order of the operations a user performs, and invariant fuzzers may help significantly.

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/)]



<a name="NC-33"></a> 
### [NC-33] Large multiples of ten should use scientific notation
Use a scientific notation rather than decimal literals (e.g. `1e6` instead of `1000000`), for better code readability.

<details>
<summary>
There are <b>35</b> instances (click to show):
</summary>

```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

24:     uint256 public constant maxPurchaseAmount = 50_000 ether;

45:             10_000 +

47:             10_000 +

49:             10_000 +

51:             10_000;

57:                 builderReferralReward: (paymentAmountWei * BUILDER_REWARD_BPS) / 10_000,

58:                 purchaseReferralReward: (paymentAmountWei * PURCHASE_REFERRAL_BPS) / 10_000,

59:                 deployerReward: (paymentAmountWei * DEPLOYER_REWARD_BPS) / 10_000,

60:                 revolutionReward: (paymentAmountWei * REVOLUTION_REWARD_BPS) / 10_000

```
*Github:* [[24](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L24), [45](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L45), [47](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L47), [49](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L49), [51](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L51), [57](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L57), [58](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L58), [59](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L59), [60](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L60)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

88:     uint32 public constant MIN_TOKEN_MINT_GAS_THRESHOLD = 750_000;

222:         require(_creatorRateBps <= 10_000, "Creator rate must be less than or equal to 10_000");

222:         require(_creatorRateBps <= 10_000, "Creator rate must be less than or equal to 10_000");

235:         require(_minCreatorRateBps <= 10_000, "Min creator rate must be less than or equal to 10_000");

235:         require(_minCreatorRateBps <= 10_000, "Min creator rate must be less than or equal to 10_000");

254:         require(_entropyRateBps <= 10_000, "Entropy rate must be less than or equal to 10_000");

254:         require(_entropyRateBps <= 10_000, "Entropy rate must be less than or equal to 10_000");

365:                 uint256 auctioneerPayment = (_auction.amount * (10_000 - creatorRateBps)) / 10_000;

365:                 uint256 auctioneerPayment = (_auction.amount * (10_000 - creatorRateBps)) / 10_000;

390:                         uint256 paymentAmount = (creatorsShare * entropyRateBps * creator.bps) / (10_000 * 10_000);

390:                         uint256 paymentAmount = (creatorsShare * entropyRateBps * creator.bps) / (10_000 * 10_000);

```
*Github:* [[88](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L88), [222](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L222), [222](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L222), [235](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L235), [235](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L235), [254](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L254), [254](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L254), [365](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L365), [365](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L365), [390](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L390), [390](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L390)]


```solidity
File: packages/revolution/src/CultureIndex.sol

190:         require(totalBps == 10_000, "Total BPS must sum up to 10,000");

234:         newPiece.quorumVotes = (quorumVotesBPS * newPiece.totalVotesSupply) / 10_000;

512:             10_000;

```
*Github:* [[190](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L190), [234](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L234), [512](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L512)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

173:         uint256 toPayTreasury = (msgValueRemaining * (10_000 - creatorRateBps)) / 10_000;

173:         uint256 toPayTreasury = (msgValueRemaining * (10_000 - creatorRateBps)) / 10_000;

177:         uint256 creatorDirectPayment = ((msgValueRemaining - toPayTreasury) * entropyRateBps) / 10_000;

212:                 _mint(addresses[i], uint256((totalTokensForBuyers * int(basisPointSplits[i])) / 10_000));

217:         require(bpsSum == 10_000, "bps must add up to 10_000");

217:         require(bpsSum == 10_000, "bps must add up to 10_000");

279:                 amount: int(((paymentAmount - computeTotalReward(paymentAmount)) * (10_000 - creatorRateBps)) / 10_000)

279:                 amount: int(((paymentAmount - computeTotalReward(paymentAmount)) * (10_000 - creatorRateBps)) / 10_000)

289:         require(_entropyRateBps <= 10_000, "Entropy rate must be less than or equal to 10_000");

289:         require(_entropyRateBps <= 10_000, "Entropy rate must be less than or equal to 10_000");

300:         require(_creatorRateBps <= 10_000, "Creator rate must be less than or equal to 10_000");

300:         require(_creatorRateBps <= 10_000, "Creator rate must be less than or equal to 10_000");

```
*Github:* [[173](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L173), [173](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L173), [177](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L177), [212](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L212), [217](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L217), [217](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L217), [279](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L279), [279](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L279), [289](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L289), [289](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L289), [300](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L300), [300](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L300)]


</details>


<a name="NC-34"></a> 
### [NC-34] Long functions should be refactored into multiple, smaller, functions

*There are <b>3</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

/// @audit 78 lines
336:     function _settleAuction() internal {

```
*Github:* [[336](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L336)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

/// @audit 78 lines
152:     function buyToken(
             address[] calldata addresses,
             uint[] calldata basisPointSplits,
             ProtocolRewardAddresses calldata protocolRewardsRecipients
         ) public payable nonReentrant whenNotPaused returns (uint256 tokensSoldWad) {

```
*Github:* [[152](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L152)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

/// @audit 145 lines
44:     constructor(address _manager) payable initializer {

```
*Github:* [[44](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L44)]



<a name="NC-35"></a> 
### [NC-35] Magic numbers should be replaced with constants
Magic numbers are hard-coded values in code that can make it difficult for developers and maintainers to understand the code, and can also cause confusion or errors. To improve the readability and maintainability of code, it is recommended to replace magic numbers with constants that have good readability.

<details>
<summary>
There are <b>40</b> instances (click to show):
</summary>

```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

// @audit `10_000`
45:             10_000 +

// @audit `10_000`
47:             10_000 +

// @audit `10_000`
49:             10_000 +

// @audit `10_000`
51:             10_000;

// @audit `10_000`
57:                 builderReferralReward: (paymentAmountWei * BUILDER_REWARD_BPS) / 10_000,

// @audit `10_000`
58:                 purchaseReferralReward: (paymentAmountWei * PURCHASE_REFERRAL_BPS) / 10_000,

// @audit `10_000`
59:                 deployerReward: (paymentAmountWei * DEPLOYER_REWARD_BPS) / 10_000,

// @audit `10_000`
60:                 revolutionReward: (paymentAmountWei * REVOLUTION_REWARD_BPS) / 10_000

```
*Github:* [[45](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L45), [47](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L47), [49](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L49), [51](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L51), [57](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L57), [58](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L58), [59](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L59), [60](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L60)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

// @audit `100`
181:             msg.value >= _auction.amount + ((_auction.amount * minBidIncrementPercentage) / 100),

// @audit `10_000`
222:         require(_creatorRateBps <= 10_000, "Creator rate must be less than or equal to 10_000");

// @audit `10_000`
235:         require(_minCreatorRateBps <= 10_000, "Min creator rate must be less than or equal to 10_000");

// @audit `10_000`
254:         require(_entropyRateBps <= 10_000, "Entropy rate must be less than or equal to 10_000");

// @audit `10_000`
365:                 uint256 auctioneerPayment = (_auction.amount * (10_000 - creatorRateBps)) / 10_000;

// @audit `10_000`
365:                 uint256 auctioneerPayment = (_auction.amount * (10_000 - creatorRateBps)) / 10_000;

// @audit `10_000`
390:                         uint256 paymentAmount = (creatorsShare * entropyRateBps * creator.bps) / (10_000 * 10_000);

// @audit `10_000`
390:                         uint256 paymentAmount = (creatorsShare * entropyRateBps * creator.bps) / (10_000 * 10_000);

```
*Github:* [[181](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L181), [222](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L222), [235](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L235), [254](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L254), [365](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L365), [365](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L365), [390](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L390), [390](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L390)]


```solidity
File: packages/revolution/src/CultureIndex.sol

// @audit `5`
160:         require(uint8(metadata.mediaType) > 0 && uint8(metadata.mediaType) <= 5, "Invalid media type");

// @audit `10_000`
190:         require(totalBps == 10_000, "Total BPS must sum up to 10,000");

// @audit `10_000`
234:         newPiece.quorumVotes = (quorumVotesBPS * newPiece.totalVotesSupply) / 10_000;

// @audit `1e18`
285:         return erc20Balance + (erc721Balance * erc721VotingTokenWeight * 1e18);

// @audit `10_000`
512:             10_000;

```
*Github:* [[160](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L160), [190](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L190), [234](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L234), [285](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L285), [512](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L512)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

// @audit `10_000`
173:         uint256 toPayTreasury = (msgValueRemaining * (10_000 - creatorRateBps)) / 10_000;

// @audit `10_000`
173:         uint256 toPayTreasury = (msgValueRemaining * (10_000 - creatorRateBps)) / 10_000;

// @audit `10_000`
177:         uint256 creatorDirectPayment = ((msgValueRemaining - toPayTreasury) * entropyRateBps) / 10_000;

// @audit `10_000`
212:                 _mint(addresses[i], uint256((totalTokensForBuyers * int(basisPointSplits[i])) / 10_000));

// @audit `10_000`
217:         require(bpsSum == 10_000, "bps must add up to 10_000");

// @audit `10_000`
279:                 amount: int(((paymentAmount - computeTotalReward(paymentAmount)) * (10_000 - creatorRateBps)) / 10_000)

// @audit `10_000`
279:                 amount: int(((paymentAmount - computeTotalReward(paymentAmount)) * (10_000 - creatorRateBps)) / 10_000)

// @audit `10_000`
289:         require(_entropyRateBps <= 10_000, "Entropy rate must be less than or equal to 10_000");

// @audit `10_000`
300:         require(_creatorRateBps <= 10_000, "Creator rate must be less than or equal to 10_000");

```
*Github:* [[173](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L173), [173](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L173), [177](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L177), [212](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L212), [217](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L217), [279](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L279), [279](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L279), [289](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L289), [300](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L300)]


```solidity
File: packages/revolution/src/MaxHeap.sol

// @audit `2`
80:         return (pos - 1) / 2;

// @audit `2`
95:         uint256 left = 2 * pos + 1;

// @audit `2`
96:         uint256 right = 2 * pos + 2;

// @audit `2`
96:         uint256 right = 2 * pos + 2;

// @audit `2`
102:         if (pos >= (size / 2) && pos <= size) return;

```
*Github:* [[80](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L80), [95](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L95), [96](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L96), [96](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L96), [102](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L102)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

// @audit `18`
88:         return 18;

```
*Github:* [[88](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L88)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

// @audit `1e18`
35:         decayConstant = wadLn(1e18 - _priceDecayPercent);

// @audit `1e18`
74:                                         wadPow(1e18 - priceDecayPercent, wadDiv(soldDifference, perTimeUnit))

// @audit `1e18`
91:                     wadPow(1e18 - priceDecayPercent, timeSinceStart - unsafeWadDiv(sold, perTimeUnit)) -

// @audit `1e18`
92:                         wadPow(1e18 - priceDecayPercent, timeSinceStart)

```
*Github:* [[35](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L35), [74](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L74), [91](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L91), [92](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L92)]


</details>


<a name="NC-36"></a> 
### [NC-36] Missing disallow list for `ERC721`
Recently, there has been an increase in the theft of NFTs. These stolen NFTs are then added to platforms where they can be easily converted into liquidity.

Some popular marketplaces(e.g. Opensea), have already taken steps to combat this problem by introducing a disallow list feature. This means that if an NFT is reported as stolen, it won't be listed or sold on their platform. This may increase the centralization of the project, but it can help solve this problem if it is a concern.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/VerbsToken.sol

33: contract VerbsToken is

```
*Github:* [[33](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L33)]



<a name="NC-37"></a> 
### [NC-37] Missing events in initializers
As a best practice, consider emitting an event when the contract is initialized. In this way, it's easy for the user to track the exact point in time when the contract was initialized, by filtering the emitted events.

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/revolution/src/MaxHeap.sol

55:     function initialize(address _initialOwner, address _admin) public initializer {

```
*Github:* [[55](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L55)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

65:     function initialize(

```
*Github:* [[65](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L65)]



<a name="NC-38"></a> 
### [NC-38] Consider moving `msg.sender` checks to `modifier`s
If some functions are only allowed to be called by some specific users, consider using a modifier instead of checking with a require statement, especially if this check is done in multiple functions.

*There are <b>10</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

120:         require(msg.sender == address(manager), "Only manager can initialize");

```
*Github:* [[120](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L120)]


```solidity
File: packages/revolution/src/CultureIndex.sol

117:         require(msg.sender == address(manager), "Only manager can initialize");

520:         require(msg.sender == dropperAdmin, "Only dropper can drop pieces");

```
*Github:* [[117](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L117), [520](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L520)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

91:         require(msg.sender == address(manager), "Only manager can initialize");

158:         require(msg.sender != treasury && msg.sender != creatorsAddress, "Funds recipient cannot buy tokens");

```
*Github:* [[91](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L91), [158](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L158)]


```solidity
File: packages/revolution/src/MaxHeap.sol

42:         require(msg.sender == admin, "Sender is not the admin");

56:         require(msg.sender == address(manager), "Only manager can initialize");

```
*Github:* [[42](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L42), [56](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L56)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

69:         require(msg.sender == address(manager), "Only manager can initialize");

```
*Github:* [[69](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L69)]


```solidity
File: packages/revolution/src/VerbsToken.sol

100:         require(msg.sender == minter, "Sender is not the minter");

137:         require(msg.sender == address(manager), "Only manager can initialize");

```
*Github:* [[100](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L100), [137](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L137)]



<a name="NC-39"></a> 
### [NC-39] Named mappings are recommended
[Named mappings](https://docs.soliditylang.org/en/v0.8.18/types.html#mapping-types) (with syntax `mapping(KeyType KeyName? => ValueType ValueName?)`) are recommended.It can make the mapping variables clearer, more readable and easier to maintain.

*There are <b>8</b> instances of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

33:     mapping(address => uint256) public nonces;

63:     mapping(uint256 => ArtPiece) public pieces;

69:     mapping(uint256 => mapping(address => Vote)) public votes;

72:     mapping(uint256 => uint256) public totalVoteWeights;

```
*Github:* [[33](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L33), [63](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L63), [69](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L69), [72](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L72)]


```solidity
File: packages/revolution/src/MaxHeap.sol

65:     mapping(uint256 => uint256) public heap;

70:     mapping(uint256 => uint256) public valueMapping;

73:     mapping(uint256 => uint256) public positionMapping;

```
*Github:* [[65](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L65), [70](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L70), [73](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L73)]


```solidity
File: packages/revolution/src/VerbsToken.sol

66:     mapping(uint256 => ICultureIndex.ArtPiece) public artPieces;

```
*Github:* [[66](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L66)]



<a name="NC-40"></a> 
### [NC-40] Missing NatSpec from contract declarations
e.g. `@dev` or `@notice`, and it must appear above the contract definition braces in order to be identified by the compiler as NatSpec.

*There are <b>6</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

6: abstract contract TokenEmitterRewards is RewardSplits {

```
*Github:* [[6](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L6)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

39: contract AuctionHouse is

```
*Github:* [[39](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L39)]


```solidity
File: packages/revolution/src/CultureIndex.sol

20: contract CultureIndex is

```
*Github:* [[20](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L20)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

17: contract ERC20TokenEmitter is

```
*Github:* [[17](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L17)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

29: contract NontransferableERC20Votes is Initializable, ERC20VotesUpgradeable, Ownable2StepUpgradeable {

```
*Github:* [[29](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L29)]


```solidity
File: packages/revolution/src/VerbsToken.sol

33: contract VerbsToken is

```
*Github:* [[33](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L33)]



<a name="NC-41"></a> 
### [NC-41] Missing NatSpec `@author` from contract declaration
Some contract definitions have an incomplete NatSpec: add a `@author` notation to improve the code documentation.

*There are <b>7</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

14: abstract contract RewardSplits {

```
*Github:* [[14](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L14)]


```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

6: abstract contract TokenEmitterRewards is RewardSplits {

```
*Github:* [[6](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L6)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

39: contract AuctionHouse is

```
*Github:* [[39](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L39)]


```solidity
File: packages/revolution/src/CultureIndex.sol

20: contract CultureIndex is

```
*Github:* [[20](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L20)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

17: contract ERC20TokenEmitter is

```
*Github:* [[17](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L17)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

29: contract NontransferableERC20Votes is Initializable, ERC20VotesUpgradeable, Ownable2StepUpgradeable {

```
*Github:* [[29](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L29)]


```solidity
File: packages/revolution/src/VerbsToken.sol

33: contract VerbsToken is

```
*Github:* [[33](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L33)]



<a name="NC-42"></a> 
### [NC-42] Missing NatSpec `@dev` from contract declaration
Some contract definitions have an incomplete NatSpec: add a `@dev` notation to improve the code documentation.

*There are <b>8</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

14: abstract contract RewardSplits {

```
*Github:* [[14](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L14)]


```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

6: abstract contract TokenEmitterRewards is RewardSplits {

```
*Github:* [[6](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L6)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

39: contract AuctionHouse is

```
*Github:* [[39](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L39)]


```solidity
File: packages/revolution/src/CultureIndex.sol

20: contract CultureIndex is

```
*Github:* [[20](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L20)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

17: contract ERC20TokenEmitter is

```
*Github:* [[17](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L17)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

29: contract NontransferableERC20Votes is Initializable, ERC20VotesUpgradeable, Ownable2StepUpgradeable {

```
*Github:* [[29](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L29)]


```solidity
File: packages/revolution/src/VerbsToken.sol

33: contract VerbsToken is

```
*Github:* [[33](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L33)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

11: contract VRGDAC {

```
*Github:* [[11](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L11)]



<a name="NC-43"></a> 
### [NC-43] Missing NatSpec `@dev` from function declaration
Some function definitions have an incomplete NatSpec: add a `@dev` notation to improve the code documentation.

<details>
<summary>
There are <b>60</b> instances (click to show):
</summary>

```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

29:     constructor(address _protocolRewards, address _revolutionRewardRecipient) payable {

40:     function computeTotalReward(uint256 paymentAmountWei) public pure returns (uint256) {

54:     function computePurchaseRewards(uint256 paymentAmountWei) public pure returns (RewardsSettings memory, uint256) {

66:     function _depositPurchaseRewards(

```
*Github:* [[29](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L29), [40](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L40), [54](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L54), [66](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L66)]


```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

7:     constructor(

12:     function _handleRewardsAndGetValueToSend(

```
*Github:* [[7](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L7), [12](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L12)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

95:     constructor(address _manager) payable initializer {

152:     function settleCurrentAndCreateNewAuction() external override nonReentrant whenNotPaused {

419:     function _safeTransferETHWithFallback(address _to, uint256 _amount) private {

```
*Github:* [[95](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L95), [152](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L152), [419](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L419)]


```solidity
File: packages/revolution/src/CultureIndex.sol

92:     constructor(address _manager) payable initializer {

109:     function initialize(

159:     function validateMediaType(ArtPieceMetadata calldata metadata) internal pure {

179:     function validateCreatorsArray(CreatorBps[] calldata creatorArray) internal pure returns (uint256) {

209:     function createPiece(

256:     function hasVoted(uint256 pieceId, address voter) external view returns (bool) {

265:     function getVotes(address account) external view override returns (uint256) {

274:     function getPastVotes(address account, uint256 blockNumber) external view override returns (uint256) {

284:     function _calculateVoteWeight(uint256 erc20Balance, uint256 erc721Balance) internal view returns (uint256) {

288:     function _getVotes(address account) internal view returns (uint256) {

292:     function _getPastVotes(address account, uint256 blockNumber) internal view returns (uint256) {

367:     function voteForManyWithSig(

389:     function batchVoteForManyWithSig(

419:     function _verifyVoteSignature(

451:     function getPieceById(uint256 pieceId) public view returns (ArtPiece memory) {

461:     function getVote(uint256 pieceId, address voter) public view returns (Vote memory) {

470:     function getTopVotedPiece() public view returns (ArtPiece memory) {

478:     function pieceCount() external view returns (uint256) {

486:     function topVotedPieceId() public view returns (uint256) {

509:     function quorumVotes() public view returns (uint256) {

519:     function dropTopVotedPiece() public nonReentrant returns (ArtPiece memory) {

```
*Github:* [[92](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L92), [109](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L109), [159](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L159), [179](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L179), [209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L209), [256](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L256), [265](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L265), [274](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L274), [284](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L284), [288](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L288), [292](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L292), [367](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L367), [389](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L389), [419](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L419), [451](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L451), [461](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L461), [470](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L470), [478](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L478), [486](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L486), [509](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L509), [519](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L519)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

64:     constructor(

84:     function initialize(

108:     function _mint(address _to, uint256 _amount) private {

112:     function totalSupply() public view returns (uint) {

117:     function decimals() public view returns (uint8) {

122:     function balanceOf(address _owner) public view returns (uint) {

152:     function buyToken(

237:     function buyTokenQuote(uint256 amount) public view returns (int spentY) {

254:     function getTokenQuoteForEther(uint256 etherAmount) public view returns (int gainedX) {

271:     function getTokenQuoteForPayment(uint256 paymentAmount) external view returns (int gainedX) {

```
*Github:* [[64](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L64), [84](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L84), [108](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L108), [112](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L112), [117](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L117), [122](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L122), [152](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L152), [237](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L237), [254](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L254), [271](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L271)]


```solidity
File: packages/revolution/src/MaxHeap.sol

30:     constructor(address _manager) payable initializer {

55:     function initialize(address _initialOwner, address _admin) public initializer {

78:     function parent(uint256 pos) private pure returns (uint256) {

86:     function swap(uint256 fpos, uint256 spos) private {

```
*Github:* [[30](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L30), [55](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L55), [78](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L78), [86](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L86)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

44:     constructor(address _manager) payable initializer {

52:     function __NontransferableERC20Votes_init(

65:     function initialize(

134:     function mint(address account, uint256 amount) public onlyOwner {

```
*Github:* [[44](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L44), [52](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L52), [65](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L65), [134](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L134)]


```solidity
File: packages/revolution/src/VerbsToken.sol

116:     constructor(address _manager) payable initializer {

130:     function initialize(

161:     function contractURI() public view returns (string memory) {

184:     function burn(uint256 verbId) public override onlyMinter nonReentrant {

201:     function dataURI(uint256 tokenId) public view override returns (string memory) {

273:     function getArtPieceById(uint256 verbId) public view returns (ICultureIndex.ArtPiece memory) {

281:     function _mintTo(address to) internal returns (uint256) {

328:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner {

```
*Github:* [[116](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L116), [130](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L130), [161](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L161), [184](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L184), [201](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L201), [273](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L273), [281](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L281), [328](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L328)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

28:     constructor(int256 _targetPrice, int256 _priceDecayPercent, int256 _perTimeUnit) {

47:     function xToY(int256 timeSinceStart, int256 sold, int256 amount) public view virtual returns (int256) {

54:     function yToX(int256 timeSinceStart, int256 sold, int256 amount) public view virtual returns (int256) {

86:     function pIntegral(int256 timeSinceStart, int256 sold) internal view returns (int256) {

```
*Github:* [[28](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L28), [47](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L47), [54](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L54), [86](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L86)]


</details>


<a name="NC-44"></a> 
### [NC-44] Missing NatSpec `@dev` from modifier declaration
Some modifier definitions have an incomplete NatSpec: add a `@dev` notation to improve the code documentation.

*There are <b>5</b> instances of this issue:*
```solidity
File: packages/revolution/src/MaxHeap.sol

41:     modifier onlyAdmin() {

```
*Github:* [[41](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L41)]


```solidity
File: packages/revolution/src/VerbsToken.sol

75:     modifier whenMinterNotLocked() {

83:     modifier whenCultureIndexNotLocked() {

91:     modifier whenDescriptorNotLocked() {

99:     modifier onlyMinter() {

```
*Github:* [[75](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L75), [83](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L83), [91](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L91), [99](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L99)]



<a name="NC-45"></a> 
### [NC-45] Error declarations should have NatSpec descriptions

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

15:     error INVALID_ETH_AMOUNT();

```
*Github:* [[15](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L15)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

30:     error TRANSFER_NOT_ALLOWED();

```
*Github:* [[30](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L30)]



<a name="NC-46"></a> 
### [NC-46] NatSpec documentation for function is missing
It is recommended that Solidity contracts are fully annotated using NatSpec for all public interfaces (everything in the ABI). It is clearly stated in the Solidity official documentation. In complex projects such as DeFi, the interpretation of all functions and their arguments and returns is important for code readability and auditability.

<details>
<summary>
There are <b>18</b> instances (click to show):
</summary>

```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

29:     constructor(address _protocolRewards, address _revolutionRewardRecipient) payable {

40:     function computeTotalReward(uint256 paymentAmountWei) public pure returns (uint256) {

54:     function computePurchaseRewards(uint256 paymentAmountWei) public pure returns (RewardsSettings memory, uint256) {

66:     function _depositPurchaseRewards(
            uint256 paymentAmountWei,
            address builderReferral,
            address purchaseReferral,
            address deployer
        ) internal returns (uint256) {

```
*Github:* [[29](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L29), [40](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L40), [54](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L54), [66](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L66)]


```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

7:     constructor(
           address _protocolRewards,
           address _revolutionRewardRecipient
       ) payable RewardSplits(_protocolRewards, _revolutionRewardRecipient) {}

12:     function _handleRewardsAndGetValueToSend(
            uint256 msgValue,
            address builderReferral,
            address purchaseReferral,
            address deployer
        ) internal returns (uint256) {

```
*Github:* [[7](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L7), [12](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L12)]


```solidity
File: packages/revolution/src/CultureIndex.sol

288:     function _getVotes(address account) internal view returns (uint256) {

292:     function _getPastVotes(address account, uint256 blockNumber) internal view returns (uint256) {

```
*Github:* [[288](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L288), [292](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L292)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

108:     function _mint(address _to, uint256 _amount) private {

112:     function totalSupply() public view returns (uint) {

117:     function decimals() public view returns (uint8) {

122:     function balanceOf(address _owner) public view returns (uint) {

```
*Github:* [[108](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L108), [112](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L112), [117](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L117), [122](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L122)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

52:     function __NontransferableERC20Votes_init(
            address _initialOwner,
            string calldata _name,
            string calldata _symbol
        ) internal onlyInitializing {

134:     function mint(address account, uint256 amount) public onlyOwner {

```
*Github:* [[52](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L52), [134](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L134)]


```solidity
File: packages/revolution/src/VerbsToken.sol

328:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner {

```
*Github:* [[328](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L328)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

47:     function xToY(int256 timeSinceStart, int256 sold, int256 amount) public view virtual returns (int256) {

54:     function yToX(int256 timeSinceStart, int256 sold, int256 amount) public view virtual returns (int256) {

86:     function pIntegral(int256 timeSinceStart, int256 sold) internal view returns (int256) {

```
*Github:* [[47](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L47), [54](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L54), [86](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L86)]


</details>


<a name="NC-47"></a> 
### [NC-47] Public variable declarations should have NatSpec descriptions

<details>
<summary>
There are <b>43</b> instances (click to show):
</summary>

```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

23:     uint256 public constant minPurchaseAmount = 0.0000001 ether;

24:     uint256 public constant maxPurchaseAmount = 50_000 ether;

```
*Github:* [[23](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L23), [24](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L24)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

48:     IVerbsToken public verbs;

51:     IERC20TokenEmitter public erc20TokenEmitter;

54:     address public WETH;

57:     uint256 public timeBuffer;

60:     uint256 public reservePrice;

63:     uint8 public minBidIncrementPercentage;

66:     uint256 public creatorRateBps;

69:     uint256 public minCreatorRateBps;

72:     uint256 public entropyRateBps;

75:     uint256 public duration;

78:     IAuctionHouse.Auction public auction;

88:     uint32 public constant MIN_TOKEN_MINT_GAS_THRESHOLD = 750_000;

```
*Github:* [[48](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L48), [51](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L51), [54](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L54), [57](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L57), [60](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L60), [63](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L63), [66](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L66), [69](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L69), [72](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L72), [75](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L75), [78](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L78), [88](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L88)]


```solidity
File: packages/revolution/src/CultureIndex.sol

36:     MaxHeap public maxHeap;

39:     ERC20VotesUpgradeable public erc20VotingToken;

42:     ERC721CheckpointableUpgradeable public erc721VotingToken;

45:     uint256 public erc721VotingTokenWeight;

63:     mapping(uint256 => ArtPiece) public pieces;

66:     uint256 public _currentPieceId;

69:     mapping(uint256 => mapping(address => Vote)) public votes;

72:     mapping(uint256 => uint256) public totalVoteWeights;

75:     uint256 public constant MAX_NUM_CREATORS = 100;

78:     address public dropperAdmin;

```
*Github:* [[36](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L36), [39](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L39), [42](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L42), [45](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L45), [63](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L63), [66](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L66), [69](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L69), [72](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L72), [75](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L75), [78](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L78)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

25:     address public treasury;

28:     NontransferableERC20Votes public token;

31:     VRGDAC public vrgdac;

34:     uint256 public startTime;

42:     uint256 public creatorRateBps;

45:     uint256 public entropyRateBps;

48:     address public creatorsAddress;

```
*Github:* [[25](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L25), [28](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L28), [31](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L31), [34](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L34), [42](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L42), [45](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L45), [48](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L48)]


```solidity
File: packages/revolution/src/MaxHeap.sol

67:     uint256 public size = 0;

```
*Github:* [[67](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L67)]


```solidity
File: packages/revolution/src/VerbsToken.sol

42:     address public minter;

45:     IDescriptorMinimal public descriptor;

48:     ICultureIndex public cultureIndex;

51:     bool public isMinterLocked;

54:     bool public isCultureIndexLocked;

57:     bool public isDescriptorLocked;

66:     mapping(uint256 => ICultureIndex.ArtPiece) public artPieces;

```
*Github:* [[42](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L42), [45](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L45), [48](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L48), [51](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L51), [54](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L54), [57](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L57), [66](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L66)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

16:     int256 public immutable targetPrice;

18:     int256 public immutable perTimeUnit;

20:     int256 public immutable decayConstant;

22:     int256 public immutable priceDecayPercent;

```
*Github:* [[16](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L16), [18](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L18), [20](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L20), [22](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L22)]


</details>


<a name="NC-48"></a> 
### [NC-48] Missing NatSpec `@notice` from contract declaration
Some contract definitions have an incomplete NatSpec: add a `@notice` notation to improve the code documentation.

*There are <b>7</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

6: abstract contract TokenEmitterRewards is RewardSplits {

```
*Github:* [[6](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L6)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

39: contract AuctionHouse is

```
*Github:* [[39](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L39)]


```solidity
File: packages/revolution/src/CultureIndex.sol

20: contract CultureIndex is

```
*Github:* [[20](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L20)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

17: contract ERC20TokenEmitter is

```
*Github:* [[17](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L17)]


```solidity
File: packages/revolution/src/MaxHeap.sol

14: contract MaxHeap is VersionedContract, UUPS, Ownable2StepUpgradeable, ReentrancyGuardUpgradeable {

```
*Github:* [[14](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L14)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

29: contract NontransferableERC20Votes is Initializable, ERC20VotesUpgradeable, Ownable2StepUpgradeable {

```
*Github:* [[29](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L29)]


```solidity
File: packages/revolution/src/VerbsToken.sol

33: contract VerbsToken is

```
*Github:* [[33](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L33)]



<a name="NC-49"></a> 
### [NC-49] Missing NatSpec `@notice` from function declaration
Some function definitions have an incomplete NatSpec: add a `@notice` notation to improve the code documentation.

<details>
<summary>
There are <b>34</b> instances (click to show):
</summary>

```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

29:     constructor(address _protocolRewards, address _revolutionRewardRecipient) payable {

40:     function computeTotalReward(uint256 paymentAmountWei) public pure returns (uint256) {

54:     function computePurchaseRewards(uint256 paymentAmountWei) public pure returns (RewardsSettings memory, uint256) {

66:     function _depositPurchaseRewards(

```
*Github:* [[29](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L29), [40](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L40), [54](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L54), [66](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L66)]


```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

7:     constructor(

12:     function _handleRewardsAndGetValueToSend(

```
*Github:* [[7](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L7), [12](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L12)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

95:     constructor(address _manager) payable initializer {

```
*Github:* [[95](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L95)]


```solidity
File: packages/revolution/src/CultureIndex.sol

92:     constructor(address _manager) payable initializer {

159:     function validateMediaType(ArtPieceMetadata calldata metadata) internal pure {

288:     function _getVotes(address account) internal view returns (uint256) {

292:     function _getPastVotes(address account, uint256 blockNumber) internal view returns (uint256) {

```
*Github:* [[92](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L92), [159](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L159), [288](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L288), [292](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L292)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

64:     constructor(

108:     function _mint(address _to, uint256 _amount) private {

112:     function totalSupply() public view returns (uint) {

117:     function decimals() public view returns (uint8) {

122:     function balanceOf(address _owner) public view returns (uint) {

```
*Github:* [[64](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L64), [108](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L108), [112](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L112), [117](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L117), [122](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L122)]


```solidity
File: packages/revolution/src/MaxHeap.sol

30:     constructor(address _manager) payable initializer {

```
*Github:* [[30](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L30)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

44:     constructor(address _manager) payable initializer {

52:     function __NontransferableERC20Votes_init(

87:     function decimals() public view virtual override returns (uint8) {

94:     function transfer(address, uint256) public virtual override returns (bool) {

101:     function _transfer(address from, address to, uint256 value) internal override {

108:     function transferFrom(address, address, uint256) public virtual override returns (bool) {

115:     function approve(address, uint256) public virtual override returns (bool) {

127:     function _mint(address account, uint256 value) internal override {

134:     function mint(address account, uint256 amount) public onlyOwner {

141:     function _approve(address owner, address spender, uint256 value) internal override {

148:     function _approve(address owner, address spender, uint256 value, bool emitEvent) internal virtual override {

155:     function _spendAllowance(address owner, address spender, uint256 value) internal virtual override {

```
*Github:* [[44](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L44), [52](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L52), [87](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L87), [94](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L94), [101](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L101), [108](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L108), [115](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L115), [127](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L127), [134](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L134), [141](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L141), [148](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L148), [155](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L155)]


```solidity
File: packages/revolution/src/VerbsToken.sol

116:     constructor(address _manager) payable initializer {

328:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner {

```
*Github:* [[116](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L116), [328](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L328)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

47:     function xToY(int256 timeSinceStart, int256 sold, int256 amount) public view virtual returns (int256) {

54:     function yToX(int256 timeSinceStart, int256 sold, int256 amount) public view virtual returns (int256) {

86:     function pIntegral(int256 timeSinceStart, int256 sold) internal view returns (int256) {

```
*Github:* [[47](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L47), [54](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L54), [86](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L86)]


</details>


<a name="NC-50"></a> 
### [NC-50] Missing NatSpec `@param` from function declaration
Some function definitions have an incomplete NatSpec: add a `@param` notation to improve the code documentation.

<details>
<summary>
There are <b>35</b> instances (click to show):
</summary>

```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

/// @audit missing @param for `_protocolRewards`
/// @audit missing @param for `_revolutionRewardRecipient`
29:     constructor(address _protocolRewards, address _revolutionRewardRecipient) payable {

/// @audit missing @param for `paymentAmountWei`
40:     function computeTotalReward(uint256 paymentAmountWei) public pure returns (uint256) {

/// @audit missing @param for `paymentAmountWei`
54:     function computePurchaseRewards(uint256 paymentAmountWei) public pure returns (RewardsSettings memory, uint256) {

/// @audit missing @param for `paymentAmountWei`
/// @audit missing @param for `builderReferral`
/// @audit missing @param for `purchaseReferral`
/// @audit missing @param for `deployer`
66:     function _depositPurchaseRewards(
            uint256 paymentAmountWei,
            address builderReferral,
            address purchaseReferral,
            address deployer
        ) internal returns (uint256) {

```
*Github:* [[29](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L29), [40](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L40), [54](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L54), [66](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L66)]


```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

/// @audit missing @param for `_protocolRewards`
/// @audit missing @param for `_revolutionRewardRecipient`
7:     constructor(
           address _protocolRewards,
           address _revolutionRewardRecipient
       ) payable RewardSplits(_protocolRewards, _revolutionRewardRecipient) {}

/// @audit missing @param for `msgValue`
/// @audit missing @param for `builderReferral`
/// @audit missing @param for `purchaseReferral`
/// @audit missing @param for `deployer`
12:     function _handleRewardsAndGetValueToSend(
            uint256 msgValue,
            address builderReferral,
            address purchaseReferral,
            address deployer
        ) internal returns (uint256) {

```
*Github:* [[7](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L7), [12](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L12)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

/// @audit missing @param for `_timeBuffer`
277:     function setTimeBuffer(uint256 _timeBuffer) external override onlyOwner {

/// @audit missing @param for `_reservePrice`
287:     function setReservePrice(uint256 _reservePrice) external override onlyOwner {

/// @audit missing @param for `_minBidIncrementPercentage`
297:     function setMinBidIncrementPercentage(uint8 _minBidIncrementPercentage) external override onlyOwner {

```
*Github:* [[277](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L277), [287](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L287), [297](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L297)]


```solidity
File: packages/revolution/src/CultureIndex.sol

/// @audit missing @param for `blockNumber`
274:     function getPastVotes(address account, uint256 blockNumber) external view override returns (uint256) {

/// @audit missing @param for `account`
288:     function _getVotes(address account) internal view returns (uint256) {

/// @audit missing @param for `account`
/// @audit missing @param for `blockNumber`
292:     function _getPastVotes(address account, uint256 blockNumber) internal view returns (uint256) {

/// @audit missing @param for `voter`
461:     function getVote(uint256 pieceId, address voter) public view returns (Vote memory) {

```
*Github:* [[274](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L274), [288](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L288), [292](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L292), [461](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L461)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

/// @audit missing @param for `_to`
/// @audit missing @param for `_amount`
108:     function _mint(address _to, uint256 _amount) private {

/// @audit missing @param for `_owner`
122:     function balanceOf(address _owner) public view returns (uint) {

/// @audit missing @param for `_creatorsAddress`
309:     function setCreatorsAddress(address _creatorsAddress) external override onlyOwner nonReentrant {

```
*Github:* [[108](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L108), [122](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L122), [309](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L309)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

/// @audit missing @param for `_initialOwner`
/// @audit missing @param for `_name`
/// @audit missing @param for `_symbol`
52:     function __NontransferableERC20Votes_init(
            address _initialOwner,
            string calldata _name,
            string calldata _symbol
        ) internal onlyInitializing {

/// @audit missing @param for `from`
/// @audit missing @param for `to`
/// @audit missing @param for `value`
101:     function _transfer(address from, address to, uint256 value) internal override {

/// @audit missing @param for `account`
/// @audit missing @param for `value`
127:     function _mint(address account, uint256 value) internal override {

/// @audit missing @param for `account`
/// @audit missing @param for `amount`
134:     function mint(address account, uint256 amount) public onlyOwner {

/// @audit missing @param for `owner`
/// @audit missing @param for `spender`
/// @audit missing @param for `value`
141:     function _approve(address owner, address spender, uint256 value) internal override {

/// @audit missing @param for `owner`
/// @audit missing @param for `spender`
/// @audit missing @param for `value`
/// @audit missing @param for `emitEvent`
148:     function _approve(address owner, address spender, uint256 value, bool emitEvent) internal virtual override {

/// @audit missing @param for `owner`
/// @audit missing @param for `spender`
/// @audit missing @param for `value`
155:     function _spendAllowance(address owner, address spender, uint256 value) internal virtual override {

```
*Github:* [[52](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L52), [101](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L101), [127](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L127), [134](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L134), [141](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L141), [148](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L148), [155](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L155)]


```solidity
File: packages/revolution/src/VerbsToken.sol

/// @audit missing @param for `newContractURIHash`
169:     function setContractURIHash(string memory newContractURIHash) external onlyOwner {

/// @audit missing @param for `verbId`
184:     function burn(uint256 verbId) public override onlyMinter nonReentrant {

/// @audit missing @param for `tokenId`
193:     function tokenURI(uint256 tokenId) public view override returns (string memory) {

/// @audit missing @param for `tokenId`
201:     function dataURI(uint256 tokenId) public view override returns (string memory) {

/// @audit missing @param for `_minter`
209:     function setMinter(address _minter) external override onlyOwner nonReentrant whenMinterNotLocked {

/// @audit missing @param for `_descriptor`
230:     function setDescriptor(
             IDescriptorMinimal _descriptor
         ) external override onlyOwner nonReentrant whenDescriptorNotLocked {

/// @audit missing @param for `_cultureIndex`
252:     function setCultureIndex(ICultureIndex _cultureIndex) external onlyOwner whenCultureIndexNotLocked nonReentrant {

/// @audit missing @param for `to`
281:     function _mintTo(address to) internal returns (uint256) {

/// @audit missing @param for `_newImpl`
328:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner {

```
*Github:* [[169](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L169), [184](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L184), [193](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L193), [201](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L201), [209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L209), [230](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L230), [252](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L252), [281](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L281), [328](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L328)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

/// @audit missing @param for `timeSinceStart`
/// @audit missing @param for `sold`
/// @audit missing @param for `amount`
47:     function xToY(int256 timeSinceStart, int256 sold, int256 amount) public view virtual returns (int256) {

/// @audit missing @param for `timeSinceStart`
/// @audit missing @param for `sold`
/// @audit missing @param for `amount`
54:     function yToX(int256 timeSinceStart, int256 sold, int256 amount) public view virtual returns (int256) {

/// @audit missing @param for `timeSinceStart`
/// @audit missing @param for `sold`
86:     function pIntegral(int256 timeSinceStart, int256 sold) internal view returns (int256) {

```
*Github:* [[47](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L47), [54](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L54), [86](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L86)]


</details>


<a name="NC-51"></a> 
### [NC-51] Missing NatSpec `@return` from function declaration
Some function definitions have an incomplete NatSpec: add a `@return` notation to improve the code documentation.

<details>
<summary>
There are <b>23</b> instances (click to show):
</summary>

```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

40:     function computeTotalReward(uint256 paymentAmountWei) public pure returns (uint256) {

54:     function computePurchaseRewards(uint256 paymentAmountWei) public pure returns (RewardsSettings memory, uint256) {

66:     function _depositPurchaseRewards(
            uint256 paymentAmountWei,
            address builderReferral,
            address purchaseReferral,
            address deployer
        ) internal returns (uint256) {

```
*Github:* [[40](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L40), [54](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L54), [66](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L66)]


```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

12:     function _handleRewardsAndGetValueToSend(
            uint256 msgValue,
            address builderReferral,
            address purchaseReferral,
            address deployer
        ) internal returns (uint256) {

```
*Github:* [[12](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L12)]


```solidity
File: packages/revolution/src/CultureIndex.sol

288:     function _getVotes(address account) internal view returns (uint256) {

292:     function _getPastVotes(address account, uint256 blockNumber) internal view returns (uint256) {

419:     function _verifyVoteSignature(
             address from,
             uint256[] calldata pieceIds,
             uint256 deadline,
             uint8 v,
             bytes32 r,
             bytes32 s
         ) internal returns (bool success) {

509:     function quorumVotes() public view returns (uint256) {

```
*Github:* [[288](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L288), [292](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L292), [419](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L419), [509](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L509)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

112:     function totalSupply() public view returns (uint) {

117:     function decimals() public view returns (uint8) {

122:     function balanceOf(address _owner) public view returns (uint) {

```
*Github:* [[112](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L112), [117](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L117), [122](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L122)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

87:     function decimals() public view virtual override returns (uint8) {

94:     function transfer(address, uint256) public virtual override returns (bool) {

108:     function transferFrom(address, address, uint256) public virtual override returns (bool) {

115:     function approve(address, uint256) public virtual override returns (bool) {

```
*Github:* [[87](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L87), [94](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L94), [108](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L108), [115](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L115)]


```solidity
File: packages/revolution/src/VerbsToken.sol

161:     function contractURI() public view returns (string memory) {

177:     function mint() public override onlyMinter nonReentrant returns (uint256) {

193:     function tokenURI(uint256 tokenId) public view override returns (string memory) {

201:     function dataURI(uint256 tokenId) public view override returns (string memory) {

281:     function _mintTo(address to) internal returns (uint256) {

```
*Github:* [[161](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L161), [177](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L177), [193](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L193), [201](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L201), [281](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L281)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

47:     function xToY(int256 timeSinceStart, int256 sold, int256 amount) public view virtual returns (int256) {

54:     function yToX(int256 timeSinceStart, int256 sold, int256 amount) public view virtual returns (int256) {

86:     function pIntegral(int256 timeSinceStart, int256 sold) internal view returns (int256) {

```
*Github:* [[47](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L47), [54](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L54), [86](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L86)]


</details>


<a name="NC-52"></a> 
### [NC-52] Missing NatSpec `@title` from contract declaration
Some contract definitions have an incomplete NatSpec: add a `@title` notation to improve the code documentation.

*There are <b>7</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

14: abstract contract RewardSplits {

```
*Github:* [[14](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L14)]


```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

6: abstract contract TokenEmitterRewards is RewardSplits {

```
*Github:* [[6](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L6)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

39: contract AuctionHouse is

```
*Github:* [[39](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L39)]


```solidity
File: packages/revolution/src/CultureIndex.sol

20: contract CultureIndex is

```
*Github:* [[20](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L20)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

17: contract ERC20TokenEmitter is

```
*Github:* [[17](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L17)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

29: contract NontransferableERC20Votes is Initializable, ERC20VotesUpgradeable, Ownable2StepUpgradeable {

```
*Github:* [[29](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L29)]


```solidity
File: packages/revolution/src/VerbsToken.sol

33: contract VerbsToken is

```
*Github:* [[33](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L33)]



<a name="NC-53"></a> 
### [NC-53] There is no need to initialize variables with 0
Since the variables are automatically set to 0 when created, it is redundant to initialize it with 0 again.

*There are <b>7</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

346:         uint256 creatorTokensEmitted = 0;

380:                 uint256 ethPaidToCreators = 0;

384:                     for (uint256 i = 0; i < numCreators; i++) {

```
*Github:* [[346](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L346), [380](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L380), [384](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L384)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

205:         uint256 bpsSum = 0;

209:         for (uint256 i = 0; i < addresses.length; i++) {

```
*Github:* [[205](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L205), [209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L209)]


```solidity
File: packages/revolution/src/MaxHeap.sol

67:     uint256 public size = 0;

```
*Github:* [[67](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L67)]


```solidity
File: packages/revolution/src/VerbsToken.sol

306:             for (uint i = 0; i < artPiece.creators.length; i++) {

```
*Github:* [[306](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L306)]



<a name="NC-54"></a> 
### [NC-54] Potential Re-org Attack Vector
The contract appears to deploy new contracts using the `new` keyword. In a re-org attack scenario, such deployments can be exploited by a malicious actor who might rewrite the blockchain's history and deploy the contract at an expected address.

Consider deploying the contract via `CREATE2` opcode with a specific salt that includes `msg.sender` and the existing contract address. This will ensure a predictable contract address, reducing the chances of such an attack.

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

191:         (bool success, ) = treasury.call{ value: toPayTreasury }(new bytes(0));

196:             (success, ) = creatorsAddress.call{ value: creatorDirectPayment }(new bytes(0));

```
*Github:* [[191](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L191), [196](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L196)]



<a name="NC-55"></a> 
### [NC-55] Put all system-wide constants in one file
Putting all the system-wide constants in a single file improves code readability, makes it easier to understand the basic configuration and limitations of the system, and makes maintenance easier.

*There are <b>10</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

18:     uint256 internal constant DEPLOYER_REWARD_BPS = 25;

19:     uint256 internal constant REVOLUTION_REWARD_BPS = 75;

20:     uint256 internal constant BUILDER_REWARD_BPS = 100;

21:     uint256 internal constant PURCHASE_REFERRAL_BPS = 50;

23:     uint256 public constant minPurchaseAmount = 0.0000001 ether;

24:     uint256 public constant maxPurchaseAmount = 50_000 ether;

```
*Github:* [[18](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L18), [19](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L19), [20](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L20), [21](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L21), [23](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L23), [24](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L24)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

88:     uint32 public constant MIN_TOKEN_MINT_GAS_THRESHOLD = 750_000;

```
*Github:* [[88](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L88)]


```solidity
File: packages/revolution/src/CultureIndex.sol

29:     bytes32 public constant VOTE_TYPEHASH =

48:     uint256 public constant MAX_QUORUM_VOTES_BPS = 6_000; // 6,000 basis points or 60%

75:     uint256 public constant MAX_NUM_CREATORS = 100;

```
*Github:* [[29](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L29), [48](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L48), [75](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L75)]



<a name="NC-56"></a> 
### [NC-56] Redundant `return` statement in a function with named return variables
Because the return variable (or its default value) has been assigned, explicit return at the end of the function is unnecessary, as it is returned automatically.

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

419:     function _verifyVoteSignature(

```
*Github:* [[419](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L419)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

152:     function buyToken(

```
*Github:* [[152](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L152)]



<a name="NC-57"></a> 
### [NC-57] Setters should prevent re-setting the same value
Not only is wasteful in terms of gas, but this is especially problematic when an event is emitted and the old and new values set are the same, as listeners might not expect this kind of scenario.

<details>
<summary>
There are <b>15</b> instances (click to show):
</summary>

```solidity
File: packages/revolution/src/AuctionHouse.sol

223:         creatorRateBps = _creatorRateBps;

243:         minCreatorRateBps = _minCreatorRateBps;

256:         entropyRateBps = _entropyRateBps;

278:         timeBuffer = _timeBuffer;

288:         reservePrice = _reservePrice;

298:         minBidIncrementPercentage = _minBidIncrementPercentage;

```
*Github:* [[223](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L223), [243](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L243), [256](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L256), [278](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L278), [288](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L288), [298](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L298)]


```solidity
File: packages/revolution/src/CultureIndex.sol

502:         quorumVotesBPS = newQuorumVotesBPS;

```
*Github:* [[502](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L502)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

291:         emit EntropyRateBpsUpdated(entropyRateBps = _entropyRateBps);

302:         emit CreatorRateBpsUpdated(creatorRateBps = _creatorRateBps);

312:         emit CreatorsAddressUpdated(creatorsAddress = _creatorsAddress);

```
*Github:* [[291](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L291), [302](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L302), [312](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L312)]


```solidity
File: packages/revolution/src/MaxHeap.sol

141:         valueMapping[itemId] = newValue;

```
*Github:* [[141](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L141)]


```solidity
File: packages/revolution/src/VerbsToken.sol

170:         _contractURIHash = newContractURIHash;

211:         minter = _minter;

233:         descriptor = _descriptor;

253:         cultureIndex = _cultureIndex;

```
*Github:* [[170](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L170), [211](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L211), [233](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L233), [253](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L253)]


</details>


<a name="NC-58"></a> 
### [NC-58] State variables should include comments
Consider adding some comments on critical state variables to explain what they are supposed to do: this will help for future code reviews.

<details>
<summary>
There are <b>19</b> instances (click to show):
</summary>

```solidity
File: packages/revolution/src/AuctionHouse.sol

54:     address public WETH;

57:     uint256 public timeBuffer;

60:     uint256 public reservePrice;

63:     uint8 public minBidIncrementPercentage;

66:     uint256 public creatorRateBps;

69:     uint256 public minCreatorRateBps;

72:     uint256 public entropyRateBps;

75:     uint256 public duration;

88:     uint32 public constant MIN_TOKEN_MINT_GAS_THRESHOLD = 750_000;

```
*Github:* [[54](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L54), [57](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L57), [60](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L60), [63](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L63), [66](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L66), [69](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L69), [72](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L72), [75](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L75), [88](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L88)]


```solidity
File: packages/revolution/src/CultureIndex.sol

29:     bytes32 public constant VOTE_TYPEHASH =

```
*Github:* [[29](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L29)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

25:     address public treasury;

34:     uint256 public startTime;

42:     uint256 public creatorRateBps;

45:     uint256 public entropyRateBps;

48:     address public creatorsAddress;

```
*Github:* [[25](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L25), [34](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L34), [42](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L42), [45](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L45), [48](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L48)]


```solidity
File: packages/revolution/src/MaxHeap.sol

16:     address public admin;

```
*Github:* [[16](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L16)]


```solidity
File: packages/revolution/src/VerbsToken.sol

42:     address public minter;

60:     uint256 private _currentVerbId;

63:     string private _contractURIHash = "QmQzDwaZ7yQxHHs7sQQenJVB89riTSacSGcJRv9jtHPuz5";

```
*Github:* [[42](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L42), [60](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L60), [63](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L63)]


</details>


<a name="NC-59"></a> 
### [NC-59] The first argument should not be attached to the opening parenthesis
It is recommended by the [Solidity Style Guide](https://docs.soliditylang.org/en/latest/style-guide.html#maximum-line-length).

*There are <b>3</b> instances of this issue:*
```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

243:                 timeSinceStart: toDaysWadUnsafe(block.timestamp - startTime),
                     sold: emittedTokenWad,
                     amount: int(amount)

260:                 timeSinceStart: toDaysWadUnsafe(block.timestamp - startTime),
                     sold: emittedTokenWad,
                     amount: int(etherAmount)

277:                 timeSinceStart: toDaysWadUnsafe(block.timestamp - startTime),
                     sold: emittedTokenWad,
                     amount: int(((paymentAmount - computeTotalReward(paymentAmount)) * (10_000 - creatorRateBps)) / 10_000)

```
*Github:* [[243](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L243), [260](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L260), [277](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L277)]



<a name="NC-60"></a> 
### [NC-60] The `nonReentrant` modifier should occur before all other modifiers
This is a best-practice to protect against reentrancy in other modifiers.

*There are <b>7</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

161:     function settleAuction() external override whenPaused nonReentrant {

```
*Github:* [[161](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L161)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

309:     function setCreatorsAddress(address _creatorsAddress) external override onlyOwner nonReentrant {

```
*Github:* [[309](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L309)]


```solidity
File: packages/revolution/src/VerbsToken.sol

177:     function mint() public override onlyMinter nonReentrant returns (uint256) {

184:     function burn(uint256 verbId) public override onlyMinter nonReentrant {

209:     function setMinter(address _minter) external override onlyOwner nonReentrant whenMinterNotLocked {

230:     function setDescriptor(
             IDescriptorMinimal _descriptor
         ) external override onlyOwner nonReentrant whenDescriptorNotLocked {

252:     function setCultureIndex(ICultureIndex _cultureIndex) external onlyOwner whenCultureIndexNotLocked nonReentrant {

```
*Github:* [[177](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L177), [184](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L184), [209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L209), [230](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L230), [252](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L252)]



<a name="NC-61"></a> 
### [NC-61] Timestamp may be manipulation
The `block.timestamp` can be manipulated by miners to perform MEV profiting or other time-based attacks.

*There are <b>10</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

178:         require(block.timestamp < _auction.endTime, "Auction expired");

191:         bool extended = _auction.endTime - block.timestamp < timeBuffer;

192:         if (extended) auction.endTime = _auction.endTime = block.timestamp + timeBuffer;

314:             uint256 startTime = block.timestamp;

342:         require(block.timestamp >= _auction.endTime, "Auction hasn't completed");

```
*Github:* [[178](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L178), [191](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L191), [192](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L192), [314](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L314), [342](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L342)]


```solidity
File: packages/revolution/src/CultureIndex.sol

427:         require(deadline >= block.timestamp, "Signature expired");

```
*Github:* [[427](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L427)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

105:         startTime = block.timestamp;

243:                 timeSinceStart: toDaysWadUnsafe(block.timestamp - startTime),

260:                 timeSinceStart: toDaysWadUnsafe(block.timestamp - startTime),

277:                 timeSinceStart: toDaysWadUnsafe(block.timestamp - startTime),

```
*Github:* [[105](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L105), [243](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L243), [260](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L260), [277](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L277)]



<a name="NC-62"></a> 
### [NC-62] Unsafe conversion from unsigned to signed values
Solidity follows [two's complement](https://en.wikipedia.org/wiki/Two%27s_complement) rules for its integers, meaning that the most significant bit for signed integers is used to denote the sign, and converting between the two requires inverting all of the bits and adding one. Because of this, casting an unsigned integer to a signed one may result in a change of the sign and or magnitude of the value. For example, `int8(type(uint8).max)` is not equal to `type(int8).max`, but is equal to `-1`. `type(uint8).max` in binary is `11111111`, which if cast to a signed value, means the first binary `1` indicates a negative value, and the binary `1`s, invert to all zeroes, and when one is added, it becomes one, but negative, and therefore the decimal value of binary `11111111` is `-1`.

*There are <b>4</b> instances of this issue:*
```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

/// @audit uint256 -> int
212:                 _mint(addresses[i], uint256((totalTokensForBuyers * int(basisPointSplits[i])) / 10_000));

/// @audit uint256 -> int
245:                 amount: int(amount)

/// @audit uint256 -> int
262:                 amount: int(etherAmount)

/// @audit uint256 -> int
279:                 amount: int(((paymentAmount - computeTotalReward(paymentAmount)) * (10_000 - creatorRateBps)) / 10_000)

```
*Github:* [[212](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L212), [245](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L245), [262](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L262), [279](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L279)]



<a name="NC-63"></a> 
### [NC-63] Unused arguments should be removed or implemented
Some arguments are never used: if this is intentional, consider removing these arguments from the function. Otherwise, implement the missing logic accordingly.

*There are <b>4</b> instances of this issue:*
```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

/// @audit `from`
/// @audit `to`
/// @audit `value`
101:     function _transfer(address from, address to, uint256 value) internal override {

/// @audit `owner`
/// @audit `spender`
/// @audit `value`
141:     function _approve(address owner, address spender, uint256 value) internal override {

/// @audit `owner`
/// @audit `spender`
/// @audit `value`
/// @audit `emitEvent`
148:     function _approve(address owner, address spender, uint256 value, bool emitEvent) internal virtual override {

/// @audit `owner`
/// @audit `spender`
/// @audit `value`
155:     function _spendAllowance(address owner, address spender, uint256 value) internal virtual override {

```
*Github:* [[101](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L101), [141](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L141), [148](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L148), [155](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L155)]



<a name="NC-64"></a> 
### [NC-64] Unused import
The identifier is imported but never used within the file.

*There are <b>5</b> instances of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

/// @audit `Strings`
18: import { Strings } from "@openzeppelin/contracts/utils/Strings.sol";

```
*Github:* [[18](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L18)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

/// @audit `Strings`
11: import { Strings } from "@openzeppelin/contracts/utils/Strings.sol";

```
*Github:* [[11](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L11)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

/// @audit `PausableUpgradeable`
21: import { PausableUpgradeable } from "@openzeppelin/contracts-upgradeable/utils/PausableUpgradeable.sol";

/// @audit `EIP712Upgradeable`
25: import { EIP712Upgradeable } from "@openzeppelin/contracts-upgradeable/utils/cryptography/EIP712Upgradeable.sol";

```
*Github:* [[21](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L21), [25](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L25)]


```solidity
File: packages/revolution/src/VerbsToken.sol

/// @audit `IERC721`
22: import { IERC721 } from "@openzeppelin/contracts/token/ERC721/IERC721.sol";

```
*Github:* [[22](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L22)]



<a name="NC-65"></a> 
### [NC-65] Unused named return
Declaring named returns, but not using them, is confusing to the reader. Consider either completely removing them (by declaring just the type without a name), or remove the return statement and do a variable assignment. This would improve the readability of the code, and it may also help reduce regressions during future code refactors.

*There are <b>5</b> instances of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

/// @audit `success` not used
419:     function _verifyVoteSignature(
             address from,
             uint256[] calldata pieceIds,
             uint256 deadline,
             uint8 v,
             bytes32 r,
             bytes32 s
         ) internal returns (bool success) {

```
*Github:* [[419](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L419)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

/// @audit `tokensSoldWad` not used
152:     function buyToken(
             address[] calldata addresses,
             uint[] calldata basisPointSplits,
             ProtocolRewardAddresses calldata protocolRewardsRecipients
         ) public payable nonReentrant whenNotPaused returns (uint256 tokensSoldWad) {

/// @audit `spentY` not used
237:     function buyTokenQuote(uint256 amount) public view returns (int spentY) {

/// @audit `gainedX` not used
254:     function getTokenQuoteForEther(uint256 etherAmount) public view returns (int gainedX) {

/// @audit `gainedX` not used
271:     function getTokenQuoteForPayment(uint256 paymentAmount) external view returns (int gainedX) {

```
*Github:* [[152](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L152), [237](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L237), [254](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L254), [271](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L271)]



<a name="NC-66"></a> 
### [NC-66] Unused contract variables
The following state variables are defined but not used. It is recommended to check the code for logical omissions that cause them not to be used. If it's determined that they are not needed anywhere, it's best to remove them from the codebase to improve code clarity and minimize confusion.

*There is one instance of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

24:     uint256 public constant maxPurchaseAmount = 50_000 ether;

```
*Github:* [[24](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L24)]



<a name="NC-67"></a> 
### [NC-67] Solidity compiler version is not fixed
To prevent the actual contracts deployed from behaving differently depending on the compiler version, it is recommended to use a fixed solidity version.

*There are <b>9</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L2)]


```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L2)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

24: pragma solidity ^0.8.22;

```
*Github:* [[24](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L24)]


```solidity
File: packages/revolution/src/CultureIndex.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L2)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L2)]


```solidity
File: packages/revolution/src/MaxHeap.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L2)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

4: pragma solidity ^0.8.22;

```
*Github:* [[4](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L4)]


```solidity
File: packages/revolution/src/VerbsToken.sol

18: pragma solidity ^0.8.22;

```
*Github:* [[18](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L18)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L2)]



<a name="NC-68"></a> 
### [NC-68] Expressions for constant values should use `immutable` rather than `constant`
While it doesn't save any gas because the compiler knows that developers often make this mistake, it's still best to use the right tool for the task at hand. There is a difference between `constant` variables and `immutable` variables, and they should each be used in their appropriate contexts. `constants` should be used for literal values written into the code, and `immutable` variables should be used for expressions, or values calculated in, or passed into the constructor.

*There are <b>10</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

18:     uint256 internal constant DEPLOYER_REWARD_BPS = 25;

19:     uint256 internal constant REVOLUTION_REWARD_BPS = 75;

20:     uint256 internal constant BUILDER_REWARD_BPS = 100;

21:     uint256 internal constant PURCHASE_REFERRAL_BPS = 50;

23:     uint256 public constant minPurchaseAmount = 0.0000001 ether;

24:     uint256 public constant maxPurchaseAmount = 50_000 ether;

```
*Github:* [[18](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L18), [19](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L19), [20](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L20), [21](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L21), [23](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L23), [24](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L24)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

88:     uint32 public constant MIN_TOKEN_MINT_GAS_THRESHOLD = 750_000;

```
*Github:* [[88](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L88)]


```solidity
File: packages/revolution/src/CultureIndex.sol

29:     bytes32 public constant VOTE_TYPEHASH =

48:     uint256 public constant MAX_QUORUM_VOTES_BPS = 6_000; // 6,000 basis points or 60%

75:     uint256 public constant MAX_NUM_CREATORS = 100;

```
*Github:* [[29](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L29), [48](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L48), [75](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L75)]



<a name="NC-69"></a> 
### [NC-69] Use `@inheritdoc` for overridden functions

<details>
<summary>
There are <b>34</b> instances (click to show):
</summary>

```solidity
File: packages/revolution/src/AuctionHouse.sol

152:     function settleCurrentAndCreateNewAuction() external override nonReentrant whenNotPaused {

161:     function settleAuction() external override whenPaused nonReentrant {

171:     function createBid(uint256 verbId, address bidder) external payable override nonReentrant {

208:     function pause() external override onlyOwner {

265:     function unpause() external override onlyOwner {

277:     function setTimeBuffer(uint256 _timeBuffer) external override onlyOwner {

287:     function setReservePrice(uint256 _reservePrice) external override onlyOwner {

297:     function setMinBidIncrementPercentage(uint8 _minBidIncrementPercentage) external override onlyOwner {

452:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner whenPaused {

```
*Github:* [[152](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L152), [161](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L161), [171](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L171), [208](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L208), [265](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L265), [277](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L277), [287](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L287), [297](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L297), [452](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L452)]


```solidity
File: packages/revolution/src/CultureIndex.sol

265:     function getVotes(address account) external view override returns (uint256) {

274:     function getPastVotes(address account, uint256 blockNumber) external view override returns (uint256) {

543:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner {

```
*Github:* [[265](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L265), [274](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L274), [543](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L543)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

132:     function pause() external override onlyOwner {

141:     function unpause() external override onlyOwner {

309:     function setCreatorsAddress(address _creatorsAddress) external override onlyOwner nonReentrant {

```
*Github:* [[132](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L132), [141](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L141), [309](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L309)]


```solidity
File: packages/revolution/src/MaxHeap.sol

181:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner {

```
*Github:* [[181](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L181)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

87:     function decimals() public view virtual override returns (uint8) {

94:     function transfer(address, uint256) public virtual override returns (bool) {

101:     function _transfer(address from, address to, uint256 value) internal override {

108:     function transferFrom(address, address, uint256) public virtual override returns (bool) {

115:     function approve(address, uint256) public virtual override returns (bool) {

127:     function _mint(address account, uint256 value) internal override {

141:     function _approve(address owner, address spender, uint256 value) internal override {

148:     function _approve(address owner, address spender, uint256 value, bool emitEvent) internal virtual override {

155:     function _spendAllowance(address owner, address spender, uint256 value) internal virtual override {

```
*Github:* [[87](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L87), [94](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L94), [101](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L101), [108](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L108), [115](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L115), [127](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L127), [141](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L141), [148](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L148), [155](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L155)]


```solidity
File: packages/revolution/src/VerbsToken.sol

177:     function mint() public override onlyMinter nonReentrant returns (uint256) {

184:     function burn(uint256 verbId) public override onlyMinter nonReentrant {

193:     function tokenURI(uint256 tokenId) public view override returns (string memory) {

201:     function dataURI(uint256 tokenId) public view override returns (string memory) {

209:     function setMinter(address _minter) external override onlyOwner nonReentrant whenMinterNotLocked {

220:     function lockMinter() external override onlyOwner whenMinterNotLocked {

242:     function lockDescriptor() external override onlyOwner whenDescriptorNotLocked {

262:     function lockCultureIndex() external override onlyOwner whenCultureIndexNotLocked {

328:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner {

```
*Github:* [[177](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L177), [184](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L184), [193](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L193), [201](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L201), [209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L209), [220](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L220), [242](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L242), [262](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L262), [328](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L328)]


</details>


<a name="NC-70"></a> 
### [NC-70] Upgrade `openzeppelin` to the latest version (`5.0.1`)
These contracts import contracts from openzeppelin contracts but they are not using the latest version. For more information, please visit: [OpenZeppelin GitHub Releases](https://github.com/OpenZeppelin/openzeppelin-contracts/releases) It is recommended to always use the latest version to take advantage of updates and security fixes.

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/)]



<a name="NC-71"></a> 
### [NC-71] Use the latest solidity version for deployment (`0.8.23`)
Upgrading to a newer Solidity release can optimize gas usage, take advantage of new features and improve overall contract efficiency. Where possible, based on compatibility requirements, it is recommended to use newer/latest solidity version to take advantage of the latest optimizations and features.

*There are <b>9</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L2)]


```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L2)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

24: pragma solidity ^0.8.22;

```
*Github:* [[24](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L24)]


```solidity
File: packages/revolution/src/CultureIndex.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L2)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L2)]


```solidity
File: packages/revolution/src/MaxHeap.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L2)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

4: pragma solidity ^0.8.22;

```
*Github:* [[4](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L4)]


```solidity
File: packages/revolution/src/VerbsToken.sol

18: pragma solidity ^0.8.22;

```
*Github:* [[18](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L18)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L2)]



<a name="NC-72"></a> 
### [NC-72] Use of `override` is unnecessary
Starting with Solidity version [0.8.8](https://docs.soliditylang.org/en/v0.8.20/contracts.html#function-overriding), using the `override` keyword when the function solely overrides an interface function, and the function doesn't exist in multiple base contracts, is unnecessary.

<details>
<summary>
There are <b>35</b> instances (click to show):
</summary>

```solidity
File: packages/revolution/src/AuctionHouse.sol

152:     function settleCurrentAndCreateNewAuction() external override nonReentrant whenNotPaused {

161:     function settleAuction() external override whenPaused nonReentrant {

171:     function createBid(uint256 verbId, address bidder) external payable override nonReentrant {

208:     function pause() external override onlyOwner {

265:     function unpause() external override onlyOwner {

277:     function setTimeBuffer(uint256 _timeBuffer) external override onlyOwner {

287:     function setReservePrice(uint256 _reservePrice) external override onlyOwner {

297:     function setMinBidIncrementPercentage(uint8 _minBidIncrementPercentage) external override onlyOwner {

452:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner whenPaused {

```
*Github:* [[152](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L152), [161](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L161), [171](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L171), [208](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L208), [265](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L265), [277](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L277), [287](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L287), [297](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L297), [452](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L452)]


```solidity
File: packages/revolution/src/CultureIndex.sol

265:     function getVotes(address account) external view override returns (uint256) {

274:     function getPastVotes(address account, uint256 blockNumber) external view override returns (uint256) {

543:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner {

```
*Github:* [[265](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L265), [274](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L274), [543](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L543)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

132:     function pause() external override onlyOwner {

141:     function unpause() external override onlyOwner {

309:     function setCreatorsAddress(address _creatorsAddress) external override onlyOwner nonReentrant {

```
*Github:* [[132](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L132), [141](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L141), [309](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L309)]


```solidity
File: packages/revolution/src/MaxHeap.sol

181:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner {

```
*Github:* [[181](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L181)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

87:     function decimals() public view virtual override returns (uint8) {

94:     function transfer(address, uint256) public virtual override returns (bool) {

101:     function _transfer(address from, address to, uint256 value) internal override {

108:     function transferFrom(address, address, uint256) public virtual override returns (bool) {

115:     function approve(address, uint256) public virtual override returns (bool) {

127:     function _mint(address account, uint256 value) internal override {

141:     function _approve(address owner, address spender, uint256 value) internal override {

148:     function _approve(address owner, address spender, uint256 value, bool emitEvent) internal virtual override {

155:     function _spendAllowance(address owner, address spender, uint256 value) internal virtual override {

```
*Github:* [[87](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L87), [94](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L94), [101](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L101), [108](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L108), [115](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L115), [127](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L127), [141](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L141), [148](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L148), [155](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L155)]


```solidity
File: packages/revolution/src/VerbsToken.sol

177:     function mint() public override onlyMinter nonReentrant returns (uint256) {

184:     function burn(uint256 verbId) public override onlyMinter nonReentrant {

193:     function tokenURI(uint256 tokenId) public view override returns (string memory) {

201:     function dataURI(uint256 tokenId) public view override returns (string memory) {

209:     function setMinter(address _minter) external override onlyOwner nonReentrant whenMinterNotLocked {

220:     function lockMinter() external override onlyOwner whenMinterNotLocked {

232:     ) external override onlyOwner nonReentrant whenDescriptorNotLocked {

242:     function lockDescriptor() external override onlyOwner whenDescriptorNotLocked {

262:     function lockCultureIndex() external override onlyOwner whenCultureIndexNotLocked {

328:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner {

```
*Github:* [[177](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L177), [184](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L184), [193](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L193), [201](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L201), [209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L209), [220](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L220), [232](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L232), [242](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L242), [262](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L262), [328](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L328)]


</details>


<a name="NC-73"></a> 
### [NC-73] Whitespace in Expressions
See the [Whitespace in Expressions](https://docs.soliditylang.org/en/latest/style-guide.html#whitespace-in-expressions) section of the Solidity Style Guide.

*There are <b>3</b> instances of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

489:         (uint256 pieceId, ) = maxHeap.getMax();

```
*Github:* [[489](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L489)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

191:         (bool success, ) = treasury.call{ value: toPayTreasury }(new bytes(0));

196:             (success, ) = creatorsAddress.call{ value: creatorDirectPayment }(new bytes(0));

```
*Github:* [[191](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L191), [196](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L196)]



<a name="NC-74"></a> 
### [NC-74] Common functions should be refactored to a common base contract
The functions below have the same implementation as is seen in other files. The functions should be refactored into functions of a common base contract.

*There are <b>5</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

/// @audit seen in packages/revolution/src/ERC20TokenEmitter.sol
208:     function pause() external override onlyOwner {

/// @audit seen in packages/revolution/src/MaxHeap.sol
452:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner whenPaused {

```
*Github:* [[208](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L208), [452](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L452)]


```solidity
File: packages/revolution/src/CultureIndex.sol

/// @audit seen in packages/revolution/src/MaxHeap.sol
543:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner {

```
*Github:* [[543](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L543)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

/// @audit seen in packages/revolution/src/AuctionHouse.sol
132:     function pause() external override onlyOwner {

```
*Github:* [[132](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L132)]


```solidity
File: packages/revolution/src/MaxHeap.sol

/// @audit seen in packages/revolution/src/CultureIndex.sol
181:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner {

```
*Github:* [[181](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L181)]



<a name="NC-75"></a> 
### [NC-75] Empty body - Consider commenting why

*There is one instance of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

10:     ) payable RewardSplits(_protocolRewards, _revolutionRewardRecipient) {}

```
*Github:* [[10](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L10)]



<a name="NC-76"></a> 
### [NC-76] Names of `private`/`internal` functions should be prefixed with an underscore
It is recommended by the [Solidity Style Guide](https://docs.soliditylang.org/en/v0.8.20/style-guide.html#underscore-prefix-for-non-external-functions-and-variables)

*There are <b>6</b> instances of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

159:     function validateMediaType(ArtPieceMetadata calldata metadata) internal pure {

179:     function validateCreatorsArray(CreatorBps[] calldata creatorArray) internal pure returns (uint256) {

```
*Github:* [[159](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L159), [179](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L179)]


```solidity
File: packages/revolution/src/MaxHeap.sol

78:     function parent(uint256 pos) private pure returns (uint256) {

86:     function swap(uint256 fpos, uint256 spos) private {

94:     function maxHeapify(uint256 pos) internal {

```
*Github:* [[78](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L78), [86](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L86), [94](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L94)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

86:     function pIntegral(int256 timeSinceStart, int256 sold) internal view returns (int256) {

```
*Github:* [[86](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L86)]



<a name="NC-77"></a> 
### [NC-77] Names of `private`/`internal` state variables should be prefixed with an underscore
It is recommended by the [Solidity Style Guide](https://docs.soliditylang.org/en/v0.8.20/style-guide.html#underscore-prefix-for-non-external-functions-and-variables)

<details>
<summary>
There are <b>11</b> instances (click to show):
</summary>

```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

18:     uint256 internal constant DEPLOYER_REWARD_BPS = 25;

19:     uint256 internal constant REVOLUTION_REWARD_BPS = 75;

20:     uint256 internal constant BUILDER_REWARD_BPS = 100;

21:     uint256 internal constant PURCHASE_REFERRAL_BPS = 50;

26:     address internal immutable revolutionRewardRecipient;

27:     IRevolutionProtocolRewards internal immutable protocolRewards;

```
*Github:* [[18](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L18), [19](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L19), [20](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L20), [21](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L21), [26](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L26), [27](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L27)]


```solidity
File: packages/revolution/src/CultureIndex.sol

85:     IRevolutionBuilder private immutable manager;

```
*Github:* [[85](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L85)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

55:     IRevolutionBuilder private immutable manager;

```
*Github:* [[55](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L55)]


```solidity
File: packages/revolution/src/MaxHeap.sol

23:     IRevolutionBuilder private immutable manager;

```
*Github:* [[23](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L23)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

37:     IRevolutionBuilder private immutable manager;

```
*Github:* [[37](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L37)]


```solidity
File: packages/revolution/src/VerbsToken.sol

109:     IRevolutionBuilder private immutable manager;

```
*Github:* [[109](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L109)]


</details>


<a name="NC-78"></a> 
### [NC-78] Variables should be named in mixedCase style
As the [Solidity Style Guide](https://docs.soliditylang.org/en/latest/style-guide.html#naming-styles) suggests: `arguments`, `local variables` and `mutable state variables` should be named in mixedCase style.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

/// @audit `WETH`
54:     address public WETH;

```
*Github:* [[54](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L54)]



<a name="NC-79"></a> 
### [NC-79] `TODO`s left in the code
TODOs may signal that a feature is missing or not ready for audit, consider resolving the issue and removing the TODO comment.

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

87:     // TODO investigate this - The minimum gas threshold for creating an auction (minting VerbsToken)

```
*Github:* [[87](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L87)]


```solidity
File: packages/revolution/src/CultureIndex.sol

321:         // TODO add security consideration here based on block created to prevent flash attacks on drops?

```
*Github:* [[321](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L321)]



<a name="NC-80"></a> 
### [NC-80] Functions not used internally could be marked `external`

<details>
<summary>
There are <b>23</b> instances (click to show):
</summary>

```solidity
File: packages/revolution/src/CultureIndex.sol

209:     function createPiece(

332:     function vote(uint256 pieceId) public nonReentrant {

342:     function voteForMany(uint256[] calldata pieceIds) public nonReentrant {

451:     function getPieceById(uint256 pieceId) public view returns (ArtPiece memory) {

461:     function getVote(uint256 pieceId, address voter) public view returns (Vote memory) {

509:     function quorumVotes() public view returns (uint256) {

519:     function dropTopVotedPiece() public nonReentrant returns (ArtPiece memory) {

```
*Github:* [[209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L209), [332](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L332), [342](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L342), [451](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L451), [461](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L461), [509](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L509), [519](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L519)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

112:     function totalSupply() public view returns (uint) {

117:     function decimals() public view returns (uint8) {

122:     function balanceOf(address _owner) public view returns (uint) {

152:     function buyToken(

237:     function buyTokenQuote(uint256 amount) public view returns (int spentY) {

```
*Github:* [[112](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L112), [117](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L117), [122](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L122), [152](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L152), [237](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L237)]


```solidity
File: packages/revolution/src/MaxHeap.sol

55:     function initialize(address _initialOwner, address _admin) public initializer {

119:     function insert(uint256 itemId, uint256 value) public onlyAdmin {

136:     function updateValue(uint256 itemId, uint256 newValue) public onlyAdmin {

169:     function getMax() public view returns (uint256, uint256) {

```
*Github:* [[55](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L55), [119](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L119), [136](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L136), [169](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L169)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

134:     function mint(address account, uint256 amount) public onlyOwner {

```
*Github:* [[134](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L134)]


```solidity
File: packages/revolution/src/VerbsToken.sol

161:     function contractURI() public view returns (string memory) {

177:     function mint() public override onlyMinter nonReentrant returns (uint256) {

184:     function burn(uint256 verbId) public override onlyMinter nonReentrant {

193:     function tokenURI(uint256 tokenId) public view override returns (string memory) {

201:     function dataURI(uint256 tokenId) public view override returns (string memory) {

273:     function getArtPieceById(uint256 verbId) public view returns (ICultureIndex.ArtPiece memory) {

```
*Github:* [[161](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L161), [177](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L177), [184](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L184), [193](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L193), [201](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L201), [273](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L273)]


</details>



## Gas Optimizations

<a name="GAS-1"></a> 
### [GAS-1] Assigning to structs can be more efficient
By changing the pattern of assigning value to the structure, gas savings of ~130 per instance are achieved. In addition, this use will provide significant savings in distribution costs. Instead of:
```solidity
MyStruct memory myStruct = MyStruct(_a, _b, _c);
```
write:
```solidity
MyStruct memory myStruct;
myStruct.a = _a;
myStruct.b = _b;
myStruct.c = _c;
```

*There are <b>3</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

56:             RewardsSettings({
                    builderReferralReward: (paymentAmountWei * BUILDER_REWARD_BPS) / 10_000,
                    purchaseReferralReward: (paymentAmountWei * PURCHASE_REFERRAL_BPS) / 10_000,
                    deployerReward: (paymentAmountWei * DEPLOYER_REWARD_BPS) / 10_000,
                    revolutionReward: (paymentAmountWei * REVOLUTION_REWARD_BPS) / 10_000

```
*Github:* [[56](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L56)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

317:             auction = Auction({
                     verbId: verbId,
                     amount: 0,
                     startTime: startTime,
                     endTime: endTime,
                     bidder: payable(0),
                     settled: false

```
*Github:* [[317](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L317)]


```solidity
File: packages/revolution/src/CultureIndex.sol

316:         votes[pieceId][voter] = Vote(voter, weight);

```
*Github:* [[316](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L316)]



<a name="GAS-2"></a> 
### [GAS-2] Assigning state variables directly with named struct constructors wastes gas
Using named arguments for struct means that the compiler needs to organize the fields in memory before doing the assignment, which wastes gas. Set each field directly in storage (use dot-notation), or use the unnamed version of the constructor.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

317:             auction = Auction({
                     verbId: verbId,
                     amount: 0,
                     startTime: startTime,
                     endTime: endTime,
                     bidder: payable(0),
                     settled: false

```
*Github:* [[317](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L317)]



<a name="GAS-3"></a> 
### [GAS-3] Optimize gas by using do-while loops
Using `do-while` loops instead of `for` loops can be more gas-efficient. Even if you add an `if` condition to account for the case where the loop doesn't execute at all, a `do-while` loop can still be cheaper in terms of gas.

*There are <b>9</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

384:                     for (uint256 i = 0; i < numCreators; i++) {

```
*Github:* [[384](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L384)]


```solidity
File: packages/revolution/src/CultureIndex.sol

185:         for (uint i; i < creatorArrayLength; i++) {

236:         for (uint i; i < creatorArrayLength; i++) {

243:         for (uint i; i < creatorArrayLength; i++) {

355:         for (uint256 i; i < len; i++) {

403:         for (uint256 i; i < len; i++) {

407:         for (uint256 i; i < len; i++) {

```
*Github:* [[185](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L185), [236](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L236), [243](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L243), [355](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L355), [403](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L403), [407](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L407)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

209:         for (uint256 i = 0; i < addresses.length; i++) {

```
*Github:* [[209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L209)]


```solidity
File: packages/revolution/src/VerbsToken.sol

306:             for (uint i = 0; i < artPiece.creators.length; i++) {

```
*Github:* [[306](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L306)]



<a name="GAS-4"></a> 
### [GAS-4] Multiple `address`/ID mappings can be combined into a single `mapping` of an `address`/ID to a `struct`, where appropriate
Saves a storage slot for the mapping. Depending on the circumstances and sizes of types, can avoid a Gsset (20000 gas) per mapping combined. Reads and subsequent writes can also be cheaper when a function requires both values and they both fit in the same storage slot. Finally, if both fields are accessed in the same function, can save ~42 gas per access due to not having to [recalculate the key's keccak256 hash](https://gist.github.com/IllIllI000/ec23a57daa30a8f8ca8b9681c8ccefb0) (Gkeccak256 - 30 gas) and that calculation's associated stack operations.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

69:     mapping(uint256 => mapping(address => Vote)) public votes;

```
*Github:* [[69](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L69)]



<a name="GAS-5"></a> 
### [GAS-5] Consider activating via-ir for deploying
By using `--via-ir` or `{"viaIR": true}`, the compiler is able to use more advanced [multi-function optimizations](https://docs.soliditylang.org/en/v0.8.17/ir-breaking-changes.html#solidity-ir-based-codegen-changes), for extra gas savings.

*There is one instance of this issue:*
```solidity

Global finding

```
*Github:* [[Global](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/)]



<a name="GAS-6"></a> 
### [GAS-6] Divisions can be `unchecked` to save gas
The expression `type(int).min/(-1)` is the only case where division causes an overflow. Therefore, uncheck can be used to [save gas](https://gist.github.com/DadeKuma/3bc597338ae774b8b3bd43280d55271f) in scenarios where it is certain that such an overflow will not occur.

<details>
<summary>
There are <b>19</b> instances (click to show):
</summary>

```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

44:             (paymentAmountWei * BUILDER_REWARD_BPS) /

46:             (paymentAmountWei * PURCHASE_REFERRAL_BPS) /

48:             (paymentAmountWei * DEPLOYER_REWARD_BPS) /

50:             (paymentAmountWei * REVOLUTION_REWARD_BPS) /

57:                 builderReferralReward: (paymentAmountWei * BUILDER_REWARD_BPS) / 10_000,

58:                 purchaseReferralReward: (paymentAmountWei * PURCHASE_REFERRAL_BPS) / 10_000,

59:                 deployerReward: (paymentAmountWei * DEPLOYER_REWARD_BPS) / 10_000,

60:                 revolutionReward: (paymentAmountWei * REVOLUTION_REWARD_BPS) / 10_000

```
*Github:* [[44](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L44), [46](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L46), [48](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L48), [50](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L50), [57](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L57), [58](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L58), [59](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L59), [60](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L60)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

181:             msg.value >= _auction.amount + ((_auction.amount * minBidIncrementPercentage) / 100),

365:                 uint256 auctioneerPayment = (_auction.amount * (10_000 - creatorRateBps)) / 10_000;

390:                         uint256 paymentAmount = (creatorsShare * entropyRateBps * creator.bps) / (10_000 * 10_000);

```
*Github:* [[181](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L181), [365](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L365), [390](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L390)]


```solidity
File: packages/revolution/src/CultureIndex.sol

234:         newPiece.quorumVotes = (quorumVotesBPS * newPiece.totalVotesSupply) / 10_000;

511:             (quorumVotesBPS * _calculateVoteWeight(erc20VotingToken.totalSupply(), erc721VotingToken.totalSupply())) /

```
*Github:* [[234](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L234), [511](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L511)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

173:         uint256 toPayTreasury = (msgValueRemaining * (10_000 - creatorRateBps)) / 10_000;

177:         uint256 creatorDirectPayment = ((msgValueRemaining - toPayTreasury) * entropyRateBps) / 10_000;

212:                 _mint(addresses[i], uint256((totalTokensForBuyers * int(basisPointSplits[i])) / 10_000));

279:                 amount: int(((paymentAmount - computeTotalReward(paymentAmount)) * (10_000 - creatorRateBps)) / 10_000)

```
*Github:* [[173](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L173), [177](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L177), [212](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L212), [279](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L279)]


```solidity
File: packages/revolution/src/MaxHeap.sol

80:         return (pos - 1) / 2;

102:         if (pos >= (size / 2) && pos <= size) return;

```
*Github:* [[80](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L80), [102](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L102)]


</details>


<a name="GAS-7"></a> 
### [GAS-7] Don't caching global special variables
It's better not to cache the global special variables, because it's cheaper to use them directly (e.g. `msg.sender`).

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

314:             uint256 startTime = block.timestamp;

```
*Github:* [[314](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L314)]



<a name="GAS-8"></a> 
### [GAS-8] Don't transfer with zero amount to save gas
In Solidity, unnecessary operations can waste gas. For example, a transfer function without a zero amount check uses gas even if called with a zero amount, since the contract state remains unchanged. Implementing a zero amount check avoids these unnecessary function calls, saving gas and improving efficiency.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

438:             bool wethSuccess = IWETH(WETH).transfer(_to, _amount);

```
*Github:* [[438](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L438)]



<a name="GAS-9"></a> 
### [GAS-9] Operator `+=` costs more gas than `<x> = <x> + <y>` for state variables

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

/// @audit `emittedTokenWad +=`
187:         emittedTokenWad += totalTokensForBuyers;

/// @audit `emittedTokenWad +=`
188:         if (totalTokensForCreators > 0) emittedTokenWad += totalTokensForCreators;

```
*Github:* [[187](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L187), [188](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L188)]



<a name="GAS-10"></a> 
### [GAS-10] Duplicated `require()`/`revert()` checks should be refactored to a modifier or function to save gas
Saves deployment costs.

*There are <b>7</b> instances of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

/// @audit duplicated on line 452
308:         require(pieceId < _currentPieceId, "Invalid piece ID");

```
*Github:* [[308](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L308)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

/// @audit duplicated on line 197
192:         require(success, "Transfer failed.");

```
*Github:* [[192](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L192)]


```solidity
File: packages/revolution/src/MaxHeap.sol

/// @audit duplicated on line 170
157:         require(size > 0, "Heap is empty");

```
*Github:* [[157](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L157)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

/// @audit duplicated on line 102
95:         revert TRANSFER_NOT_ALLOWED();

/// @audit duplicated on line 116
109:         revert TRANSFER_NOT_ALLOWED();

/// @audit duplicated on line 149
142:         revert TRANSFER_NOT_ALLOWED();

```
*Github:* [[95](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L95), [109](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L109), [142](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L142)]


```solidity
File: packages/revolution/src/VerbsToken.sol

/// @audit duplicated on line 210
139:         require(_minter != address(0), "Minter cannot be zero address");

```
*Github:* [[139](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L139)]



<a name="GAS-11"></a> 
### [GAS-11] Events should be emitted outside of loops
Emitting an event has an overhead of 375 gas, which will be incurred on every iteration of the loop. It is cheaper to emit only once after the loop has finished.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

244:             emit PieceCreatorAdded(pieceId, creatorArray[i].creator, msg.sender, creatorArray[i].bps);

```
*Github:* [[244](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L244)]



<a name="GAS-12"></a> 
### [GAS-12] Increments can be `unchecked` to save gas
Using `unchecked` increments can save gas by bypassing the built-in overflow checks. This can save 30-40 gas per iteration. So it is recommended to use unchecked increments when overflow is not possible.

*There are <b>9</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

384:                     for (uint256 i = 0; i < numCreators; i++) {

```
*Github:* [[384](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L384)]


```solidity
File: packages/revolution/src/CultureIndex.sol

185:         for (uint i; i < creatorArrayLength; i++) {

236:         for (uint i; i < creatorArrayLength; i++) {

243:         for (uint i; i < creatorArrayLength; i++) {

355:         for (uint256 i; i < len; i++) {

403:         for (uint256 i; i < len; i++) {

407:         for (uint256 i; i < len; i++) {

```
*Github:* [[185](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L185), [236](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L236), [243](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L243), [355](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L355), [403](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L403), [407](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L407)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

209:         for (uint256 i = 0; i < addresses.length; i++) {

```
*Github:* [[209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L209)]


```solidity
File: packages/revolution/src/VerbsToken.sol

306:             for (uint i = 0; i < artPiece.creators.length; i++) {

```
*Github:* [[306](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L306)]



<a name="GAS-13"></a> 
### [GAS-13] Initializers can be marked as payable to save deployment gas
Payable functions cost less gas to execute, because the compiler does not have to add extra checks to ensure that no payment is provided. Initializers can be safely marked as payable, because only the deployer or the factory contract would call the function without carrying any funds.

*There are <b>6</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

113:     function initialize(

```
*Github:* [[113](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L113)]


```solidity
File: packages/revolution/src/CultureIndex.sol

109:     function initialize(

```
*Github:* [[109](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L109)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

84:     function initialize(

```
*Github:* [[84](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L84)]


```solidity
File: packages/revolution/src/MaxHeap.sol

55:     function initialize(address _initialOwner, address _admin) public initializer {

```
*Github:* [[55](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L55)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

65:     function initialize(

```
*Github:* [[65](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L65)]


```solidity
File: packages/revolution/src/VerbsToken.sol

130:     function initialize(

```
*Github:* [[130](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L130)]



<a name="GAS-14"></a> 
### [GAS-14] `internal` functions only called once can be inlined to save gas
If an `internal` function is only used once, there is no need to modularize it, unless the function calling it would otherwise be too long and complex. Not inlining costs 20 to 40 gas because of two extra JUMP instructions and additional stack operations needed for function calls.

*There are <b>7</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

/// @audit `_depositPurchaseRewards` is used only once
66:     function _depositPurchaseRewards(

```
*Github:* [[66](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L66)]


```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

/// @audit `_handleRewardsAndGetValueToSend` is used only once
12:     function _handleRewardsAndGetValueToSend(

```
*Github:* [[12](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L12)]


```solidity
File: packages/revolution/src/CultureIndex.sol

/// @audit `validateMediaType` is used only once
159:     function validateMediaType(ArtPieceMetadata calldata metadata) internal pure {

/// @audit `validateCreatorsArray` is used only once
179:     function validateCreatorsArray(CreatorBps[] calldata creatorArray) internal pure returns (uint256) {

/// @audit `_getVotes` is used only once
288:     function _getVotes(address account) internal view returns (uint256) {

```
*Github:* [[159](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L159), [179](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L179), [288](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L288)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

/// @audit `__NontransferableERC20Votes_init` is used only once
52:     function __NontransferableERC20Votes_init(

```
*Github:* [[52](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L52)]


```solidity
File: packages/revolution/src/VerbsToken.sol

/// @audit `_mintTo` is used only once
281:     function _mintTo(address to) internal returns (uint256) {

```
*Github:* [[281](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L281)]



<a name="GAS-15"></a> 
### [GAS-15] `keccak256()` hash of literals should only be computed once
The result of the hash should be stored in an immutable variable, and the variable should be used instead. If the hash is being used as a part of a function selector, the cast to `bytes4` should also only be done once.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

30:         keccak256("Vote(address from,uint256[] pieceIds,uint256 nonce,uint256 deadline)");

```
*Github:* [[30](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L30)]



<a name="GAS-16"></a> 
### [GAS-16] Low level `call` can be optimized with assembly
When using low-level calls, the `returnData` is copied to memory even if the variable is not utilized. The proper way to handle this is through a low level assembly call.

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

191:         (bool success, ) = treasury.call{ value: toPayTreasury }(new bytes(0));

196:             (success, ) = creatorsAddress.call{ value: creatorDirectPayment }(new bytes(0));

```
*Github:* [[191](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L191), [196](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L196)]



<a name="GAS-17"></a> 
### [GAS-17] Multiple accesses of the same mapping/array key/index should be cached
The instances below point to the second+ access of a value inside a mapping/array, within a function. Caching a mapping's value in a local `storage` or `calldata` variable when the value is accessed [multiple times](https://gist.github.com/IllIllI000/ec23a57daa30a8f8ca8b9681c8ccefb0), saves ~42 gas per access due to not having to recalculate the key's keccak256 hash (Gkeccak256 - 30 gas) and that calculation's associated stack operations. Caching an array's struct avoids recalculating the array offsets into memory/calldata

*There are <b>8</b> instances of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

/// @audit `pieces[pieceId]` is also accessed on line 310
313:         uint256 weight = _getPastVotes(voter, pieces[pieceId].creationBlock);

/// @audit `votes[pieceId]` is also accessed on line 311
316:         votes[pieceId][voter] = Vote(voter, weight);

/// @audit `totalVoteWeights[pieceId]` is also accessed on line 317
319:         uint256 totalWeight = totalVoteWeights[pieceId];

/// @audit `pieces[piece.pieceId]` is also accessed on line 526
533:         return pieces[piece.pieceId];

```
*Github:* [[313](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L313), [316](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L316), [319](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L319), [533](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L533)]


```solidity
File: packages/revolution/src/MaxHeap.sol

/// @audit `heap[fpos]` is also accessed on line 87
88:         (positionMapping[heap[fpos]], positionMapping[heap[spos]]) = (fpos, spos);

/// @audit `valueMapping[itemId]` is also accessed on line 138
141:         valueMapping[itemId] = newValue;

/// @audit `heap[0]` is also accessed on line 159
160:         heap[0] = heap[--size];

/// @audit `, ` is also accessed on line 169
171:         return (heap[0], valueMapping[heap[0]]);

```
*Github:* [[88](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L88), [141](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L141), [160](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L160), [171](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L171)]



<a name="GAS-18"></a> 
### [GAS-18] Newer versions of solidity are more gas efficient
The solidity language continues to pursue more efficient gas optimization schemes. Adopting a newer version of solidity can be more gas efficient.

*There are <b>9</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L2)]


```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L2)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

24: pragma solidity ^0.8.22;

```
*Github:* [[24](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L24)]


```solidity
File: packages/revolution/src/CultureIndex.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L2)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L2)]


```solidity
File: packages/revolution/src/MaxHeap.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L2)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

4: pragma solidity ^0.8.22;

```
*Github:* [[4](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L4)]


```solidity
File: packages/revolution/src/VerbsToken.sol

18: pragma solidity ^0.8.22;

```
*Github:* [[18](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L18)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L2)]



<a name="GAS-19"></a> 
### [GAS-19] Operator `>=`/`<=` costs less gas than operator `>`/`<`
The compiler uses opcodes `GT` and `ISZERO` for code that uses `>`, but only requires `LT` for `>=`. A similar behavior applies for `>`, which uses opcodes `LT` and `ISZERO`, but only requires `GT` for `<=`. It can save 3 gas for each. It should be converted to the `<=`/`>=` equivalent when comparing against integer literals.

<details>
<summary>
There are <b>46</b> instances (click to show):
</summary>

```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

18:         if (msgValue < computeTotalReward(msgValue)) revert INVALID_ETH_AMOUNT();

```
*Github:* [[18](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L18)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

178:         require(block.timestamp < _auction.endTime, "Auction expired");

191:         bool extended = _auction.endTime - block.timestamp < timeBuffer;

239:             _minCreatorRateBps > minCreatorRateBps,

348:         if (address(this).balance < reservePrice) {

363:             if (_auction.amount > 0) {

383:                 if (creatorsShare > 0 && entropyRateBps > 0) {

383:                 if (creatorsShare > 0 && entropyRateBps > 0) {

384:                     for (uint256 i = 0; i < numCreators; i++) {

399:                 if (creatorsShare > ethPaidToCreators) {

421:         if (address(this).balance < _amount) revert("Insufficient balance");

```
*Github:* [[178](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L178), [191](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L191), [239](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L239), [348](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L348), [363](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L363), [383](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L383), [383](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L383), [384](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L384), [399](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L399), [421](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L421)]


```solidity
File: packages/revolution/src/CultureIndex.sol

120:         require(_cultureIndexParams.erc721VotingTokenWeight > 0, "invalid erc721 voting token weight");

163:             require(bytes(metadata.image).length > 0, "Image URL must be provided");

165:             require(bytes(metadata.animationUrl).length > 0, "Animation URL must be provided");

167:             require(bytes(metadata.text).length > 0, "Text must be provided");

182:         require(creatorArrayLength <= MAX_NUM_CREATORS, "Creator array must not be > MAX_NUM_CREATORS");

185:         for (uint i; i < creatorArrayLength; i++) {

236:         for (uint i; i < creatorArrayLength; i++) {

243:         for (uint i; i < creatorArrayLength; i++) {

308:         require(pieceId < _currentPieceId, "Invalid piece ID");

314:         require(weight > minVoteWeight, "Weight must be greater than minVoteWeight");

355:         for (uint256 i; i < len; i++) {

403:         for (uint256 i; i < len; i++) {

407:         for (uint256 i; i < len; i++) {

452:         require(pieceId < _currentPieceId, "Invalid piece ID");

462:         require(pieceId < _currentPieceId, "Invalid piece ID");

```
*Github:* [[120](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L120), [163](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L163), [165](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L165), [167](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L167), [182](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L182), [185](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L185), [236](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L236), [243](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L243), [308](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L308), [314](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L314), [355](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L355), [403](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L403), [407](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L407), [452](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L452), [462](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L462)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

160:         require(msg.value > 0, "Must send ether");

184:         int totalTokensForBuyers = toPayTreasury > 0 ? getTokenQuoteForEther(toPayTreasury) : int(0);

188:         if (totalTokensForCreators > 0) emittedTokenWad += totalTokensForCreators;

195:         if (creatorDirectPayment > 0) {

201:         if (totalTokensForCreators > 0 && creatorsAddress != address(0)) {

209:         for (uint256 i = 0; i < addresses.length; i++) {

210:             if (totalTokensForBuyers > 0) {

238:         require(amount > 0, "Amount must be greater than 0");

255:         require(etherAmount > 0, "Ether amount must be greater than 0");

272:         require(paymentAmount > 0, "Payment amount must be greater than 0");

```
*Github:* [[160](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L160), [184](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L184), [188](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L188), [195](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L195), [201](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L201), [209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L209), [210](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L210), [238](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L238), [255](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L255), [272](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L272)]


```solidity
File: packages/revolution/src/MaxHeap.sol

104:         if (posValue < leftValue || posValue < rightValue) {

104:         if (posValue < leftValue || posValue < rightValue) {

105:             if (leftValue > rightValue) {

144:         if (newValue > oldValue) {

150:         } else if (newValue < oldValue) maxHeapify(position); // Downwards heapify

157:         require(size > 0, "Heap is empty");

170:         require(size > 0, "Heap is empty");

```
*Github:* [[104](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L104), [104](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L104), [105](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L105), [144](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L144), [150](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L150), [157](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L157), [170](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L170)]


```solidity
File: packages/revolution/src/VerbsToken.sol

288:             "Creator array must not be > MAX_NUM_CREATORS"

306:             for (uint i = 0; i < artPiece.creators.length; i++) {

```
*Github:* [[288](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L288), [306](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L306)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

38:         require(decayConstant < 0, "NON_NEGATIVE_DECAY_CONSTANT");

```
*Github:* [[38](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L38)]


</details>


<a name="GAS-20"></a> 
### [GAS-20] Optimize Gas by splitting `if() revert` statements
Using boolean operators in a single `if() revert` statement can consume more gas than necessary. Consider splitting these statements to save gas.

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

41:         if (paymentAmountWei <= minPurchaseAmount || paymentAmountWei >= maxPurchaseAmount) revert INVALID_ETH_AMOUNT();

```
*Github:* [[41](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L41)]


```solidity
File: packages/revolution/src/CultureIndex.sol

441:         if (recoveredAddress == address(0) || recoveredAddress != from) revert INVALID_SIGNATURE();

```
*Github:* [[441](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L441)]



<a name="GAS-21"></a> 
### [GAS-21] Optimize names to save gas
`public`/`external` function names and `public` member variable names can be optimized to save gas. See this [link](https://gist.github.com/IllIllI000/a5d8b486a8259f9f77891a919febd1a9) for an example of how it works. Below are the interfaces/abstract contracts that can be optimized so that the most frequently-called functions use the least amount of gas possible during method lookup. Method IDs that have two leading zero bytes can save 128 gas each during deployment, and renaming functions to have lower method IDs will save 22 gas per call, [per sorted position shifted](https://medium.com/joyso/solidity-how-does-function-name-affect-gas-consumption-in-smart-contract-47d270d8ac92)

*There are <b>7</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

/// @audit `initialize`, `settleCurrentAndCreateNewAuction`, `settleAuction`, `createBid`, `pause`, `setCreatorRateBps`, `setMinCreatorRateBps`, `setEntropyRateBps`, `unpause`, `setTimeBuffer`, `setReservePrice`, `setMinBidIncrementPercentage`
39: contract AuctionHouse is

```
*Github:* [[39](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L39)]


```solidity
File: packages/revolution/src/CultureIndex.sol

/// @audit `initialize`, `createPiece`, `hasVoted`, `getVotes`, `getPastVotes`, `vote`, `voteForMany`, `voteForManyWithSig`, `batchVoteForManyWithSig`, `getPieceById`, `getVote`, `getTopVotedPiece`, `pieceCount`, `topVotedPieceId`, `_setQuorumVotesBPS`, `quorumVotes`, `dropTopVotedPiece`
20: contract CultureIndex is

```
*Github:* [[20](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L20)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

/// @audit `initialize`, `totalSupply`, `decimals`, `balanceOf`, `pause`, `unpause`, `buyToken`, `buyTokenQuote`, `getTokenQuoteForEther`, `getTokenQuoteForPayment`, `setEntropyRateBps`, `setCreatorRateBps`, `setCreatorsAddress`
17: contract ERC20TokenEmitter is

```
*Github:* [[17](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L17)]


```solidity
File: packages/revolution/src/MaxHeap.sol

/// @audit `initialize`, `insert`, `updateValue`, `extractMax`, `getMax`
14: contract MaxHeap is VersionedContract, UUPS, Ownable2StepUpgradeable, ReentrancyGuardUpgradeable {

```
*Github:* [[14](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L14)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

/// @audit `initialize`, `decimals`, `transfer`, `transferFrom`, `approve`, `mint`
29: contract NontransferableERC20Votes is Initializable, ERC20VotesUpgradeable, Ownable2StepUpgradeable {

```
*Github:* [[29](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L29)]


```solidity
File: packages/revolution/src/VerbsToken.sol

/// @audit `initialize`, `contractURI`, `setContractURIHash`, `mint`, `burn`, `tokenURI`, `dataURI`, `setMinter`, `lockMinter`, `setDescriptor`, `lockDescriptor`, `setCultureIndex`, `lockCultureIndex`, `getArtPieceById`
33: contract VerbsToken is

```
*Github:* [[33](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L33)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

/// @audit `xToY`, `yToX`
11: contract VRGDAC {

```
*Github:* [[11](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L11)]



<a name="GAS-22"></a> 
### [GAS-22] Redundant state variable getters
Getters for public state variables are automatically generated so there is no need to code them manually and waste gas.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

478:     function pieceCount() external view returns (uint256) {
             return _currentPieceId;

```
*Github:* [[478](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L478)]



<a name="GAS-23"></a> 
### [GAS-23] Remove or replace unused state variables
Saves a storage slot. If the variable is assigned a non-zero value, saves Gsset (20000 gas). If it's assigned a zero value, saves Gsreset (2900 gas). If the variable remains unassigned, there is no gas savings unless the variable is `public`, in which case the compiler-generated non-payable getter deployment cost is saved. If the state variable is overriding an interface's public function, mark the variable as `constant` or `immutable` so that it does not use a storage slot.

*There is one instance of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

24:     uint256 public constant maxPurchaseAmount = 50_000 ether;

```
*Github:* [[24](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L24)]



<a name="GAS-24"></a> 
### [GAS-24] `require()`/`revert()` strings longer than 32 bytes cost extra gas
Each extra memory word of bytes past the original 32 [incurs an MSTORE](https://gist.github.com/hrkrshnn/ee8fabd532058307229d65dcd5836ddc#consider-having-short-revert-strings) which costs 3 gas

<details>
<summary>
There are <b>21</b> instances (click to show):
</summary>

```solidity
File: packages/revolution/src/AuctionHouse.sol

129:         require(
                 _auctionParams.creatorRateBps >= _auctionParams.minCreatorRateBps,
                 "Creator rate must be greater than or equal to the creator rate"

180:         require(
                 msg.value >= _auction.amount + ((_auction.amount * minBidIncrementPercentage) / 100),
                 "Must send more than last bid by minBidIncrementPercentage amount"

218:         require(
                 _creatorRateBps >= minCreatorRateBps,
                 "Creator rate must be greater than or equal to minCreatorRateBps"

222:         require(_creatorRateBps <= 10_000, "Creator rate must be less than or equal to 10_000");

234:         require(_minCreatorRateBps <= creatorRateBps, "Min creator rate must be less than or equal to creator rate");

235:         require(_minCreatorRateBps <= 10_000, "Min creator rate must be less than or equal to 10_000");

238:         require(
                 _minCreatorRateBps > minCreatorRateBps,
                 "Min creator rate must be greater than previous minCreatorRateBps"

254:         require(_entropyRateBps <= 10_000, "Entropy rate must be less than or equal to 10_000");

311:         require(gasleft() >= MIN_TOKEN_MINT_GAS_THRESHOLD, "Insufficient gas for creating auction");

```
*Github:* [[129](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L129), [180](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L180), [218](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L218), [222](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L222), [234](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L234), [235](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L235), [238](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L238), [254](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L254), [311](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L311)]


```solidity
File: packages/revolution/src/CultureIndex.sol

120:         require(_cultureIndexParams.erc721VotingTokenWeight > 0, "invalid erc721 voting token weight");

182:         require(creatorArrayLength <= MAX_NUM_CREATORS, "Creator array must not be > MAX_NUM_CREATORS");

314:         require(weight > minVoteWeight, "Weight must be greater than minVoteWeight");

499:         require(newQuorumVotesBPS <= MAX_QUORUM_VOTES_BPS, "CultureIndex::_setQuorumVotesBPS: invalid quorum bps");

523:         require(totalVoteWeights[piece.pieceId] >= piece.quorumVotes, "Does not meet quorum votes to be dropped.");

```
*Github:* [[120](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L120), [182](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L182), [314](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L314), [499](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L499), [523](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L523)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

158:         require(msg.sender != treasury && msg.sender != creatorsAddress, "Funds recipient cannot buy tokens");

255:         require(etherAmount > 0, "Ether amount must be greater than 0");

272:         require(paymentAmount > 0, "Payment amount must be greater than 0");

289:         require(_entropyRateBps <= 10_000, "Entropy rate must be less than or equal to 10_000");

300:         require(_creatorRateBps <= 10_000, "Creator rate must be less than or equal to 10_000");

```
*Github:* [[158](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L158), [255](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L255), [272](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L272), [289](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L289), [300](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L300)]


```solidity
File: packages/revolution/src/VerbsToken.sol

140:         require(_initialOwner != address(0), "Initial owner cannot be zero address");

286:         require(
                 artPiece.creators.length <= cultureIndex.MAX_NUM_CREATORS(),
                 "Creator array must not be > MAX_NUM_CREATORS"

```
*Github:* [[140](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L140), [286](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L286)]


</details>


<a name="GAS-25"></a> 
### [GAS-25] The result of a function call should be cached rather than re-calling the function
The function calls in solidity are expensive. If the same result of the same function calls are to be used several times, the result should be cached to reduce the gas consumption of repeated calls.

*There are <b>6</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

/// @audit `getArtPieceById` is called 3 times
336:     function _settleAuction() internal {

```
*Github:* [[336](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L336)]


```solidity
File: packages/revolution/src/CultureIndex.sol

/// @audit `totalSupply` is called 3 times
209:     function createPiece(
             ArtPieceMetadata calldata metadata,
             CreatorBps[] calldata creatorArray
         ) public returns (uint256) {

/// @audit `getPastVotes` is called 2 times
292:     function _getPastVotes(address account, uint256 blockNumber) internal view returns (uint256) {

```
*Github:* [[209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L209), [292](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L292)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

/// @audit `getTokenQuoteForEther` is called 2 times
/// @audit `mint` is called 2 times
152:     function buyToken(
             address[] calldata addresses,
             uint[] calldata basisPointSplits,
             ProtocolRewardAddresses calldata protocolRewardsRecipients
         ) public payable nonReentrant whenNotPaused returns (uint256 tokensSoldWad) {

```
*Github:* [[152](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L152)]


```solidity
File: packages/revolution/src/MaxHeap.sol

/// @audit `parent` is called 3 times
119:     function insert(uint256 itemId, uint256 value) public onlyAdmin {

/// @audit `parent` is called 3 times
136:     function updateValue(uint256 itemId, uint256 newValue) public onlyAdmin {

```
*Github:* [[119](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L119), [136](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L136)]



<a name="GAS-26"></a> 
### [GAS-26] State variables access within a loop
State variable reads and writes are more expensive than local variable reads and writes. Therefore, it is recommended to replace state variable reads and writes within loops with a local variable. Gas savings should be multiplied by the average loop length.

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

/// @audit `auction`
385:                         ICultureIndex.CreatorBps memory creator = verbs.getArtPieceById(_auction.verbId).creators[i];

/// @audit `verbs`
385:                         ICultureIndex.CreatorBps memory creator = verbs.getArtPieceById(_auction.verbId).creators[i];

```
*Github:* [[385](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L385), [385](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L385)]



<a name="GAS-27"></a> 
### [GAS-27] State variables can be packed into fewer storage slots
Each slot saved can avoid an extra Gsset (20000 gas). Reads and writes (if two variables that occupy the same slot are written by the same function) will have a cheaper gas consumption.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

/// @audit 12 slots -> 11 slots by new order:
/*
 *	  uint256 timeBuffer                   (32 Bytes)
 *	  uint256 reservePrice                 (32 Bytes)
 *	  uint256 creatorRateBps               (32 Bytes)
 *	  uint256 minCreatorRateBps            (32 Bytes)
 *	  uint256 entropyRateBps               (32 Bytes)
 *	  uint256 duration                     (32 Bytes)
 *	  IVerbsToken verbs                    (20 Bytes)
 *	  IERC20TokenEmitter erc20TokenEmitter (20 Bytes)
 *	  address WETH                         (20 Bytes)
 *	  uint8 minBidIncrementPercentage        (1 Byte)
 *	  IAuctionHouse.Auction auction        (20 Bytes)
 *	  IRevolutionBuilder manager           (20 Bytes)
 */
39: contract AuctionHouse is

```
*Github:* [[39](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L39)]



<a name="GAS-28"></a> 
### [GAS-28] Unlimited gas consumption risk due to external call recipients
When calling an external function without specifying a gas limit , the called contract may consume all the remaining gas, causing the tx to be reverted. To mitigate this, it is recommended to explicitly set a gas limit when making low level external calls.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

191:         (bool success, ) = treasury.call{ value: toPayTreasury }(new bytes(0));

```
*Github:* [[191](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L191)]



<a name="GAS-29"></a> 
### [GAS-29] Unused named return variables without optimizer waste gas
Consider changing the variable to be an unnamed one, since the variable is never assigned, nor is it returned by name. If the optimizer is not turned on, leaving the code as it is will also waste gas for the stack variable.

*There are <b>5</b> instances of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

/// @audit `success` not used
419:     function _verifyVoteSignature(
             address from,
             uint256[] calldata pieceIds,
             uint256 deadline,
             uint8 v,
             bytes32 r,
             bytes32 s
         ) internal returns (bool success) {

```
*Github:* [[419](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L419)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

/// @audit `tokensSoldWad` not used
152:     function buyToken(
             address[] calldata addresses,
             uint[] calldata basisPointSplits,
             ProtocolRewardAddresses calldata protocolRewardsRecipients
         ) public payable nonReentrant whenNotPaused returns (uint256 tokensSoldWad) {

/// @audit `spentY` not used
237:     function buyTokenQuote(uint256 amount) public view returns (int spentY) {

/// @audit `gainedX` not used
254:     function getTokenQuoteForEther(uint256 etherAmount) public view returns (int gainedX) {

/// @audit `gainedX` not used
271:     function getTokenQuoteForPayment(uint256 paymentAmount) external view returns (int gainedX) {

```
*Github:* [[152](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L152), [237](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L237), [254](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L254), [271](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L271)]



<a name="GAS-30"></a> 
### [GAS-30] Optimize external calls with assembly for memory efficiency
Using interfaces to make external contract calls in Solidity is convenient but can be inefficient in terms of memory utilization. Each such call involves creating a new memory location to store the data being passed, thus incurring memory expansion costs.

Inline assembly allows for optimized memory usage by re-using already allocated memory spaces or using the scratch space for smaller datasets. This can result in notable gas savings, especially for contracts that make frequent external calls.

Additionally, using inline assembly enables important safety checks like verifying if the target address has code deployed to it using `extcodesize(addr)` before making the call, mitigating risks associated with contract interactions.

<details>
<summary>
There are <b>18</b> instances (click to show):
</summary>

```solidity
File: packages/revolution/src/AuctionHouse.sol

/// @audit `.burn(...)`
355:             verbs.burn(_auction.verbId);

/// @audit `.burn(...)`
359:                 verbs.burn(_auction.verbId);

/// @audit `.transferFrom(...)`
361:             else verbs.transferFrom(address(this), _auction.bidder, _auction.verbId);

```
*Github:* [[355](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L355), [359](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L359), [361](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L361)]


```solidity
File: packages/revolution/src/CultureIndex.sol

/// @audit `.insert(...)`
221:         maxHeap.insert(pieceId, 0);

/// @audit `.totalSupply(...)`
227:             erc20VotingToken.totalSupply(),

/// @audit `.totalSupply(...)`
228:             erc721VotingToken.totalSupply()

/// @audit `.getPastVotes(...)`
295:                 erc20VotingToken.getPastVotes(account, blockNumber),

/// @audit `.getPastVotes(...)`
296:                 erc721VotingToken.getPastVotes(account, blockNumber)

/// @audit `.updateValue(...)`
322:         maxHeap.updateValue(pieceId, totalWeight);

/// @audit `.size(...)`
487:         require(maxHeap.size() > 0, "Culture index is empty");

/// @audit `.totalSupply(...)`
511:             (quorumVotesBPS * _calculateVoteWeight(erc20VotingToken.totalSupply(), erc721VotingToken.totalSupply())) /

/// @audit `.totalSupply(...)`
511:             (quorumVotesBPS * _calculateVoteWeight(erc20VotingToken.totalSupply(), erc721VotingToken.totalSupply())) /

/// @audit `.extractMax(...)`
529:         maxHeap.extractMax();

```
*Github:* [[221](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L221), [227](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L227), [228](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L228), [295](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L295), [296](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L296), [322](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L322), [487](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L487), [511](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L511), [511](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L511), [529](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L529)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

/// @audit `.mint(...)`
109:         token.mint(_to, _amount);

/// @audit `.xToY(...)`
242:             vrgdac.xToY({

/// @audit `.yToX(...)`
259:             vrgdac.yToX({

/// @audit `.yToX(...)`
276:             vrgdac.yToX({

```
*Github:* [[109](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L109), [242](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L242), [259](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L259), [276](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L276)]


```solidity
File: packages/revolution/src/VerbsToken.sol

/// @audit `.isRegisteredUpgrade(...)`
330:         require(manager.isRegisteredUpgrade(_getImplementation(), _newImpl), "Invalid upgrade");

```
*Github:* [[330](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L330)]


</details>


<a name="GAS-31"></a> 
### [GAS-31] Use assembly to compute hashes to save gas
If the arguments to the encode call can fit into the scratch space (two words or fewer), then it's more efficient to use assembly to generate the hash (80 gas):

`keccak256(abi.encodePacked(x, y)) -> assembly {mstore(0x00, a); mstore(0x20, b); let hash := keccak256(0x00, 0x40); }`

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

30:         keccak256("Vote(address from,uint256[] pieceIds,uint256 nonce,uint256 deadline)");

431:         voteHash = keccak256(abi.encode(VOTE_TYPEHASH, from, pieceIds, nonces[from]++, deadline));

```
*Github:* [[30](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L30), [431](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L431)]



<a name="GAS-32"></a> 
### [GAS-32] Use assembly to emit events
To efficiently emit events, it's possible to utilize assembly by making use of scratch space and the free memory pointer. This approach has the advantage of potentially avoiding the costs associated with memory expansion.

However, it's important to note that in order to safely optimize this process, it is preferable to cache and restore the free memory pointer.

A good example of such practice can be seen in [Solady's](https://github.com/Vectorized/solady/blob/main/src/tokens/ERC1155.sol#L167) codebase.

<details>
<summary>
There are <b>28</b> instances (click to show):
</summary>

```solidity
File: packages/revolution/src/AuctionHouse.sol

197:         emit AuctionBid(_auction.verbId, bidder, msg.sender, msg.value, extended);

199:         if (extended) emit AuctionExtended(_auction.verbId, _auction.endTime);

225:         emit CreatorRateBpsUpdated(_creatorRateBps);

245:         emit MinCreatorRateBpsUpdated(_minCreatorRateBps);

257:         emit EntropyRateBpsUpdated(_entropyRateBps);

280:         emit AuctionTimeBufferUpdated(_timeBuffer);

290:         emit AuctionReservePriceUpdated(_reservePrice);

300:         emit AuctionMinBidIncrementPercentageUpdated(_minBidIncrementPercentage);

326:             emit AuctionCreated(verbId, startTime, endTime);

413:         emit AuctionSettled(_auction.verbId, _auction.bidder, _auction.amount, creatorTokensEmitted);

```
*Github:* [[197](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L197), [199](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L199), [225](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L225), [245](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L245), [257](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L257), [280](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L280), [290](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L290), [300](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L300), [326](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L326), [413](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L413)]


```solidity
File: packages/revolution/src/CultureIndex.sol

141:         emit QuorumVotesBPSSet(quorumVotesBPS, _cultureIndexParams.quorumVotesBPS);

240:         emit PieceCreated(pieceId, msg.sender, metadata, newPiece.quorumVotes, newPiece.totalVotesSupply);

244:             emit PieceCreatorAdded(pieceId, creatorArray[i].creator, msg.sender, creatorArray[i].bps);

323:         emit VoteCast(pieceId, voter, weight, totalWeight);

500:         emit QuorumVotesBPSSet(quorumVotesBPS, newQuorumVotesBPS);

531:         emit PieceDropped(piece.pieceId, msg.sender);

```
*Github:* [[141](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L141), [240](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L240), [244](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L244), [323](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L323), [500](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L500), [531](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L531)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

219:         emit PurchaseFinalized(

291:         emit EntropyRateBpsUpdated(entropyRateBps = _entropyRateBps);

302:         emit CreatorRateBpsUpdated(creatorRateBps = _creatorRateBps);

312:         emit CreatorsAddressUpdated(creatorsAddress = _creatorsAddress);

```
*Github:* [[219](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L219), [291](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L291), [302](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L302), [312](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L312)]


```solidity
File: packages/revolution/src/VerbsToken.sol

186:         emit VerbBurned(verbId);

213:         emit MinterUpdated(_minter);

223:         emit MinterLocked();

235:         emit DescriptorUpdated(_descriptor);

245:         emit DescriptorLocked();

255:         emit CultureIndexUpdated(_cultureIndex);

265:         emit CultureIndexLocked();

312:             emit VerbCreated(verbId, artPiece);

```
*Github:* [[186](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L186), [213](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L213), [223](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L223), [235](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L235), [245](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L245), [255](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L255), [265](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L265), [312](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L312)]


</details>


<a name="GAS-33"></a> 
### [GAS-33] Use assembly to validate `msg.sender`

*There are <b>10</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

120:         require(msg.sender == address(manager), "Only manager can initialize");

```
*Github:* [[120](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L120)]


```solidity
File: packages/revolution/src/CultureIndex.sol

117:         require(msg.sender == address(manager), "Only manager can initialize");

520:         require(msg.sender == dropperAdmin, "Only dropper can drop pieces");

```
*Github:* [[117](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L117), [520](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L520)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

91:         require(msg.sender == address(manager), "Only manager can initialize");

158:         require(msg.sender != treasury && msg.sender != creatorsAddress, "Funds recipient cannot buy tokens");

```
*Github:* [[91](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L91), [158](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L158)]


```solidity
File: packages/revolution/src/MaxHeap.sol

42:         require(msg.sender == admin, "Sender is not the admin");

56:         require(msg.sender == address(manager), "Only manager can initialize");

```
*Github:* [[42](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L42), [56](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L56)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

69:         require(msg.sender == address(manager), "Only manager can initialize");

```
*Github:* [[69](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L69)]


```solidity
File: packages/revolution/src/VerbsToken.sol

100:         require(msg.sender == minter, "Sender is not the minter");

137:         require(msg.sender == address(manager), "Only manager can initialize");

```
*Github:* [[100](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L100), [137](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L137)]



<a name="GAS-34"></a> 
### [GAS-34] Use assembly to write address/contract type storage values
Using `assembly { sstore(state.slot, addr)` instead of `state = addr` can save gas.

<details>
<summary>
There are <b>27</b> instances (click to show):
</summary>

```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

32:         protocolRewards = IRevolutionProtocolRewards(_protocolRewards);

33:         revolutionRewardRecipient = _revolutionRewardRecipient;

```
*Github:* [[32](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L32), [33](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L33)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

96:         manager = IRevolutionBuilder(_manager);

134:         verbs = IVerbsToken(_erc721Token);

135:         erc20TokenEmitter = IERC20TokenEmitter(_erc20TokenEmitter);

143:         WETH = _weth;

```
*Github:* [[96](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L96), [134](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L134), [135](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L135), [143](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L143)]


```solidity
File: packages/revolution/src/CultureIndex.sol

93:         manager = IRevolutionBuilder(_manager);

132:         erc20VotingToken = ERC20VotesUpgradeable(_erc20VotingToken);

133:         erc721VotingToken = ERC721CheckpointableUpgradeable(_erc721VotingToken);

139:         dropperAdmin = _dropperAdmin;

144:         maxHeap = MaxHeap(_maxHeap);

```
*Github:* [[93](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L93), [132](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L132), [133](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L133), [139](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L139), [144](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L144)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

69:         manager = IRevolutionBuilder(_manager);

101:         treasury = _treasury;

102:         creatorsAddress = _creatorsAddress;

103:         vrgdac = VRGDAC(_vrgdac);

104:         token = NontransferableERC20Votes(_erc20Token);

312:         emit CreatorsAddressUpdated(creatorsAddress = _creatorsAddress);

```
*Github:* [[69](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L69), [101](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L101), [102](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L102), [103](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L103), [104](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L104), [312](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L312)]


```solidity
File: packages/revolution/src/MaxHeap.sol

31:         manager = IRevolutionBuilder(_manager);

58:         admin = _admin;

```
*Github:* [[31](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L31), [58](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L58)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

45:         manager = IRevolutionBuilder(_manager);

```
*Github:* [[45](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L45)]


```solidity
File: packages/revolution/src/VerbsToken.sol

117:         manager = IRevolutionBuilder(_manager);

153:         minter = _minter;

154:         descriptor = IDescriptorMinimal(_descriptor);

155:         cultureIndex = ICultureIndex(_cultureIndex);

211:         minter = _minter;

233:         descriptor = _descriptor;

253:         cultureIndex = _cultureIndex;

```
*Github:* [[117](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L117), [153](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L153), [154](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L154), [155](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L155), [211](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L211), [233](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L233), [253](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L253)]


</details>


<a name="GAS-35"></a> 
### [GAS-35] Using a double `if` statement instead of a logical AND (`&&`)
Using a double `if` statement instead of a logical AND (`&&`) can provide similar short-circuiting behavior whereas double if is slightly [more gas efficient](https://gist.github.com/DadeKuma/931ce6794a050201ec6544dbcc31316c).

<details>
<summary>
There are <b>11</b> instances (click to show):
</summary>

```solidity
File: packages/revolution/src/AuctionHouse.sol

383:                 if (creatorsShare > 0 && entropyRateBps > 0) {

```
*Github:* [[383](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L383)]


```solidity
File: packages/revolution/src/CultureIndex.sol

160:         require(uint8(metadata.mediaType) > 0 && uint8(metadata.mediaType) <= 5, "Invalid media type");

399:             len == pieceIds.length && len == deadline.length && len == v.length && len == r.length && len == s.length,

399:             len == pieceIds.length && len == deadline.length && len == v.length && len == r.length && len == s.length,

399:             len == pieceIds.length && len == deadline.length && len == v.length && len == r.length && len == s.length,

399:             len == pieceIds.length && len == deadline.length && len == v.length && len == r.length && len == s.length,

```
*Github:* [[160](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L160), [399](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L399), [399](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L399), [399](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L399), [399](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L399)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

158:         require(msg.sender != treasury && msg.sender != creatorsAddress, "Funds recipient cannot buy tokens");

201:         if (totalTokensForCreators > 0 && creatorsAddress != address(0)) {

```
*Github:* [[158](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L158), [201](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L201)]


```solidity
File: packages/revolution/src/MaxHeap.sol

102:         if (pos >= (size / 2) && pos <= size) return;

125:         while (current != 0 && valueMapping[heap[current]] > valueMapping[heap[parent(current)]]) {

146:             while (position != 0 && valueMapping[heap[position]] > valueMapping[heap[parent(position)]]) {

```
*Github:* [[102](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L102), [125](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L125), [146](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L146)]


</details>


<a name="GAS-36"></a> 
### [GAS-36] Use local variables for emitting
Use the function/modifier's local copy of the state variable, rather than incurring an extra Gwarmaccess (100 gas). In the unlikely event that the state variable hasn't already been used by the function/modifier, consider whether it is really necessary to include it in the event, given the fact that it incurs a Gcoldsload (2100 gas), or whether it can be passed in to or back out of the functions that do use it

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

/// @audit `quorumVotesBPS`
141:         emit QuorumVotesBPSSet(quorumVotesBPS, _cultureIndexParams.quorumVotesBPS);

/// @audit `quorumVotesBPS`
500:         emit QuorumVotesBPSSet(quorumVotesBPS, newQuorumVotesBPS);

```
*Github:* [[141](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L141), [500](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L500)]



<a name="GAS-37"></a> 
### [GAS-37] Use a more recent version of solidity
- Use a solidity version of at least 0.8.2 to get simple compiler automatic inlining.
- Use a solidity version of at least 0.8.3 to get better struct packing and cheaper multiple storage reads.
- Use a solidity version of at least 0.8.4 to get custom errors, which are cheaper at deployment than revert()/require() strings.
- Use a solidity version of at least 0.8.10 to have external calls skip contract existence checks if the external call has a return value.

*There are <b>9</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L2)]


```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L2)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

24: pragma solidity ^0.8.22;

```
*Github:* [[24](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L24)]


```solidity
File: packages/revolution/src/CultureIndex.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L2)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L2)]


```solidity
File: packages/revolution/src/MaxHeap.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L2)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

4: pragma solidity ^0.8.22;

```
*Github:* [[4](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L4)]


```solidity
File: packages/revolution/src/VerbsToken.sol

18: pragma solidity ^0.8.22;

```
*Github:* [[18](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L18)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

2: pragma solidity ^0.8.22;

```
*Github:* [[2](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L2)]



<a name="GAS-38"></a> 
### [GAS-38] Use `storage` instead of `memory` for structs/arrays
When fetching data from a storage location, assigning the data to a `memory` variable causes all fields of the struct/array to be read from storage, which incurs a Gcoldsload (**2100 gas**) for *each* field of the struct/array. If the fields are read from the new memory variable, they incur an additional `MLOAD` rather than a cheap stack read. Instead of declaring the variable with the `memory` keyword, declaring the variable with the `storage` keyword and caching any fields that need to be re-read in stack variables, will be much cheaper, only incurring the Gcoldsload for the fields actually read. The only time it makes sense to read the whole struct/array into a `memory` variable, is if the full struct/array is being returned by the function, is being passed to a function that requires `memory`, or if the array/struct is being read from another `memory` array/struct.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

385:                         ICultureIndex.CreatorBps memory creator = verbs.getArtPieceById(_auction.verbId).creators[i];

```
*Github:* [[385](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L385)]



<a name="GAS-39"></a> 
### [GAS-39] Use `uint256(1)`/`uint256(2)` instead of `true`/`false` to save gas for changes
Avoids a Gsset (20000 gas) when changing from false to true, after having been true in the past. Since most of the bools aren't changed twice in one transaction, I've counted the amount of gas as half of the full amount, for each variable.

*There are <b>3</b> instances of this issue:*
```solidity
File: packages/revolution/src/VerbsToken.sol

51:     bool public isMinterLocked;

54:     bool public isCultureIndexLocked;

57:     bool public isDescriptorLocked;

```
*Github:* [[51](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L51), [54](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L54), [57](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L57)]



<a name="GAS-40"></a> 
### [GAS-40] Use `unchecked` block for safe subtractions
If it can be confirmed that the subtraction operation will not overflow, using an unchecked block can save gas. For example, `require(x <= y); z = y - x;` can be optimized to `require(x <= y); unchecked { z = y - x; }`

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

/// @audit this subtraction is checked on line 399
400:                     creatorTokensEmitted = erc20TokenEmitter.buyToken{ value: creatorsShare - ethPaidToCreators }(

```
*Github:* [[400](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L400)]



<a name="GAS-41"></a> 
### [GAS-41] Using `this` to access functions results in an external call, wasting gas
External calls have an overhead of 100 gas, which can be avoided by not referencing the function using `this`. Contracts are allowed to override their parents' functions and change the visibility from `external` to `public`, so make this change if it's required in order to call the function internally.

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

348:         if (address(this).balance < reservePrice) {

421:         if (address(this).balance < _amount) revert("Insufficient balance");

```
*Github:* [[348](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L348), [421](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L421)]



<a name="GAS-42"></a> 
### [GAS-42] `abi.encodePacked` is more gas efficient than `abi.encode`
`abi.encode` pads all elementary types to 32 bytes, whereas `abi.encodePacked` will only use the minimal required memory to encode the data. See [here](https://docs.soliditylang.org/en/v0.8.11/abi-spec.html?highlight=encodepacked#non-standard-packed-mode) for more info.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

431:         voteHash = keccak256(abi.encode(VOTE_TYPEHASH, from, pieceIds, nonces[from]++, deadline));

```
*Github:* [[431](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L431)]



<a name="GAS-43"></a> 
### [GAS-43] Use `selfbalance()` instead of `address(this).balance`
Use assembly when getting a contract's balance of ETH.

You can use `selfbalance()` instead of `address(this).balance` when getting your contract's balance of ETH to save gas.
Additionally, you can use `balance(address)` instead of `address.balance()` when getting an external contract's balance of ETH.

*Saves 15 gas when checking internal balance, 6 for external*

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

348:         if (address(this).balance < reservePrice) {

421:         if (address(this).balance < _amount) revert("Insufficient balance");

```
*Github:* [[348](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L348), [421](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L421)]



<a name="GAS-44"></a> 
### [GAS-44] Using bools for storage incurs overhead
Use uint256(1) and uint256(2) for true/false to avoid a Gwarmaccess (100 gas), and to avoid Gsset (20000 gas) when changing from ‘false’ to ‘true’, after having been ‘true’ in the past. See [source](https://github.com/OpenZeppelin/openzeppelin-contracts/blob/58f635312aa21f947cae5f8578638a85aa2519f5/contracts/security/ReentrancyGuard.sol#L23-L27).

*There are <b>3</b> instances of this issue:*
```solidity
File: packages/revolution/src/VerbsToken.sol

51:     bool public isMinterLocked;

54:     bool public isCultureIndexLocked;

57:     bool public isDescriptorLocked;

```
*Github:* [[51](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L51), [54](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L54), [57](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L57)]



<a name="GAS-45"></a> 
### [GAS-45] Cache array length outside of loop
If not cached, the solidity compiler will always read the length of the array during each iteration. That is, if it is a storage array, this is an extra sload operation (100 additional extra gas for each iteration except for the first) and if it is a memory array, this is an extra mload operation (3 additional gas for each iteration except for the first).

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

209:         for (uint256 i = 0; i < addresses.length; i++) {

```
*Github:* [[209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L209)]


```solidity
File: packages/revolution/src/VerbsToken.sol

306:             for (uint i = 0; i < artPiece.creators.length; i++) {

```
*Github:* [[306](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L306)]



<a name="GAS-46"></a> 
### [GAS-46] State variables should be cached in stack variables rather than re-reading them from storage
The instances below point to the second+ access of a state variable within a function. Caching of a state variable replaces each Gwarmaccess (100 gas) with a much cheaper stack read. Other less obvious fixes/optimizations include having local memory caches of state variable structs, or having local caches of state variable contracts/addresses.

<details>
<summary>
There are <b>26</b> instances (click to show):
</summary>

```solidity
File: packages/revolution/src/AuctionHouse.sol

/// @audit more than 1 read for `creatorRateBps`, line 140 and 130
140:         creatorRateBps = _auctionParams.creatorRateBps;

/// @audit more than 1 read for `creatorRateBps`, line 222 and 219
222:         require(_creatorRateBps <= 10_000, "Creator rate must be less than or equal to 10_000");

/// @audit more than 1 read for `creatorRateBps`, line 223 and 219
223:         creatorRateBps = _creatorRateBps;

/// @audit more than 1 read for `minCreatorRateBps`, line 235 and 234
235:         require(_minCreatorRateBps <= 10_000, "Min creator rate must be less than or equal to 10_000");

/// @audit more than 1 read for `minCreatorRateBps`, line 243 and 234
243:         minCreatorRateBps = _minCreatorRateBps;

/// @audit more than 1 read for `entropyRateBps`, line 256 and 254
256:         entropyRateBps = _entropyRateBps;

/// @audit more than 1 read for `verbs`, line 371 and 370
371:                 address deployer = verbs.getArtPieceById(_auction.verbId).sponsor;

/// @audit more than 1 read for `verbs`, line 385 and 370
385:                         ICultureIndex.CreatorBps memory creator = verbs.getArtPieceById(_auction.verbId).creators[i];

```
*Github:* [[140](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L140), [222](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L222), [223](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L223), [235](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L235), [243](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L243), [256](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L256), [371](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L371), [385](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L385)]


```solidity
File: packages/revolution/src/CultureIndex.sol

/// @audit more than 1 read for `erc20VotingToken`, line 132 and 122
132:         erc20VotingToken = ERC20VotesUpgradeable(_erc20VotingToken);

/// @audit more than 1 read for `erc721VotingToken`, line 133 and 121
133:         erc721VotingToken = ERC721CheckpointableUpgradeable(_erc721VotingToken);

/// @audit more than 1 read for `quorumVotesBPS`, line 137 and 119
137:         quorumVotesBPS = _cultureIndexParams.quorumVotesBPS;

```
*Github:* [[132](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L132), [133](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L133), [137](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L137)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

/// @audit more than 1 read for `treasury`, line 101 and 96
101:         treasury = _treasury;

/// @audit more than 1 read for `emittedTokenWad`, line 188 and 187
188:         if (totalTokensForCreators > 0) emittedTokenWad += totalTokensForCreators;

/// @audit more than 1 read for `treasury`, line 191 and 158
191:         (bool success, ) = treasury.call{ value: toPayTreasury }(new bytes(0));

/// @audit more than 1 read for `creatorsAddress`, line 196 and 158
196:             (success, ) = creatorsAddress.call{ value: creatorDirectPayment }(new bytes(0));

/// @audit more than 1 read for `creatorsAddress`, line 201 and 158
201:         if (totalTokensForCreators > 0 && creatorsAddress != address(0)) {

/// @audit more than 1 read for `entropyRateBps`, line 291 and 289
291:         emit EntropyRateBpsUpdated(entropyRateBps = _entropyRateBps);

/// @audit more than 1 read for `creatorRateBps`, line 302 and 300
302:         emit CreatorRateBpsUpdated(creatorRateBps = _creatorRateBps);

/// @audit more than 1 read for `creatorsAddress`, line 312 and 310
312:         emit CreatorsAddressUpdated(creatorsAddress = _creatorsAddress);

```
*Github:* [[101](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L101), [188](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L188), [191](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L191), [196](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L196), [201](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L201), [291](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L291), [302](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L302), [312](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L312)]


```solidity
File: packages/revolution/src/MaxHeap.sol

/// @audit more than 1 read for `valueMapping`, line 99 and 98
99:         uint256 leftValue = valueMapping[heap[left]];

/// @audit more than 1 read for `valueMapping`, line 100 and 98
100:         uint256 rightValue = valueMapping[heap[right]];

/// @audit more than 1 read for `size`, line 124 and 122
124:         uint256 current = size;

/// @audit more than 1 read for `heap`, line 160 and 159
160:         heap[0] = heap[--size];

```
*Github:* [[99](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L99), [100](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L100), [124](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L124), [160](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L160)]


```solidity
File: packages/revolution/src/VerbsToken.sol

/// @audit more than 1 read for `minter`, line 153 and 139
153:         minter = _minter;

/// @audit more than 1 read for `minter`, line 211 and 210
211:         minter = _minter;

/// @audit more than 1 read for `cultureIndex`, line 287 and 282
287:             artPiece.creators.length <= cultureIndex.MAX_NUM_CREATORS(),

```
*Github:* [[153](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L153), [211](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L211), [287](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L287)]


</details>


<a name="GAS-47"></a> 
### [GAS-47] Use `calldata` instead of `memory` for function arguments that do not get mutated
Mark data types as `calldata` instead of `memory` where possible. This makes it so that the data is not automatically loaded into memory. If the data passed into the function does not need to be changed (like updating values in an array), it can be passed in as `calldata`. The one exception to this is if the argument must later be passed into another function that takes an argument that specifies `memory` storage.

*There are <b>8</b> instances of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

115:         IRevolutionBuilder.CultureIndexParams memory _cultureIndexParams

390:         address[] memory from,

392:         uint256[] memory deadline,

393:         uint8[] memory v,

394:         bytes32[] memory r,

395:         bytes32[] memory s

```
*Github:* [[115](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L115), [390](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L390), [392](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L392), [393](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L393), [394](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L394), [395](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L395)]


```solidity
File: packages/revolution/src/VerbsToken.sol

135:         IRevolutionBuilder.ERC721TokenParams memory _erc721TokenParams

169:     function setContractURIHash(string memory newContractURIHash) external onlyOwner {

```
*Github:* [[135](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L135), [169](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L169)]



<a name="GAS-48"></a> 
### [GAS-48] Use Custom Errors
[Source](https://blog.soliditylang.org/2021/04/21/custom-errors/)
Instead of using error strings, to reduce deployment and runtime cost, you should use Custom Errors. This would save both deployment and runtime cost.

<details>
<summary>
There are <b>73</b> instances (click to show):
</summary>

```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

30:         if (_protocolRewards == address(0) || _revolutionRewardRecipient == address(0)) revert("Invalid Address Zero");

```
*Github:* [[30](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L30)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

120:         require(msg.sender == address(manager), "Only manager can initialize");

121:         require(_weth != address(0), "WETH cannot be zero address");

175:         require(bidder != address(0), "Bidder cannot be zero address");

176:         require(_auction.verbId == verbId, "Verb not up for auction");

178:         require(block.timestamp < _auction.endTime, "Auction expired");

179:         require(msg.value >= reservePrice, "Must send at least reservePrice");

222:         require(_creatorRateBps <= 10_000, "Creator rate must be less than or equal to 10_000");

234:         require(_minCreatorRateBps <= creatorRateBps, "Min creator rate must be less than or equal to creator rate");

235:         require(_minCreatorRateBps <= 10_000, "Min creator rate must be less than or equal to 10_000");

254:         require(_entropyRateBps <= 10_000, "Entropy rate must be less than or equal to 10_000");

311:         require(gasleft() >= MIN_TOKEN_MINT_GAS_THRESHOLD, "Insufficient gas for creating auction");

339:         require(_auction.startTime != 0, "Auction hasn't begun");

340:         require(!_auction.settled, "Auction has already been settled");

342:         require(block.timestamp >= _auction.endTime, "Auction hasn't completed");

421:         if (address(this).balance < _amount) revert("Insufficient balance");

441:             if (!wethSuccess) revert("WETH transfer failed");

```
*Github:* [[120](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L120), [121](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L121), [175](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L175), [176](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L176), [178](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L178), [179](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L179), [222](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L222), [234](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L234), [235](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L235), [254](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L254), [311](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L311), [339](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L339), [340](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L340), [342](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L342), [421](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L421), [441](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L441)]


```solidity
File: packages/revolution/src/CultureIndex.sol

117:         require(msg.sender == address(manager), "Only manager can initialize");

119:         require(_cultureIndexParams.quorumVotesBPS <= MAX_QUORUM_VOTES_BPS, "invalid quorum bps");

120:         require(_cultureIndexParams.erc721VotingTokenWeight > 0, "invalid erc721 voting token weight");

121:         require(_erc721VotingToken != address(0), "invalid erc721 voting token");

122:         require(_erc20VotingToken != address(0), "invalid erc20 voting token");

160:         require(uint8(metadata.mediaType) > 0 && uint8(metadata.mediaType) <= 5, "Invalid media type");

163:             require(bytes(metadata.image).length > 0, "Image URL must be provided");

165:             require(bytes(metadata.animationUrl).length > 0, "Animation URL must be provided");

167:             require(bytes(metadata.text).length > 0, "Text must be provided");

182:         require(creatorArrayLength <= MAX_NUM_CREATORS, "Creator array must not be > MAX_NUM_CREATORS");

186:             require(creatorArray[i].creator != address(0), "Invalid creator address");

190:         require(totalBps == 10_000, "Total BPS must sum up to 10,000");

308:         require(pieceId < _currentPieceId, "Invalid piece ID");

309:         require(voter != address(0), "Invalid voter address");

310:         require(!pieces[pieceId].isDropped, "Piece has already been dropped");

311:         require(!(votes[pieceId][voter].voterAddress != address(0)), "Already voted");

314:         require(weight > minVoteWeight, "Weight must be greater than minVoteWeight");

427:         require(deadline >= block.timestamp, "Signature expired");

452:         require(pieceId < _currentPieceId, "Invalid piece ID");

462:         require(pieceId < _currentPieceId, "Invalid piece ID");

487:         require(maxHeap.size() > 0, "Culture index is empty");

499:         require(newQuorumVotesBPS <= MAX_QUORUM_VOTES_BPS, "CultureIndex::_setQuorumVotesBPS: invalid quorum bps");

520:         require(msg.sender == dropperAdmin, "Only dropper can drop pieces");

523:         require(totalVoteWeights[piece.pieceId] >= piece.quorumVotes, "Does not meet quorum votes to be dropped.");

```
*Github:* [[117](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L117), [119](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L119), [120](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L120), [121](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L121), [122](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L122), [160](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L160), [163](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L163), [165](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L165), [167](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L167), [182](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L182), [186](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L186), [190](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L190), [308](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L308), [309](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L309), [310](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L310), [311](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L311), [314](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L314), [427](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L427), [452](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L452), [462](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L462), [487](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L487), [499](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L499), [520](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L520), [523](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L523)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

91:         require(msg.sender == address(manager), "Only manager can initialize");

96:         require(_treasury != address(0), "Invalid treasury address");

158:         require(msg.sender != treasury && msg.sender != creatorsAddress, "Funds recipient cannot buy tokens");

160:         require(msg.value > 0, "Must send ether");

162:         require(addresses.length == basisPointSplits.length, "Parallel arrays required");

192:         require(success, "Transfer failed.");

197:             require(success, "Transfer failed.");

217:         require(bpsSum == 10_000, "bps must add up to 10_000");

238:         require(amount > 0, "Amount must be greater than 0");

255:         require(etherAmount > 0, "Ether amount must be greater than 0");

272:         require(paymentAmount > 0, "Payment amount must be greater than 0");

289:         require(_entropyRateBps <= 10_000, "Entropy rate must be less than or equal to 10_000");

300:         require(_creatorRateBps <= 10_000, "Creator rate must be less than or equal to 10_000");

310:         require(_creatorsAddress != address(0), "Invalid address");

```
*Github:* [[91](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L91), [96](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L96), [158](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L158), [160](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L160), [162](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L162), [192](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L192), [197](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L197), [217](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L217), [238](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L238), [255](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L255), [272](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L272), [289](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L289), [300](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L300), [310](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L310)]


```solidity
File: packages/revolution/src/MaxHeap.sol

42:         require(msg.sender == admin, "Sender is not the admin");

56:         require(msg.sender == address(manager), "Only manager can initialize");

79:         require(pos != 0, "Position should not be zero");

157:         require(size > 0, "Heap is empty");

170:         require(size > 0, "Heap is empty");

```
*Github:* [[42](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L42), [56](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L56), [79](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L79), [157](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L157), [170](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L170)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

69:         require(msg.sender == address(manager), "Only manager can initialize");

```
*Github:* [[69](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L69)]


```solidity
File: packages/revolution/src/VerbsToken.sol

76:         require(!isMinterLocked, "Minter is locked");

84:         require(!isCultureIndexLocked, "CultureIndex is locked");

92:         require(!isDescriptorLocked, "Descriptor is locked");

100:         require(msg.sender == minter, "Sender is not the minter");

137:         require(msg.sender == address(manager), "Only manager can initialize");

139:         require(_minter != address(0), "Minter cannot be zero address");

140:         require(_initialOwner != address(0), "Initial owner cannot be zero address");

210:         require(_minter != address(0), "Minter cannot be zero address");

274:         require(verbId <= _currentVerbId, "Invalid piece ID");

317:             revert("dropTopVotedPiece failed");

330:         require(manager.isRegisteredUpgrade(_getImplementation(), _newImpl), "Invalid upgrade");

```
*Github:* [[76](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L76), [84](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L84), [92](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L92), [100](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L100), [137](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L137), [139](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L139), [140](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L140), [210](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L210), [274](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L274), [317](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L317), [330](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L330)]


```solidity
File: packages/revolution/src/libs/VRGDAC.sol

38:         require(decayConstant < 0, "NON_NEGATIVE_DECAY_CONSTANT");

```
*Github:* [[38](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L38)]


</details>


<a name="GAS-49"></a> 
### [GAS-49] Don't initialize variables with default value

*There are <b>7</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

346:         uint256 creatorTokensEmitted = 0;

380:                 uint256 ethPaidToCreators = 0;

384:                     for (uint256 i = 0; i < numCreators; i++) {

```
*Github:* [[346](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L346), [380](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L380), [384](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L384)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

205:         uint256 bpsSum = 0;

209:         for (uint256 i = 0; i < addresses.length; i++) {

```
*Github:* [[205](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L205), [209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L209)]


```solidity
File: packages/revolution/src/MaxHeap.sol

67:     uint256 public size = 0;

```
*Github:* [[67](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L67)]


```solidity
File: packages/revolution/src/VerbsToken.sol

306:             for (uint i = 0; i < artPiece.creators.length; i++) {

```
*Github:* [[306](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L306)]



<a name="GAS-50"></a> 
### [GAS-50] Usage of `int`s/`uint`s smaller than 32 bytes incurs overhead
Using `int`s/`uint`s smaller than 32 bytes may cost more gas. This is because the EVM operates on 32 bytes at a time, so if an element is smaller than 32 bytes, the EVM must perform more operations to reduce the size of the element from 32 bytes to the desired size.

*There are <b>10</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

63:     uint8 public minBidIncrementPercentage;

88:     uint32 public constant MIN_TOKEN_MINT_GAS_THRESHOLD = 750_000;

297:     function setMinBidIncrementPercentage(uint8 _minBidIncrementPercentage) external override onlyOwner {

```
*Github:* [[63](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L63), [88](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L88), [297](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L297)]


```solidity
File: packages/revolution/src/CultureIndex.sol

160:         require(uint8(metadata.mediaType) > 0 && uint8(metadata.mediaType) <= 5, "Invalid media type");

160:         require(uint8(metadata.mediaType) > 0 && uint8(metadata.mediaType) <= 5, "Invalid media type");

371:         uint8 v,

393:         uint8[] memory v,

423:         uint8 v,

```
*Github:* [[160](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L160), [160](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L160), [371](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L371), [393](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L393), [423](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L423)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

117:     function decimals() public view returns (uint8) {

```
*Github:* [[117](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L117)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

87:     function decimals() public view virtual override returns (uint8) {

```
*Github:* [[87](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L87)]



<a name="GAS-51"></a> 
### [GAS-51] Constructors can be marked as `payable` to save deployment gas
Payable functions cost less gas to execute, because the compiler does not have to add extra checks to ensure that no payment is provided. A constructor can be safely marked as payable, because only the deployer would be able to pass funds, and the project itself would not pass any funds.

*There is one instance of this issue:*
```solidity
File: packages/revolution/src/libs/VRGDAC.sol

28:     constructor(int256 _targetPrice, int256 _priceDecayPercent, int256 _perTimeUnit) {

```
*Github:* [[28](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/libs/VRGDAC.sol#L28)]



<a name="GAS-52"></a> 
### [GAS-52] Functions guaranteed to revert when called by normal users can be marked `payable`
If a function modifier such as `onlyOwner` is used, the function will revert if a normal user tries to pay the function. Marking the function as `payable` will lower the gas cost for legitimate callers because the compiler will not include checks for whether a payment was provided.

<details>
<summary>
There are <b>30</b> instances (click to show):
</summary>

```solidity
File: packages/revolution/src/AuctionHouse.sol

208:     function pause() external override onlyOwner {

217:     function setCreatorRateBps(uint256 _creatorRateBps) external onlyOwner {

233:     function setMinCreatorRateBps(uint256 _minCreatorRateBps) external onlyOwner {

253:     function setEntropyRateBps(uint256 _entropyRateBps) external onlyOwner {

265:     function unpause() external override onlyOwner {

277:     function setTimeBuffer(uint256 _timeBuffer) external override onlyOwner {

287:     function setReservePrice(uint256 _reservePrice) external override onlyOwner {

297:     function setMinBidIncrementPercentage(uint8 _minBidIncrementPercentage) external override onlyOwner {

452:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner whenPaused {

```
*Github:* [[208](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L208), [217](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L217), [233](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L233), [253](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L253), [265](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L265), [277](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L277), [287](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L287), [297](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L297), [452](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L452)]


```solidity
File: packages/revolution/src/CultureIndex.sol

498:     function _setQuorumVotesBPS(uint256 newQuorumVotesBPS) external onlyOwner {

543:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner {

```
*Github:* [[498](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L498), [543](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L543)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

132:     function pause() external override onlyOwner {

141:     function unpause() external override onlyOwner {

288:     function setEntropyRateBps(uint256 _entropyRateBps) external onlyOwner {

299:     function setCreatorRateBps(uint256 _creatorRateBps) external onlyOwner {

309:     function setCreatorsAddress(address _creatorsAddress) external override onlyOwner nonReentrant {

```
*Github:* [[132](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L132), [141](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L141), [288](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L288), [299](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L299), [309](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L309)]


```solidity
File: packages/revolution/src/MaxHeap.sol

119:     function insert(uint256 itemId, uint256 value) public onlyAdmin {

136:     function updateValue(uint256 itemId, uint256 newValue) public onlyAdmin {

156:     function extractMax() external onlyAdmin returns (uint256, uint256) {

181:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner {

```
*Github:* [[119](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L119), [136](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L136), [156](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L156), [181](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L181)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

134:     function mint(address account, uint256 amount) public onlyOwner {

```
*Github:* [[134](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L134)]


```solidity
File: packages/revolution/src/VerbsToken.sol

169:     function setContractURIHash(string memory newContractURIHash) external onlyOwner {

177:     function mint() public override onlyMinter nonReentrant returns (uint256) {

184:     function burn(uint256 verbId) public override onlyMinter nonReentrant {

209:     function setMinter(address _minter) external override onlyOwner nonReentrant whenMinterNotLocked {

220:     function lockMinter() external override onlyOwner whenMinterNotLocked {

242:     function lockDescriptor() external override onlyOwner whenDescriptorNotLocked {

252:     function setCultureIndex(ICultureIndex _cultureIndex) external onlyOwner whenCultureIndexNotLocked nonReentrant {

262:     function lockCultureIndex() external override onlyOwner whenCultureIndexNotLocked {

328:     function _authorizeUpgrade(address _newImpl) internal view override onlyOwner {

```
*Github:* [[169](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L169), [177](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L177), [184](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L184), [209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L209), [220](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L220), [242](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L242), [252](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L252), [262](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L262), [328](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L328)]


</details>


<a name="GAS-53"></a> 
### [GAS-53] `++i` costs less gas than `i++`, especially when it's used in `for`-loops (`--i`/`i--` too)
*Saves 5 gas per loop*

*There are <b>9</b> instances of this issue:*
```solidity
File: packages/revolution/src/AuctionHouse.sol

384:                     for (uint256 i = 0; i < numCreators; i++) {

```
*Github:* [[384](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L384)]


```solidity
File: packages/revolution/src/CultureIndex.sol

185:         for (uint i; i < creatorArrayLength; i++) {

236:         for (uint i; i < creatorArrayLength; i++) {

243:         for (uint i; i < creatorArrayLength; i++) {

355:         for (uint256 i; i < len; i++) {

403:         for (uint256 i; i < len; i++) {

407:         for (uint256 i; i < len; i++) {

```
*Github:* [[185](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L185), [236](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L236), [243](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L243), [355](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L355), [403](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L403), [407](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L407)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

209:         for (uint256 i = 0; i < addresses.length; i++) {

```
*Github:* [[209](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L209)]


```solidity
File: packages/revolution/src/VerbsToken.sol

306:             for (uint i = 0; i < artPiece.creators.length; i++) {

```
*Github:* [[306](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L306)]



<a name="GAS-54"></a> 
### [GAS-54] Using `private` rather than `public` for constants, saves gas
If needed, the values can be read from the verified contract source code, or if there are multiple values there can be a single getter function that [returns a tuple](https://github.com/code-423n4/2022-08-frax/blob/90f55a9ce4e25bceed3a74290b854341d8de6afa/src/contracts/FraxlendPair.sol#L156-L178) of the values of all currently-public constants. Saves **3406-3606 gas** in deployment gas due to the compiler not having to create non-payable getter functions for deployment calldata, not having to store the bytes of the value outside of where it's used, and not adding another entry to the method ID table

*There are <b>6</b> instances of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

23:     uint256 public constant minPurchaseAmount = 0.0000001 ether;

24:     uint256 public constant maxPurchaseAmount = 50_000 ether;

```
*Github:* [[23](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L23), [24](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L24)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

88:     uint32 public constant MIN_TOKEN_MINT_GAS_THRESHOLD = 750_000;

```
*Github:* [[88](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L88)]


```solidity
File: packages/revolution/src/CultureIndex.sol

29:     bytes32 public constant VOTE_TYPEHASH =

48:     uint256 public constant MAX_QUORUM_VOTES_BPS = 6_000; // 6,000 basis points or 60%

75:     uint256 public constant MAX_NUM_CREATORS = 100;

```
*Github:* [[29](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L29), [48](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L48), [75](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L75)]



<a name="GAS-55"></a> 
### [GAS-55] Use shift Right/Left instead of division/multiplication if possible

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/revolution/src/MaxHeap.sol

80:         return (pos - 1) / 2;

102:         if (pos >= (size / 2) && pos <= size) return;

```
*Github:* [[80](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L80), [102](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L102)]



<a name="GAS-56"></a> 
### [GAS-56] Splitting require() statements that use && saves gas

*There are <b>2</b> instances of this issue:*
```solidity
File: packages/revolution/src/CultureIndex.sol

160:         require(uint8(metadata.mediaType) > 0 && uint8(metadata.mediaType) <= 5, "Invalid media type");

```
*Github:* [[160](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L160)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

158:         require(msg.sender != treasury && msg.sender != creatorsAddress, "Funds recipient cannot buy tokens");

```
*Github:* [[158](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L158)]



<a name="GAS-57"></a> 
### [GAS-57] Using assembly to check for zero can save gas
Using assembly to check for zero can save gas by allowing more direct access to the evm and reducing some of the overhead associated with high-level operations in solidity.

<details>
<summary>
There are <b>30</b> instances (click to show):
</summary>

```solidity
File: packages/protocol-rewards/src/abstract/RewardSplits.sol

30:         if (_protocolRewards == address(0) || _revolutionRewardRecipient == address(0)) revert("Invalid Address Zero");

30:         if (_protocolRewards == address(0) || _revolutionRewardRecipient == address(0)) revert("Invalid Address Zero");

74:         if (builderReferral == address(0)) builderReferral = revolutionRewardRecipient;

76:         if (deployer == address(0)) deployer = revolutionRewardRecipient;

78:         if (purchaseReferral == address(0)) purchaseReferral = revolutionRewardRecipient;

```
*Github:* [[30](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L30), [30](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L30), [74](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L74), [76](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L76), [78](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/RewardSplits.sol#L78)]


```solidity
File: packages/revolution/src/AuctionHouse.sol

121:         require(_weth != address(0), "WETH cannot be zero address");

175:         require(bidder != address(0), "Bidder cannot be zero address");

195:         if (lastBidder != address(0)) _safeTransferETHWithFallback(lastBidder, _auction.amount);

268:         if (auction.startTime == 0 || auction.settled) {

339:         require(_auction.startTime != 0, "Auction hasn't begun");

350:             if (_auction.bidder != address(0)) {

358:             if (_auction.bidder == address(0))

```
*Github:* [[121](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L121), [175](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L175), [195](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L195), [268](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L268), [339](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L339), [350](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L350), [358](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/AuctionHouse.sol#L358)]


```solidity
File: packages/revolution/src/CultureIndex.sol

121:         require(_erc721VotingToken != address(0), "invalid erc721 voting token");

122:         require(_erc20VotingToken != address(0), "invalid erc20 voting token");

186:             require(creatorArray[i].creator != address(0), "Invalid creator address");

257:         return votes[pieceId][voter].voterAddress != address(0);

309:         require(voter != address(0), "Invalid voter address");

311:         require(!(votes[pieceId][voter].voterAddress != address(0)), "Already voted");

438:         if (from == address(0)) revert ADDRESS_ZERO();

441:         if (recoveredAddress == address(0) || recoveredAddress != from) revert INVALID_SIGNATURE();

```
*Github:* [[121](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L121), [122](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L122), [186](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L186), [257](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L257), [309](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L309), [311](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L311), [438](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L438), [441](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/CultureIndex.sol#L441)]


```solidity
File: packages/revolution/src/ERC20TokenEmitter.sol

96:         require(_treasury != address(0), "Invalid treasury address");

201:         if (totalTokensForCreators > 0 && creatorsAddress != address(0)) {

310:         require(_creatorsAddress != address(0), "Invalid address");

```
*Github:* [[96](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L96), [201](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L201), [310](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/ERC20TokenEmitter.sol#L310)]


```solidity
File: packages/revolution/src/MaxHeap.sol

79:         require(pos != 0, "Position should not be zero");

125:         while (current != 0 && valueMapping[heap[current]] > valueMapping[heap[parent(current)]]) {

146:             while (position != 0 && valueMapping[heap[position]] > valueMapping[heap[parent(position)]]) {

```
*Github:* [[79](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L79), [125](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L125), [146](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/MaxHeap.sol#L146)]


```solidity
File: packages/revolution/src/NontransferableERC20Votes.sol

128:         if (account == address(0)) {

```
*Github:* [[128](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/NontransferableERC20Votes.sol#L128)]


```solidity
File: packages/revolution/src/VerbsToken.sol

139:         require(_minter != address(0), "Minter cannot be zero address");

140:         require(_initialOwner != address(0), "Initial owner cannot be zero address");

210:         require(_minter != address(0), "Minter cannot be zero address");

```
*Github:* [[139](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L139), [140](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L140), [210](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/revolution/src/VerbsToken.sol#L210)]


</details>


<a name="GAS-58"></a> 
### [GAS-58] `internal` functions not called by the contract should be removed
If the functions are required by an interface, the contract should inherit from that interface and use the `override` keyword

*There is one instance of this issue:*
```solidity
File: packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol

12:     function _handleRewardsAndGetValueToSend(

```
*Github:* [[12](https://github.com/code-423n4/2023-12-revolutionprotocol/blob/3158ba77699a34bd9686e593b614923a1c74fc92/packages/protocol-rewards/src/abstract/TokenEmitter/TokenEmitterRewards.sol#L12)]



